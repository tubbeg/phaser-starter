var shadow$provide = {};
(function(){
shadow$provide[0]=function(aa,pa,ja,ka){function ea(){throw Error("setTimeout has not been defined");}function fa(){throw Error("clearTimeout has not been defined");}function ha(l){if(g===setTimeout)return setTimeout(l,0);if((g===ea||!g)&&setTimeout)return g=setTimeout,setTimeout(l,0);try{return g(l,0)}catch(f){try{return g.call(null,l,0)}catch(k){return g.call(this,l,0)}}}function la(l){if(d===clearTimeout)return clearTimeout(l);if((d===fa||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(l);
try{return d(l)}catch(f){try{return d.call(null,l)}catch(k){return d.call(this,l)}}}function r(){e&&h&&(e=!1,h.length?b=h.concat(b):c=-1,b.length&&p())}function p(){if(!e){var l=ha(r);e=!0;for(var f=b.length;f;){h=b;for(b=[];++c<f;)h&&h[c].run();c=-1;f=b.length}h=null;e=!1;la(l)}}function a(l,f){this.fun=l;this.array=f}function m(){}aa=ja.exports={};try{var g="function"===typeof setTimeout?setTimeout:ea}catch(l){g=ea}try{var d="function"===typeof clearTimeout?clearTimeout:fa}catch(l){d=fa}var b=[],
e=!1,h,c=-1;aa.nextTick=function(l){var f=Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)f[k-1]=arguments[k];b.push(new a(l,f));1!==b.length||e||ha(p)};a.prototype.run=function(){this.fun.apply(null,this.array)};aa.title="browser";aa.browser=!0;aa.env={};aa.argv=[];aa.version="";aa.versions={};aa.on=m;aa.addListener=m;aa.once=m;aa.off=m;aa.removeListener=m;aa.removeAllListeners=m;aa.emit=m;aa.prependListener=m;aa.prependOnceListener=m;aa.listeners=function(l){return[]};
aa.binding=function(l){throw Error("process.binding is not supported");};aa.cwd=function(){return"/"};aa.chdir=function(l){throw Error("process.chdir is not supported");};aa.umask=function(){return 0}};
shadow$provide[1]=function(aa,pa,ja,ka){var ea=pa(0);(function(fa,ha){"object"===typeof ka&&"object"===typeof ja?ja.exports=ha():"function"===typeof define&&define.amd?define("Phaser",[],ha):"object"===typeof ka?ka.Phaser=ha():fa.Phaser=ha()})(this,()=>(()=>{function fa(r){var p=la[r];if(void 0!==p)return p.exports;p=la[r]={exports:{}};ha[r](p,p.exports,fa);return p.exports}var ha={50792:r=>{function p(){}function a(h,c,l){this.fn=h;this.context=c;this.once=l||!1}function m(h,c,l,f,k){if("function"!==
typeof l)throw new TypeError("The listener must be a function");l=new a(l,f||h,k);c=e?e+c:c;h._events[c]?h._events[c].fn?h._events[c]=[h._events[c],l]:h._events[c].push(l):(h._events[c]=l,h._eventsCount++);return h}function g(h,c){0===--h._eventsCount?h._events=new p:delete h._events[c]}function d(){this._events=new p;this._eventsCount=0}var b=Object.prototype.hasOwnProperty,e="~";Object.create&&(p.prototype=Object.create(null),(new p).__proto__||(e=!1));d.prototype.eventNames=function(){var h=[],
c,l;if(0===this._eventsCount)return h;for(l in c=this._events)b.call(c,l)&&h.push(e?l.slice(1):l);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(c)):h};d.prototype.listeners=function(h){h=this._events[e?e+h:h];if(!h)return[];if(h.fn)return[h.fn];for(var c=0,l=h.length,f=Array(l);c<l;c++)f[c]=h[c].fn;return f};d.prototype.listenerCount=function(h){return(h=this._events[e?e+h:h])?h.fn?1:h.length:0};d.prototype.emit=function(h,c,l,f,k,n){var q=e?e+h:h;if(!this._events[q])return!1;
q=this._events[q];var t=arguments.length,v;if(q.fn){q.once&&this.removeListener(h,q.fn,void 0,!0);switch(t){case 1:return q.fn.call(q.context),!0;case 2:return q.fn.call(q.context,c),!0;case 3:return q.fn.call(q.context,c,l),!0;case 4:return q.fn.call(q.context,c,l,f),!0;case 5:return q.fn.call(q.context,c,l,f,k),!0;case 6:return q.fn.call(q.context,c,l,f,k,n),!0}var u=1;for(v=Array(t-1);u<t;u++)v[u-1]=arguments[u];q.fn.apply(q.context,v)}else{var x=q.length;for(u=0;u<x;u++)switch(q[u].once&&this.removeListener(h,
q[u].fn,void 0,!0),t){case 1:q[u].fn.call(q[u].context);break;case 2:q[u].fn.call(q[u].context,c);break;case 3:q[u].fn.call(q[u].context,c,l);break;case 4:q[u].fn.call(q[u].context,c,l,f);break;default:if(!v){var w=1;for(v=Array(t-1);w<t;w++)v[w-1]=arguments[w]}q[u].fn.apply(q[u].context,v)}}return!0};d.prototype.on=function(h,c,l){return m(this,h,c,l,!1)};d.prototype.once=function(h,c,l){return m(this,h,c,l,!0)};d.prototype.removeListener=function(h,c,l,f){h=e?e+h:h;if(!this._events[h])return this;
if(!c)return g(this,h),this;var k=this._events[h];if(k.fn)k.fn!==c||f&&!k.once||l&&k.context!==l||g(this,h);else{for(var n=0,q=[],t=k.length;n<t;n++)(k[n].fn!==c||f&&!k[n].once||l&&k[n].context!==l)&&q.push(k[n]);q.length?this._events[h]=1===q.length?q[0]:q:g(this,h)}return this};d.prototype.removeAllListeners=function(h){h?(h=e?e+h:h,this._events[h]&&g(this,h)):(this._events=new p,this._eventsCount=0);return this};d.prototype.off=d.prototype.removeListener;d.prototype.addListener=d.prototype.on;
d.prefixed=e;d.EventEmitter=d;r.exports=d},11517:(r,p,a)=>{var m=a(38829);r.exports=function(g,d,b,e){for(var h=g[0],c=1;c<g.length;c++){var l=g[c];m(l,h,d,b,e);h=l}return g}},80318:(r,p,a)=>{var m=a(66979);r.exports=function(g,d,b,e,h){return m(g,"angle",d,b,e,h)}},60757:r=>{r.exports=function(p,a,m){for(var g=0;g<p.length;g++)a.call(m,p[g]);return p}},69927:r=>{r.exports=function(p,a,m){for(void 0===m&&(m=0);m<p.length;m++){var g=p[m],d=!0,b;for(b in a)g[b]!==a[b]&&(d=!1);if(d)return g}return null}},
32265:r=>{r.exports=function(p,a,m){void 0===m&&(m=0);for(var g=p.length-1;g>=m;g--){var d=p[g],b=!0,e;for(e in a)d[e]!==a[e]&&(b=!1);if(b)return d}return null}},94420:(r,p,a)=>{var m=a(11879),g=a(60461),d=a(95540);p=a(29747);var b=(new (a(41481))({sys:{queueDepthSort:p,events:{once:p}}},0,0,1,1)).setOrigin(0,0);r.exports=function(e,h){void 0===h&&(h={});var c=h.hasOwnProperty("width"),l=h.hasOwnProperty("height"),f=d(h,"width",-1),k=d(h,"height",-1),n=d(h,"cellWidth",1),q=d(h,"cellHeight",n),t=d(h,
"position",g.TOP_LEFT),v=d(h,"x",0);h=d(h,"y",0);var u=0,x=0,w=f*n,y=k*q;b.setPosition(v,h);b.setSize(n,q);for(var z=0;z<e.length;z++)if(m(e[z],b,t),c&&-1===f)b.x+=n;else if(l&&-1===k)b.y+=q;else if(l&&!c){if(x+=q,b.y+=q,x===y&&(x=0,u+=n,b.y=h,b.x+=n,u===w))break}else if(u+=n,b.x+=n,u===w&&(u=0,x+=q,b.x=v,b.y+=q,x===y))break;return e}},41721:(r,p,a)=>{var m=a(66979);r.exports=function(g,d,b,e,h){return m(g,"alpha",d,b,e,h)}},67285:(r,p,a)=>{var m=a(66979);r.exports=function(g,d,b,e,h){return m(g,
"x",d,b,e,h)}},9074:(r,p,a)=>{var m=a(66979);r.exports=function(g,d,b,e,h,c,l){if(void 0===b||null===b)b=d;m(g,"x",d,e,c,l);return m(g,"y",b,h,c,l)}},75222:(r,p,a)=>{var m=a(66979);r.exports=function(g,d,b,e,h){return m(g,"y",d,b,e,h)}},22983:r=>{r.exports=function(p,a,m,g){void 0===m&&(m=0);void 0===g&&(g=6.28);var d=m;m=(g-m)/p.length;g=a.x;var b=a.y;a=a.radius;for(var e=0;e<p.length;e++)p[e].x=g+a*Math.cos(d),p[e].y=b+a*Math.sin(d),d+=m;return p}},95253:r=>{r.exports=function(p,a,m,g){void 0===
m&&(m=0);void 0===g&&(g=6.28);var d=m;m=(g-m)/p.length;g=a.width/2;for(var b=a.height/2,e=0;e<p.length;e++)p[e].x=a.x+g*Math.cos(d),p[e].y=a.y+b*Math.sin(d),d+=m;return p}},88505:(r,p,a)=>{var m=a(15258),g=a(26708);r.exports=function(d,b,e){b=e?g(b,e,d.length):m(b,d.length);for(e=0;e<d.length;e++){var h=d[e],c=b[e];h.x=c.x;h.y=c.y}return d}},41346:(r,p,a)=>{var m=a(14649),g=a(86003),d=a(49498);r.exports=function(b,e,h){void 0===h&&(h=0);e=m(e,!1,b.length);0<h?g(e,h):0>h&&d(e,Math.abs(h));for(h=0;h<
b.length;h++)b[h].x=e[h].x,b[h].y=e[h].y;return b}},11575:(r,p,a)=>{var m=a(84993);r.exports=function(g,d,b){var e=m({x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2},b),h=m({x1:d.x2,y1:d.y2,x2:d.x3,y2:d.y3},b);d=m({x1:d.x3,y1:d.y3,x2:d.x1,y2:d.y1},b);e.pop();h.pop();d.pop();e=e.concat(h,d);h=e.length/g.length;for(b=d=0;b<g.length;b++){var c=g[b],l=e[Math.floor(d)];c.x=l.x;c.y=l.y;d+=h}return g}},29953:r=>{r.exports=function(p,a,m){for(var g=0;g<p.length;g++){var d=p[g];d.anims&&d.anims.play(a,m)}return p}},66979:r=>
{r.exports=function(p,a,m,g,d,b){void 0===g&&(g=0);void 0===d&&(d=0);void 0===b&&(b=1);var e=0,h=p.length;if(1===b)for(;d<h;d++)p[d][a]+=m+e*g,e++;else for(;0<=d;d--)p[d][a]+=m+e*g,e++;return p}},43967:r=>{r.exports=function(p,a,m,g,d,b){void 0===g&&(g=0);void 0===d&&(d=0);void 0===b&&(b=1);var e=0,h=p.length;if(1===b)for(;d<h;d++)p[d][a]=m+e*g,e++;else for(;0<=d;d--)p[d][a]=m+e*g,e++;return p}},88926:(r,p,a)=>{var m=a(28176);r.exports=function(g,d){for(var b=0;b<g.length;b++)m(d,g[b]);return g}},
33286:(r,p,a)=>{var m=a(24820);r.exports=function(g,d){for(var b=0;b<g.length;b++)m(d,g[b]);return g}},96E3:(r,p,a)=>{var m=a(65822);r.exports=function(g,d){for(var b=0;b<g.length;b++)m(d,g[b]);return g}},28789:(r,p,a)=>{var m=a(26597);r.exports=function(g,d){for(var b=0;b<g.length;b++)m(d,g[b]);return g}},97154:(r,p,a)=>{var m=a(90260);r.exports=function(g,d){for(var b=0;b<g.length;b++)m(d,g[b]);return g}},20510:(r,p,a)=>{var m=a(66979);r.exports=function(g,d,b,e,h){return m(g,"rotation",d,b,e,h)}},
91051:(r,p,a)=>{var m=a(1163),g=a(20339);r.exports=function(d,b,e){var h=b.x;b=b.y;for(var c=0;c<d.length;c++){var l=d[c];m(l,h,b,e,Math.max(1,g(l.x,l.y,h,b)))}return d}},76332:(r,p,a)=>{var m=a(1163);r.exports=function(g,d,b,e){var h=d.x;d=d.y;if(0===e)return g;for(var c=0;c<g.length;c++)m(g[c],h,d,b,e);return g}},61619:(r,p,a)=>{var m=a(66979);r.exports=function(g,d,b,e,h){return m(g,"scaleX",d,b,e,h)}},94868:(r,p,a)=>{var m=a(66979);r.exports=function(g,d,b,e,h,c,l){if(void 0===b||null===b)b=d;
m(g,"scaleX",d,e,c,l);return m(g,"scaleY",b,h,c,l)}},95532:(r,p,a)=>{var m=a(66979);r.exports=function(g,d,b,e,h){return m(g,"scaleY",d,b,e,h)}},8689:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h){return m(g,"alpha",d,b,e,h)}},2645:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e){return m(g,"blendMode",d,0,b,e)}},32372:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h){return m(g,"depth",d,b,e,h)}},85373:r=>{r.exports=function(p,a,m){for(var g=0;g<p.length;g++)p[g].setInteractive(a,
m);return p}},81583:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h,c,l){if(void 0===b||null===b)b=d;m(g,"originX",d,e,c,l);m(g,"originY",b,h,c,l);g.forEach(function(f){f.updateDisplayOrigin()});return g}},79939:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h){return m(g,"rotation",d,b,e,h)}},2699:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h,c,l){if(void 0===b||null===b)b=d;m(g,"scaleX",d,e,c,l);return m(g,"scaleY",b,h,c,l)}},98739:(r,p,a)=>{var m=a(43967);r.exports=function(g,
d,b,e,h){return m(g,"scaleX",d,b,e,h)}},98476:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h){return m(g,"scaleY",d,b,e,h)}},6207:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h,c,l){if(void 0===b||null===b)b=d;m(g,"scrollFactorX",d,e,c,l);return m(g,"scrollFactorY",b,h,c,l)}},6607:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h){return m(g,"scrollFactorX",d,b,e,h)}},72248:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h){return m(g,"scrollFactorY",d,b,e,h)}},14036:r=>{r.exports=
function(p,a,m,g,d){for(var b=0;b<p.length;b++)p[b].setTint(a,m,g,d);return p}},50159:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e){return m(g,"visible",d,0,b,e)}},77597:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h){return m(g,"x",d,b,e,h)}},83194:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h,c,l){if(void 0===b||null===b)b=d;m(g,"x",d,e,c,l);return m(g,"y",b,h,c,l)}},67678:(r,p,a)=>{var m=a(43967);r.exports=function(g,d,b,e,h){return m(g,"y",d,b,e,h)}},35850:(r,p,a)=>{var m=
a(26099);r.exports=function(g,d,b,e,h){void 0===e&&(e=0);void 0===h&&(h=new m);var c=g.length;if(1===c){var l=g[0].x;var f=g[0].y;g[0].x=d;g[0].y=b}else{var k=1,n=0;0===e&&(n=c-1,k=c-2);l=g[n].x;f=g[n].y;g[n].x=d;g[n].y=b;for(d=0;d<c;d++)if(!(k>=c||-1===k)){b=g[k];n=b.x;var q=b.y;b.x=l;b.y=f;l=n;f=q;0===e?k--:k++}}h.x=l;h.y=f;return h}},8628:(r,p,a)=>{var m=a(33680);r.exports=function(g){return m(g)}},21837:(r,p,a)=>{var m=a(7602);r.exports=function(g,d,b,e,h){void 0===h&&(h=!1);var c=Math.abs(e-
b)/g.length;if(h)for(h=0;h<g.length;h++)g[h][d]+=m(h*c,b,e);else for(h=0;h<g.length;h++)g[h][d]=m(h*c,b,e);return g}},21910:(r,p,a)=>{var m=a(54261);r.exports=function(g,d,b,e,h){void 0===h&&(h=!1);var c=Math.abs(e-b)/g.length;if(h)for(h=0;h<g.length;h++)g[h][d]+=m(h*c,b,e);else for(h=0;h<g.length;h++)g[h][d]=m(h*c,b,e);return g}},62054:r=>{r.exports=function(p,a,m,g,d){void 0===d&&(d=!1);if(0===p.length)return p;if(1===p.length)return p[0][a]=d?p[0][a]+(g+m)/2:(g+m)/2,p;g=Math.abs(g-m)/(p.length-
1);if(d)for(d=0;d<p.length;d++)p[d][a]+=d*g+m;else for(d=0;d<p.length;d++)p[d][a]=d*g+m;return p}},79815:r=>{r.exports=function(p){for(var a=0;a<p.length;a++)p[a].visible=!p[a].visible;return p}},39665:(r,p,a)=>{var m=a(15994);r.exports=function(g,d,b){void 0===b&&(b=0);for(var e=0;e<g.length;e++){var h=g[e];h.x=m(h.x,d.left-b,d.right+b);h.y=m(h.y,d.top-b,d.bottom+b)}return g}},61061:(r,p,a)=>{r.exports={AlignTo:a(11517),Angle:a(80318),Call:a(60757),GetFirst:a(69927),GetLast:a(32265),GridAlign:a(94420),
IncAlpha:a(41721),IncX:a(67285),IncXY:a(9074),IncY:a(75222),PlaceOnCircle:a(22983),PlaceOnEllipse:a(95253),PlaceOnLine:a(88505),PlaceOnRectangle:a(41346),PlaceOnTriangle:a(11575),PlayAnimation:a(29953),PropertyValueInc:a(66979),PropertyValueSet:a(43967),RandomCircle:a(88926),RandomEllipse:a(33286),RandomLine:a(96E3),RandomRectangle:a(28789),RandomTriangle:a(97154),Rotate:a(20510),RotateAround:a(91051),RotateAroundDistance:a(76332),ScaleX:a(61619),ScaleXY:a(94868),ScaleY:a(95532),SetAlpha:a(8689),
SetBlendMode:a(2645),SetDepth:a(32372),SetHitArea:a(85373),SetOrigin:a(81583),SetRotation:a(79939),SetScale:a(2699),SetScaleX:a(98739),SetScaleY:a(98476),SetScrollFactor:a(6207),SetScrollFactorX:a(6607),SetScrollFactorY:a(72248),SetTint:a(14036),SetVisible:a(50159),SetX:a(77597),SetXY:a(83194),SetY:a(67678),ShiftPosition:a(35850),Shuffle:a(8628),SmootherStep:a(21910),SmoothStep:a(21837),Spread:a(62054),ToggleVisible:a(79815),WrapInRectangle:a(39665)}},42099:(r,p,a)=>{var m=a(45319);p=a(83419);var g=
a(74943),d=a(81957),b=a(41138),e=a(35154),h=a(90126);a=new p({initialize:function(c,l,f){this.manager=c;this.key=l;this.type="frame";this.frames=this.getFrames(c.textureManager,e(f,"frames",[]),e(f,"defaultTextureKey",null),e(f,"sortFrames",!0));this.frameRate=e(f,"frameRate",null);this.duration=e(f,"duration",null);this.skipMissedFrames=e(f,"skipMissedFrames",!0);this.delay=e(f,"delay",0);this.repeat=e(f,"repeat",0);this.repeatDelay=e(f,"repeatDelay",0);this.yoyo=e(f,"yoyo",!1);this.showBeforeDelay=
e(f,"showBeforeDelay",!1);this.showOnStart=e(f,"showOnStart",!1);this.hideOnComplete=e(f,"hideOnComplete",!1);this.randomFrame=e(f,"randomFrame",!1);this.paused=!1;this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate);this.manager.on&&(this.manager.on(g.PAUSE_ALL,this.pause,this),this.manager.on(g.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(c,l,f,k){null===f&&null===k?(c.frameRate=24,c.duration=24/l*1E3):
f&&null===k?(c.duration=f,c.frameRate=l/(f/1E3)):(c.frameRate=k,c.duration=l/k*1E3);c.msPerFrame=1E3/c.frameRate},addFrame:function(c){return this.addFrameAt(this.frames.length,c)},addFrameAt:function(c,l){l=this.getFrames(this.manager.textureManager,l);if(0<l.length){if(0===c)this.frames=l.concat(this.frames);else if(c===this.frames.length)this.frames=this.frames.concat(l);else{var f=this.frames.slice(0,c);c=this.frames.slice(c);this.frames=f.concat(l,c)}this.updateFrameSequence()}return this},checkFrame:function(c){return 0<=
c&&c<this.frames.length},getFirstTick:function(c){c.accumulator=0;c.nextTick=c.currentFrame.duration?c.currentFrame.duration:c.msPerFrame},getFrameAt:function(c){return this.frames[c]},getFrames:function(c,l,f,k){void 0===k&&(k=!0);var n=[],q=1;if("string"===typeof l){var t=l;if(!c.exists(t))return console.warn('Texture "%s" not found',t),n;var v=c.get(t).getFrameNames();k&&h(v);l=[];v.forEach(function(C){l.push({key:t,frame:C})})}if(!Array.isArray(l)||0===l.length)return n;for(k=0;k<l.length;k++){v=
l[k];var u=e(v,"key",f);if(u){var x=e(v,"frame",0),w=c.getFrame(u,x);if(w){var y=new b(u,x,q,w);y.duration=e(v,"duration",0);y.isFirst=!z;z&&(z.nextFrame=y,y.prevFrame=z);n.push(y);var z=y;q++}else console.warn('Texture "%s" not found',u)}}if(0<n.length)for(y.isLast=!0,y.nextFrame=n[0],n[0].prevFrame=y,c=1/(n.length-1),k=0;k<n.length;k++)n[k].progress=k*c;return n},getNextTick:function(c){c.accumulator-=c.nextTick;c.nextTick=c.currentFrame.duration?c.currentFrame.duration:c.msPerFrame},getFrameByProgress:function(c){c=
m(c,0,1);return d(c,this.frames,"progress")},nextFrame:function(c){var l=c.currentFrame;l.isLast?c.yoyo?this.handleYoyoFrame(c,!1):0<c.repeatCounter?c.inReverse&&c.forward?c.forward=!1:this.repeatAnimation(c):c.complete():this.updateAndGetNextTick(c,l.nextFrame)},handleYoyoFrame:function(c,l){l||(l=!1);if(c.inReverse===!l&&0<c.repeatCounter){if(0===c.repeatDelay||c.pendingRepeat)c.forward=l;this.repeatAnimation(c)}else c.inReverse!==l&&0===c.repeatCounter?c.complete():(c.forward=l,this.updateAndGetNextTick(c,
l?c.currentFrame.nextFrame:c.currentFrame.prevFrame))},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(c){var l=c.currentFrame;if(l.isFirst)if(c.yoyo)this.handleYoyoFrame(c,!0);else if(0<c.repeatCounter){if(!c.inReverse||c.forward)c.forward=!0;this.repeatAnimation(c)}else c.complete();else this.updateAndGetNextTick(c,l.prevFrame)},updateAndGetNextTick:function(c,l){c.setCurrentFrame(l);this.getNextTick(c)},removeFrame:function(c){c=this.frames.indexOf(c);-1!==
c&&this.removeFrameAt(c);return this},removeFrameAt:function(c){this.frames.splice(c,1);this.updateFrameSequence();return this},repeatAnimation:function(c){if(2===c._pendingStop){if(0===c._pendingStopValue)return c.stop();c._pendingStopValue--}0<c.repeatDelay&&!c.pendingRepeat?(c.pendingRepeat=!0,c.accumulator-=c.nextTick,c.nextTick+=c.repeatDelay):(c.repeatCounter--,c.forward?c.setCurrentFrame(c.currentFrame.nextFrame):c.setCurrentFrame(c.currentFrame.prevFrame),c.isPlaying&&(this.getNextTick(c),
c.handleRepeat()))},toJSON:function(){var c={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};this.frames.forEach(function(l){c.frames.push(l.toJSON())});return c},updateFrameSequence:function(){for(var c=this.frames.length,
l=1/(c-1),f,k=0;k<c;k++)f=this.frames[k],f.index=k+1,f.isFirst=!1,f.isLast=!1,f.progress=k*l,0===k?(f.isFirst=!0,1===c?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[c-1],f.nextFrame=this.frames[k+1])):k===c-1&&1<c?(f.isLast=!0,f.prevFrame=this.frames[c-2],f.nextFrame=this.frames[0]):1<c&&(f.prevFrame=this.frames[k-1],f.nextFrame=this.frames[k+1]);return this},pause:function(){this.paused=!0;return this},resume:function(){this.paused=!1;return this},destroy:function(){this.manager.off&&
(this.manager.off(g.PAUSE_ALL,this.pause,this),this.manager.off(g.RESUME_ALL,this.resume,this));this.manager.remove(this.key);for(var c=0;c<this.frames.length;c++)this.frames[c].destroy();this.frames=[];this.manager=null}});r.exports=a},41138:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g,d,b,e){void 0===e&&(e=!1);this.textureKey=m;this.textureFrame=g;this.index=d;this.frame=b;this.isLast=this.isFirst=!1;this.nextFrame=this.prevFrame=null;this.progress=this.duration=0;this.isKeyFrame=e},toJSON:function(){return{key:this.textureKey,
frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});r.exports=p},60848:(r,p,a)=>{var m=a(42099);p=a(83419);var g=a(90330),d=a(50792),b=a(74943),e=a(8443),h=a(95540),c=a(35154),l=a(36383),f=a(20283),k=a(41836);a=new p({Extends:d,initialize:function(n){d.call(this);this.game=n;this.textureManager=null;this.globalTimeScale=1;this.anims=new g;this.mixes=new g;this.paused=!1;this.name="AnimationManager";n.events.once(e.BOOT,this.boot,this)},
boot:function(){this.textureManager=this.game.textures;this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(n,q,t){var v=this.anims,u=this.mixes;n="string"===typeof n?n:n.key;q="string"===typeof q?q:q.key;v.has(n)&&v.has(q)&&((v=u.get(n))||(v={}),v[q]=t,u.set(n,v));return this},removeMix:function(n,q){var t=this.mixes,v="string"===typeof n?n:n.key;if(n=t.get(v))q?(q="string"===typeof q?q:q.key,n.hasOwnProperty(q)&&delete n[q]):q||t.delete(v);return this},getMix:function(n,q){q="string"===
typeof q?q:q.key;return(n=this.mixes.get("string"===typeof n?n:n.key))&&n.hasOwnProperty(q)?n[q]:0},add:function(n,q){if(this.anims.has(n))return console.warn("Animation key exists: "+n),this;q.key=n;this.anims.set(n,q);this.emit(b.ADD_ANIMATION,n,q);return this},exists:function(n){return this.anims.has(n)},createFromAseprite:function(n,q,t){var v=[],u=this.game.cache.json.get(n);if(!u)return console.warn("No Aseprite data found for: "+n),v;var x=this,w=c(u,"meta",null),y=c(u,"frames",null);w&&y&&
c(w,"frameTags",[]).forEach(function(z){var C=[],A=h(z,"name",null),B=h(z,"from",0),E=h(z,"to",0);z=h(z,"direction","forward");if(A&&(!q||q&&-1<q.indexOf(A))){for(var G=0;B<=E;B++){var I=B.toString(),H=y[I];H&&(H=h(H,"duration",l.MAX_SAFE_INTEGER),C.push({key:n,frame:I,duration:H}),G+=H)}"reverse"===z&&(C=C.reverse());C={key:A,frames:C,duration:G,yoyo:"pingpong"===z};var K;t?t.anims&&(K=t.anims.create(C)):K=x.create(C);K&&v.push(K)}});return v},create:function(n){var q=n.key,t=!1;q&&((t=this.get(q))?
console.warn("AnimationManager key already exists: "+q):(t=new m(this,q,n),this.anims.set(q,t),this.emit(b.ADD_ANIMATION,q,t)));return t},fromJSON:function(n,q){void 0===q&&(q=!1);q&&this.anims.clear();"string"===typeof n&&(n=JSON.parse(n));q=[];if(n.hasOwnProperty("anims")&&Array.isArray(n.anims)){for(var t=0;t<n.anims.length;t++)q.push(this.create(n.anims[t]));n.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=n.globalTimeScale)}else n.hasOwnProperty("key")&&"frame"===n.type&&q.push(this.create(n));
return q},generateFrameNames:function(n,q){var t=c(q,"prefix",""),v=c(q,"start",0),u=c(q,"end",0),x=c(q,"suffix",""),w=c(q,"zeroPad",0),y=c(q,"outputArray",[]),z=c(q,"frames",!1);if(!this.textureManager.exists(n))return console.warn('Texture "%s" not found',n),y;var C=this.textureManager.get(n);if(!C)return y;if(q)for(z||(z=f(v,u)),q=0;q<z.length;q++)v=t+k(z[q],w,"0",1)+x,C.has(v)?y.push({key:n,frame:v}):console.warn('Frame "%s" not found in texture "%s"',v,n);else for(z=C.getFrameNames(),q=0;q<z.length;q++)y.push({key:n,
frame:z[q]});return y},generateFrameNumbers:function(n,q){var t=c(q,"start",0),v=c(q,"end",-1),u=c(q,"first",!1),x=c(q,"outputArray",[]);q=c(q,"frames",!1);if(!this.textureManager.exists(n))return console.warn('Texture "%s" not found',n),x;var w=this.textureManager.get(n);if(!w)return x;u&&w.has(u)&&x.push({key:n,frame:u});q||(-1===v&&(v=w.frameTotal-2),q=f(t,v));for(t=0;t<q.length;t++)v=q[t],w.has(v)?x.push({key:n,frame:v}):console.warn('Frame "%s" not found in texture "%s"',v,n);return x},get:function(n){return this.anims.get(n)},
getAnimsFromTexture:function(n){n=this.textureManager.get(n).key;for(var q=this.anims.getArray(),t=[],v=0;v<q.length;v++)for(var u=q[v],x=u.frames,w=0;w<x.length;w++)if(x[w].textureKey===n){t.push(u.key);break}return t},pauseAll:function(){this.paused||(this.paused=!0,this.emit(b.PAUSE_ALL));return this},play:function(n,q){Array.isArray(q)||(q=[q]);for(var t=0;t<q.length;t++)q[t].anims.play(n);return this},staggerPlay:function(n,q,t,v){void 0===t&&(t=0);void 0===v&&(v=!0);Array.isArray(q)||(q=[q]);
var u=q.length;v||u--;for(v=0;v<q.length;v++)q[v].anims.playAfterDelay(n,0>t?Math.abs(t)*(u-v):t*v);return this},remove:function(n){var q=this.get(n);q&&(this.emit(b.REMOVE_ANIMATION,n,q),this.anims.delete(n),this.removeMix(n));return q},resumeAll:function(){this.paused&&(this.paused=!1,this.emit(b.RESUME_ALL));return this},toJSON:function(n){var q={anims:[],globalTimeScale:this.globalTimeScale};void 0!==n&&""!==n?q.anims.push(this.anims.get(n).toJSON()):this.anims.each(function(t,v){q.anims.push(v.toJSON())});
return q},destroy:function(){this.anims.clear();this.mixes.clear();this.game=this.textureManager=null}});r.exports=a},9674:(r,p,a)=>{var m=a(42099),g=a(30976);p=a(83419);var d=a(90330),b=a(74943),e=a(95540);a=new p({initialize:function(h){this.parent=h;this.animationManager=h.scene.sys.anims;this.animationManager.on(b.REMOVE_ANIMATION,this.globalRemove,this);this.textureManager=this.animationManager.textureManager;this.anims=null;this.hasStarted=this.isPlaying=!1;this.nextAnim=this.currentFrame=this.currentAnim=
null;this.nextAnimsQueue=[];this.timeScale=1;this.msPerFrame=this.duration=this.frameRate=0;this.skipMissedFrames=!0;this.randomFrame=!1;this.repeatDelay=this.repeat=this.delay=0;this.hideOnComplete=this.showOnStart=this.showBeforeDelay=this.yoyo=!1;this.forward=!0;this.inReverse=!1;this.repeatCounter=this.delayCounter=this.nextTick=this.accumulator=0;this._wasPlaying=this._paused=this.pendingRepeat=!1;this._pendingStop=0},chain:function(h){var c=this.parent;if(void 0===h)return this.nextAnimsQueue.length=
0,this.nextAnim=null,c;Array.isArray(h)||(h=[h]);for(c=0;c<h.length;c++){var l=h[c];this.nextAnim?this.nextAnimsQueue.push(l):this.nextAnim=l}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(h){this.isPlaying&&this.stop();var c=this.animationManager,l="string"===typeof h?h:e(h,"key",null);if(c=this.exists(l)?this.get(l):c.get(l)){this.currentAnim=c;l=c.getTotalFrames();
var f=e(h,"frameRate",c.frameRate),k=e(h,"duration",c.duration);c.calculateDuration(this,l,k,f);this.delay=e(h,"delay",c.delay);this.repeat=e(h,"repeat",c.repeat);this.repeatDelay=e(h,"repeatDelay",c.repeatDelay);this.yoyo=e(h,"yoyo",c.yoyo);this.showBeforeDelay=e(h,"showBeforeDelay",c.showBeforeDelay);this.showOnStart=e(h,"showOnStart",c.showOnStart);this.hideOnComplete=e(h,"hideOnComplete",c.hideOnComplete);this.skipMissedFrames=e(h,"skipMissedFrames",c.skipMissedFrames);this.randomFrame=e(h,"randomFrame",
c.randomFrame);this.timeScale=e(h,"timeScale",this.timeScale);h=e(h,"startFrame",0);h>l&&(h=0);this.randomFrame&&(h=g(0,l-1));l=c.frames[h];0!==h||this.forward||(l=c.getLastFrame());this.currentFrame=l}else console.warn("Missing animation: "+l);return this.parent},pause:function(h){this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1);void 0!==h&&this.setCurrentFrame(h);return this.parent},resume:function(h){this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying);
void 0!==h&&this.setCurrentFrame(h);return this.parent},playAfterDelay:function(h,c){if(this.isPlaying){var l=this.nextAnim,f=this.nextAnimsQueue;l&&f.unshift(l);this.nextAnim=h;this._pendingStop=1;this._pendingStopValue=c}else this.delayCounter=c,this.play(h,!0);return this.parent},playAfterRepeat:function(h,c){void 0===c&&(c=1);if(this.isPlaying){var l=this.nextAnim,f=this.nextAnimsQueue;l&&f.unshift(l);-1!==this.repeatCounter&&c>this.repeatCounter&&(c=this.repeatCounter);this.nextAnim=h;this._pendingStop=
2;this._pendingStopValue=c}else this.play(h);return this.parent},play:function(h,c){void 0===c&&(c=!1);var l=this.currentAnim,f=this.parent,k="string"===typeof h?h:h.key;if(c&&this.isPlaying&&l.key===k)return f;if(l&&this.isPlaying&&(c=this.animationManager.getMix(l.key,h),0<c))return this.playAfterDelay(h,c);this.forward=!0;this._paused=this.inReverse=!1;this._wasPlaying=!0;return this.startAnimation(h)},playReverse:function(h,c){void 0===c&&(c=!1);var l="string"===typeof h?h:h.key;if(c&&this.isPlaying&&
this.currentAnim.key===l)return this.parent;this.forward=!1;this.inReverse=!0;this._paused=!1;this._wasPlaying=!0;return this.startAnimation(h)},startAnimation:function(h){this.load(h);h=this.currentAnim;var c=this.parent;if(!h)return c;this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat;h.getFirstTick(this);this.isPlaying=!0;this.hasStarted=this.pendingRepeat=!1;this._pendingStopValue=this._pendingStop=0;this._paused=!1;this.delayCounter+=this.delay;0===this.delayCounter?this.handleStart():
this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame);return c},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0);this.setCurrentFrame(this.currentFrame);this.hasStarted=!0;this.emitEvents(b.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1;this.emitEvents(b.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0;this.isPlaying=!1;this.emitEvents(b.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0;this.isPlaying=!1;this.hideOnComplete&&this.parent.setVisible(!1);
this.emitEvents(b.ANIMATION_COMPLETE,b.ANIMATION_COMPLETE_KEY)},emitEvents:function(h,c){var l=this.currentAnim;if(l){var f=this.currentFrame,k=this.parent,n=f.textureFrame;k.emit(h,l,f,k,n);c&&k.emit(c+l.key,l,f,k,n)}},reverse:function(){this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward);return this.parent},getProgress:function(){var h=this.currentFrame;if(!h)return 0;h=h.progress;this.inReverse&&(h*=-1);return h},setProgress:function(h){this.forward||(h=1-h);this.setCurrentFrame(this.currentAnim.getFrameByProgress(h));
return this.parent},setRepeat:function(h){this.repeatCounter=-1===h?Number.MAX_VALUE:h;return this.parent},globalRemove:function(h,c){void 0===c&&(c=this.currentAnim);this.isPlaying&&c.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(h,c){void 0===h&&(h=!1);void 0===c&&(c=!1);var l=this.currentAnim,f=this.parent;if(!l)return f;c&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat);l.getFirstTick(this);this.emitEvents(b.ANIMATION_RESTART);
this.isPlaying=!0;this.pendingRepeat=!1;this.hasStarted=!h;this._pendingStopValue=this._pendingStop=0;this._paused=!1;this.setCurrentFrame(l.frames[0]);return this.parent},complete:function(){this._pendingStop=0;this.isPlaying=!1;this.currentAnim&&this.handleComplete();if(this.nextAnim){var h=this.nextAnim;this.nextAnim=0<this.nextAnimsQueue.length?this.nextAnimsQueue.shift():null;this.play(h)}return this.parent},stop:function(){this._pendingStop=0;this.isPlaying=!1;this.delayCounter=0;this.currentAnim&&
this.handleStop();if(this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift();this.play(h)}return this.parent},stopAfterDelay:function(h){this._pendingStop=1;this._pendingStopValue=h;return this.parent},stopAfterRepeat:function(h){void 0===h&&(h=1);-1!==this.repeatCounter&&h>this.repeatCounter&&(h=this.repeatCounter);this._pendingStop=2;this._pendingStopValue=h;return this.parent},stopOnFrame:function(h){this._pendingStop=3;this._pendingStopValue=h;return this.parent},getTotalFrames:function(){return this.currentAnim?
this.currentAnim.getTotalFrames():0},update:function(h,c){h=this.currentAnim;if(this.isPlaying&&h&&!h.paused){this.accumulator+=c*this.timeScale*this.animationManager.globalTimeScale;if(1===this._pendingStop&&(this._pendingStopValue-=c,0>=this._pendingStopValue))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?h.nextFrame(this):h.previousFrame(this),this.isPlaying&&
0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){c=0;do this.forward?h.nextFrame(this):h.previousFrame(this),c++;while(this.isPlaying&&this.accumulator>this.nextTick&&60>c)}}},setCurrentFrame:function(h){var c=this.parent;this.currentFrame=h;c.texture=h.frame.texture;c.frame=h.frame;c.isCropped&&c.frame.updateCropUVs(c._crop,c.flipX,c.flipY);h.setAlpha&&(c.alpha=h.alpha);c.setSizeToFrame();c._originComponent&&(h.frame.customPivot?c.setOrigin(h.frame.pivotX,h.frame.pivotY):
c.updateDisplayOrigin());this.isPlaying&&this.hasStarted&&(this.emitEvents(b.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===h&&this.stop());return c},nextFrame:function(){this.currentAnim&&this.currentAnim.nextFrame(this);return this.parent},previousFrame:function(){this.currentAnim&&this.currentAnim.previousFrame(this);return this.parent},get:function(h){return this.anims?this.anims.get(h):null},exists:function(h){return this.anims?this.anims.has(h):!1},create:function(h){var c=
h.key,l=!1;c&&((l=this.get(c))?console.warn("Animation key already exists: "+c):(l=new m(this,c,h),this.anims||(this.anims=new d),this.anims.set(c,l)));return l},createFromAseprite:function(h,c){return this.animationManager.createFromAseprite(h,c,this.parent)},generateFrameNames:function(h,c){return this.animationManager.generateFrameNames(h,c)},generateFrameNumbers:function(h,c){return this.animationManager.generateFrameNumbers(h,c)},remove:function(h){var c=this.get(h);c&&(this.currentAnim===c&&
this.stop(),this.anims.delete(h));return c},destroy:function(){this.animationManager.off(b.REMOVE_ANIMATION,this.globalRemove,this);this.anims&&this.anims.clear();this.nextAnim=this.parent=this.animationManager=null;this.nextAnimsQueue.length=0;this.currentFrame=this.currentAnim=null},isPaused:{get:function(){return this._paused}}});r.exports=a},57090:r=>{r.exports="add"},25312:r=>{r.exports="animationcomplete"},89580:r=>{r.exports="animationcomplete-"},52860:r=>{r.exports="animationrepeat"},63850:r=>
{r.exports="animationrestart"},99085:r=>{r.exports="animationstart"},28087:r=>{r.exports="animationstop"},1794:r=>{r.exports="animationupdate"},52562:r=>{r.exports="pauseall"},57953:r=>{r.exports="remove"},68339:r=>{r.exports="resumeall"},74943:(r,p,a)=>{r.exports={ADD_ANIMATION:a(57090),ANIMATION_COMPLETE:a(25312),ANIMATION_COMPLETE_KEY:a(89580),ANIMATION_REPEAT:a(52860),ANIMATION_RESTART:a(63850),ANIMATION_START:a(99085),ANIMATION_STOP:a(28087),ANIMATION_UPDATE:a(1794),PAUSE_ALL:a(52562),REMOVE_ANIMATION:a(57953),
RESUME_ALL:a(68339)}},60421:(r,p,a)=>{r.exports={Animation:a(42099),AnimationFrame:a(41138),AnimationManager:a(60848),AnimationState:a(9674),Events:a(74943)}},2161:(r,p,a)=>{p=a(83419);var m=a(90330),g=a(50792),d=a(24736);a=new p({initialize:function(){this.entries=new m;this.events=new g},add:function(b,e){this.entries.set(b,e);this.events.emit(d.ADD,this,b,e);return this},has:function(b){return this.entries.has(b)},exists:function(b){return this.entries.has(b)},get:function(b){return this.entries.get(b)},
remove:function(b){var e=this.get(b);e&&(this.entries.delete(b),this.events.emit(d.REMOVE,this,b,e.data));return this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear();this.events.removeAllListeners();this.events=this.entries=null}});r.exports=a},24047:(r,p,a)=>{var m=a(2161);p=a(83419);var g=a(8443);a=new p({initialize:function(d){this.game=d;this.binary=new m;this.bitmapFont=new m;this.json=new m;this.physics=new m;this.shader=new m;this.audio=new m;this.video=
new m;this.text=new m;this.html=new m;this.obj=new m;this.tilemap=new m;this.xml=new m;this.custom={};this.game.events.once(g.DESTROY,this.destroy,this)},addCustom:function(d){this.custom.hasOwnProperty(d)||(this.custom[d]=new m);return this.custom[d]},destroy:function(){for(var d="binary bitmapFont json physics shader audio video text html obj tilemap xml".split(" "),b=0;b<d.length;b++)this[d[b]].destroy(),this[d[b]]=null;for(var e in this.custom)this.custom[e].destroy();this.game=this.custom=null}});
r.exports=a},51464:r=>{r.exports="add"},59261:r=>{r.exports="remove"},24736:(r,p,a)=>{r.exports={ADD:a(51464),REMOVE:a(59261)}},83388:(r,p,a)=>{r.exports={BaseCache:a(2161),CacheManager:a(24047),Events:a(24736)}},71911:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(39506),d=a(50792),b=a(19715),e=a(87841),h=a(61340),c=a(80333),l=a(26099);a=new p({Extends:d,Mixins:[m.AlphaSingle,m.Visible],initialize:function(f,k,n,q){void 0===f&&(f=0);void 0===k&&(k=0);void 0===n&&(n=0);void 0===q&&(q=0);d.call(this);this.id=
0;this.name="";this.useBounds=this.roundPixels=!1;this.worldView=new e;this.dirty=!0;this._x=f;this._y=k;this._width=n;this._height=q;this._bounds=new e;this._scrollY=this._scrollX=0;this._zoomY=this._zoomX=1;this._rotation=0;this.matrix=new h;this.transparent=!0;this.backgroundColor=c("rgba(0,0,0,0)");this.disableCull=!1;this.culledObjects=[];this.midPoint=new l(n/2,q/2);this.originY=this.originX=.5;this._customViewport=!1;this._maskCamera=this.mask=null;this.renderList=[];this.isSceneCamera=!0},
addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,k){void 0===f&&(f=.5);void 0===k&&(k=f);this.originX=f;this.originY=k;return this},getScroll:function(f,k,n){void 0===n&&(n=new l);var q=.5*this.height;n.x=f-.5*this.width;n.y=k-q;this.useBounds&&(n.x=this.clampX(n.x),n.y=this.clampY(n.y));return n},centerOnX:function(f){var k=.5*this.width;this.midPoint.x=f;this.scrollX=f-k;this.useBounds&&(this.scrollX=this.clampX(this.scrollX));return this},centerOnY:function(f){var k=.5*
this.height;this.midPoint.y=f;this.scrollY=f-k;this.useBounds&&(this.scrollY=this.clampY(this.scrollY));return this},centerOn:function(f,k){this.centerOnX(f);this.centerOnY(k);return this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,k=.5*this.width,n=.5*this.height;this.midPoint.set(f.centerX,f.centerY);this.scrollX=f.centerX-k;this.scrollY=f.centerY-n}return this},centerToSize:function(){this.scrollX=.5*this.width;this.scrollY=.5*this.height;return this},cull:function(f){if(this.disableCull)return f;
var k=this.matrix.matrix,n=k[0],q=k[1],t=k[2],v=k[3];if(!(n*v-q*t))return f;var u=k[4];k=k[5];for(var x=this.scrollX,w=this.scrollY,y=this.y,z=y+this.height,C=this.x,A=C+this.width,B=this.culledObjects,E=f.length,G=B.length=0;G<E;++G){var I=f[G];if(!I.hasOwnProperty("width")||I.parentContainer)B.push(I);else{var H=I.width,K=I.height,L=I.x-x*I.scrollFactorX-H*I.originX,M=I.y-w*I.scrollFactorY-K*I.originY,P=L*n+M*t+u,D=L*q+M*v+k,F=(L+H)*q+(M+K)*v+k;(L+H)*n+(M+K)*t+u>C&&P<A&&F>y&&D<z&&B.push(I)}}return B},
getWorldPoint:function(f,k,n){void 0===n&&(n=new l);var q=this.matrix.matrix,t=q[0],v=q[1],u=q[2],x=q[3],w=q[4];q=q[5];var y=t*x-v*u;if(!y)return n.x=f,n.y=k,n;y=1/y;var z=Math.cos(this.rotation),C=Math.sin(this.rotation),A=this.scrollX,B=this.scrollY;f+=(A*z-B*C)*this.zoomX;k+=(A*C+B*z)*this.zoomY;n.x=f*x*y+k*-u*y+(u*q-x*w)*y;n.y=f*-v*y+k*t*y+(v*w-t*q)*y;return n},ignore:function(f){var k=this.id;Array.isArray(f)||(f=[f]);for(var n=0;n<f.length;n++){var q=f[n];Array.isArray(q)?this.ignore(q):q.isParent?
this.ignore(q.getChildren()):q.cameraFilter|=k}return this},preRender:function(){this.renderList.length=0;var f=this.width,k=this.height,n=.5*f,q=.5*k,t=this.zoomX,v=this.zoomY,u=this.matrix,x=f*this.originX,w=k*this.originY,y=this.scrollX,z=this.scrollY;this.useBounds&&(y=this.clampX(y),z=this.clampY(z));this.scrollX=y;this.scrollY=z;n=y+n;q=z+q;this.midPoint.set(n,q);f/=t;k/=v;this.worldView.setTo(n-f/2,q-k/2,f,k);u.applyITRS(this.x+x,this.y+w,this.rotation,t,v);u.translate(-x,-w)},clampX:function(f){var k=
this._bounds,n=this.displayWidth,q=k.x+(n-this.width)/2;k=Math.max(q,q+k.width-n);f<q?f=q:f>k&&(f=k);return f},clampY:function(f){var k=this._bounds,n=this.displayHeight,q=k.y+(n-this.height)/2;k=Math.max(q,q+k.height-n);f<q?f=q:f>k&&(f=k);return f},removeBounds:function(){this.useBounds=!1;this.dirty=!0;this._bounds.setEmpty();return this},setAngle:function(f){void 0===f&&(f=0);this.rotation=g(f);return this},setBackgroundColor:function(f){void 0===f&&(f="rgba(0,0,0,0)");this.backgroundColor=c(f);
this.transparent=0===this.backgroundColor.alpha;return this},setBounds:function(f,k,n,q,t){void 0===t&&(t=!1);this._bounds.setTo(f,k,n,q);this.useBounds=this.dirty=!0;t?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY));return this},getBounds:function(f){void 0===f&&(f=new e);var k=this._bounds;f.setTo(k.x,k.y,k.width,k.height);return f},setName:function(f){void 0===f&&(f="");this.name=f;return this},setPosition:function(f,k){void 0===k&&(k=f);this.x=
f;this.y=k;return this},setRotation:function(f){void 0===f&&(f=0);this.rotation=f;return this},setRoundPixels:function(f){this.roundPixels=f;return this},setScene:function(f,k){void 0===k&&(k=!0);this.scene&&this._customViewport&&this.sceneManager.customViewports--;this.scene=f;this.isSceneCamera=k;f=f.sys;this.sceneManager=f.game.scene;this.scaleManager=f.scale;this.cameraManager=f.cameras;this.updateSystem();return this},setScroll:function(f,k){void 0===k&&(k=f);this.scrollX=f;this.scrollY=k;return this},
setSize:function(f,k){void 0===k&&(k=f);this.width=f;this.height=k;return this},setViewport:function(f,k,n,q){this.x=f;this.y=k;this.width=n;this.height=q;return this},setZoom:function(f,k){void 0===f&&(f=1);void 0===k&&(k=f);0===f&&(f=.001);0===k&&(k=.001);this.zoomX=f;this.zoomY=k;return this},setMask:function(f,k){void 0===k&&(k=!0);this.mask=f;this._maskCamera=k?this.cameraManager.default:this;return this},clearMask:function(f){void 0===f&&(f=!1);f&&this.mask&&this.mask.destroy();this.mask=null;
return this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height});return f},update:function(){},setIsSceneCamera:function(f){this.isSceneCamera=f;return this},updateSystem:function(){if(this.scaleManager&&
this.isSceneCamera){var f=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,k=this.sceneManager;f&&!this._customViewport?k.customViewports++:!f&&this._customViewport&&k.customViewports--;this.dirty=!0;this._customViewport=f}},destroy:function(){this.emit(b.DESTROY,this);this.removeAllListeners();this.matrix.destroy();this.culledObjects=[];this._customViewport&&this.sceneManager.customViewports--;this.renderList=[];this.cameraManager=this.sceneManager=
this.scaleManager=this.scene=this._bounds=null},x:{get:function(){return this._x},set:function(f){this._x=f;this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f;this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f;this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f;this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,
this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomY=this._zoomX=f;this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f;this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f;this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=
f;this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});r.exports=a},38058:(r,p,a)=>{var m=a(71911),g=a(67502),d=a(45319);p=a(83419);var b=a(31401),e=a(20052),h=a(19715),c=a(28915),l=a(87841),f=a(26099);a=new p({Extends:m,Mixins:[b.PostPipeline],initialize:function(k,n,q,t){m.call(this,k,n,q,t);this.initPostPipeline();
this.inputEnabled=!0;this.fadeEffect=new e.Fade(this);this.flashEffect=new e.Flash(this);this.shakeEffect=new e.Shake(this);this.panEffect=new e.Pan(this);this.rotateToEffect=new e.RotateTo(this);this.zoomEffect=new e.Zoom(this);this.lerp=new f(1,1);this.followOffset=new f;this._follow=this.deadzone=null},setDeadzone:function(k,n){if(void 0===k)this.deadzone=null;else{this.deadzone?(this.deadzone.width=k,this.deadzone.height=n):this.deadzone=new l(0,0,k,n);if(this._follow){k=this.width/2;n=this.height/
2;var q=this._follow.x-this.followOffset.x,t=this._follow.y-this.followOffset.y;this.midPoint.set(q,t);this.scrollX=q-k;this.scrollY=t-n}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(k,n,q,t,v,u){return this.fadeEffect.start(!1,k,n,q,t,!0,v,u)},fadeOut:function(k,n,q,t,v,u){return this.fadeEffect.start(!0,k,n,q,t,!0,v,u)},fadeFrom:function(k,n,q,t,v,u,x){return this.fadeEffect.start(!1,k,n,q,t,v,u,x)},fade:function(k,n,q,t,v,u,x){return this.fadeEffect.start(!0,k,n,
q,t,v,u,x)},flash:function(k,n,q,t,v,u,x){return this.flashEffect.start(k,n,q,t,v,u,x)},shake:function(k,n,q,t,v){return this.shakeEffect.start(k,n,q,t,v)},pan:function(k,n,q,t,v,u,x){return this.panEffect.start(k,n,q,t,v,u,x)},rotateTo:function(k,n,q,t,v,u,x){return this.rotateToEffect.start(k,n,q,t,v,u,x)},zoomTo:function(k,n,q,t,v,u){return this.zoomEffect.start(k,n,q,t,v,u)},preRender:function(){this.renderList.length=0;var k=this.width,n=this.height,q=.5*k,t=.5*n,v=this.zoom,u=this.matrix,x=
k*this.originX,w=n*this.originY,y=this._follow,z=this.deadzone,C=this.scrollX,A=this.scrollY;z&&g(z,this.midPoint.x,this.midPoint.y);var B=!1;if(y&&!this.panEffect.isRunning){B=this.lerp;var E=y.x-this.followOffset.x,G=y.y-this.followOffset.y;z?(E<z.x?C=c(C,C-(z.x-E),B.x):E>z.right&&(C=c(C,C+(E-z.right),B.x)),G<z.y?A=c(A,A-(z.y-G),B.y):G>z.bottom&&(A=c(A,A+(G-z.bottom),B.y))):(C=c(C,E-x,B.x),A=c(A,G-w,B.y));B=!0}this.useBounds&&(C=this.clampX(C),A=this.clampY(A));this.scrollX=C;this.scrollY=A;q=C+
q;t=A+t;this.midPoint.set(q,t);k/=v;n/=v;this.worldView.setTo(Math.floor(q-k/2),Math.floor(t-n/2),k,n);u.applyITRS(Math.floor(this.x+x),Math.floor(this.y+w),this.rotation,v,v);u.translate(-x,-w);this.shakeEffect.preRender();B&&this.emit(h.FOLLOW_UPDATE,this,y)},setLerp:function(k,n){void 0===k&&(k=1);void 0===n&&(n=k);this.lerp.set(k,n);return this},setFollowOffset:function(k,n){void 0===k&&(k=0);void 0===n&&(n=0);this.followOffset.set(k,n);return this},startFollow:function(k,n,q,t,v,u){void 0===
n&&(n=!1);void 0===q&&(q=1);void 0===t&&(t=q);void 0===v&&(v=0);void 0===u&&(u=v);this._follow=k;this.roundPixels=n;q=d(q,0,1);t=d(t,0,1);this.lerp.set(q,t);this.followOffset.set(v,u);n=this.width/2;q=this.height/2;v=k.x-v;k=k.y-u;this.midPoint.set(v,k);this.scrollX=v-n;this.scrollY=k-q;this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY));return this},stopFollow:function(){this._follow=null;return this},resetFX:function(){this.rotateToEffect.reset();this.panEffect.reset();
this.shakeEffect.reset();this.flashEffect.reset();this.fadeEffect.reset();return this},update:function(k,n){this.visible&&(this.rotateToEffect.update(k,n),this.panEffect.update(k,n),this.zoomEffect.update(k,n),this.shakeEffect.update(k,n),this.flashEffect.update(k,n),this.fadeEffect.update(k,n))},destroy:function(){this.resetFX();m.prototype.destroy.call(this);this.deadzone=this._follow=null}});r.exports=a},32743:(r,p,a)=>{var m=a(38058),g=a(83419),d=a(95540);p=a(37277);var b=a(37303),e=a(97480),
h=a(44594);a=new g({initialize:function(c){this.scene=c;this.systems=c.sys;this.roundPixels=c.sys.game.config.roundPixels;this.cameras=[];c.sys.events.once(h.BOOT,this.boot,this);c.sys.events.on(h.START,this.start,this)},boot:function(){var c=this.systems;c.settings.cameras?this.fromJSON(c.settings.cameras):this.add();this.main=this.cameras[0];this.default=(new m(0,0,c.scale.width,c.scale.height)).setScene(this.scene);c.game.scale.on(e.RESIZE,this.onResize,this);this.systems.events.once(h.DESTROY,
this.destroy,this)},start:function(){if(!this.main){var c=this.systems;c.settings.cameras?this.fromJSON(c.settings.cameras):this.add();this.main=this.cameras[0]}c=this.systems.events;c.on(h.UPDATE,this.update,this);c.once(h.SHUTDOWN,this.shutdown,this)},add:function(c,l,f,k,n,q){void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=this.scene.sys.scale.width);void 0===k&&(k=this.scene.sys.scale.height);void 0===n&&(n=!1);void 0===q&&(q="");c=new m(c,l,f,k);c.setName(q);c.setScene(this.scene);c.setRoundPixels(this.roundPixels);
c.id=this.getNextID();this.cameras.push(c);n&&(this.main=c);return c},addExisting:function(c,l){void 0===l&&(l=!1);return-1===this.cameras.indexOf(c)?(c.id=this.getNextID(),c.setRoundPixels(this.roundPixels),this.cameras.push(c),l&&(this.main=c),c):null},getNextID:function(){for(var c=this.cameras,l=1,f=0;32>f;f++){for(var k=!1,n=0;n<c.length;n++){var q=c[n];q&&q.id===l&&(k=!0)}if(k)l<<=1;else return l}return 0},getTotal:function(c){void 0===c&&(c=!1);for(var l=0,f=this.cameras,k=0;k<f.length;k++){var n=
f[k];(!c||c&&n.visible)&&l++}return l},fromJSON:function(c){Array.isArray(c)||(c=[c]);for(var l=this.scene.sys.scale.width,f=this.scene.sys.scale.height,k=0;k<c.length;k++){var n=c[k],q=d(n,"x",0),t=d(n,"y",0),v=d(n,"width",l),u=d(n,"height",f);q=this.add(q,t,v,u);q.name=d(n,"name","");q.zoom=d(n,"zoom",1);q.rotation=d(n,"rotation",0);q.scrollX=d(n,"scrollX",0);q.scrollY=d(n,"scrollY",0);q.roundPixels=d(n,"roundPixels",!1);q.visible=d(n,"visible",!0);(t=d(n,"backgroundColor",!1))&&q.setBackgroundColor(t);
if(u=d(n,"bounds",null))n=d(u,"x",0),t=d(u,"y",0),v=d(u,"width",l),u=d(u,"height",f),q.setBounds(n,t,v,u)}return this},getCamera:function(c){for(var l=this.cameras,f=0;f<l.length;f++)if(l[f].name===c)return l[f];return null},getCamerasBelowPointer:function(c){var l=this.cameras,f=c.x;c=c.y;for(var k=[],n=0;n<l.length;n++){var q=l[n];q.visible&&q.inputEnabled&&b(q,f,c)&&k.unshift(q)}return k},remove:function(c,l){void 0===l&&(l=!0);Array.isArray(c)||(c=[c]);for(var f=0,k=this.cameras,n=0;n<c.length;n++){var q=
k.indexOf(c[n]);-1!==q&&(l?k[q].destroy():k[q].renderList=[],k.splice(q,1),f++)}!this.main&&k[0]&&(this.main=k[0]);return f},render:function(c,l){for(var f=this.scene,k=this.cameras,n=0;n<k.length;n++){var q=k[n];if(q.visible&&0<q.alpha){q.preRender();var t=this.getVisibleChildren(l.getChildren(),q);c.render(f,t,q)}}},getVisibleChildren:function(c,l){return c.filter(function(f){return f.willRender(l)})},resetAll:function(){for(var c=0;c<this.cameras.length;c++)this.cameras[c].destroy();this.cameras=
[];return this.main=this.add()},update:function(c,l){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(c,l)},onResize:function(c,l,f,k,n){for(c=0;c<this.cameras.length;c++)f=this.cameras[c],0===f._x&&0===f._y&&f._width===k&&f._height===n&&f.setSize(l.width,l.height)},resize:function(c,l){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(c,l)},shutdown:function(){this.main=void 0;for(var c=0;c<this.cameras.length;c++)this.cameras[c].destroy();this.cameras=[];c=this.systems.events;
c.off(h.UPDATE,this.update,this);c.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.default.destroy();this.systems.events.off(h.START,this.start,this);this.systems.events.off(h.DESTROY,this.destroy,this);this.systems.game.scale.off(e.RESIZE,this.onResize,this);this.systems=this.scene=null}});p.register("CameraManager",a,"cameras");r.exports=a},5020:(r,p,a)=>{var m=a(45319);p=a(83419);var g=a(19715);a=new p({initialize:function(d){this.camera=d;this.isComplete=this.isRunning=
!1;this.direction=!0;this._elapsed=this.progress=this.alpha=this.blue=this.green=this.red=this.duration=0},start:function(d,b,e,h,c,l,f,k){void 0===d&&(d=!0);void 0===b&&(b=1E3);void 0===e&&(e=0);void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=!1);void 0===f&&(f=null);void 0===k&&(k=this.camera.scene);if(!l&&this.isRunning)return this.camera;this.isRunning=!0;this.isComplete=!1;this.duration=b;this.direction=d;this.progress=0;this.red=e;this.green=h;this.blue=c;this.alpha=d?Number.MIN_VALUE:1;
this._elapsed=0;this._onUpdate=f;this._onUpdateScope=k;this.camera.emit(d?g.FADE_OUT_START:g.FADE_IN_START,this.camera,this,b,e,h,c);return this.camera},update:function(d,b){this.isRunning&&(this._elapsed+=b,this.progress=m(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(d){if(!this.isRunning&&
!this.isComplete)return!1;var b=this.camera;d.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")";d.fillRect(b.x,b.y,b.width,b.height);return!0},postRenderWebGL:function(d,b){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;d.drawFillRect(e.x,e.y,e.width,e.height,b(this.blue/255,this.green/255,this.red/255,1),this.alpha);return!0},effectComplete:function(){this._onUpdateScope=this._onUpdate=null;this.isRunning=!1;this.isComplete=!0;this.camera.emit(this.direction?
g.FADE_OUT_COMPLETE:g.FADE_IN_COMPLETE,this.camera,this)},reset:function(){this.isComplete=this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.camera=null}});r.exports=a},10662:(r,p,a)=>{var m=a(45319);p=a(83419);var g=a(19715);a=new p({initialize:function(d){this.camera=d;this.isRunning=!1;this.blue=this.green=this.red=this.duration=0;this.alpha=1;this._elapsed=this.progress=0},start:function(d,b,e,h,c,l,f){void 0===d&&(d=250);void 0===b&&(b=255);void 0===
e&&(e=255);void 0===h&&(h=255);void 0===c&&(c=!1);void 0===l&&(l=null);void 0===f&&(f=this.camera.scene);if(!c&&this.isRunning)return this.camera;this.isRunning=!0;this.duration=d;this.progress=0;this.red=b;this.green=e;this.blue=h;this._alpha=this.alpha;this._elapsed=0;this._onUpdate=l;this._onUpdateScope=f;this.camera.emit(g.FLASH_START,this.camera,this,d,b,e,h);return this.camera},update:function(d,b){this.isRunning&&(this._elapsed+=b,this.progress=m(this._elapsed/this.duration,0,1),this._onUpdate&&
this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(d){if(!this.isRunning)return!1;var b=this.camera;d.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")";d.fillRect(b.x,b.y,b.width,b.height);return!0},postRenderWebGL:function(d,b){if(!this.isRunning)return!1;var e=this.camera;d.drawFillRect(e.x,e.y,e.width,e.height,b(this.blue/255,this.green/
255,this.red/255,1),this.alpha);return!0},effectComplete:function(){this.alpha=this._alpha;this._onUpdateScope=this._onUpdate=null;this.isRunning=!1;this.camera.emit(g.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.camera=null}});r.exports=a},20359:(r,p,a)=>{var m=a(45319);p=a(83419);var g=a(62640),d=a(19715),b=a(26099);a=new p({initialize:function(e){this.camera=e;this.isRunning=!1;this.duration=0;
this.source=new b;this.current=new b;this.destination=new b;this._elapsed=this.progress=0},start:function(e,h,c,l,f,k,n){void 0===c&&(c=1E3);void 0===l&&(l=g.Linear);void 0===f&&(f=!1);void 0===k&&(k=null);void 0===n&&(n=this.camera.scene);var q=this.camera;if(!f&&this.isRunning)return q;this.isRunning=!0;this.duration=c;this.progress=0;this.source.set(q.scrollX,q.scrollY);this.destination.set(e,h);q.getScroll(e,h,this.current);"string"===typeof l&&g.hasOwnProperty(l)?this.ease=g[l]:"function"===
typeof l&&(this.ease=l);this._elapsed=0;this._onUpdate=k;this._onUpdateScope=n;this.camera.emit(d.PAN_START,this.camera,this,c,e,h);return q},update:function(e,h){if(this.isRunning)if(this._elapsed+=h,this.progress=e=m(this._elapsed/this.duration,0,1),h=this.camera,this._elapsed<this.duration){var c=this.ease(e);h.getScroll(this.destination.x,this.destination.y,this.current);var l=this.source.x+(this.current.x-this.source.x)*c;c=this.source.y+(this.current.y-this.source.y)*c;h.setScroll(l,c);this._onUpdate&&
this._onUpdate.call(this._onUpdateScope,h,e,l,c)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,e,h.scrollX,h.scrollY),this.effectComplete()},effectComplete:function(){this._onUpdateScope=this._onUpdate=null;this.isRunning=!1;this.camera.emit(d.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.destination=this.source=this.camera=null}});r.exports=
a},34208:(r,p,a)=>{var m=a(45319);p=a(83419);var g=a(19715),d=a(62640);a=new p({initialize:function(b){this.camera=b;this.isRunning=!1;this._elapsed=this.progress=this.destination=this.current=this.source=this.duration=0;this.clockwise=!0;this.shortestPath=!1},start:function(b,e,h,c,l,f,k){void 0===h&&(h=1E3);void 0===c&&(c=d.Linear);void 0===l&&(l=!1);void 0===f&&(f=null);void 0===k&&(k=this.camera.scene);void 0===e&&(e=!1);this.shortestPath=e;e=b;0>b?(e=-1*b,this.clockwise=!1):this.clockwise=!0;
var n=360*Math.PI/180;e-=Math.floor(e/n)*n;b=this.camera;if(!l&&this.isRunning)return b;this.isRunning=!0;this.duration=h;this.progress=0;this.source=b.rotation;this.destination=e;"string"===typeof c&&d.hasOwnProperty(c)?this.ease=d[c]:"function"===typeof c&&(this.ease=c);this._elapsed=0;this._onUpdate=f;this._onUpdateScope=k;this.shortestPath&&(c=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+n)-this.source,l=this.source>this.destination?Math.abs(this.source-
this.destination):Math.abs(this.source+n)-this.destination,c<l?this.clockwise=!0:c>l&&(this.clockwise=!1));this.camera.emit(g.ROTATE_START,this.camera,this,h,e);return b},update:function(b,e){if(this.isRunning)if(this._elapsed+=e,this.progress=b=m(this._elapsed/this.duration,0,1),e=this.camera,this._elapsed<this.duration){var h=this.ease(b);this.current=e.rotation;var c=360*Math.PI/180;var l=this.destination,f=this.current;!1===this.clockwise&&(l=this.current,f=this.destination);c=l>=f?Math.abs(l-
f):Math.abs(l+c)-f;h=this.clockwise?e.rotation+c*h:e.rotation-c*h;e.rotation=h;this._onUpdate&&this._onUpdate.call(this._onUpdateScope,e,b,h)}else e.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,e,b,this.destination),this.effectComplete()},effectComplete:function(){this._onUpdateScope=this._onUpdate=null;this.isRunning=!1;this.camera.emit(g.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();
this.destination=this.source=this.camera=null}});r.exports=a},30330:(r,p,a)=>{var m=a(45319);p=a(83419);var g=a(19715),d=a(26099);a=new p({initialize:function(b){this.camera=b;this.isRunning=!1;this.duration=0;this.intensity=new d;this._offsetY=this._offsetX=this._elapsed=this.progress=0},start:function(b,e,h,c,l){void 0===b&&(b=100);void 0===e&&(e=.05);void 0===h&&(h=!1);void 0===c&&(c=null);void 0===l&&(l=this.camera.scene);if(!h&&this.isRunning)return this.camera;this.isRunning=!0;this.duration=
b;this.progress=0;"number"===typeof e?this.intensity.set(e):this.intensity.set(e.x,e.y);this._offsetY=this._offsetX=this._elapsed=0;this._onUpdate=c;this._onUpdateScope=l;this.camera.emit(g.SHAKE_START,this.camera,this,b,e);return this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(b,e){if(this.isRunning)if(this._elapsed+=e,this.progress=m(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,
this.camera,this.progress),this._elapsed<this.duration){b=this.intensity;e=this.camera.width;var h=this.camera.height,c=this.camera.zoom;this._offsetX=(Math.random()*b.x*e*2-b.x*e)*c;this._offsetY=(Math.random()*b.y*h*2-b.y*h)*c;this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetY=this._offsetX=0;this._onUpdateScope=this._onUpdate=null;this.isRunning=!1;this.camera.emit(g.SHAKE_COMPLETE,
this.camera,this)},reset:function(){this.isRunning=!1;this._offsetY=this._offsetX=0;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.intensity=this.camera=null}});r.exports=a},45641:(r,p,a)=>{var m=a(45319);p=a(83419);var g=a(62640),d=a(19715);a=new p({initialize:function(b){this.camera=b;this.isRunning=!1;this.duration=0;this.destination=this.source=1;this._elapsed=this.progress=0},start:function(b,e,h,c,l,f){void 0===e&&(e=1E3);void 0===h&&(h=g.Linear);void 0===c&&(c=
!1);void 0===l&&(l=null);void 0===f&&(f=this.camera.scene);var k=this.camera;if(!c&&this.isRunning)return k;this.isRunning=!0;this.duration=e;this.progress=0;this.source=k.zoom;this.destination=b;"string"===typeof h&&g.hasOwnProperty(h)?this.ease=g[h]:"function"===typeof h&&(this.ease=h);this._elapsed=0;this._onUpdate=l;this._onUpdateScope=f;this.camera.emit(d.ZOOM_START,this.camera,this,e,b);return k},update:function(b,e){this.isRunning&&(this._elapsed+=e,this.progress=m(this._elapsed/this.duration,
0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdateScope=this._onUpdate=null;this.isRunning=!1;this.camera.emit(d.ZOOM_COMPLETE,this.camera,
this)},reset:function(){this.isRunning=!1;this._onUpdateScope=this._onUpdate=null},destroy:function(){this.reset();this.camera=null}});r.exports=a},20052:(r,p,a)=>{r.exports={Fade:a(5020),Flash:a(10662),Pan:a(20359),Shake:a(30330),RotateTo:a(34208),Zoom:a(45641)}},16438:r=>{r.exports="cameradestroy"},32726:r=>{r.exports="camerafadeincomplete"},87807:r=>{r.exports="camerafadeinstart"},45917:r=>{r.exports="camerafadeoutcomplete"},95666:r=>{r.exports="camerafadeoutstart"},47056:r=>{r.exports="cameraflashcomplete"},
91261:r=>{r.exports="cameraflashstart"},45047:r=>{r.exports="followupdate"},81927:r=>{r.exports="camerapancomplete"},74264:r=>{r.exports="camerapanstart"},54419:r=>{r.exports="postrender"},79330:r=>{r.exports="prerender"},93183:r=>{r.exports="camerarotatecomplete"},80112:r=>{r.exports="camerarotatestart"},62252:r=>{r.exports="camerashakecomplete"},86017:r=>{r.exports="camerashakestart"},539:r=>{r.exports="camerazoomcomplete"},51892:r=>{r.exports="camerazoomstart"},19715:(r,p,a)=>{r.exports={DESTROY:a(16438),
FADE_IN_COMPLETE:a(32726),FADE_IN_START:a(87807),FADE_OUT_COMPLETE:a(45917),FADE_OUT_START:a(95666),FLASH_COMPLETE:a(47056),FLASH_START:a(91261),FOLLOW_UPDATE:a(45047),PAN_COMPLETE:a(81927),PAN_START:a(74264),POST_RENDER:a(54419),PRE_RENDER:a(79330),ROTATE_COMPLETE:a(93183),ROTATE_START:a(80112),SHAKE_COMPLETE:a(62252),SHAKE_START:a(86017),ZOOM_COMPLETE:a(539),ZOOM_START:a(51892)}},87969:(r,p,a)=>{r.exports={Camera:a(38058),BaseCamera:a(71911),CameraManager:a(32743),Effects:a(20052),Events:a(19715)}},
63091:(r,p,a)=>{p=a(83419);var m=a(35154);a=new p({initialize:function(g){this.camera=m(g,"camera",null);this.left=m(g,"left",null);this.right=m(g,"right",null);this.up=m(g,"up",null);this.down=m(g,"down",null);this.zoomIn=m(g,"zoomIn",null);this.zoomOut=m(g,"zoomOut",null);this.zoomSpeed=m(g,"zoomSpeed",.01);this.minZoom=m(g,"minZoom",.001);this.maxZoom=m(g,"maxZoom",1E3);this.speedY=this.speedX=0;var d=m(g,"speed",null);"number"===typeof d?this.speedY=this.speedX=d:(this.speedX=m(g,"speed.x",0),
this.speedY=m(g,"speed.y",0));this._zoom=0;this.active=null!==this.camera},start:function(){this.active=null!==this.camera;return this},stop:function(){this.active=!1;return this},setCamera:function(g){this.camera=g;return this},update:function(g){if(this.active){void 0===g&&(g=1);var d=this.camera;this.up&&this.up.isDown?d.scrollY-=this.speedY*g|0:this.down&&this.down.isDown&&(d.scrollY+=this.speedY*g|0);this.left&&this.left.isDown?d.scrollX-=this.speedX*g|0:this.right&&this.right.isDown&&(d.scrollX+=
this.speedX*g|0);this.zoomIn&&this.zoomIn.isDown?(d.zoom-=this.zoomSpeed,d.zoom<this.minZoom&&(d.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(d.zoom+=this.zoomSpeed,d.zoom>this.maxZoom&&(d.zoom=this.maxZoom))}},destroy:function(){this.zoomOut=this.zoomIn=this.down=this.up=this.right=this.left=this.camera=null}});r.exports=a},58818:(r,p,a)=>{p=a(83419);var m=a(35154);a=new p({initialize:function(g){this.camera=m(g,"camera",null);this.left=m(g,"left",null);this.right=m(g,"right",null);this.up=
m(g,"up",null);this.down=m(g,"down",null);this.zoomIn=m(g,"zoomIn",null);this.zoomOut=m(g,"zoomOut",null);this.zoomSpeed=m(g,"zoomSpeed",.01);this.minZoom=m(g,"minZoom",.001);this.maxZoom=m(g,"maxZoom",1E3);this.accelY=this.accelX=0;var d=m(g,"acceleration",null);"number"===typeof d?this.accelY=this.accelX=d:(this.accelX=m(g,"acceleration.x",0),this.accelY=m(g,"acceleration.y",0));this.dragY=this.dragX=0;d=m(g,"drag",null);"number"===typeof d?this.dragY=this.dragX=d:(this.dragX=m(g,"drag.x",0),this.dragY=
m(g,"drag.y",0));this.maxSpeedY=this.maxSpeedX=0;d=m(g,"maxSpeed",null);"number"===typeof d?this.maxSpeedY=this.maxSpeedX=d:(this.maxSpeedX=m(g,"maxSpeed.x",0),this.maxSpeedY=m(g,"maxSpeed.y",0));this._zoom=this._speedY=this._speedX=0;this.active=null!==this.camera},start:function(){this.active=null!==this.camera;return this},stop:function(){this.active=!1;return this},setCamera:function(g){this.camera=g;return this},update:function(g){if(this.active){void 0===g&&(g=1);var d=this.camera;0<this._speedX?
(this._speedX-=this.dragX*g,0>this._speedX&&(this._speedX=0)):0>this._speedX&&(this._speedX+=this.dragX*g,0<this._speedX&&(this._speedX=0));0<this._speedY?(this._speedY-=this.dragY*g,0>this._speedY&&(this._speedY=0)):0>this._speedY&&(this._speedY+=this.dragY*g,0<this._speedY&&(this._speedY=0));this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=
-this.maxSpeedY));this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX));this._zoom=this.zoomIn&&this.zoomIn.isDown?-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this.zoomSpeed:0;0!==this._speedX&&(d.scrollX-=this._speedX*g|0);0!==this._speedY&&(d.scrollY-=this._speedY*g|0);0!==this._zoom&&(d.zoom+=this._zoom,d.zoom<
this.minZoom?d.zoom=this.minZoom:d.zoom>this.maxZoom&&(d.zoom=this.maxZoom))}},destroy:function(){this.zoomOut=this.zoomIn=this.down=this.up=this.right=this.left=this.camera=null}});r.exports=a},38865:(r,p,a)=>{r.exports={FixedKeyControl:a(63091),SmoothedKeyControl:a(58818)}},26638:(r,p,a)=>{r.exports={Controls:a(38865),Scene2D:a(87969)}},8054:(r,p,a)=>{p={VERSION:"3.80.1",BlendModes:a(10312),ScaleModes:a(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};r.exports=
p},69547:(r,p,a)=>{p=a(83419);var m=a(8054),g=a(42363),d=a(82264),b=a(95540),e=a(35154),h=a(41212),c=a(29747),l=a(75508),f=a(36060),k=a(80333);a=new p({initialize:function(n){void 0===n&&(n={});var q=e(n,"scale",null);this.width=e(q,"width",1024,n);this.height=e(q,"height",768,n);this.zoom=e(q,"zoom",1,n);this.parent=e(q,"parent",void 0,n);this.scaleMode=e(q,q?"mode":"scaleMode",0,n);this.expandParent=e(q,"expandParent",!0,n);this.autoRound=e(q,"autoRound",!1,n);this.autoCenter=e(q,"autoCenter",0,
n);this.resizeInterval=e(q,"resizeInterval",500,n);this.fullscreenTarget=e(q,"fullscreenTarget",null,n);this.minWidth=e(q,"min.width",0,n);this.maxWidth=e(q,"max.width",0,n);this.minHeight=e(q,"min.height",0,n);this.maxHeight=e(q,"max.height",0,n);this.snapWidth=e(q,"snap.width",0,n);this.snapHeight=e(q,"snap.height",0,n);this.renderType=e(n,"type",m.AUTO);this.canvas=e(n,"canvas",null);this.context=e(n,"context",null);this.canvasStyle=e(n,"canvasStyle",null);this.customEnvironment=e(n,"customEnvironment",
!1);this.sceneConfig=e(n,"scene",null);this.seed=e(n,"seed",[(Date.now()*Math.random()).toString()]);l.RND=new l.RandomDataGenerator(this.seed);this.gameTitle=e(n,"title","");this.gameURL=e(n,"url","https://phaser.io");this.gameVersion=e(n,"version","");this.autoFocus=e(n,"autoFocus",!0);this.stableSort=e(n,"stableSort",-1);-1===this.stableSort&&(this.stableSort=d.browser.es2019?1:0);d.features.stableSort=this.stableSort;this.domCreateContainer=e(n,"dom.createContainer",!1);this.domPointerEvents=
e(n,"dom.pointerEvents","none");this.inputKeyboard=e(n,"input.keyboard",!0);this.inputKeyboardEventTarget=e(n,"input.keyboard.target",window);this.inputKeyboardCapture=e(n,"input.keyboard.capture",[]);this.inputMouse=e(n,"input.mouse",!0);this.inputMouseEventTarget=e(n,"input.mouse.target",null);this.inputMousePreventDefaultDown=e(n,"input.mouse.preventDefaultDown",!0);this.inputMousePreventDefaultUp=e(n,"input.mouse.preventDefaultUp",!0);this.inputMousePreventDefaultMove=e(n,"input.mouse.preventDefaultMove",
!0);this.inputMousePreventDefaultWheel=e(n,"input.mouse.preventDefaultWheel",!0);this.inputTouch=e(n,"input.touch",d.input.touch);this.inputTouchEventTarget=e(n,"input.touch.target",null);this.inputTouchCapture=e(n,"input.touch.capture",!0);this.inputActivePointers=e(n,"input.activePointers",1);this.inputSmoothFactor=e(n,"input.smoothFactor",0);this.inputWindowEvents=e(n,"input.windowEvents",!0);this.inputGamepad=e(n,"input.gamepad",!1);this.inputGamepadEventTarget=e(n,"input.gamepad.target",window);
this.disableContextMenu=e(n,"disableContextMenu",!1);this.audio=e(n,"audio",{});this.hideBanner=!1===e(n,"banner",null);this.hidePhaser=e(n,"banner.hidePhaser",!1);this.bannerTextColor=e(n,"banner.text","#ffffff");this.bannerBackgroundColor=e(n,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]);""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0);this.fps=e(n,"fps",null);this.disablePreFX=e(n,"disablePreFX",!1);this.disablePostFX=e(n,"disablePostFX",!1);q=e(n,"render",
null);this.pipeline=e(q,"pipeline",null,n);this.autoMobilePipeline=e(q,"autoMobilePipeline",!0,n);this.defaultPipeline=e(q,"defaultPipeline",f.MULTI_PIPELINE,n);this.antialias=e(q,"antialias",!0,n);this.antialiasGL=e(q,"antialiasGL",!0,n);this.mipmapFilter=e(q,"mipmapFilter","",n);this.desynchronized=e(q,"desynchronized",!1,n);this.roundPixels=e(q,"roundPixels",!0,n);if(this.pixelArt=e(q,"pixelArt",1!==this.zoom,n))this.antialiasGL=this.antialias=!1,this.roundPixels=!0;this.transparent=e(q,"transparent",
!1,n);this.clearBeforeRender=e(q,"clearBeforeRender",!0,n);this.preserveDrawingBuffer=e(q,"preserveDrawingBuffer",!1,n);this.premultipliedAlpha=e(q,"premultipliedAlpha",!0,n);this.failIfMajorPerformanceCaveat=e(q,"failIfMajorPerformanceCaveat",!1,n);this.powerPreference=e(q,"powerPreference","default",n);this.batchSize=e(q,"batchSize",4096,n);this.maxTextures=e(q,"maxTextures",-1,n);this.maxLights=e(q,"maxLights",10,n);q=e(n,"backgroundColor",0);this.backgroundColor=k(q);this.transparent&&(this.backgroundColor=
k(0),this.backgroundColor.alpha=0);this.preBoot=e(n,"callbacks.preBoot",c);this.postBoot=e(n,"callbacks.postBoot",c);this.physics=e(n,"physics",{});this.defaultPhysicsSystem=e(this.physics,"default",!1);this.loaderBaseURL=e(n,"loader.baseURL","");this.loaderPath=e(n,"loader.path","");this.loaderMaxParallelDownloads=e(n,"loader.maxParallelDownloads",d.os.android?6:32);this.loaderCrossOrigin=e(n,"loader.crossOrigin",void 0);this.loaderResponseType=e(n,"loader.responseType","");this.loaderAsync=e(n,
"loader.async",!0);this.loaderUser=e(n,"loader.user","");this.loaderPassword=e(n,"loader.password","");this.loaderTimeout=e(n,"loader.timeout",0);this.loaderWithCredentials=e(n,"loader.withCredentials",!1);this.loaderImageLoadType=e(n,"loader.imageLoadType","XHR");this.loaderLocalScheme=e(n,"loader.localScheme",["file://","capacitor://"]);this.glowFXQuality=e(n,"fx.glow.quality",.1);this.glowFXDistance=e(n,"fx.glow.distance",10);this.installGlobalPlugins=[];this.installScenePlugins=[];q=e(n,"plugins",
null);var t=g.DefaultScene;q&&(Array.isArray(q)?this.defaultPlugins=q:h(q)&&(this.installGlobalPlugins=b(q,"global",[]),this.installScenePlugins=b(q,"scene",[]),Array.isArray(q.default)?t=q.default:Array.isArray(q.defaultMerge)&&(t=t.concat(q.defaultMerge))));this.defaultPlugins=t;this.defaultImage=e(n,"images.default","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg\x3d\x3d");this.missingImage=
e(n,"images.missing","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg\x3d\x3d");this.whiteImage=e(n,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC");
window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});r.exports=a},86054:(r,p,a)=>{var m=a(20623),g=a(27919),d=a(8054),b=a(89357);r.exports=function(e){var h=e.config;if((h.customEnvironment||h.canvas)&&h.renderType===d.AUTO)throw Error("Must set explicit renderType in custom environment");if(!h.customEnvironment&&!h.canvas&&h.renderType!==d.HEADLESS)if(h.renderType===d.AUTO&&(h.renderType=b.webGL?d.WEBGL:d.CANVAS),h.renderType===d.WEBGL){if(!b.webGL)throw Error("Cannot create WebGL context, aborting.");
}else if(h.renderType===d.CANVAS){if(!b.canvas)throw Error("Cannot create Canvas context, aborting.");}else throw Error("Unknown value for renderer type: "+h.renderType);h.antialias||g.disableSmoothing();var c=e.scale.baseSize,l=c.width;c=c.height;h.canvas?(e.canvas=h.canvas,e.canvas.width=l,e.canvas.height=c):e.canvas=g.create(e,l,c,h.renderType);h.canvasStyle&&(e.canvas.style=h.canvasStyle);h.antialias||m.setCrisp(e.canvas);h.renderType!==d.HEADLESS&&(l=a(68627),c=a(74797),h.renderType===d.WEBGL?
e.renderer=new c(e):(e.renderer=new l(e),e.context=e.renderer.gameContext))}},96391:(r,p,a)=>{var m=a(8054);r.exports=function(g){var d=g.config;if(!d.hideBanner){var b="WebGL";d.renderType===m.CANVAS?b="Canvas":d.renderType===m.HEADLESS&&(b="Headless");var e=d.audio,h=g.device.audio;e=h.webAudio&&!e.disableWebAudio?"Web Audio":e.noAudio||!h.webAudio&&!h.audioData?"No Audio":"HTML5 Audio";if(g.device.browser.ie)window.console&&console.log("Phaser v"+m.VERSION+" / https://phaser.io");else{var c="",
l=[c];if(Array.isArray(d.bannerBackgroundColor)){var f;d.bannerBackgroundColor.forEach(function(k){c=c.concat("%c ");l.push("background: "+k);f=k});l[l.length-1]="color: "+d.bannerTextColor+"; background: "+f}else c=c.concat("%c "),l.push("color: "+d.bannerTextColor+"; background: "+d.bannerBackgroundColor);l.push("background: transparent");d.gameTitle&&(c=c.concat(d.gameTitle),d.gameVersion&&(c=c.concat(" v"+d.gameVersion)),d.hidePhaser||(c=c.concat(" / ")));d.hidePhaser||(c=c.concat("Phaser v"+
m.VERSION+" ("+b+" | "+e+")"));c=c.concat(" %c "+d.gameURL);l[0]=c;console.log.apply(console,l)}}}},50127:(r,p,a)=>{var m=a(40366),g=a(60848),d=a(24047),b=a(27919);p=a(83419);var e=a(69547),h=a(83719),c=a(86054),l=a(45893),f=a(96391),k=a(82264),n=a(57264),q=a(50792),t=a(8443),v=a(7003),u=a(37277),x=a(77332),w=a(76531),y=a(60903),z=a(69442),C=a(17130),A=a(65898),B=a(51085),E=a(14747);a=new p({initialize:function(G){this.config=new e(G);this.context=this.canvas=this.domContainer=this.renderer=null;
this.isRunning=this.isBooted=!1;this.events=new q;this.anims=new g(this);this.textures=new C(this);this.cache=new d(this);this.registry=new l(this,new q);this.input=new v(this,this.config);this.scene=new y(this,this.config.sceneConfig);this.device=k;this.scale=new w(this,this.config);this.sound=null;this.sound=E.create(this);this.loop=new A(this,this.config.fps);this.plugins=new x(this,this.config);this.isPaused=this.hasFocus=this.noReturn=this.removeCanvas=this.pendingDestroy=!1;n(this.boot.bind(this))},
boot:function(){u.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),c(this),h(this),f(this),m(this.canvas,this.config.parent),this.textures.once(z.READY,this.texturesReady,this),this.events.emit(t.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(t.READY);this.start()},start:function(){this.isRunning=!0;this.config.postBoot(this);this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this));
B(this);var G=this.events;G.on(t.HIDDEN,this.onHidden,this);G.on(t.VISIBLE,this.onVisible,this);G.on(t.BLUR,this.onBlur,this);G.on(t.FOCUS,this.onFocus,this)},step:function(G,I){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(t.PRE_STEP,G,I);H.emit(t.STEP,G,I);this.scene.update(G,I);H.emit(t.POST_STEP,G,I);var K=this.renderer;K.preRender();H.emit(t.PRE_RENDER,K,G,I);this.scene.render(K);K.postRender();H.emit(t.POST_RENDER,K,G,I)}},headlessStep:function(G,
I){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(t.PRE_STEP,G,I);H.emit(t.STEP,G,I);this.scene.update(G,I);H.emit(t.POST_STEP,G,I);this.scene.isProcessing=!1;H.emit(t.PRE_RENDER,null,G,I);H.emit(t.POST_RENDER,null,G,I)}},onHidden:function(){this.loop.pause();this.events.emit(t.PAUSE)},pause:function(){var G=this.isPaused;this.isPaused=!0;G||this.events.emit(t.PAUSE)},onVisible:function(){this.loop.resume();this.events.emit(t.RESUME)},resume:function(){var G=
this.isPaused;this.isPaused=!1;G&&this.events.emit(t.RESUME)},onBlur:function(){this.hasFocus=!1;this.loop.blur()},onFocus:function(){this.hasFocus=!0;this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(G,I){void 0===I&&(I=!1);this.pendingDestroy=!0;this.removeCanvas=G;this.noReturn=I},runDestroy:function(){this.scene.destroy();this.events.emit(t.DESTROY);this.events.removeAllListeners();this.renderer&&this.renderer.destroy();this.removeCanvas&&
this.canvas&&(b.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas));this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer);this.loop.destroy();this.pendingDestroy=!1}});r.exports=a},65898:(r,p,a)=>{p=a(83419);var m=a(35154),g=a(29747),d=a(43092);a=new p({initialize:function(b,e){this.game=b;this.raf=new d;this.running=this.started=!1;this.minFps=m(e,"min",5);this.targetFps=m(e,"target",60);this.fpsLimit=
m(e,"limit",0);this._limitRate=(this.hasFpsLimit=0<this.fpsLimit)?1E3/this.fpsLimit:0;this._min=1E3/this.minFps;this._target=1E3/this.targetFps;this.actualFps=this.targetFps;this.framesThisSecond=this.nextFpsUpdate=0;this.callback=g;this.forceSetTimeOut=m(e,"forceSetTimeOut",!1);this.frame=this.lastTime=this.startTime=this.time=0;this.inFocus=!0;this.deltaIndex=this.delta=this._coolDown=this._pauseTime=0;this.deltaHistory=[];this.deltaSmoothingMax=m(e,"deltaHistory",10);this.panicMax=m(e,"panicMax",
120);this.now=this.rawDelta=0;this.smoothStep=m(e,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0;this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta();this.startTime+=this.time-this._pauseTime},resetDelta:function(){var b=window.performance.now();this.lastTime=this.time=b;this.nextFpsUpdate=b+1E3;for(b=this.framesThisSecond=0;b<this.deltaSmoothingMax;b++)this.deltaHistory[b]=Math.min(this._target,this.deltaHistory[b]);
this.deltaIndex=this.delta=0;this._coolDown=this.panicMax},start:function(b){if(this.started)return this;this.running=this.started=!0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=this._target;this.resetDelta();this.startTime=window.performance.now();this.callback=b;b=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(b,this.forceSetTimeOut,this._target)},smoothDelta:function(b){var e=this.deltaIndex,h=this.deltaHistory,c=this.deltaSmoothingMax;if(0<
this._coolDown||!this.inFocus)this._coolDown--,b=Math.min(b,this._target);b>this._min&&(b=h[e],b=Math.min(b,this._min));h[e]=b;this.deltaIndex++;this.deltaIndex>=c&&(this.deltaIndex=0);for(e=b=0;e<c;e++)b+=h[e];return b/c},updateFPS:function(b){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps;this.nextFpsUpdate=b+1E3;this.framesThisSecond=0},stepLimitFPS:function(b){this.now=b;var e=Math.max(0,b-this.lastTime);this.rawDelta=e;this.time+=this.rawDelta;this.smoothStep&&(e=this.smoothDelta(e));
this.delta+=e;b>=this.nextFpsUpdate&&this.updateFPS(b);this.framesThisSecond++;this.delta>=this._limitRate&&(this.callback(b,this.delta),this.delta=0);this.lastTime=b;this.frame++},step:function(b){this.now=b;var e=Math.max(0,b-this.lastTime);this.rawDelta=e;this.time+=this.rawDelta;this.smoothStep&&(e=this.smoothDelta(e));this.delta=e;b>=this.nextFpsUpdate&&this.updateFPS(b);this.framesThisSecond++;this.callback(b,e);this.lastTime=b;this.frame++},tick:function(){var b=window.performance.now();this.hasFpsLimit?
this.stepLimitFPS(b):this.step(b)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(b){void 0===b&&(b=!1);var e=window.performance.now();this.running||(b&&(this.startTime+=-this.lastTime+(this.lastTime+e)),b=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this),this.raf.start(b,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=e+1E3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick())},getDuration:function(){return Math.round(this.lastTime-
this.startTime)/1E3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){this.started=this.running=!1;this.raf.stop();return this},destroy:function(){this.stop();this.raf.destroy();this.callback=this.game=this.raf=null}});r.exports=a},51085:(r,p,a)=>{var m=a(8443);r.exports=function(g){var d,b=g.events;void 0!==document.hidden?d="visibilitychange":["webkit","moz","ms"].forEach(function(h){void 0!==document[h+"Hidden"]&&(document.hidden=function(){return document[h+
"Hidden"]},d=h+"visibilitychange")});var e=function(h){document.hidden||"pause"===h.type?b.emit(m.HIDDEN):b.emit(m.VISIBLE)};d&&document.addEventListener(d,e,!1);window.onblur=function(){b.emit(m.BLUR)};window.onfocus=function(){b.emit(m.FOCUS)};window.focus&&g.config.autoFocus&&window.focus()}},97217:r=>{r.exports="blur"},47548:r=>{r.exports="boot"},19814:r=>{r.exports="contextlost"},68446:r=>{r.exports="destroy"},41700:r=>{r.exports="focus"},25432:r=>{r.exports="hidden"},65942:r=>{r.exports="pause"},
59211:r=>{r.exports="postrender"},47789:r=>{r.exports="poststep"},39066:r=>{r.exports="prerender"},460:r=>{r.exports="prestep"},16175:r=>{r.exports="ready"},42331:r=>{r.exports="resume"},11966:r=>{r.exports="step"},32969:r=>{r.exports="systemready"},94830:r=>{r.exports="visible"},8443:(r,p,a)=>{r.exports={BLUR:a(97217),BOOT:a(47548),CONTEXT_LOST:a(19814),DESTROY:a(68446),FOCUS:a(41700),HIDDEN:a(25432),PAUSE:a(65942),POST_RENDER:a(59211),POST_STEP:a(47789),PRE_RENDER:a(39066),PRE_STEP:a(460),READY:a(16175),
RESUME:a(42331),STEP:a(11966),SYSTEM_READY:a(32969),VISIBLE:a(94830)}},42857:(r,p,a)=>{r.exports={Config:a(69547),CreateRenderer:a(86054),DebugHeader:a(96391),Events:a(8443),TimeStep:a(65898),VisibilityHandler:a(51085)}},99584:(r,p,a)=>{var m=a(5290),g=a(27919),d=a(35154);r.exports=function(b){var e=d(b,"data",[]),h=d(b,"canvas",null),c=d(b,"palette",m),l=d(b,"pixelWidth",1),f=d(b,"pixelHeight",l),k=d(b,"resizeCanvas",!0),n=d(b,"clearCanvas",!0),q=d(b,"preRender",null);b=d(b,"postRender",null);var t=
Math.floor(Math.abs(e[0].length*l)),v=Math.floor(Math.abs(e.length*f));h||(h=g.create2D(this,t,v),n=k=!1);k&&(h.width=t,h.height=v);k=h.getContext("2d",{willReadFrequently:!0});n&&k.clearRect(0,0,t,v);q&&q(h,k);for(n=0;n<e.length;n++)for(q=e[n],t=0;t<q.length;t++)v=q[t],"."!==v&&" "!==v&&(k.fillStyle=c[v],k.fillRect(t*l,n*f,l,f));b&&b(h,k);return h}},15822:(r,p,a)=>{r.exports={GenerateTexture:a(99584),Palettes:a(57763)}},5290:r=>{r.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",
6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:r=>{r.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:r=>{r.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",
D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:r=>{r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:r=>{r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(r,p,a)=>{r.exports={ARNE16:a(5290),C64:a(23816),
CGA:a(9866),JMP:a(77552),MSX:a(92259)}},46728:(r,p,a)=>{p=a(83419);var m=a(36316),g=a(80021),d=a(26099),b=new p({Extends:g,initialize:function(e,h,c,l){g.call(this,"CubicBezierCurve");Array.isArray(e)&&(l=new d(e[6],e[7]),c=new d(e[4],e[5]),h=new d(e[2],e[3]),e=new d(e[0],e[1]));this.p0=e;this.p1=h;this.p2=c;this.p3=l},getStartPoint:function(e){void 0===e&&(e=new d);return e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,h){void 0===h&&(h=new d);var c=this.p0,l=this.p1,f=this.p2,
k=this.p3;return h.set(m(e,c.x,l.x,f.x,k.x),m(e,c.y,l.y,f.y,k.y))},draw:function(e,h){void 0===h&&(h=32);h=this.getPoints(h);e.beginPath();e.moveTo(this.p0.x,this.p0.y);for(var c=1;c<h.length;c++)e.lineTo(h[c].x,h[c].y);e.strokePath();return e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});b.fromJSON=function(e){var h=e.points;e=new d(h[0],h[1]);var c=new d(h[2],h[3]),l=new d(h[4],h[5]);h=new d(h[6],h[7]);return new b(e,
c,l,h)};r.exports=b},80021:(r,p,a)=>{p=a(83419);var m=a(19217),g=a(87841),d=a(26099);a=new p({initialize:function(b){this.type=b;this.defaultDivisions=5;this.arcLengthDivisions=100;this.cacheArcLengths=[];this.active=this.needsUpdate=!0;this._tmpVec2A=new d;this._tmpVec2B=new d},draw:function(b,e){void 0===e&&(e=32);return b.strokePoints(this.getPoints(e))},getBounds:function(b,e){b||(b=new g);void 0===e&&(e=16);var h=this.getLength();e>h&&(e=h/2);return m(this.getSpacedPoints(Math.max(1,Math.round(h/
e))),b)},getDistancePoints:function(b){var e=this.getLength();return this.getSpacedPoints(Math.max(1,e/b))},getEndPoint:function(b){void 0===b&&(b=new d);return this.getPointAt(1,b)},getLength:function(){var b=this.getLengths();return b[b.length-1]},getLengths:function(b){void 0===b&&(b=this.arcLengthDivisions);if(this.cacheArcLengths.length===b+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e=[],h=this.getPoint(0,this._tmpVec2A),c=0;e.push(0);for(var l=1;l<=b;l++){var f=
this.getPoint(l/b,this._tmpVec2B);c+=f.distance(h);e.push(c);h.copy(f)}return this.cacheArcLengths=e},getPointAt:function(b,e){b=this.getUtoTmapping(b);return this.getPoint(b,e)},getPoints:function(b,e,h){void 0===h&&(h=[]);b||(b=e?this.getLength()/e:this.defaultDivisions);for(e=0;e<=b;e++)h.push(this.getPoint(e/b));return h},getRandomPoint:function(b){void 0===b&&(b=new d);return this.getPoint(Math.random(),b)},getSpacedPoints:function(b,e,h){void 0===h&&(h=[]);b||(b=e?this.getLength()/e:this.defaultDivisions);
for(e=0;e<=b;e++){var c=this.getUtoTmapping(e/b,null,b);h.push(this.getPoint(c))}return h},getStartPoint:function(b){void 0===b&&(b=new d);return this.getPointAt(0,b)},getTangent:function(b,e){void 0===e&&(e=new d);var h=b-1E-4;b+=1E-4;0>h&&(h=0);1<b&&(b=1);this.getPoint(h,this._tmpVec2A);this.getPoint(b,e);return e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(b,e){b=this.getUtoTmapping(b);return this.getTangent(b,e)},getTFromDistance:function(b,e){return 0>=b?0:this.getUtoTmapping(0,
b,e)},getUtoTmapping:function(b,e,h){h=this.getLengths(h);var c=h.length;e=e?Math.min(e,h[c-1]):b*h[c-1];for(var l=0,f=c-1,k;l<=f;)if(b=Math.floor(l+(f-l)/2),k=h[b]-e,0>k)l=b+1;else if(0<k)f=b-1;else{f=b;break}b=f;if(h[b]===e)return b/(c-1);l=h[b];return(b+(e-l)/(h[b+1]-l))/(c-1)},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()}});r.exports=a},73825:(r,p,a)=>{p=a(83419);var m=a(80021),g=a(39506),d=a(35154),b=a(43396),e=a(26099),h=new p({Extends:m,initialize:function(c,l,f,k,n,q,
t,v){"object"===typeof c?(v=c,c=d(v,"x",0),l=d(v,"y",0),f=d(v,"xRadius",0),k=d(v,"yRadius",f),n=d(v,"startAngle",0),q=d(v,"endAngle",360),t=d(v,"clockwise",!1),v=d(v,"rotation",0)):(void 0===k&&(k=f),void 0===n&&(n=0),void 0===q&&(q=360),void 0===t&&(t=!1),void 0===v&&(v=0));m.call(this,"EllipseCurve");this.p0=new e(c,l);this._xRadius=f;this._yRadius=k;this._startAngle=g(n);this._endAngle=g(q);this._clockwise=t;this._rotation=g(v)},getStartPoint:function(c){void 0===c&&(c=new e);return this.getPoint(0,
c)},getResolution:function(c){return 2*c},getPoint:function(c,l){void 0===l&&(l=new e);for(var f=2*Math.PI,k=this._endAngle-this._startAngle,n=Math.abs(k)<Number.EPSILON;0>k;)k+=f;for(;k>f;)k-=f;k<Number.EPSILON&&(k=n?0:f);this._clockwise&&!n&&(k=k===f?-f:k-f);f=this._startAngle+c*k;c=this.p0.x+this._xRadius*Math.cos(f);var q=this.p0.y+this._yRadius*Math.sin(f);0!==this._rotation&&(f=Math.cos(this._rotation),k=Math.sin(this._rotation),n=c-this.p0.x,q-=this.p0.y,c=n*f-q*k+this.p0.x,q=n*k+q*f+this.p0.y);
return l.set(c,q)},setXRadius:function(c){this.xRadius=c;return this},setYRadius:function(c){this.yRadius=c;return this},setWidth:function(c){this.xRadius=c/2;return this},setHeight:function(c){this.yRadius=c/2;return this},setStartAngle:function(c){this.startAngle=c;return this},setEndAngle:function(c){this.endAngle=c;return this},setClockwise:function(c){this.clockwise=c;return this},setRotation:function(c){this.rotation=c;return this},x:{get:function(){return this.p0.x},set:function(c){this.p0.x=
c}},y:{get:function(){return this.p0.y},set:function(c){this.p0.y=c}},xRadius:{get:function(){return this._xRadius},set:function(c){this._xRadius=c}},yRadius:{get:function(){return this._yRadius},set:function(c){this._yRadius=c}},startAngle:{get:function(){return b(this._startAngle)},set:function(c){this._startAngle=g(c)}},endAngle:{get:function(){return b(this._endAngle)},set:function(c){this._endAngle=g(c)}},clockwise:{get:function(){return this._clockwise},set:function(c){this._clockwise=c}},angle:{get:function(){return b(this._rotation)},
set:function(c){this._rotation=g(c)}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:b(this._startAngle),endAngle:b(this._endAngle),clockwise:this._clockwise,rotation:b(this._rotation)}}});h.fromJSON=function(c){return new h(c)};r.exports=h},33951:(r,p,a)=>{p=a(83419);var m=a(80021),g=a(19217),d=a(87841),b=a(26099),e=new p({Extends:m,initialize:function(h,
c){m.call(this,"LineCurve");Array.isArray(h)&&(c=new b(h[2],h[3]),h=new b(h[0],h[1]));this.p0=h;this.p1=c;this.arcLengthDivisions=1},getBounds:function(h){void 0===h&&(h=new d);return g([this.p0,this.p1],h)},getStartPoint:function(h){void 0===h&&(h=new b);return h.copy(this.p0)},getResolution:function(h){void 0===h&&(h=1);return h},getPoint:function(h,c){void 0===c&&(c=new b);if(1===h)return c.copy(this.p1);c.copy(this.p1).subtract(this.p0).scale(h).add(this.p0);return c},getPointAt:function(h,c){return this.getPoint(h,
c)},getTangent:function(h,c){void 0===c&&(c=new b);c.copy(this.p1).subtract(this.p0).normalize();return c},getUtoTmapping:function(h,c,l){c?(h=this.getLengths(l),h=h[h.length-1],c=Math.min(c,h)/h):c=h;return c},draw:function(h){h.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y);return h},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(h){var c=h.points;h=new b(c[0],c[1]);c=new b(c[2],c[3]);return new e(h,c)};r.exports=e},14744:(r,
p,a)=>{p=a(83419);var m=a(80021),g=a(32112),d=a(26099),b=new p({Extends:m,initialize:function(e,h,c){m.call(this,"QuadraticBezierCurve");Array.isArray(e)&&(c=new d(e[4],e[5]),h=new d(e[2],e[3]),e=new d(e[0],e[1]));this.p0=e;this.p1=h;this.p2=c},getStartPoint:function(e){void 0===e&&(e=new d);return e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,h){void 0===h&&(h=new d);var c=this.p0,l=this.p1,f=this.p2;return h.set(g(e,c.x,l.x,f.x),g(e,c.y,l.y,f.y))},draw:function(e,h){void 0===
h&&(h=32);h=this.getPoints(h);e.beginPath();e.moveTo(this.p0.x,this.p0.y);for(var c=1;c<h.length;c++)e.lineTo(h[c].x,h[c].y);e.strokePath();return e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});b.fromJSON=function(e){var h=e.points;e=new d(h[0],h[1]);var c=new d(h[2],h[3]);h=new d(h[4],h[5]);return new b(e,c,h)};r.exports=b},42534:(r,p,a)=>{var m=a(87842);p=a(83419);var g=a(80021),d=a(26099),b=new p({Extends:g,initialize:function(e){void 0===
e&&(e=[]);g.call(this,"SplineCurve");this.points=[];this.addPoints(e)},addPoints:function(e){for(var h=0;h<e.length;h++){var c=new d;"number"===typeof e[h]?(c.x=e[h],c.y=e[h+1],h++):Array.isArray(e[h])?(c.x=e[h][0],c.y=e[h][1]):(c.x=e[h].x,c.y=e[h].y);this.points.push(c)}return this},addPoint:function(e,h){e=new d(e,h);this.points.push(e);return e},getStartPoint:function(e){void 0===e&&(e=new d);return e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,
h){void 0===h&&(h=new d);var c=this.points,l=(c.length-1)*e;e=Math.floor(l);l-=e;var f=c[0===e?e:e-1],k=c[e],n=c[e>c.length-2?c.length-1:e+1];c=c[e>c.length-3?c.length-1:e+2];return h.set(m(l,f.x,k.x,n.x,c.x),m(l,f.y,k.y,n.y,c.y))},toJSON:function(){for(var e=[],h=0;h<this.points.length;h++)e.push(this.points[h].x),e.push(this.points[h].y);return{type:this.type,points:e}}});b.fromJSON=function(e){return new b(e.points)};r.exports=b},25410:(r,p,a)=>{r.exports={Path:a(46669),MoveTo:a(68618),CubicBezier:a(46728),
Curve:a(80021),Ellipse:a(73825),Line:a(33951),QuadraticBezier:a(14744),Spline:a(42534)}},68618:(r,p,a)=>{p=a(83419);var m=a(26099);a=new p({initialize:function(g,d){this.active=!1;this.p0=new m(g,d)},getPoint:function(g,d){void 0===d&&(d=new m);return d.copy(this.p0)},getPointAt:function(g,d){return this.getPoint(g,d)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});r.exports=a},46669:(r,p,a)=>{p=a(83419);var m=
a(46728),g=a(73825),d=a(39429),b=a(33951),e=a(68618),h=a(14744),c=a(87841),l=a(42534),f=a(26099),k=a(36383),n=new p({initialize:function(q,t){void 0===q&&(q=0);void 0===t&&(t=0);this.name="";this.defaultDivisions=12;this.curves=[];this.cacheLengths=[];this.autoClose=!1;this.startPoint=new f;this._tmpVec2A=new f;this._tmpVec2B=new f;"object"===typeof q?this.fromJSON(q):this.startPoint.set(q,t)},add:function(q){this.curves.push(q);return this},circleTo:function(q,t,v){void 0===t&&(t=!1);return this.ellipseTo(q,
q,0,360,t,v)},closePath:function(){var q=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);q.equals(t)||this.curves.push(new b(t,q));return this},cubicBezierTo:function(q,t,v,u,x,w){var y=this.getEndPoint();q instanceof f?(u=q,x=t,q=v):(u=new f(v,u),x=new f(x,w),q=new f(q,t));return this.add(new m(y,u,x,q))},quadraticBezierTo:function(q,t,v,u){var x=this.getEndPoint();q instanceof f?(v=q,q=t):(v=new f(v,u),q=new f(q,t));return this.add(new h(x,v,q))},draw:function(q,t){for(var v=
0;v<this.curves.length;v++){var u=this.curves[v];u.active&&u.draw(q,t)}return q},ellipseTo:function(q,t,v,u,x,w){q=new g(0,0,q,t,v,u,x,w);t=this.getEndPoint(this._tmpVec2A);v=q.getStartPoint(this._tmpVec2B);t.subtract(v);q.x=t.x;q.y=t.y;return this.add(q)},fromJSON:function(q){this.curves=[];this.cacheLengths=[];this.startPoint.set(q.x,q.y);this.autoClose=q.autoClose;for(var t=0;t<q.curves.length;t++){var v=q.curves[t];switch(v.type){case "LineCurve":this.add(b.fromJSON(v));break;case "EllipseCurve":this.add(g.fromJSON(v));
break;case "SplineCurve":this.add(l.fromJSON(v));break;case "CubicBezierCurve":this.add(m.fromJSON(v));break;case "QuadraticBezierCurve":this.add(h.fromJSON(v))}}return this},getBounds:function(q,t){void 0===q&&(q=new c);void 0===t&&(t=16);q.x=Number.MAX_VALUE;q.y=Number.MAX_VALUE;for(var v=new c,u=k.MIN_SAFE_INTEGER,x=k.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var y=this.curves[w];y.active&&(y.getBounds(v,t),q.x=Math.min(q.x,v.x),q.y=Math.min(q.y,v.y),u=Math.max(u,v.right),x=Math.max(x,v.bottom))}q.right=
u;q.bottom=x;return q},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var q=[],t=0,v=0;v<this.curves.length;v++)t+=this.curves[v].getLength(),q.push(t);return this.cacheLengths=q},getCurveAt:function(q){q*=this.getLength();for(var t=this.getCurveLengths(),v=0;v<t.length;){if(t[v]>=q)return this.curves[v];v++}return null},getEndPoint:function(q){void 0===q&&(q=new f);0<this.curves.length?this.curves[this.curves.length-1].getPoint(1,q):q.copy(this.startPoint);
return q},getLength:function(){var q=this.getCurveLengths();return q[q.length-1]},getPoint:function(q,t){void 0===t&&(t=new f);var v=q*this.getLength(),u=this.getCurveLengths();for(q=0;q<u.length;){if(u[q]>=v)return v=u[q]-v,q=this.curves[q],u=q.getLength(),q.getPointAt(0===u?0:1-v/u,t);q++}return null},getPoints:function(q,t){q||t||(q=this.defaultDivisions);for(var v=[],u,x=0;x<this.curves.length;x++){var w=this.curves[x];if(w.active){var y=w.getResolution(q);w=w.getPoints(y,t);for(y=0;y<w.length;y++){var z=
w[y];u&&u.equals(z)||(v.push(z),u=z)}}}this.autoClose&&1<v.length&&!v[v.length-1].equals(v[0])&&v.push(v[0]);return v},getRandomPoint:function(q){void 0===q&&(q=new f);return this.getPoint(Math.random(),q)},getSpacedPoints:function(q){void 0===q&&(q=40);for(var t=[],v=0;v<=q;v++)t.push(this.getPoint(v/q));this.autoClose&&t.push(t[0]);return t},getStartPoint:function(q){void 0===q&&(q=new f);return q.copy(this.startPoint)},getTangent:function(q,t){void 0===t&&(t=new f);var v=q*this.getLength(),u=this.getCurveLengths();
for(q=0;q<u.length;){if(u[q]>=v)return v=u[q]-v,q=this.curves[q],u=q.getLength(),q.getTangentAt(0===u?0:1-v/u,t);q++}return null},lineTo:function(q,t){q instanceof f?this._tmpVec2B.copy(q):"object"===typeof q?this._tmpVec2B.setFromObject(q):this._tmpVec2B.set(q,t);q=this.getEndPoint(this._tmpVec2A);return this.add(new b([q.x,q.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(q){q.unshift(this.getEndPoint());return this.add(new l(q))},moveTo:function(q,t){return q instanceof f?this.add(new e(q.x,
q.y)):this.add(new e(q,t))},toJSON:function(){for(var q=[],t=0;t<this.curves.length;t++)q.push(this.curves[t].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:q}},updateArcLengths:function(){this.cacheLengths=[];this.getCurveLengths()},destroy:function(){this.curves.length=0;this.cacheLengths.length=0;this.startPoint=void 0}});d.register("path",function(q,t){return new n(q,t)});r.exports=n},45893:(r,p,a)=>{p=a(83419);var m=a(24882);a=new p({initialize:function(g,
d){this.parent=g;this.events=d;d||(this.events=g.events?g.events:g);this.list={};this.values={};this._frozen=!1;if(!g.hasOwnProperty("sys")&&this.events)this.events.once(m.DESTROY,this.destroy,this)},get:function(g){var d=this.list;if(Array.isArray(g)){for(var b=[],e=0;e<g.length;e++)b.push(d[g[e]]);return b}return d[g]},getAll:function(){var g={},d;for(d in this.list)this.list.hasOwnProperty(d)&&(g[d]=this.list[d]);return g},query:function(g){var d={},b;for(b in this.list)this.list.hasOwnProperty(b)&&
b.match(g)&&(d[b]=this.list[b]);return d},set:function(g,d){if(this._frozen)return this;if("string"===typeof g)return this.setValue(g,d);for(var b in g)this.setValue(b,g[b]);return this},inc:function(g,d){if(this._frozen)return this;void 0===d&&(d=1);var b=this.get(g);void 0===b&&(b=0);this.set(g,b+d);return this},toggle:function(g){if(this._frozen)return this;this.set(g,!this.get(g));return this},setValue:function(g,d){if(this._frozen)return this;if(this.has(g))this.values[g]=d;else{var b=this,e=
this.list,h=this.events,c=this.parent;Object.defineProperty(this.values,g,{enumerable:!0,configurable:!0,get:function(){return e[g]},set:function(l){if(!b._frozen){var f=e[g];e[g]=l;h.emit(m.CHANGE_DATA,c,g,l,f);h.emit(m.CHANGE_DATA_KEY+g,c,l,f)}}});e[g]=d;h.emit(m.SET_DATA,c,g,d)}return this},each:function(g,d){for(var b=[this.parent,null,void 0],e=1;e<arguments.length;e++)b.push(arguments[e]);for(var h in this.list)b[1]=h,b[2]=this.list[h],g.apply(d,b);return this},merge:function(g,d){void 0===
d&&(d=!0);for(var b in g)g.hasOwnProperty(b)&&(d||!d&&!this.has(b))&&this.setValue(b,g[b]);return this},remove:function(g){if(this._frozen)return this;if(Array.isArray(g))for(var d=0;d<g.length;d++)this.removeValue(g[d]);else return this.removeValue(g);return this},removeValue:function(g){if(this.has(g)){var d=this.list[g];delete this.list[g];delete this.values[g];this.events.emit(m.REMOVE_DATA,this.parent,g,d)}return this},pop:function(g){var d=void 0;!this._frozen&&this.has(g)&&(d=this.list[g],
delete this.list[g],delete this.values[g],this.events.emit(m.REMOVE_DATA,this.parent,g,d));return d},has:function(g){return this.list.hasOwnProperty(g)},setFreeze:function(g){this._frozen=g;return this},reset:function(){for(var g in this.list)delete this.list[g],delete this.values[g];this._frozen=!1;return this},destroy:function(){this.reset();this.events.off(m.CHANGE_DATA);this.events.off(m.SET_DATA);this.events.off(m.REMOVE_DATA);this.parent=null},freeze:{get:function(){return this._frozen},set:function(g){this._frozen=
g?!0:!1}},count:{get:function(){var g=0,d;for(d in this.list)void 0!==this.list[d]&&g++;return g}}});r.exports=a},63646:(r,p,a)=>{var m=a(83419),g=a(45893);p=a(37277);var d=a(44594);a=new m({Extends:g,initialize:function(b){g.call(this,b,b.sys.events);this.scene=b;this.systems=b.sys;b.sys.events.once(d.BOOT,this.boot,this);b.sys.events.on(d.START,this.start,this)},boot:function(){this.events=this.systems.events;this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,
this.shutdown,this)},shutdown:function(){this.systems.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this);this.events.off(d.START,this.start,this);this.systems=this.scene=null}});p.register("DataManagerPlugin",a,"data");r.exports=a},10700:r=>{r.exports="changedata"},93608:r=>{r.exports="changedata-"},60883:r=>{r.exports="destroy"},69780:r=>{r.exports="removedata"},22166:r=>{r.exports="setdata"},24882:(r,p,a)=>{r.exports={CHANGE_DATA:a(10700),CHANGE_DATA_KEY:a(93608),
DESTROY:a(60883),REMOVE_DATA:a(69780),SET_DATA:a(22166)}},44965:(r,p,a)=>{r.exports={DataManager:a(45893),DataManagerPlugin:a(63646),Events:a(24882)}},7098:(r,p,a)=>{var m=a(84148),g={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};r.exports=function(){if("function"===typeof importScripts)return g;g.audioData=!!window.Audio;g.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var d=document.createElement("audio"),b=!!d.canPlayType;try{if(b&&
(b=function(c,l){c=d.canPlayType("audio/"+c).replace(/^no$/,"");return l?!(!c&&!d.canPlayType("audio/"+l).replace(/^no$/,"")):!!c},g.ogg=b('ogg; codecs\x3d"vorbis"'),g.opus=b('ogg; codecs\x3d"opus"',"opus"),g.mp3=b("mpeg"),g.wav=b("wav"),g.m4a=b("x-m4a"),g.aac=b("aac"),g.flac=b("flac","x-flac"),g.webm=b('webm; codecs\x3d"vorbis"'),""!==d.canPlayType('audio/mp4; codecs\x3d"ec-3"')))if(m.edge)g.dolby=!0;else if(m.safari&&9<=m.safariVersion&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var e=parseInt(RegExp.$1,
10),h=parseInt(RegExp.$2,10);if(10===e&&11<=h||10<e)g.dolby=!0}}catch(c){}return g}()},84148:(r,p,a)=>{p=a(25892);a={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};var m=navigator.userAgent;/Edg\/\d+/.test(m)?(a.edge=!0,a.es2019=!0):/OPR/.test(m)?(a.opera=!0,a.es2019=!0):/Chrome\/(\d+)/.test(m)&&!p.windowsPhone?(a.chrome=!0,a.chromeVersion=parseInt(RegExp.$1,10),a.es2019=
69<a.chromeVersion):/Firefox\D+(\d+)/.test(m)?(a.firefox=!0,a.firefoxVersion=parseInt(RegExp.$1,10),a.es2019=10<a.firefoxVersion):/AppleWebKit\/(?!.*CriOS)/.test(m)&&p.iOS?(a.mobileSafari=!0,a.es2019=!0):/MSIE (\d+\.\d+);/.test(m)?(a.ie=!0,a.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(m)&&!p.windowsPhone?(a.safari=!0,a.safariVersion=parseInt(RegExp.$1,10),a.es2019=10<a.safariVersion):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(m)&&(a.ie=!0,a.trident=!0,a.tridentVersion=
parseInt(RegExp.$1,10),a.ieVersion=parseInt(RegExp.$3,10));/Silk/.test(m)&&(a.silk=!0);r.exports=a},89289:(r,p,a)=>{function m(){var e=new Image;e.onload=function(){var h=new Image;h.onload=function(){var c=d.create2D(h,6).getContext("2d",{willReadFrequently:!0});c.globalCompositeOperation="multiply";c.drawImage(e,0,0);c.drawImage(h,2,0);if(!c.getImageData(2,0,1,1))return!1;c=c.getImageData(2,0,1,1).data;d.remove(h);b.supportNewBlendModes=255===c[0]&&0===c[1]&&0===c[2]};h.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX//wCKxvRFAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg\x3d\x3d"};
e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/AP804Oa6AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg\x3d\x3d";return!1}function g(){var e=d.create2D(this,2).getContext("2d",{willReadFrequently:!0});e.fillStyle="rgba(10, 20, 30, 0.5)";e.fillRect(0,0,1,1);var h=e.getImageData(0,0,1,1);if(null===h)return!1;e.putImageData(h,1,0);e=e.getImageData(1,0,1,1);h=e.data[0]===h.data[0]&&e.data[1]===h.data[1]&&e.data[2]===h.data[2]&&e.data[3]===h.data[3];d.remove(this);return h}
var d=a(27919),b={supportInverseAlpha:!1,supportNewBlendModes:!1};"function"!==typeof importScripts&&void 0!==document&&(b.supportNewBlendModes=m(),b.supportInverseAlpha=g());r.exports=b},89357:(r,p,a)=>{function m(){var h=new ArrayBuffer(4),c=new Uint8Array(h);h=new Uint32Array(h);c[0]=161;c[1]=178;c[2]=195;c[3]=212;return 3569595041===h[0]?!0:2712847316===h[0]?!1:null}var g=a(25892),d=a(84148),b=a(27919),e={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,
pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};r.exports=function(){if("function"===typeof importScripts)return e;e.canvas=!!window.CanvasRenderingContext2D;try{e.localStorage=!!localStorage.getItem}catch(c){e.localStorage=!1}e.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob;e.fileSystem=!!window.requestFileSystem;var h=!1;e.webGL=function(){if(window.WebGLRenderingContext)try{var c=b.createWebGL(this),l=c.getContext("webgl")||c.getContext("experimental-webgl"),
f=b.create2D(this);h=f.getContext("2d",{willReadFrequently:!0}).createImageData(1,1).data instanceof Uint8ClampedArray;b.remove(c);b.remove(f);return!!l}catch(k){}return!1}();e.worker=!!window.Worker;e.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;window.URL=window.URL||window.webkitURL||
window.mozURL||window.msURL;e.getUserMedia=e.getUserMedia&&!!navigator.getUserMedia&&!!window.URL;d.firefox&&21>d.firefoxVersion&&(e.getUserMedia=!1);!g.iOS&&(d.ie||d.firefox||d.chrome)&&(e.canvasBitBltShift=!0);if(d.safari||d.mobileSafari)e.canvasBitBltShift=!1;navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate;navigator.vibrate&&(e.vibration=!0);"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint32Array&&
(e.littleEndian=m());e.support32bit="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof Int32Array&&null!==e.littleEndian&&h;return e}()},91639:r=>{var p={available:!1,cancel:"",keyboard:!1,request:""};r.exports=function(){if("function"===typeof importScripts)return p;var a,m="requestFullscreen requestFullScreen webkitRequestFullscreen webkitRequestFullScreen msRequestFullscreen msRequestFullScreen mozRequestFullScreen mozRequestFullscreen".split(" ");for(a=
0;a<m.length;a++)if(document.documentElement[m[a]]){p.available=!0;p.request=m[a];break}m="cancelFullScreen exitFullscreen webkitCancelFullScreen webkitExitFullscreen msCancelFullScreen msExitFullscreen mozCancelFullScreen mozExitFullscreen".split(" ");if(p.available)for(a=0;a<m.length;a++)if(document[m[a]]){p.cancel=m[a];break}window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(p.keyboard=!0);Object.defineProperty(p,"active",{get:function(){return!!(document.fullscreenElement||
document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}});return p}()},31784:(r,p,a)=>{p=a(84148);a={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};if("function"!==typeof importScripts){if("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&1<=navigator.maxTouchPoints)a.touch=!0;if(navigator.msPointerEnabled||navigator.pointerEnabled)a.mspointer=!0;navigator.getGamepads&&(a.gamepads=!0);"onwheel"in window||p.ie&&"WheelEvent"in window?a.wheelEvent=
"wheel":"onmousewheel"in window?a.wheelEvent="mousewheel":p.firefox&&"MouseScrollEvent"in window&&(a.wheelEvent="DOMMouseScroll")}r.exports=a},25892:r=>{var p={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};if("function"!==typeof importScripts){var a=navigator.userAgent;/Windows/.test(a)?p.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?
navigator.maxTouchPoints&&2<navigator.maxTouchPoints?(p.iOS=!0,p.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),p.iOSVersion=parseInt(RegExp.$1,10)):p.macOS=!0:/Android/.test(a)?p.android=!0:/Linux/.test(a)?p.linux=!0:/iP[ao]d|iPhone/i.test(a)?(p.iOS=!0,navigator.appVersion.match(/OS (\d+)/),p.iOSVersion=parseInt(RegExp.$1,10),p.iPhone=-1!==a.toLowerCase().indexOf("iphone"),p.iPad=-1!==a.toLowerCase().indexOf("ipad")):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?
p.kindle=!0:/CrOS/.test(a)&&(p.chromeOS=!0);if(/Windows Phone/i.test(a)||/IEMobile/i.test(a))p.android=!1,p.iOS=!1,p.macOS=!1,p.windows=!0,p.windowsPhone=!0;var m=/Silk/.test(a);if(p.windows||p.macOS||p.linux&&!m||p.chromeOS)p.desktop=!0;if(p.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))p.desktop=!1;navigator.standalone&&(p.webApp=!0);"function"!==typeof importScripts&&(void 0!==window.cordova&&(p.cordova=!0),void 0!==window.ejecta&&(p.ejecta=!0));"undefined"!==typeof ea&&ea.versions&&ea.versions.node&&
(p.node=!0);p.node&&"object"===typeof ea.versions&&(p.nodeWebkit=!!ea.versions["node-webkit"],p.electron=!!ea.versions.electron);/Crosswalk/.test(a)&&(p.crosswalk=!0);p.pixelRatio=window.devicePixelRatio||1}r.exports=p},43267:(r,p,a)=>{var m=a(95540),g={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};r.exports=function(){if("function"===typeof importScripts)return g;var d=document.createElement("video"),b=!!d.canPlayType,e=/^no$/;try{b&&(d.canPlayType('video/ogg; codecs\x3d"theora"').replace(e,
"")&&(g.ogg=!0),d.canPlayType('video/mp4; codecs\x3d"avc1.42E01E"').replace(e,"")&&(g.h264=!0,g.mp4=!0),d.canPlayType("video/x-m4v").replace(e,"")&&(g.m4v=!0),d.canPlayType('video/webm; codecs\x3d"vp8, vorbis"').replace(e,"")&&(g.webm=!0),d.canPlayType('video/webm; codecs\x3d"vp9"').replace(e,"")&&(g.vp9=!0),d.canPlayType('application/x-mpegURL; codecs\x3d"avc1.42E01E"').replace(e,"")&&(g.hls=!0))}catch(h){}d.parentNode&&d.parentNode.removeChild(d);g.getVideoURL=function(h){Array.isArray(h)||(h=[h]);
for(var c=0;c<h.length;c++){var l=m(h[c],"url",h[c]);if(0===l.indexOf("blob:"))return{url:l,type:""};var f=0===l.indexOf("data:")?l.split(",")[0].match(/\/(.*?);/):l.match(/\.([a-zA-Z0-9]+)($|\?)/);f=m(h[c],"type",f?f[1]:"").toLowerCase();if(g[f])return{url:l,type:f}}return null};return g}()},82264:(r,p,a)=>{r.exports={os:a(25892),browser:a(84148),features:a(89357),input:a(31784),audio:a(7098),video:a(43267),fullscreen:a(91639),canvasFeatures:a(89289)}},89422:(r,p,a)=>{p=a(83419);var m=new Float32Array(20),
g=new p({initialize:function(){this._matrix=new Float32Array(20);this.alpha=1;this._dirty=!0;this._data=new Float32Array(20);this.reset()},set:function(d){this._matrix.set(d);this._dirty=!0;return this},reset:function(){var d=this._matrix;d.fill(0);d[0]=1;d[6]=1;d[12]=1;this.alpha=d[18]=1;this._dirty=!0;return this},getData:function(){var d=this._data;this._dirty&&(d.set(this._matrix),d[4]/=255,d[9]/=255,d[14]/=255,d[19]/=255,this._dirty=!1);return d},brightness:function(d,b){void 0===d&&(d=0);void 0===
b&&(b=!1);return this.multiply([d,0,0,0,0,0,d,0,0,0,0,0,d,0,0,0,0,0,1,0],b)},saturate:function(d,b){void 0===d&&(d=0);void 0===b&&(b=!1);d=2*d/3+1;var e=-.5*(d-1);return this.multiply([d,e,e,0,0,e,d,e,0,0,e,e,d,0,0,0,0,0,1,0],b)},desaturate:function(d){void 0===d&&(d=!1);return this.saturate(-1,d)},hue:function(d,b){void 0===d&&(d=0);void 0===b&&(b=!1);d=d/180*Math.PI;var e=Math.cos(d);d=Math.sin(d);return this.multiply([.213+.787*e+-.213*d,.715+-.715*e+-.715*d,.072+-.072*e+.928*d,0,0,.213+-.213*
e+.143*d,.715+e*(1-.715)+.14*d,.072+-.072*e+-.283*d,0,0,.213+-.213*e+-.787*d,.715+-.715*e+.715*d,.072+.928*e+.072*d,0,0,0,0,0,1,0],b)},grayscale:function(d,b){void 0===d&&(d=1);void 0===b&&(b=!1);return this.saturate(-d,b)},blackWhite:function(d){void 0===d&&(d=!1);return this.multiply(g.BLACK_WHITE,d)},contrast:function(d,b){void 0===d&&(d=0);void 0===b&&(b=!1);d+=1;var e=-.5*(d-1);return this.multiply([d,0,0,0,e,0,d,0,0,e,0,0,d,0,e,0,0,0,1,0],b)},negative:function(d){void 0===d&&(d=!1);return this.multiply(g.NEGATIVE,
d)},desaturateLuminance:function(d){void 0===d&&(d=!1);return this.multiply(g.DESATURATE_LUMINANCE,d)},sepia:function(d){void 0===d&&(d=!1);return this.multiply(g.SEPIA,d)},night:function(d,b){void 0===d&&(d=.1);void 0===b&&(b=!1);return this.multiply([-2*d,-d,0,0,0,-d,0,d,0,0,0,d,2*d,0,0,0,0,0,1,0],b)},lsd:function(d){void 0===d&&(d=!1);return this.multiply(g.LSD,d)},brown:function(d){void 0===d&&(d=!1);return this.multiply(g.BROWN,d)},vintagePinhole:function(d){void 0===d&&(d=!1);return this.multiply(g.VINTAGE,
d)},kodachrome:function(d){void 0===d&&(d=!1);return this.multiply(g.KODACHROME,d)},technicolor:function(d){void 0===d&&(d=!1);return this.multiply(g.TECHNICOLOR,d)},polaroid:function(d){void 0===d&&(d=!1);return this.multiply(g.POLAROID,d)},shiftToBGR:function(d){void 0===d&&(d=!1);return this.multiply(g.SHIFT_BGR,d)},multiply:function(d,b){void 0===b&&(b=!1);b||this.reset();b=this._matrix;m.set(b);b.set([m[0]*d[0]+m[1]*d[5]+m[2]*d[10]+m[3]*d[15],m[0]*d[1]+m[1]*d[6]+m[2]*d[11]+m[3]*d[16],m[0]*d[2]+
m[1]*d[7]+m[2]*d[12]+m[3]*d[17],m[0]*d[3]+m[1]*d[8]+m[2]*d[13]+m[3]*d[18],m[0]*d[4]+m[1]*d[9]+m[2]*d[14]+m[3]*d[19]+m[4],m[5]*d[0]+m[6]*d[5]+m[7]*d[10]+m[8]*d[15],m[5]*d[1]+m[6]*d[6]+m[7]*d[11]+m[8]*d[16],m[5]*d[2]+m[6]*d[7]+m[7]*d[12]+m[8]*d[17],m[5]*d[3]+m[6]*d[8]+m[7]*d[13]+m[8]*d[18],m[5]*d[4]+m[6]*d[9]+m[7]*d[14]+m[8]*d[19]+m[9],m[10]*d[0]+m[11]*d[5]+m[12]*d[10]+m[13]*d[15],m[10]*d[1]+m[11]*d[6]+m[12]*d[11]+m[13]*d[16],m[10]*d[2]+m[11]*d[7]+m[12]*d[12]+m[13]*d[17],m[10]*d[3]+m[11]*d[8]+m[12]*
d[13]+m[13]*d[18],m[10]*d[4]+m[11]*d[9]+m[12]*d[14]+m[13]*d[19]+m[14],m[15]*d[0]+m[16]*d[5]+m[17]*d[10]+m[18]*d[15],m[15]*d[1]+m[16]*d[6]+m[17]*d[11]+m[18]*d[16],m[15]*d[2]+m[16]*d[7]+m[17]*d[12]+m[18]*d[17],m[15]*d[3]+m[16]*d[8]+m[17]*d[13]+m[18]*d[18],m[15]*d[4]+m[16]*d[9]+m[17]*d[14]+m[18]*d[19]+m[19]]);this._dirty=!0;return this}});g.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];g.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];g.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,
0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0];g.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];g.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];g.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,
0];g.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];g.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,
0,0,0,1,0];g.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];g.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];g.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];r.exports=g},51767:(r,p,a)=>{p=a(83419);var m=a(29747);a=new p({initialize:function(g,d,
b){this._rgb=[0,0,0];this.onChangeCallback=m;this.dirty=!1;this.set(g,d,b)},set:function(g,d,b){void 0===g&&(g=0);void 0===d&&(d=0);void 0===b&&(b=0);this._rgb=[g,d,b];this.onChange();return this},equals:function(g,d,b){var e=this._rgb;return e[0]===g&&e[1]===d&&e[2]===b},onChange:function(){this.dirty=!0;var g=this._rgb;this.onChangeCallback.call(this,g[0],g[1],g[2])},r:{get:function(){return this._rgb[0]},set:function(g){this._rgb[0]=g;this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(g){this._rgb[1]=
g;this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(g){this._rgb[2]=g;this.onChange()}},destroy:function(){this.onChangeCallback=null}});r.exports=a},60461:r=>{r.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(r,p,a)=>{var m=a(62235),g=a(35893),d=a(86327),b=a(88417);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,g(h)+
c);d(e,m(h)+l);return e}},46768:(r,p,a)=>{var m=a(62235),g=a(26541),d=a(86327),b=a(385);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,g(h)-c);d(e,m(h)+l);return e}},35827:(r,p,a)=>{var m=a(62235),g=a(54380),d=a(86327),b=a(40136);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,g(h)+c);d(e,m(h)+l);return e}},46871:(r,p,a)=>{var m=a(66786),g=a(35893),d=a(7702);r.exports=function(b,e,h,c){void 0===h&&(h=0);void 0===c&&(c=0);m(b,g(e)+h,d(e)+c);return b}},5198:(r,
p,a)=>{var m=a(7702),g=a(26541),d=a(20786),b=a(385);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,g(h)-c);d(e,m(h)+l);return e}},11879:(r,p,a)=>{p=a(60461);var m=[];m[p.BOTTOM_CENTER]=a(54312);m[p.BOTTOM_LEFT]=a(46768);m[p.BOTTOM_RIGHT]=a(35827);m[p.CENTER]=a(46871);m[p.LEFT_CENTER]=a(5198);m[p.RIGHT_CENTER]=a(80503);m[p.TOP_CENTER]=a(89698);m[p.TOP_LEFT]=a(922);m[p.TOP_RIGHT]=a(21373);m[p.LEFT_BOTTOM]=m[p.BOTTOM_LEFT];m[p.LEFT_TOP]=m[p.TOP_LEFT];m[p.RIGHT_BOTTOM]=m[p.BOTTOM_RIGHT];
m[p.RIGHT_TOP]=m[p.TOP_RIGHT];r.exports=function(g,d,b,e,h){return m[b](g,d,e,h)}},80503:(r,p,a)=>{var m=a(7702),g=a(54380),d=a(20786),b=a(40136);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,g(h)+c);d(e,m(h)+l);return e}},89698:(r,p,a)=>{var m=a(35893),g=a(17717),d=a(88417),b=a(66737);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);d(e,m(h)+c);b(e,g(h)-l);return e}},922:(r,p,a)=>{var m=a(26541),g=a(17717),d=a(385),b=a(66737);r.exports=function(e,h,c,l){void 0===
c&&(c=0);void 0===l&&(l=0);d(e,m(h)-c);b(e,g(h)-l);return e}},21373:(r,p,a)=>{var m=a(54380),g=a(17717),d=a(40136),b=a(66737);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);d(e,m(h)+c);b(e,g(h)-l);return e}},91660:(r,p,a)=>{r.exports={BottomCenter:a(54312),BottomLeft:a(46768),BottomRight:a(35827),Center:a(46871),LeftCenter:a(5198),QuickSet:a(11879),RightCenter:a(80503),TopCenter:a(89698),TopLeft:a(922),TopRight:a(21373)}},71926:(r,p,a)=>{p=a(60461);var m=a(79291);a={In:a(91660),To:a(16694)};
a=m(!1,a,p);r.exports=a},21578:(r,p,a)=>{var m=a(62235),g=a(35893),d=a(88417),b=a(66737);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);d(e,g(h)+c);b(e,m(h)+l);return e}},10210:(r,p,a)=>{var m=a(62235),g=a(26541),d=a(385),b=a(66737);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);d(e,g(h)-c);b(e,m(h)+l);return e}},82341:(r,p,a)=>{var m=a(62235),g=a(54380),d=a(40136),b=a(66737);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);d(e,g(h)+c);b(e,m(h)+l);
return e}},87958:(r,p,a)=>{var m=a(62235),g=a(26541),d=a(86327),b=a(40136);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,g(h)-c);d(e,m(h)+l);return e}},40080:(r,p,a)=>{var m=a(7702),g=a(26541),d=a(20786),b=a(40136);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,g(h)-c);d(e,m(h)+l);return e}},88466:(r,p,a)=>{var m=a(26541),g=a(17717),d=a(40136),b=a(66737);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);d(e,m(h)-c);b(e,g(h)-l);return e}},38829:(r,
p,a)=>{p=a(60461);var m=[];m[p.BOTTOM_CENTER]=a(21578);m[p.BOTTOM_LEFT]=a(10210);m[p.BOTTOM_RIGHT]=a(82341);m[p.LEFT_BOTTOM]=a(87958);m[p.LEFT_CENTER]=a(40080);m[p.LEFT_TOP]=a(88466);m[p.RIGHT_BOTTOM]=a(19211);m[p.RIGHT_CENTER]=a(34609);m[p.RIGHT_TOP]=a(48741);m[p.TOP_CENTER]=a(49440);m[p.TOP_LEFT]=a(81288);m[p.TOP_RIGHT]=a(61323);r.exports=function(g,d,b,e,h){return m[b](g,d,e,h)}},19211:(r,p,a)=>{var m=a(62235),g=a(54380),d=a(86327),b=a(385);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===
l&&(l=0);b(e,g(h)+c);d(e,m(h)+l);return e}},34609:(r,p,a)=>{var m=a(7702),g=a(54380),d=a(20786),b=a(385);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,g(h)+c);d(e,m(h)+l);return e}},48741:(r,p,a)=>{var m=a(54380),g=a(17717),d=a(385),b=a(66737);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);d(e,m(h)+c);b(e,g(h)-l);return e}},49440:(r,p,a)=>{var m=a(35893),g=a(17717),d=a(86327),b=a(88417);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,m(h)+
c);d(e,g(h)-l);return e}},81288:(r,p,a)=>{var m=a(26541),g=a(17717),d=a(86327),b=a(385);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,m(h)-c);d(e,g(h)-l);return e}},61323:(r,p,a)=>{var m=a(54380),g=a(17717),d=a(86327),b=a(40136);r.exports=function(e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=0);b(e,m(h)+c);d(e,g(h)-l);return e}},16694:(r,p,a)=>{r.exports={BottomCenter:a(21578),BottomLeft:a(10210),BottomRight:a(82341),LeftBottom:a(87958),LeftCenter:a(40080),LeftTop:a(88466),QuickSet:a(38829),
RightBottom:a(19211),RightCenter:a(34609),RightTop:a(48741),TopCenter:a(49440),TopLeft:a(81288),TopRight:a(61323)}},66786:(r,p,a)=>{var m=a(88417),g=a(20786);r.exports=function(d,b,e){m(d,b);return g(d,e)}},62235:r=>{r.exports=function(p){return p.y+p.height-p.height*p.originY}},72873:(r,p,a)=>{var m=a(62235),g=a(26541),d=a(54380),b=a(17717),e=a(87841);r.exports=function(h,c){void 0===c&&(c=new e);var l=g(h),f=b(h);c.x=l;c.y=f;c.width=d(h)-l;c.height=m(h)-f;return c}},35893:r=>{r.exports=function(p){return p.x-
p.width*p.originX+.5*p.width}},7702:r=>{r.exports=function(p){return p.y-p.height*p.originY+.5*p.height}},26541:r=>{r.exports=function(p){return p.x-p.width*p.originX}},87431:r=>{r.exports=function(p){return p.width*p.originX}},46928:r=>{r.exports=function(p){return p.height*p.originY}},54380:r=>{r.exports=function(p){return p.x+p.width-p.width*p.originX}},17717:r=>{r.exports=function(p){return p.y-p.height*p.originY}},86327:r=>{r.exports=function(p,a){p.y=a-p.height+p.height*p.originY;return p}},
88417:r=>{r.exports=function(p,a){p.x=a+p.width*p.originX-.5*p.width;return p}},20786:r=>{r.exports=function(p,a){p.y=a+p.height*p.originY-.5*p.height;return p}},385:r=>{r.exports=function(p,a){p.x=a+p.width*p.originX;return p}},40136:r=>{r.exports=function(p,a){p.x=a-p.width+p.width*p.originX;return p}},66737:r=>{r.exports=function(p,a){p.y=a+p.height*p.originY;return p}},58724:(r,p,a)=>{r.exports={CenterOn:a(66786),GetBottom:a(62235),GetBounds:a(72873),GetCenterX:a(35893),GetCenterY:a(7702),GetLeft:a(26541),
GetOffsetX:a(87431),GetOffsetY:a(46928),GetRight:a(54380),GetTop:a(17717),SetBottom:a(86327),SetCenterX:a(88417),SetCenterY:a(20786),SetLeft:a(385),SetRight:a(40136),SetTop:a(66737)}},20623:r=>{r.exports={setCrisp:function(p){"optimizeSpeed -moz-crisp-edges -o-crisp-edges -webkit-optimize-contrast optimize-contrast crisp-edges pixelated".split(" ").forEach(function(a){p.style["image-rendering"]=a});p.style.msInterpolationMode="nearest-neighbor";return p},setBicubic:function(p){p.style["image-rendering"]=
"auto";p.style.msInterpolationMode="bicubic";return p}}},27919:(r,p,a)=>{var m=a(8054),g=a(68703),d=[],b=!1;r.exports=function(){var e=function(l,f,k,n,q){void 0===f&&(f=1);void 0===k&&(k=1);void 0===n&&(n=m.CANVAS);void 0===q&&(q=!1);var t=h(n);null===t?(t={parent:l,canvas:document.createElement("canvas"),type:n},n===m.CANVAS&&d.push(t)):t.parent=l;l=t.canvas;q&&(t.parent=l);l.width=f;l.height=k;b&&n===m.CANVAS&&g.disable(l.getContext("2d",{willReadFrequently:!1}));return l},h=function(l){void 0===
l&&(l=m.CANVAS);if(l===m.WEBGL)return null;for(var f=0;f<d.length;f++){var k=d[f];if(!k.parent&&k.type===l)return k}return null},c=function(){var l=0;d.forEach(function(f){f.parent&&l++});return l};return{create2D:function(l,f,k){return e(l,f,k,m.CANVAS)},create:e,createWebGL:function(l,f,k){return e(l,f,k,m.WEBGL)},disableSmoothing:function(){b=!0},enableSmoothing:function(){b=!1},first:h,free:function(){return d.length-c()},pool:d,remove:function(l){var f=l instanceof HTMLCanvasElement;d.forEach(function(k){if(f&&
k.canvas===l||!f&&k.parent===l)k.parent=null,k.canvas.width=1,k.canvas.height=1})},total:c}}()},68703:r=>{var p="";r.exports=function(){var a=function(m){for(var g=["i","webkitI","msI","mozI","oI"],d=0;d<g.length;d++){var b=g[d]+"mageSmoothingEnabled";if(b in m)return b}return null};return{disable:function(m){""===p&&(p=a(m));p&&(m[p]=!1);return m},enable:function(m){""===p&&(p=a(m));p&&(m[p]=!0);return m},getPrefix:a,isEnabled:function(m){return null!==p?m[p]:null}}}()},65208:r=>{r.exports=function(p,
a){void 0===a&&(a="none");p.style.msTouchAction=a;p.style["ms-touch-action"]=a;p.style["touch-action"]=a;return p}},91610:r=>{r.exports=function(p,a){void 0===a&&(a="none");["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(m){p.style[m+"user-select"]=a});p.style["-webkit-touch-callout"]=a;p.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)";return p}},26253:(r,p,a)=>{r.exports={CanvasInterpolation:a(20623),CanvasPool:a(27919),Smoothing:a(68703),TouchAction:a(65208),UserSelect:a(91610)}},
40987:(r,p,a)=>{p=a(83419);var m=a(37589),g=a(1E3),d=a(7537),b=a(87837),e=new p({initialize:function(h,c,l,f){void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=255);this.b=this.g=this.r=0;this.a=255;this._v=this._s=this._h=0;this._locked=!1;this.gl=[0,0,0,1];this._color32=this._color=0;this._rgba="";this.setTo(h,c,l,f)},transparent:function(){this._locked=!0;this.alpha=this.blue=this.green=this.red=0;this._locked=!1;return this.update(!0)},setTo:function(h,c,l,f,k){void 0===f&&
(f=255);void 0===k&&(k=!0);this._locked=!0;this.red=h;this.green=c;this.blue=l;this.alpha=f;this._locked=!1;return this.update(k)},setGLTo:function(h,c,l,f){void 0===f&&(f=1);this.redGL=h;this.greenGL=c;this.blueGL=l;this.alphaGL=f;this._locked=!1;return this.update(!0)},setFromRGB:function(h){this._locked=!0;this.red=h.r;this.green=h.g;this.blue=h.b;h.hasOwnProperty("a")&&(this.alpha=h.a);this._locked=!1;return this.update(!0)},setFromHSV:function(h,c,l){return d(h,c,l,this)},update:function(h){void 0===
h&&(h=!1);if(this._locked)return this;var c=this.r,l=this.g,f=this.b,k=this.a;this._color=m(c,l,f);this._color32=g(c,l,f,k);this._rgba="rgba("+c+","+l+","+f+","+k/255+")";h&&b(c,l,f,this);return this},updateHSV:function(){b(this.r,this.g,this.b,this);return this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(h){return this.setTo(h,h,h)},random:function(h,c){void 0===h&&(h=0);void 0===c&&(c=255);return this.setTo(Math.floor(h+Math.random()*(c-h)),Math.floor(h+Math.random()*
(c-h)),Math.floor(h+Math.random()*(c-h)))},randomGray:function(h,c){void 0===h&&(h=0);void 0===c&&(c=255);h=Math.floor(h+Math.random()*(c-h));return this.setTo(h,h,h)},saturate:function(h){this.s+=h/100;return this},desaturate:function(h){this.s-=h/100;return this},lighten:function(h){this.v+=h/100;return this},darken:function(h){this.v-=h/100;return this},brighten:function(h){var c=this.r,l=this.g,f=this.b;c=Math.max(0,Math.min(255,c-Math.round(255*-(h/100))));l=Math.max(0,Math.min(255,l-Math.round(255*
-(h/100))));f=Math.max(0,Math.min(255,f-Math.round(255*-(h/100))));return this.setTo(c,l,f)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(h){this.gl[0]=Math.min(Math.abs(h),1);this.r=Math.floor(255*this.gl[0]);this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(h){this.gl[1]=Math.min(Math.abs(h),1);this.g=Math.floor(255*this.gl[1]);this.update(!0)}},
blueGL:{get:function(){return this.gl[2]},set:function(h){this.gl[2]=Math.min(Math.abs(h),1);this.b=Math.floor(255*this.gl[2]);this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(h){this.gl[3]=Math.min(Math.abs(h),1);this.a=Math.floor(255*this.gl[3]);this.update()}},red:{get:function(){return this.r},set:function(h){h=Math.floor(Math.abs(h));this.r=Math.min(h,255);this.gl[0]=h/255;this.update(!0)}},green:{get:function(){return this.g},set:function(h){h=Math.floor(Math.abs(h));
this.g=Math.min(h,255);this.gl[1]=h/255;this.update(!0)}},blue:{get:function(){return this.b},set:function(h){h=Math.floor(Math.abs(h));this.b=Math.min(h,255);this.gl[2]=h/255;this.update(!0)}},alpha:{get:function(){return this.a},set:function(h){h=Math.floor(Math.abs(h));this.a=Math.min(h,255);this.gl[3]=h/255;this.update()}},h:{get:function(){return this._h},set:function(h){this._h=h;d(h,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(h){this._s=h;d(this._h,h,this._v,this)}},
v:{get:function(){return this._v},set:function(h){this._v=h;d(this._h,this._s,h,this)}}});r.exports=e},92728:(r,p,a)=>{var m=a(37589);r.exports=function(g){void 0===g&&(g=1024);var d=[],b,e=255,h,c=0;for(b=0;255>=b;b++)d.push({r:e,g:b,b:c,color:m(e,b,c)});for(b=h=255;0<=b;b--)d.push({r:b,g:h,b:c,color:m(b,h,c)});for(b=e=0;255>=b;b++,h--)d.push({r:e,g:h,b,color:m(e,h,b)});h=0;c=255;for(b=0;255>=b;b++,c--,e++)d.push({r:e,g:h,b:c,color:m(e,h,c)});if(1024===g)return d;e=[];h=0;c=1024/g;for(b=0;b<g;b++)e.push(d[Math.floor(h)]),
h+=c;return e}},91588:r=>{r.exports=function(p){var a={r:p>>16&255,g:p>>8&255,b:p&255,a:255};16777215<p&&(a.a=p>>>24);return a}},62957:r=>{r.exports=function(p){p=p.toString(16);return 1===p.length?"0"+p:p}},37589:r=>{r.exports=function(p,a,m){return p<<16|a<<8|m}},1E3:r=>{r.exports=function(p,a,m,g){return g<<24|p<<16|a<<8|m}},62183:(r,p,a)=>{var m=a(40987),g=a(89528);r.exports=function(d,b,e){var h=e,c=e,l=e;0!==b&&(b=.5>e?e*(1+b):e+b-e*b,e=2*e-b,h=g(e,b,d+1/3),c=g(e,b,d),l=g(e,b,d-1/3));return(new m).setGLTo(h,
c,l,1)}},27939:(r,p,a)=>{var m=a(7537);r.exports=function(g,d){void 0===g&&(g=1);void 0===d&&(d=1);for(var b=[],e=0;359>=e;e++)b.push(m(e/359,g,d));return b}},7537:(r,p,a)=>{function m(d,b,e,h){d=(d+6*b)%6;return Math.round(255*(h-h*e*Math.max(0,Math.min(d,4-d,1))))}var g=a(37589);r.exports=function(d,b,e,h){void 0===b&&(b=1);void 0===e&&(e=1);var c=m(5,d,b,e),l=m(3,d,b,e);d=m(1,d,b,e);if(h){if(h.setTo)return h.setTo(c,l,d,h.alpha,!0);h.r=c;h.g=l;h.b=d;h.color=g(c,l,d);return h}return{r:c,g:l,b:d,
color:g(c,l,d)}}},70238:(r,p,a)=>{var m=a(40987);r.exports=function(g){var d=new m;g=g.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(h,c,l,f){return c+c+l+l+f+f});var b=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);if(b){g=parseInt(b[1],16);var e=parseInt(b[2],16);b=parseInt(b[3],16);d.setTo(g,e,b)}return d}},89528:r=>{r.exports=function(p,a,m){0>m&&(m+=1);1<m&&--m;return m<1/6?p+6*(a-p)*m:.5>m?a:m<2/3?p+(a-p)*(2/3-m)*6:p}},30100:(r,p,a)=>{var m=a(40987),g=a(90664);r.exports=
function(d){d=g(d);return new m(d.r,d.g,d.b,d.a)}},90664:r=>{r.exports=function(p){return 16777215<p?{a:p>>>24,r:p>>16&255,g:p>>8&255,b:p&255}:{a:255,r:p>>16&255,g:p>>8&255,b:p&255}}},13699:(r,p,a)=>{var m=a(28915),g=function(d,b,e,h,c,l,f,k){void 0===f&&(f=100);void 0===k&&(k=0);f=k/f;return{r:m(d,h,f),g:m(b,c,f),b:m(e,l,f)}};r.exports={RGBWithRGB:g,ColorWithRGB:function(d,b,e,h,c,l){void 0===c&&(c=100);void 0===l&&(l=0);return g(d.r,d.g,d.b,b,e,h,c,l)},ColorWithColor:function(d,b,e,h){void 0===
e&&(e=100);void 0===h&&(h=0);return g(d.r,d.g,d.b,b.r,b.g,b.b,e,h)}}},68957:(r,p,a)=>{var m=a(40987);r.exports=function(g){return new m(g.r,g.g,g.b,g.a)}},87388:(r,p,a)=>{var m=a(40987);r.exports=function(g){var d=new m,b=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(g.toLowerCase());if(b){g=parseInt(b[1],10);var e=parseInt(b[2],10),h=parseInt(b[3],10);b=void 0!==b[4]?parseFloat(b[4]):1;d.setTo(g,e,h,255*b)}return d}},87837:r=>{r.exports=function(p,a,m,g){void 0===
g&&(g={h:0,s:0,v:0});p/=255;a/=255;m/=255;var d=Math.min(p,a,m),b=Math.max(p,a,m),e=b-d,h=0,c=0===b?0:e/b;b!==d&&(b===p?h=(a-m)/e+(a<m?6:0):b===a?h=(m-p)/e+2:b===m&&(h=(p-a)/e+4),h/=6);g.hasOwnProperty("_h")?(g._h=h,g._s=c,g._v=b):(g.h=h,g.s=c,g.v=b);return g}},75723:(r,p,a)=>{var m=a(62957);r.exports=function(g,d,b,e,h){void 0===e&&(e=255);void 0===h&&(h="#");return"#"===h?"#"+(16777216+(g<<16)+(d<<8)+b).toString(16).slice(1,7):"0x"+m(e)+m(g)+m(d)+m(b)}},85386:(r,p,a)=>{var m=a(30976),g=a(40987);
r.exports=function(d,b){void 0===d&&(d=0);void 0===b&&(b=255);return new g(m(d,b),m(d,b),m(d,b))}},80333:(r,p,a)=>{var m=a(70238),g=a(30100),d=a(68957),b=a(87388);r.exports=function(e){switch(typeof e){case "string":return"rgb"===e.substr(0,3).toLowerCase()?b(e):m(e);case "number":return g(e);case "object":return d(e)}}},3956:(r,p,a)=>{p=a(40987);p.ColorSpectrum=a(92728);p.ColorToRGBA=a(91588);p.ComponentToHex=a(62957);p.GetColor=a(37589);p.GetColor32=a(1E3);p.HexStringToColor=a(70238);p.HSLToColor=
a(62183);p.HSVColorWheel=a(27939);p.HSVToRGB=a(7537);p.HueToComponent=a(89528);p.IntegerToColor=a(30100);p.IntegerToRGB=a(90664);p.Interpolate=a(13699);p.ObjectToColor=a(68957);p.RandomRGB=a(85386);p.RGBStringToColor=a(87388);p.RGBToHSV=a(87837);p.RGBToString=a(75723);p.ValueToColor=a(80333);r.exports=p},27460:(r,p,a)=>{r.exports={Align:a(71926),BaseShader:a(73894),Bounds:a(58724),Canvas:a(26253),Color:a(3956),ColorMatrix:a(89422),Masks:a(69781),RGB:a(51767)}},6858:(r,p,a)=>{p=a(83419);a=a(39429);
var m=new p({initialize:function(g,d,b,e,h,c){d||(d=g.sys.make.image({x:b,y:e,key:h,frame:c,add:!1}));this.bitmapMask=d;this.isStencil=this.invertAlpha=!1},setBitmap:function(g){this.bitmapMask=g},preRenderWebGL:function(g,d,b){g.pipelines.BITMAPMASK_PIPELINE.beginMask(this,d,b)},postRenderWebGL:function(g,d,b){g.pipelines.BITMAPMASK_PIPELINE.endMask(this,d,b)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});a.register("bitmapMask",function(g,
d,b,e,h){return new m(this.scene,g,d,b,e,h)});r.exports=m},80661:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g){this.geometryMask=g;this.invertAlpha=!1;this.isStencil=!0;this.level=0},setShape:function(m){this.geometryMask=m;return this},setInvertAlpha:function(m){void 0===m&&(m=!0);this.invertAlpha=m;return this},preRenderWebGL:function(m,g,d){g=m.gl;m.flush();0===m.maskStack.length&&(g.enable(g.STENCIL_TEST),g.clear(g.STENCIL_BUFFER_BIT),m.maskCount=0);m.currentCameraMask.mask!==this&&(m.currentMask.mask=
this);m.maskStack.push({mask:this,camera:d});this.applyStencil(m,d,!0);m.maskCount++},applyStencil:function(m,g,d){var b=m.gl,e=this.geometryMask,h=m.maskCount;b.colorMask(!1,!1,!1,!1);d?(b.stencilFunc(b.EQUAL,h,255),b.stencilOp(b.KEEP,b.KEEP,b.INCR),h++):(b.stencilFunc(b.EQUAL,h+1,255),b.stencilOp(b.KEEP,b.KEEP,b.DECR));this.level=h;e.renderWebGL(m,e,g);m.flush();b.colorMask(!0,!0,!0,!0);b.stencilOp(b.KEEP,b.KEEP,b.KEEP);this.invertAlpha?b.stencilFunc(b.NOTEQUAL,h,255):b.stencilFunc(b.EQUAL,h,255)},
postRenderWebGL:function(m){var g=m.gl;m.maskStack.pop();m.maskCount--;m.flush();var d=m.currentMask;0===m.maskStack.length?(d.mask=null,g.disable(g.STENCIL_TEST)):(g=m.maskStack[m.maskStack.length-1],g.mask.applyStencil(m,g.camera,!1),m.currentCameraMask.mask!==g.mask?(d.mask=g.mask,d.camera=g.camera):d.mask=null)},preRenderCanvas:function(m,g,d){g=this.geometryMask;m.currentContext.save();g.renderCanvas(m,g,d,null,null,!0);m.currentContext.clip()},postRenderCanvas:function(m){m.currentContext.restore()},
destroy:function(){this.geometryMask=null}});r.exports=p},69781:(r,p,a)=>{r.exports={BitmapMask:a(6858),GeometryMask:a(80661)}},73894:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g,d,b){g&&""!==g||(g="precision mediump float;\nuniform vec2 resolution;\nvarying vec2 fragCoord;\nvoid main () {\n    vec2 uv \x3d fragCoord / resolution.xy;\n    gl_FragColor \x3d vec4(uv.xyx, 1.0);\n}");d&&""!==d||(d="precision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nvarying vec2 fragCoord;\nvarying vec2 outTexCoord;\nvoid main () {\n   gl_Position \x3d uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);\n   fragCoord \x3d vec2(inPosition.x, uResolution.y - inPosition.y);\n   outTexCoord \x3d vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);\n}");
void 0===b&&(b=null);this.key=m;this.fragmentSrc=g;this.vertexSrc=d;this.uniforms=b}});r.exports=p},40366:r=>{r.exports=function(p,a){var m;if(a)"string"===typeof a?m=document.getElementById(a):"object"===typeof a&&1===a.nodeType&&(m=a);else if(p.parentElement||null===a)return p;m||(m=document.body);m.appendChild(p);return p}},83719:(r,p,a)=>{var m=a(40366);r.exports=function(g){var d=g.config;if(d.parent&&d.domCreateContainer){var b=document.createElement("div");b.style.cssText=["display: block;",
"width: "+g.scale.width+"px;","height: "+g.scale.height+"px;","padding: 0; margin: 0; position: absolute; overflow: hidden;","pointer-events: "+d.domPointerEvents+";","transform: scale(1); transform-origin: left top;"].join(" ");g.domContainer=b;m(b,d.parent)}}},57264:(r,p,a)=>{var m=a(25892);r.exports=function(g){if("complete"===document.readyState||"interactive"===document.readyState)g();else{var d=function(){document.removeEventListener("deviceready",d,!0);document.removeEventListener("DOMContentLoaded",
d,!0);window.removeEventListener("load",d,!0);g()};document.body?m.cordova?document.addEventListener("deviceready",d,!1):(document.addEventListener("DOMContentLoaded",d,!0),window.addEventListener("load",d,!0)):window.setTimeout(d,20)}}},57811:r=>{r.exports=function(p){if(!p)return window.innerHeight;var a=Math.abs(window.orientation),m=document.createElement("div");m.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0");document.documentElement.appendChild(m);p=90===a?m.offsetHeight:
window.innerWidth;a=90===a?window.innerWidth:m.offsetHeight;document.documentElement.removeChild(m);return 90!==Math.abs(window.orientation)?a:p}},45818:(r,p,a)=>{var m=a(13560);r.exports=function(g,d){var b=window.screen;if((b=b?b.orientation||b.mozOrientation||b.msOrientation:!1)&&"string"===typeof b.type)return b.type;if("string"===typeof b)return b;if("number"===typeof window.orientation)return 0===window.orientation||180===window.orientation?m.ORIENTATION.PORTRAIT:m.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return m.ORIENTATION.PORTRAIT;
if(window.matchMedia("(orientation: landscape)").matches)return m.ORIENTATION.LANDSCAPE}else return d>g?m.ORIENTATION.PORTRAIT:m.ORIENTATION.LANDSCAPE}},74403:r=>{r.exports=function(p){var a;""!==p&&("string"===typeof p?a=document.getElementById(p):p&&1===p.nodeType&&(a=p));a||(a=document.body);return a}},56836:r=>{r.exports=function(p){var a="";try{window.DOMParser?a=(new DOMParser).parseFromString(p,"text/xml"):(a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(p))}catch(m){a=null}return a&&a.documentElement&&
!a.getElementsByTagName("parsererror").length?a:null}},35846:r=>{r.exports=function(p){p.parentNode&&p.parentNode.removeChild(p)}},43092:(r,p,a)=>{p=a(83419);var m=a(29747);a=new p({initialize:function(){this.isRunning=!1;this.callback=m;this.isSetTimeOut=!1;this.timeOutID=null;this.delay=0;var g=this;this.step=function e(b){g.callback(b);g.isRunning&&(g.timeOutID=window.requestAnimationFrame(e))};this.stepTimeout=function e(){g.isRunning&&(g.timeOutID=window.setTimeout(e,g.delay));g.callback(window.performance.now())}},
start:function(g,d,b){this.isRunning||(this.callback=g,this.isSetTimeOut=d,this.delay=b,this.isRunning=!0,this.timeOutID=d?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1;this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop();this.callback=m}});r.exports=a},84902:(r,p,a)=>{p={AddToDOM:a(40366),DOMContentLoaded:a(57264),GetInnerHeight:a(57811),GetScreenOrientation:a(45818),
GetTarget:a(74403),ParseXML:a(56836),RemoveFromDOM:a(35846),RequestAnimationFrame:a(43092)};r.exports=p},47565:(r,p,a)=>{p=a(83419);var m=a(50792);a=a(37277);p=new p({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",p,"events");r.exports=p},93055:(r,p,a)=>{r.exports={EventEmitter:a(47565)}},20122:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,
b){void 0===b&&(b=1);m.call(this,g.BARREL,d);this.amount=b}});r.exports=a},32251:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h,c,l,f){void 0===e&&(e=1);void 0===h&&(h=1);void 0===c&&(c=1);void 0===l&&(l=1);void 0===f&&(f=4);m.call(this,g.BLOOM,d);this.steps=f;this.offsetX=e;this.offsetY=h;this.blurStrength=c;this.strength=l;this.glcolor=[1,1,1];void 0!==b&&null!==b&&(this.color=b)},color:{get:function(){var d=this.glcolor;return(255*d[0]<<16)+(255*d[1]<<
8)+(255*d[2]|0)},set:function(d){var b=this.glcolor;b[0]=(d>>16&255)/255;b[1]=(d>>8&255)/255;b[2]=(d&255)/255}}});r.exports=a},9047:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h,c,l,f){void 0===b&&(b=0);void 0===e&&(e=2);void 0===h&&(h=2);void 0===c&&(c=1);void 0===f&&(f=4);m.call(this,g.BLUR,d);this.quality=b;this.x=e;this.y=h;this.steps=f;this.strength=c;this.glcolor=[1,1,1];void 0!==l&&null!==l&&(this.color=l)},color:{get:function(){var d=this.glcolor;
return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var b=this.glcolor;b[0]=(d>>16&255)/255;b[1]=(d>>8&255)/255;b[2]=(d&255)/255}}});r.exports=a},27885:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h,c,l,f,k){void 0===b&&(b=.5);void 0===e&&(e=1);void 0===h&&(h=.2);void 0===c&&(c=!1);void 0===l&&(l=1);void 0===f&&(f=1);void 0===k&&(k=1);m.call(this,g.BOKEH,d);this.radius=b;this.amount=e;this.contrast=h;this.isTiltShift=c;this.strength=k;this.blurX=
l;this.blurY=f}});r.exports=a},12578:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h,c,l){void 0===b&&(b=8);void 0===c&&(c=1);void 0===l&&(l=.005);m.call(this,g.CIRCLE,d);this.scale=c;this.feather=l;this.thickness=b;this.glcolor=[1,.2,.7];this.glcolor2=[1,0,0,.4];void 0!==e&&null!==e&&(this.color=e);void 0!==h&&null!==h&&(this.backgroundColor=h)},color:{get:function(){var d=this.glcolor;return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var b=
this.glcolor;b[0]=(d>>16&255)/255;b[1]=(d>>8&255)/255;b[2]=(d&255)/255}},backgroundColor:{get:function(){var d=this.glcolor2;return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var b=this.glcolor2;b[0]=(d>>16&255)/255;b[1]=(d>>8&255)/255;b[2]=(d&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(d){this.glcolor2[3]=d}}});r.exports=a},15802:(r,p,a)=>{p=a(83419);var m=a(89422),g=a(14811);a=new p({Extends:m,initialize:function(d){m.call(this);this.type=g.COLOR_MATRIX;
this.gameObject=d;this.active=!0},destroy:function(){this._data=this._matrix=this.gameObject=null}});r.exports=a},72898:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g){this.type=m;this.gameObject=g;this.active=!0},setActive:function(m){this.active=m;return this},destroy:function(){this.gameObject=null;this.active=!1}});r.exports=p},44553:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h){void 0===b&&(b="__WHITE");void 0===e&&(e=.005);void 0===h&&(h=
.005);m.call(this,g.DISPLACEMENT,d);this.x=e;this.y=h;this.setTexture(b)},setTexture:function(d){if(d=this.gameObject.scene.sys.textures.getFrame(d))this.glTexture=d.glTexture;return this}});r.exports=a},68531:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h,c){void 0===e&&(e=4);void 0===h&&(h=0);void 0===c&&(c=!1);m.call(this,g.GLOW,d);this.outerStrength=e;this.innerStrength=h;this.knockout=c;this.glcolor=[1,1,1,1];void 0!==b&&(this.color=b)},color:{get:function(){var d=
this.glcolor;return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var b=this.glcolor;b[0]=(d>>16&255)/255;b[1]=(d>>8&255)/255;b[2]=(d&255)/255}}});r.exports=a},37102:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h,c,l,f,k,n){void 0===h&&(h=.2);void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=0);void 0===k&&(k=1);void 0===n&&(n=0);m.call(this,g.GRADIENT,d);this.alpha=h;this.size=n;this.fromX=c;this.fromY=l;this.toX=f;this.toY=k;this.glcolor1=
[255,0,0];this.glcolor2=[0,255,0];void 0!==b&&null!==b&&(this.color1=b);void 0!==e&&null!==e&&(this.color2=e)},color1:{get:function(){var d=this.glcolor1;return(d[0]<<16)+(d[1]<<8)+(d[2]|0)},set:function(d){var b=this.glcolor1;b[0]=d>>16&255;b[1]=d>>8&255;b[2]=d&255}},color2:{get:function(){var d=this.glcolor2;return(d[0]<<16)+(d[1]<<8)+(d[2]|0)},set:function(d){var b=this.glcolor2;b[0]=d>>16&255;b[1]=d>>8&255;b[2]=d&255}}});r.exports=a},86886:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,
initialize:function(d,b){void 0===b&&(b=1);m.call(this,g.PIXELATE,d);this.amount=b}});r.exports=a},92322:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h,c,l,f,k){void 0===b&&(b=0);void 0===e&&(e=0);void 0===h&&(h=.1);void 0===c&&(c=1);void 0===f&&(f=6);void 0===k&&(k=1);m.call(this,g.SHADOW,d);this.x=b;this.y=e;this.decay=h;this.power=c;this.glcolor=[0,0,0,1];this.samples=f;this.intensity=k;void 0!==l&&(this.color=l)},color:{get:function(){var d=this.glcolor;
return(255*d[0]<<16)+(255*d[1]<<8)+(255*d[2]|0)},set:function(d){var b=this.glcolor;b[0]=(d>>16&255)/255;b[1]=(d>>8&255)/255;b[2]=(d&255)/255}}});r.exports=a},39563:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h,c){void 0===b&&(b=.5);void 0===e&&(e=.5);void 0===h&&(h=3);void 0===c&&(c=!1);m.call(this,g.SHINE,d);this.speed=b;this.lineWidth=e;this.gradient=h;this.reveal=c}});r.exports=a},56448:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,
initialize:function(d,b,e,h,c){void 0===b&&(b=.5);void 0===e&&(e=.5);void 0===h&&(h=.5);void 0===c&&(c=.5);m.call(this,g.VIGNETTE,d);this.x=b;this.y=e;this.radius=h;this.strength=c}});r.exports=a},38433:(r,p,a)=>{p=a(83419);var m=a(72898),g=a(14811);a=new p({Extends:m,initialize:function(d,b,e,h,c){void 0===b&&(b=.1);void 0===e&&(e=0);void 0===h&&(h=0);void 0===c&&(c=!1);m.call(this,g.WIPE,d);this.progress=0;this.wipeWidth=b;this.direction=e;this.axis=h;this.reveal=c}});r.exports=a},14811:r=>{r.exports=
{GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(r,p,a)=>{p=a(79291);var m=a(14811);a={Barrel:a(20122),Controller:a(72898),Bloom:a(32251),Blur:a(9047),Bokeh:a(27885),Circle:a(12578),ColorMatrix:a(15802),Displacement:a(44553),Glow:a(68531),Gradient:a(37102),Pixelate:a(86886),Shadow:a(92322),Shine:a(39563),Vignette:a(56448),Wipe:a(38433)};a=p(!1,a,m);r.exports=a},25305:(r,p,a)=>{var m=a(10312),g=
a(23568);r.exports=function(d,b,e){b.x=g(e,"x",0);b.y=g(e,"y",0);b.depth=g(e,"depth",0);b.flipX=g(e,"flipX",!1);b.flipY=g(e,"flipY",!1);var h=g(e,"scale",null);"number"===typeof h?b.setScale(h):null!==h&&(b.scaleX=g(h,"x",1),b.scaleY=g(h,"y",1));h=g(e,"scrollFactor",null);"number"===typeof h?b.setScrollFactor(h):null!==h&&(b.scrollFactorX=g(h,"x",1),b.scrollFactorY=g(h,"y",1));b.rotation=g(e,"rotation",0);h=g(e,"angle",null);null!==h&&(b.angle=h);b.alpha=g(e,"alpha",1);var c=g(e,"origin",null);"number"===
typeof c?b.setOrigin(c):null!==c&&(h=g(c,"x",.5),c=g(c,"y",.5),b.setOrigin(h,c));b.blendMode=g(e,"blendMode",m.NORMAL);b.visible=g(e,"visible",!0);g(e,"add",!0)&&d.sys.displayList.add(b);b.preUpdate&&d.sys.updateList.add(b);return b}},13059:(r,p,a)=>{var m=a(23568);r.exports=function(g,d){var b=m(d,"anims",null);if(null===b)return g;if("string"===typeof b)g.anims.play(b);else if("object"===typeof b){d=g.anims;var e=m(b,"key",void 0);if(e){var h=m(b,"startFrame",void 0),c=m(b,"delay",0),l=m(b,"repeat",
0),f=m(b,"repeatDelay",0),k=m(b,"yoyo",!1),n=m(b,"play",!1);b=m(b,"delayedPlay",0);e={key:e,delay:c,repeat:l,repeatDelay:f,yoyo:k,startFrame:h};n?d.play(e):0<b?d.playAfterDelay(e,b):d.load(e)}}return g}},8050:(r,p,a)=>{var m=a(83419),g=a(73162);p=a(37277);var d=a(51708),b=a(44594),e=a(19186);a=new m({Extends:g,initialize:function(h){g.call(this,h);this.sortChildrenFlag=!1;this.scene=h;this.systems=h.sys;this.events=h.sys.events;this.addCallback=this.addChildCallback;this.removeCallback=this.removeChildCallback;
this.events.once(b.BOOT,this.boot,this);this.events.on(b.START,this.start,this)},boot:function(){this.events.once(b.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList();h.parentContainer&&h.parentContainer.remove(h);h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(d.ADDED_TO_SCENE,h,this.scene),this.events.emit(b.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort();h.displayList=null;
h.emit(d.REMOVED_FROM_SCENE,h,this.scene);this.events.emit(b.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(b.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,c){return h._depth-c._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list;h.length;)h[0].destroy(!0);this.events.off(b.SHUTDOWN,
this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(b.START,this.start,this);this.events=this.systems=this.scene=null}});p.register("DisplayList",a,"displayList");r.exports=a},95643:(r,p,a)=>{p=a(83419);var m=a(53774),g=a(45893),d=a(50792),b=a(51708),e=a(44594),h=new p({Extends:d,initialize:function(c,l){d.call(this);this.scene=c;this.displayList=null;this.type=l;this.state=0;this.parentContainer=null;this.name="";this.active=!0;this.tabIndex=-1;this.data=null;this.renderFlags=
15;this.cameraFilter=0;this.body=this.input=null;this.ignoreDestroy=!1;this.on(b.ADDED_TO_SCENE,this.addedToScene,this);this.on(b.REMOVED_FROM_SCENE,this.removedFromScene,this);c.sys.queueDepthSort()},setActive:function(c){this.active=c;return this},setName:function(c){this.name=c;return this},setState:function(c){this.state=c;return this},setDataEnabled:function(){this.data||(this.data=new g(this));return this},setData:function(c,l){this.data||(this.data=new g(this));this.data.set(c,l);return this},
incData:function(c,l){this.data||(this.data=new g(this));this.data.inc(c,l);return this},toggleData:function(c){this.data||(this.data=new g(this));this.data.toggle(c);return this},getData:function(c){this.data||(this.data=new g(this));return this.data.get(c)},setInteractive:function(c,l,f){this.scene.sys.input.enable(this,c,l,f);return this},disableInteractive:function(){this.scene.sys.input.disable(this);return this},removeInteractive:function(){this.scene.sys.input.clear(this);this.input=void 0;
return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(c){return!(this.displayList&&this.displayList.active&&!this.displayList.willRender(c)||h.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,l=this.parentContainer,f=[];l;)if(f.unshift(l.getIndex(c)),c=l,l.parentContainer)l=l.parentContainer;else break;this.displayList?f.unshift(this.displayList.getIndex(c)):
f.unshift(this.scene.sys.displayList.getIndex(c));return f},addToDisplayList:function(c){void 0===c&&(c=this.scene.sys.displayList);this.displayList&&this.displayList!==c&&this.removeFromDisplayList();c.exists(this)||(this.displayList=c,c.add(this,!0),c.queueDepthSort(),this.emit(b.ADDED_TO_SCENE,this,this.scene),c.events.emit(e.ADDED_TO_SCENE,this,this.scene));return this},addToUpdateList:function(){this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this);return this},removeFromDisplayList:function(){var c=
this.displayList||this.scene.sys.displayList;c&&c.exists(this)&&(c.remove(this,!0),c.queueDepthSort(),this.displayList=null,this.emit(b.REMOVED_FROM_SCENE,this,this.scene),c.events.emit(e.REMOVED_FROM_SCENE,this,this.scene));return this},removeFromUpdateList:function(){this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this);return this},destroy:function(c){this.scene&&!this.ignoreDestroy&&(void 0===c&&(c=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(b.DESTROY,this,c),this.removeAllListeners(),
this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.visible=this.active=!1,this.parentContainer=this.scene=void 0)}});h.RENDER_MASK=15;r.exports=h},44603:(r,p,a)=>{p=a(83419);
var m=a(37277),g=a(44594),d=new p({initialize:function(b){this.scene=b;this.systems=b.sys;this.events=b.sys.events;this.events.once(g.BOOT,this.boot,this);this.events.on(g.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList;this.updateList=this.systems.updateList;this.events.once(g.DESTROY,this.destroy,this)},start:function(){this.events.once(g.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();
this.events.off(g.START,this.start,this);this.updateList=this.displayList=this.events=this.systems=this.scene=null}});d.register=function(b,e){d.prototype.hasOwnProperty(b)||(d.prototype[b]=e)};d.remove=function(b){d.prototype.hasOwnProperty(b)&&delete d.prototype[b]};m.register("GameObjectCreator",d,"make");r.exports=d},39429:(r,p,a)=>{p=a(83419);var m=a(37277),g=a(44594),d=new p({initialize:function(b){this.scene=b;this.systems=b.sys;this.events=b.sys.events;this.events.once(g.BOOT,this.boot,this);
this.events.on(g.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList;this.updateList=this.systems.updateList;this.events.once(g.DESTROY,this.destroy,this)},start:function(){this.events.once(g.SHUTDOWN,this.shutdown,this)},existing:function(b){(b.renderCanvas||b.renderWebGL)&&this.displayList.add(b);b.preUpdate&&this.updateList.add(b);return b},shutdown:function(){this.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(g.START,
this.start,this);this.updateList=this.displayList=this.events=this.systems=this.scene=null}});d.register=function(b,e){d.prototype.hasOwnProperty(b)||(d.prototype[b]=e)};d.remove=function(b){d.prototype.hasOwnProperty(b)&&delete d.prototype[b]};m.register("GameObjectFactory",d,"add");r.exports=d},91296:(r,p,a)=>{p=a(61340);var m=new p,g=new p,d=new p,b={camera:m,sprite:g,calc:d};r.exports=function(e,h,c){g.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);m.copyFrom(h.matrix);c?(m.multiplyWithOffset(c,
-h.scrollX*e.scrollFactorX,-h.scrollY*e.scrollFactorY),g.e=e.x,g.f=e.y):(g.e-=h.scrollX*e.scrollFactorX,g.f-=h.scrollY*e.scrollFactorY);m.multiply(g,d);return b}},45027:(r,p,a)=>{var m=a(83419),g=a(25774);p=a(37277);var d=a(44594);a=new m({Extends:g,initialize:function(b){g.call(this);this.checkQueue=!0;this.scene=b;this.systems=b.sys;b.sys.events.once(d.BOOT,this.boot,this);b.sys.events.on(d.START,this.start,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){var b=
this.systems.events;b.on(d.PRE_UPDATE,this.update,this);b.on(d.UPDATE,this.sceneUpdate,this);b.once(d.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(b,e){for(var h=this._active,c=h.length,l=0;l<c;l++){var f=h[l];f.active&&f.preUpdate.call(f,b,e)}},shutdown:function(){for(var b=this._active.length;b--;)this._active[b].destroy(!0);for(b=this._pending.length;b--;)this._pending[b].destroy(!0);for(b=this._destroy.length;b--;)this._destroy[b].destroy(!0);this._toProcess=0;this._pending=[];this._active=
[];this._destroy=[];this.removeAllListeners();b=this.systems.events;b.off(d.PRE_UPDATE,this.update,this);b.off(d.UPDATE,this.sceneUpdate,this);b.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.systems.events.off(d.START,this.start,this);this.systems=this.scene=null}});p.register("UpdateList",a,"updateList");r.exports=a},3217:r=>{r.exports=function(p,a,m,g,d,b,e,h,c,l,f,k,n,q,t){var v=m.x-a.displayOriginX+d;b=m.y-a.displayOriginY+b;d=v+m.w;var u=b+m.h;m=e.getXRound(v,b,
h);var x=e.getYRound(v,b,h),w=e.getXRound(v,u,h);v=e.getYRound(v,u,h);var y=e.getXRound(d,u,h);u=e.getYRound(d,u,h);var z=e.getXRound(d,b,h);e=e.getYRound(d,b,h);p.batchQuad(a,m,x,w,v,y,u,z,e,g.u0,g.v0,g.u1,g.v1,c,l,f,k,n,q,t)}},53048:r=>{r.exports=function(p,a,m,g){void 0===m&&(m=!1);if(void 0===g)return g={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var d=p.text,b=d.length,
e=p.maxWidth,h=p.wordWrapCharCode,c=Number.MAX_VALUE,l=Number.MAX_VALUE,f=0,k=0,n=p.fontData.chars,q=p.fontData.lineHeight,t=p.letterSpacing,v=p.lineSpacing,u=0,x=0,w,y=p._align,z,C=p.fontSize/p.fontData.size,A=C*p.scaleX,B=C*p.scaleY,E=null,G=0,I=[],H=Number.MAX_VALUE,K=0,L=0;var M=0;var P,D=[],F=[],J=null;if(0<e){for(P=0;P<b;P++){var N=d.charCodeAt(P);if(10===N)null!==J&&(D.push({word:J.word,i:J.i,x:J.x*A,y:J.y*B,w:J.w*A,h:J.h*B,cr:!0}),J=null),u=0,x+=q+v,E=null;else if(w=n[N])null!==E&&(z=w.kerning[G]),
N===h?null!==J&&(D.push({word:J.word,i:J.i,x:J.x*A,y:J.y*B,w:J.w*A,h:J.h*B,cr:!1}),J=null):(null===J&&(J={word:"",i:P,x:u,y:x,w:0,h:q,cr:!1}),J.word=J.word.concat(d[P]),J.w+=w.xOffset+w.xAdvance+(void 0!==z?z:0)),u+=w.xAdvance+t,E=w,G=N}null!==J&&D.push({word:J.word,i:J.i,x:J.x*A,y:J.y*B,w:J.w*A,h:J.h*B,cr:!1});x=u=0;E=null;G=0;N=0;b=[];for(P=0;P<D.length;P++){w=D[P];J=w.x;z=w.x+w.w;if(O){N=J-(J-(O.x+O.w)+O.w);var O=null}z-=N;J-N>e||z>e?(b.push(w.i-1),w.cr?(b.push(w.i+w.word.length),N=0,O=null):O=
w):w.cr&&(b.push(w.i+w.word.length),N=0,O=null)}for(P=b.length-1;0<=P;P--)D=d,d=b[P],d=D.substr(0,d)+"\n"+D.substr(d+1);g.wrappedText=d;b=d.length;D=[];J=null}for(P=e=0;P<b;P++)if(N=d.charCodeAt(P),10===N)null!==J&&(D.push({word:J.word,i:J.i,x:J.x*A,y:J.y*B,w:J.w*A,h:J.h*B}),J=null),u=0,x+=q+v,E=null,I[L]=M,M>K&&(K=M),M<H&&(H=M),L++,M=0;else if(w=n[N]){M=u;z=x;if(null!==E){var R=w.kerning[G];M+=void 0!==R?R:0}c>M&&(c=M);l>z&&(l=z);O=M+w.xAdvance;E=z+q;f<O&&(f=O);k<E&&(k=E);E=w.xOffset+w.xAdvance+
(void 0!==R?R:0);N===h?null!==J&&(D.push({word:J.word,i:J.i,x:J.x*A,y:J.y*B,w:J.w*A,h:J.h*B}),J=null):(null===J&&(J={word:"",i:e,x:u,y:x,w:0,h:q}),J.word=J.word.concat(d[P]),J.w+=E);F.push({i:e,idx:P,char:d[P],code:N,x:(w.xOffset+M)*C,y:(w.yOffset+x)*C,w:w.width*C,h:w.height*C,t:x*C,r:O*C,b:q*C,line:L,glyph:w});u+=w.xAdvance+t+(void 0!==R?R:0);E=w;G=N;M=O*C;e++}null!==J&&D.push({word:J.word,i:J.i,x:J.x*A,y:J.y*B,w:J.w*A,h:J.h*B});I[L]=M;M>K&&(K=M);M<H&&(H=M);if(0<y)for(h=0;h<F.length;h++)n=F[h],1===
y?(t=(K-I[n.line])/2,n.x+=t,n.r+=t):2===y&&(t=K-I[n.line],n.x+=t,n.r+=t);y=g.local;h=g.global;n=g.lines;y.x=c*C;y.y=l*C;y.width=f*C;y.height=k*C;h.x=p.x-p._displayOriginX+c*A;h.y=p.y-p._displayOriginY+l*B;h.width=f*A;h.height=k*B;n.shortest=H;n.longest=K;n.lengths=I;a&&(y.x=Math.ceil(y.x),y.y=Math.ceil(y.y),y.width=Math.ceil(y.width),y.height=Math.ceil(y.height),h.x=Math.ceil(h.x),h.y=Math.ceil(h.y),h.width=Math.ceil(h.width),h.height=Math.ceil(h.height),n.shortest=Math.ceil(H),n.longest=Math.ceil(K));
m&&(p._displayOriginX=p.originX*y.width,p._displayOriginY=p.originY*y.height,h.x=p.x-p._displayOriginX*p.scaleX,h.y=p.y-p._displayOriginY*p.scaleY,a&&(h.x=Math.ceil(h.x),h.y=Math.ceil(h.y)));g.words=D;g.characters=F;g.lines.height=q;g.scale=C;g.scaleX=p.scaleX;g.scaleY=p.scaleY;return g}},61327:(r,p,a)=>{var m=a(21859);r.exports=function(g,d,b,e,h,c,l){var f=g.sys.textures.get(b),k=f.get(e);h=g.sys.cache.xml.get(h);return k&&h?(c=m(h,k,c,l,f),g.sys.cache.bitmapFont.add(d,{data:c,texture:b,frame:e,
fromAtlas:!0}),!0):!1}},6925:(r,p,a)=>{var m=a(35154);r.exports=function(g,d){var b=d.width,e=d.height,h=Math.floor(b/2),c=Math.floor(e/2),l=m(d,"chars","");if(""!==l){var f=m(d,"image",""),k=g.sys.textures.getFrame(f);g=k.cutX;var n=k.cutY,q=k.source.width;k=k.source.height;var t=m(d,"offset.x",0),v=m(d,"offset.y",0),u=m(d,"spacing.x",0),x=m(d,"spacing.y",0),w=m(d,"lineSpacing",0);d=m(d,"charsPerRow",null);null===d&&(d=q/b,d>l.length&&(d=l.length));var y=t;w={retroFont:!0,font:f,size:b,lineHeight:e+
w,chars:{}};for(var z=0,C=0;C<l.length;C++){var A=l.charCodeAt(C);w.chars[A]={x:y,y:v,width:b,height:e,centerX:h,centerY:c,xOffset:0,yOffset:0,xAdvance:b,data:{},kerning:{},u0:(g+y)/q,v0:(n+v)/k,u1:(g+y+b)/q,v1:(n+v+e)/k};z++;z===d?(z=0,y=t,v+=e+x):y+=b+u}return{data:w,frame:null,texture:f}}}},21859:r=>{function p(a,m){return parseInt(a.getAttribute(m),10)}r.exports=function(a,m,g,d,b){void 0===g&&(g=0);void 0===d&&(d=0);var e=m.cutX,h=m.cutY,c=m.source.width,l=m.source.height,f=m.sourceIndex,k={},
n=a.getElementsByTagName("info")[0],q=a.getElementsByTagName("common")[0];k.font=n.getAttribute("face");k.size=p(n,"size");k.lineHeight=p(q,"lineHeight")+d;k.chars={};n=a.getElementsByTagName("char");if(q=void 0!==m&&m.trimmed)var t=m.height,v=m.width;for(d=0;d<n.length;d++){var u=n[d],x=p(u,"id"),w=String.fromCharCode(x),y=p(u,"x"),z=p(u,"y"),C=p(u,"width"),A=p(u,"height");q&&(y<v&&(v=y),z<t&&(t=z));q&&0!==t&&0!==v&&(y-=m.x,z-=m.y);var B=(e+y)/c,E=(h+z)/l,G=(e+y+C)/c,I=(h+z+A)/l;k.chars[x]={x:y,
y:z,width:C,height:A,centerX:Math.floor(C/2),centerY:Math.floor(A/2),xOffset:p(u,"xoffset"),yOffset:p(u,"yoffset"),xAdvance:p(u,"xadvance")+g,data:{},kerning:{},u0:B,v0:E,u1:G,v1:I};b&&0!==C&&0!==A&&(u=b.add(w,f,y,z,C,A))&&u.setUVs(C,A,B,E,G,I)}a=a.getElementsByTagName("kerning");for(d=0;d<a.length;d++)b=a[d],m=p(b,"first"),g=p(b,"second"),b=p(b,"amount"),k.chars[g].kerning[m]=b;return k}},196:(r,p,a)=>{p=a(87662);var m=a(79291);a={Parse:a(6925)};a=m(!1,a,p);r.exports=a},87662:r=>{r.exports={TEXT_SET1:" !\"#$%\x26'()*+,-./0123456789:;\x3c\x3d\x3e?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",
TEXT_SET2:" !\"#$%\x26'()*+,-./0123456789:;\x3c\x3d\x3e?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",
TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},2638:(r,p,a)=>{var m=a(22186);p=a(83419);a=a(12310);a=new p({Extends:m,Mixins:[a],initialize:function(g,d,b,e,h,c,l){m.call(this,g,d,b,e,h,c,l);this.type="DynamicBitmapText";this.cropHeight=this.cropWidth=this.scrollY=this.scrollX=0;this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(g,d){this.cropWidth=g;this.cropHeight=
d;return this},setDisplayCallback:function(g){this.displayCallback=g;return this},setScrollX:function(g){this.scrollX=g;return this},setScrollY:function(g){this.scrollY=g;return this}});r.exports=a},86741:(r,p,a)=>{var m=a(20926);r.exports=function(g,d,b,e){var h=d._text,c=h.length,l=g.currentContext;if(0!==c&&m(g,l,d,b,e)){b.addToRenderList(d);var f=d.fromAtlas?d.frame:d.texture.frames.__BASE;g=d.displayCallback;e=d.callbackData;var k=d.fontData.chars,n=d.fontData.lineHeight,q=d._letterSpacing,t=
0,v=0,u,x=null,w=0,y=d.frame.source.image,z=f.cutX;f=f.cutY;var C=d._fontSize/d.fontData.size,A=d._align,B=0,E=0;d.getTextBounds(!1);var G=d._bounds.lines;1===A?E=(G.longest-G.lengths[0])/2:2===A&&(E=G.longest-G.lengths[0]);l.translate(-d.displayOriginX,-d.displayOriginY);var I=b.roundPixels;0<d.cropWidth&&0<d.cropHeight&&(l.beginPath(),l.rect(0,0,d.cropWidth,d.cropHeight),l.clip());for(var H=0;H<c;H++){var K=C;var L=0;b=h.charCodeAt(H);if(10===b)B++,1===A?E=(G.longest-G.lengths[B])/2:2===A&&(E=G.longest-
G.lengths[B]),t=0,v+=n,x=null;else if(u=k[b]){var M=z+u.x;var P=f+u.y;var D=u.width;var F=u.height;var J=u.xOffset+t-d.scrollX;var N=u.yOffset+v-d.scrollY;if(null!==x){var O=u.kerning[w];J+=void 0!==O?O:0}g&&(e.index=H,e.charCode=b,e.x=J,e.y=N,e.scale=K,e.rotation=L,e.data=u.data,x=g(e),J=x.x,N=x.y,K=x.scale,L=x.rotation);J*=K;N*=K;J+=E;t+=u.xAdvance+q+(void 0!==O?O:0);x=u;w=b;0!==D&&0!==F&&32!==b&&(I&&(J=Math.round(J),N=Math.round(N)),l.save(),l.translate(J,N),l.rotate(L),l.scale(K,K),l.drawImage(y,
M,P,D,F,0,0,D,F),l.restore())}}l.restore()}}},11164:(r,p,a)=>{var m=a(2638),g=a(25305);r=a(44603);var d=a(23568);r.register("dynamicBitmapText",function(b,e){void 0===b&&(b={});var h=d(b,"font",""),c=d(b,"text",""),l=d(b,"size",!1);h=new m(this.scene,0,0,h,c,l);void 0!==e&&(b.add=e);g(this.scene,h,b);return h})},72566:(r,p,a)=>{var m=a(2638);a(39429).register("dynamicBitmapText",function(g,d,b,e,h){return this.displayList.add(new m(this.scene,g,d,b,e,h))})},12310:(r,p,a)=>{a(29747);p=a(73482);a=a(86741);
r.exports={renderWebGL:p,renderCanvas:a}},73482:(r,p,a)=>{var m=a(91296);p=a(61340);var g=a(70554),d=new p;r.exports=function(b,e,h,c){var l=e.text,f=l.length;if(0!==f){h.addToRenderList(e);var k=b.pipelines.set(e.pipeline,e),n=m(e,h,c);b.pipelines.preBatch(e);c=n.sprite;n=n.calc;var q=0<e.cropWidth||0<e.cropHeight;q&&(k.flush(),b.pushScissor(n.tx,n.ty,e.cropWidth*n.scaleX,e.cropHeight*n.scaleY));var t=e.frame.glTexture,v=e.tintFill,u=g.getTintAppendFloatAlpha(e.tintTopLeft,h.alpha*e._alphaTL),x=
g.getTintAppendFloatAlpha(e.tintTopRight,h.alpha*e._alphaTR),w=g.getTintAppendFloatAlpha(e.tintBottomLeft,h.alpha*e._alphaBL),y=g.getTintAppendFloatAlpha(e.tintBottomRight,h.alpha*e._alphaBR),z=k.setGameObject(e),C=0,A=0,B=0,E=e.letterSpacing,G,I=e.scrollX,H=e.scrollY,K=e.fontData,L=K.chars;K=K.lineHeight;var M=e._align,P=0,D=0,F=e.getTextBounds(!1);0<e.maxWidth&&(l=F.wrappedText,f=l.length);F=e._bounds.lines;1===M?D=(F.longest-F.lengths[0])/2:2===M&&(D=F.longest-F.lengths[0]);for(var J=h.roundPixels,
N=e.displayCallback,O=e.callbackData,R=0;R<f;R++){var Q=l.charCodeAt(R);if(10===Q){P++;1===M?D=(F.longest-F.lengths[P])/2:2===M&&(D=F.longest-F.lengths[P]);C=0;A+=K;var S=null}else if(G=L[Q]){var T=G.width;var U=G.height;var W=G.xOffset+C-I,Y=G.yOffset+A-H;null!==S&&(S=G.kerning[B],W+=void 0!==S?S:0);C+=G.xAdvance+E;S=G;B=Q;if(0!==T&&0!==U&&32!==Q){var V=e.fontSize/e.fontData.size;var X=0;N&&(O.color=0,O.tint.topLeft=u,O.tint.topRight=x,O.tint.bottomLeft=w,O.tint.bottomRight=y,O.index=R,O.charCode=
Q,O.x=W,O.y=Y,O.scale=V,O.rotation=X,O.data=G.data,y=N(O),W=y.x,Y=y.y,V=y.scale,X=y.rotation,y.color?y=w=x=u=y.color:(u=y.tint.topLeft,x=y.tint.topRight,w=y.tint.bottomLeft,y=y.tint.bottomRight),u=g.getTintAppendFloatAlpha(u,h.alpha*e._alphaTL),x=g.getTintAppendFloatAlpha(x,h.alpha*e._alphaTR),w=g.getTintAppendFloatAlpha(w,h.alpha*e._alphaBL),y=g.getTintAppendFloatAlpha(y,h.alpha*e._alphaBR));W*=V;Y*=V;W-=e.displayOriginX;Y-=e.displayOriginY;W+=D;d.applyITRS(W,Y,X,V,V);n.multiply(d,c);W=G.u0;Y=G.v0;
Q=G.u1;G=G.v1;var Z=U;U=c.e;V=c.f;X=Z*c.c+c.e;var da=Z*c.d+c.f,ca=T*c.a+Z*c.c+c.e;Z=T*c.b+Z*c.d+c.f;var ba=T*c.a+c.e;T=T*c.b+c.f;J&&(U=Math.round(U),V=Math.round(V),X=Math.round(X),da=Math.round(da),ca=Math.round(ca),Z=Math.round(Z),ba=Math.round(ba),T=Math.round(T));k.shouldFlush(6)&&(k.flush(),z=k.setGameObject(e));k.batchQuad(e,U,V,X,da,ca,Z,ba,T,W,Y,Q,G,u,x,w,y,v,t,z)}}}q&&(k.flush(),b.popScissor());b.pipelines.postBatch(e)}}},22186:(r,p,a)=>{p=a(83419);var m=a(45319),g=a(31401),d=a(95643),b=
a(53048),e=a(61327),h=a(21859),c=a(87841);a=a(18658);var l=new p({Extends:d,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Tint,g.Transform,g.Visible,a],initialize:function(f,k,n,q,t,v,u){void 0===t&&(t="");void 0===u&&(u=0);d.call(this,f,"BitmapText");this.font=q;(f=this.scene.sys.cache.bitmapFont.get(q))||console.warn("Invalid BitmapText key: "+q);this.fontData=f.data;this._text="";this._fontSize=v||this.fontData.size;this._lineSpacing=
this._letterSpacing=0;this._align=u;this._bounds=b();this._dirty=!0;this._maxWidth=0;this.wordWrapCharCode=32;this.charColors=[];this.dropShadowColor=this.dropShadowY=this.dropShadowX=0;this.dropShadowAlpha=.5;this.fromAtlas=f.fromAtlas;this.setTexture(f.texture,f.frame);this.setPosition(k,n);this.setOrigin(0,0);this.initPipeline();this.initPostPipeline();this.setText(t)},setLeftAlign:function(){this._align=l.ALIGN_LEFT;this._dirty=!0;return this},setCenterAlign:function(){this._align=l.ALIGN_CENTER;
this._dirty=!0;return this},setRightAlign:function(){this._align=l.ALIGN_RIGHT;this._dirty=!0;return this},setFontSize:function(f){this._fontSize=f;this._dirty=!0;return this},setLetterSpacing:function(f){void 0===f&&(f=0);this._letterSpacing=f;this._dirty=!0;return this},setLineSpacing:function(f){void 0===f&&(f=0);this.lineSpacing=f;return this},setText:function(f){f||0===f||(f="");Array.isArray(f)&&(f=f.join("\n"));f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin());
return this},setDropShadow:function(f,k,n,q){void 0===f&&(f=0);void 0===k&&(k=0);void 0===n&&(n=0);void 0===q&&(q=.5);this.dropShadowX=f;this.dropShadowY=k;this.dropShadowColor=n;this.dropShadowAlpha=q;return this},setCharacterTint:function(f,k,n,q,t,v,u){void 0===f&&(f=0);void 0===k&&(k=1);void 0===n&&(n=!1);void 0===q&&(q=-1);void 0===t&&(u=v=t=q);var x=this.text.length;-1===k&&(k=x);0>f&&(f=x+f);f=m(f,0,x-1);k=m(f+k,f,x);for(x=this.charColors;f<k;f++){var w=x[f];if(-1===q)x[f]=null;else{var y=
n?1:0;w?(w.tintEffect=y,w.tintTL=q,w.tintTR=t,w.tintBL=v,w.tintBR=u):x[f]={tintEffect:y,tintTL:q,tintTR:t,tintBL:v,tintBR:u}}}return this},setWordTint:function(f,k,n,q,t,v,u){void 0===k&&(k=1);for(var x=this.getTextBounds().words,w="number"===typeof f,y=0,z=0;z<x.length;z++){var C=x[z];if(w&&z===f||!w&&C.word===f)if(this.setCharacterTint(C.i,C.word.length,n,q,t,v,u),y++,y===k)break}return this},getTextBounds:function(f){var k=this._bounds;if(this._dirty||f||this.scaleX!==k.scaleX||this.scaleY!==k.scaleY)b(this,
f,!0,k),this._dirty=!1;return k},getCharacterAt:function(f,k,n){f=this.getLocalPoint(f,k,null,n);k=this.getTextBounds().characters;n=new c;for(var q=0;q<k.length;q++){var t=k[q];n.setTo(t.x,t.t,t.r-t.x,t.b);if(n.contains(f.x,f.y))return t}return null},updateDisplayOrigin:function(){this._dirty=!0;this.getTextBounds(!1);return this},setFont:function(f,k,n){void 0===k&&(k=this._fontSize);void 0===n&&(n=this._align);var q=this.scene.sys.cache.bitmapFont.get(f);q&&(this.font=f,this.fontData=q.data,this._fontSize=
k,this._align=n,this.fromAtlas=!0===q.fromAtlas,this.setTexture(q.texture,q.frame),b(this,!1,!0,this._bounds));return this},setMaxWidth:function(f,k){this._maxWidth=f;this._dirty=!0;void 0!==k&&(this.wordWrapCharCode=k);return this},align:{set:function(f){this._align=f;this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f;this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=
f;this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f;this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f;this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){this.getTextBounds(!1);return this._bounds.global.width}},height:{get:function(){this.getTextBounds(!1);return this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},
toJSON:function(){var f=g.ToJSON(this);f.data={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f},preDestroy:function(){this.charColors.length=0;this.fontData=this._bounds=null}});l.ALIGN_LEFT=0;l.ALIGN_CENTER=1;l.ALIGN_RIGHT=2;l.ParseFromAtlas=e;l.ParseXMLBitmapFont=h;r.exports=l},37289:(r,p,a)=>{var m=a(20926);r.exports=function(g,d,b,e){var h=d._text,c=h.length,l=g.currentContext;if(0!==c&&m(g,l,d,b,e)){b.addToRenderList(d);
var f=d.fromAtlas?d.frame:d.texture.frames.__BASE;g=d.fontData.chars;e=d.fontData.lineHeight;var k=d._letterSpacing,n=d._lineSpacing,q=0,t=0,v=null,u=0,x=f.source.image,w=f.cutX;f=f.cutY;var y=d._fontSize/d.fontData.size,z=d._align,C=0,A=0,B=d.getTextBounds(!1);0<d.maxWidth&&(h=B.wrappedText,c=h.length);B=d._bounds.lines;1===z?A=(B.longest-B.lengths[0])/2:2===z&&(A=B.longest-B.lengths[0]);l.translate(-d.displayOriginX,-d.displayOriginY);for(var E=b.roundPixels,G=0;G<c;G++)if(d=h.charCodeAt(G),10===
d)C++,1===z?A=(B.longest-B.lengths[C])/2:2===z&&(A=B.longest-B.lengths[C]),q=0,t+=e+n,v=null;else if(b=g[d]){var I=w+b.x;var H=f+b.y;var K=b.width;var L=b.height;var M=b.xOffset+q;var P=b.yOffset+t;if(null!==v){var D=b.kerning[u];M+=void 0!==D?D:0}M*=y;P*=y;M+=A;q+=b.xAdvance+k+(void 0!==D?D:0);v=b;u=d;0!==K&&0!==L&&32!==d&&(E&&(M=Math.round(M),P=Math.round(P)),l.save(),l.translate(M,P),l.scale(y,y),l.drawImage(x,I,H,K,L,0,0,K,L),l.restore())}l.restore()}}},57336:(r,p,a)=>{var m=a(22186),g=a(25305);
r=a(44603);var d=a(23568),b=a(35154);r.register("bitmapText",function(e,h){void 0===e&&(e={});var c=b(e,"font",""),l=d(e,"text",""),f=d(e,"size",!1),k=b(e,"align",0);c=new m(this.scene,0,0,c,l,f,k);void 0!==h&&(e.add=h);g(this.scene,c,e);return c})},34914:(r,p,a)=>{var m=a(22186);a(39429).register("bitmapText",function(g,d,b,e,h,c){return this.displayList.add(new m(this.scene,g,d,b,e,h,c))})},18658:(r,p,a)=>{a(29747);p=a(33590);a=a(37289);r.exports={renderWebGL:p,renderCanvas:a}},33590:(r,p,a)=>{var m=
a(3217),g=a(91296),d=a(70554);r.exports=function(b,e,h,c){if(0!==e._text.length){h.addToRenderList(e);var l=b.pipelines.set(e.pipeline,e);c=g(e,h,c).calc;b.pipelines.preBatch(e);var f=h.roundPixels;h=h.alpha;var k=e.charColors,n=e.tintFill,q=d.getTintAppendFloatAlpha,t=q(e.tintTopLeft,h*e._alphaTL),v=q(e.tintTopRight,h*e._alphaTR),u=q(e.tintBottomLeft,h*e._alphaBL),x=q(e.tintBottomRight,h*e._alphaBR),w=e.frame.glTexture,y=l.setGameObject(e),z=e.getTextBounds(!1).characters,C=e.dropShadowX,A=e.dropShadowY;
if(0!==C||0!==A){var B=e.dropShadowColor;var E=e.dropShadowAlpha;var G=q(B,h*E*e._alphaTL),I=q(B,h*E*e._alphaTR),H=q(B,h*E*e._alphaBL),K=q(B,h*E*e._alphaBR);for(B=0;B<z.length;B++){E=z[B];var L=E.glyph;32!==E.code&&0!==L.width&&0!==L.height&&m(l,e,E,L,C,A,c,f,G,I,H,K,1,w,y)}}for(B=0;B<z.length;B++)E=z[B],L=E.glyph,32!==E.code&&0!==L.width&&0!==L.height&&(l.shouldFlush(6)&&(l.flush(),y=l.setGameObject(e)),k[E.i]?(H=k[E.i],C=H.tintEffect,A=q(H.tintTL,h*e._alphaTL),G=q(H.tintTR,h*e._alphaTR),I=q(H.tintBL,
h*e._alphaBL),H=q(H.tintBR,h*e._alphaBR),m(l,e,E,L,0,0,c,f,A,G,I,H,C,w,y)):m(l,e,E,L,0,0,c,f,t,v,u,x,n,w,y));b.pipelines.postBatch(e)}}},6107:(r,p,a)=>{p=a(48011);var m=a(46590),g=a(83419),d=a(31401),b=a(4327),e=a(95643),h=a(73162);a=new g({Extends:e,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Mask,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.Texture,d.Transform,d.Visible,p],initialize:function(c,l,f,k,n){e.call(this,c,"Blitter");this.setTexture(k,n);this.setPosition(l,f);this.initPipeline();this.initPostPipeline();
this.children=new h;this.renderList=[];this.dirty=!1},create:function(c,l,f,k,n){void 0===k&&(k=!0);void 0===n&&(n=this.children.length);void 0===f?f=this.frame:f instanceof b||(f=this.texture.get(f));c=new m(this,c,l,f,k);this.children.addAt(c,n,!1);this.dirty=!0;return c},createFromCallback:function(c,l,f,k){l=this.createMultiple(l,f,k);for(f=0;f<l.length;f++)c.call(this,l[f],f);return l},createMultiple:function(c,l,f){void 0===l&&(l=this.frame.name);void 0===f&&(f=!0);Array.isArray(l)||(l=[l]);
var k=[],n=this;l.forEach(function(q){for(var t=0;t<c;t++)k.push(n.create(0,0,q,f))});return k},childCanRender:function(c){return c.visible&&0<c.alpha},getRenderList:function(){this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1);return this.renderList},clear:function(){this.children.removeAll();this.dirty=!0},preDestroy:function(){this.children.destroy();this.renderList=[]}});r.exports=a},72396:r=>{r.exports=function(p,a,m,g){var d=a.getRenderList();if(0!==
d.length){var b=p.currentContext,e=m.alpha*a.alpha;if(0!==e){m.addToRenderList(a);b.globalCompositeOperation=p.blendModes[a.blendMode];b.imageSmoothingEnabled=!a.frame.source.scaleMode;p=a.x-m.scrollX*a.scrollFactorX;a=a.y-m.scrollY*a.scrollFactorY;b.save();g&&g.copyToContext(b);m=m.roundPixels;for(g=0;g<d.length;g++){var h=d[g],c=h.flipX||h.flipY,l=h.frame,f=l.canvasData,k=l.x,n=l.y,q=1,t=1,v=h.alpha*e;0!==v&&(b.globalAlpha=v,c?(h.flipX&&(q=-1,k-=f.width),h.flipY&&(t=-1,n-=f.height),0<f.width&&0<
f.height&&(b.save(),b.translate(h.x+p,h.y+a),b.scale(q,t),b.drawImage(l.source.image,f.x,f.y,f.width,f.height,k,n,f.width,f.height),b.restore())):(m&&(k=Math.round(k),n=Math.round(n)),0<f.width&&0<f.height&&b.drawImage(l.source.image,f.x,f.y,f.width,f.height,k+h.x+p,n+h.y+a,f.width,f.height)))}b.restore()}}}},9403:(r,p,a)=>{var m=a(6107),g=a(25305);r=a(44603);var d=a(23568);r.register("blitter",function(b,e){void 0===b&&(b={});var h=d(b,"key",null),c=d(b,"frame",null);h=new m(this.scene,0,0,h,c);
void 0!==e&&(b.add=e);g(this.scene,h,b);return h})},12709:(r,p,a)=>{var m=a(6107);a(39429).register("blitter",function(g,d,b,e){return this.displayList.add(new m(this.scene,g,d,b,e))})},48011:(r,p,a)=>{a(29747);p=a(99485);a=a(72396);r.exports={renderWebGL:p,renderCanvas:a}},99485:(r,p,a)=>{p=a(61340);var m=a(70554),g=new p;r.exports=function(d,b,e,h){var c=b.getRenderList(),l=e.alpha*b.alpha;if(0!==c.length&&0!==l){e.addToRenderList(b);var f=d.pipelines.set(this.pipeline,b),k=e.scrollX*b.scrollFactorX,
n=e.scrollY*b.scrollFactorY;e=g.copyFrom(e.matrix);h&&(e.multiplyWithOffset(h,-k,-n),n=k=0);h=b.x-k;n=b.y-n;k=-1;d.pipelines.preBatch(b);for(var q=0;q<c.length;q++){var t=c[q],v=t.frame,u=t.alpha*l;if(0!==u){var x=v.width,w=v.height,y=h+t.x+v.x,z=n+t.y+v.y;t.flipX&&(x*=-1,y+=v.width);t.flipY&&(w*=-1,z+=v.height);x=e.setQuad(y,z,y+x,z+w);t=m.getTintAppendFloatAlpha(t.tint,u);if(v.sourceIndex!==k){var C=f.setGameObject(b,v);k=v.sourceIndex}f.batchQuad(b,x[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7],v.u0,
v.v0,v.u1,v.v1,t,t,t,t,!1,v.glTexture,C)&&(k=-1)}}d.pipelines.postBatch(b)}}},46590:(r,p,a)=>{p=a(83419);var m=a(4327);a=new p({initialize:function(g,d,b,e,h){this.parent=g;this.x=d;this.y=b;this.frame=e;this.data={};this.tint=16777215;this._visible=h;this._alpha=1;this.flipY=this.flipX=!1;this.hasTransformComponent=!0},setFrame:function(g){this.frame=void 0===g?this.parent.frame:g instanceof m&&g.texture===this.parent.texture?g:this.parent.texture.get(g);return this},resetFlip:function(){this.flipY=
this.flipX=!1;return this},reset:function(g,d,b){this.x=g;this.y=d;this.flipY=this.flipX=!1;this._alpha=1;this._visible=!0;this.parent.dirty=!0;b&&this.setFrame(b);return this},setPosition:function(g,d){this.x=g;this.y=d;return this},setFlipX:function(g){this.flipX=g;return this},setFlipY:function(g){this.flipY=g;return this},setFlip:function(g,d){this.flipX=g;this.flipY=d;return this},setVisible:function(g){this.visible=g;return this},setAlpha:function(g){this.alpha=g;return this},setTint:function(g){this.tint=
g;return this},destroy:function(){this.parent.dirty=!0;this.parent.children.remove(this);this.data=this.frame=this.parent=void 0},visible:{get:function(){return this._visible},set:function(g){this.parent.dirty|=this._visible!==g;this._visible=g}},alpha:{get:function(){return this._alpha},set:function(g){this.parent.dirty|=0<this._alpha!==0<g;this._alpha=g}}});r.exports=a},16005:(r,p,a)=>{var m=a(45319);r.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},
setAlpha:function(g,d,b,e){void 0===g&&(g=1);void 0===d?this.alpha=g:(this._alphaTL=m(g,0,1),this._alphaTR=m(d,0,1),this._alphaBL=m(b,0,1),this._alphaBR=m(e,0,1));return this},alpha:{get:function(){return this._alpha},set:function(g){this._alphaBR=this._alphaBL=this._alphaTR=this._alphaTL=this._alpha=g=m(g,0,1);this.renderFlags=0===g?this.renderFlags&-3:this.renderFlags|2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(g){this._alphaTL=g=m(g,0,1);0!==g&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},
set:function(g){this._alphaTR=g=m(g,0,1);0!==g&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(g){this._alphaBL=g=m(g,0,1);0!==g&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(g){this._alphaBR=g=m(g,0,1);0!==g&&(this.renderFlags|=2)}}}},88509:(r,p,a)=>{var m=a(45319);r.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(g){void 0===g&&(g=1);this.alpha=g;return this},alpha:{get:function(){return this._alpha},
set:function(g){this._alpha=g=m(g,0,1);this.renderFlags=0===g?this.renderFlags&-3:this.renderFlags|2}}}},90065:(r,p,a)=>{var m=a(10312);r.exports={_blendMode:m.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(g){"string"===typeof g&&(g=m[g]);g|=0;-1<=g&&(this._blendMode=g)}},setBlendMode:function(g){this.blendMode=g;return this}}},94215:r=>{r.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(p){this.scaleX=p/this.width}},displayHeight:{get:function(){return this.scaleY*
this.height},set:function(p){this.scaleY=p/this.height}},setSize:function(p,a){this.width=p;this.height=a;return this},setDisplaySize:function(p,a){this.displayWidth=p;this.displayHeight=a;return this}}},61683:r=>{r.exports={texture:null,frame:null,isCropped:!1,setCrop:function(p,a,m,g){void 0===p?this.isCropped=!1:this.frame&&("number"===typeof p?this.frame.setCropUVs(this._crop,p,a,m,g,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,p.x,p.y,p.width,p.height,this.flipX,this.flipY),this.isCropped=
!0);return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:r=>{r.exports={_depth:0,depth:{get:function(){return this._depth},set:function(p){this.displayList&&this.displayList.queueDepthSort();this._depth=p}},setDepth:function(p){void 0===p&&(p=0);this.depth=p;return this}}},47059:(r,p,a)=>{p=a(83419);var m=a(66064),g=a(19133);a=new p({initialize:function(d,b){this.gameObject=d;this.isPost=b;this.enabled=!1;this.list=
[];this.padding=0},setPadding:function(d){void 0===d&&(d=0);this.padding=d;return this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(d){if(!this.isPost){var b=this.gameObject.scene.sys.renderer;b&&b.pipelines?(this.gameObject.pipeline=b.pipelines.FX_PIPELINE,void 0!==d&&(this.padding=d),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var d=this.list,b=0;b<d.length;b++)d[b].destroy();this.list=[]}this.enabled=!1;
return this.gameObject},remove:function(d){var b;if(this.isPost){var e=this.gameObject.getPostPipeline(String(d.type));Array.isArray(e)||(e=[e]);for(b=0;b<e.length;b++){var h=e[b];if(h.controller===d){this.gameObject.removePostPipeline(h);d.destroy();break}}}else for(e=this.list,b=0;b<e.length;b++)e[b]===d&&(g(e,b),d.destroy());return this.gameObject},disable:function(d){void 0===d&&(d=!1);this.isPost||this.gameObject.resetPipeline();this.enabled=!1;d&&this.clear();return this.gameObject},add:function(d,
b){if(this.isPost){var e=String(d.type);this.gameObject.setPostPipeline(e,b);if(b=this.gameObject.getPostPipeline(e))return Array.isArray(b)&&(b=b.pop()),b.controller=d}else return this.enabled||this.enable(),this.list.push(d),d},addGlow:function(d,b,e,h,c,l){return this.add(new m.Glow(this.gameObject,d,b,e,h),{quality:c,distance:l})},addShadow:function(d,b,e,h,c,l,f){return this.add(new m.Shadow(this.gameObject,d,b,e,h,c,l,f))},addPixelate:function(d){return this.add(new m.Pixelate(this.gameObject,
d))},addVignette:function(d,b,e,h){return this.add(new m.Vignette(this.gameObject,d,b,e,h))},addShine:function(d,b,e,h){return this.add(new m.Shine(this.gameObject,d,b,e,h))},addBlur:function(d,b,e,h,c,l){return this.add(new m.Blur(this.gameObject,d,b,e,h,c,l))},addGradient:function(d,b,e,h,c,l,f,k){return this.add(new m.Gradient(this.gameObject,d,b,e,h,c,l,f,k))},addBloom:function(d,b,e,h,c,l){return this.add(new m.Bloom(this.gameObject,d,b,e,h,c,l))},addColorMatrix:function(){return this.add(new m.ColorMatrix(this.gameObject))},
addCircle:function(d,b,e,h,c){return this.add(new m.Circle(this.gameObject,d,b,e,h,c))},addBarrel:function(d){return this.add(new m.Barrel(this.gameObject,d))},addDisplacement:function(d,b,e){return this.add(new m.Displacement(this.gameObject,d,b,e))},addWipe:function(d,b,e){return this.add(new m.Wipe(this.gameObject,d,b,e))},addReveal:function(d,b,e){return this.add(new m.Wipe(this.gameObject,d,b,e,!0))},addBokeh:function(d,b,e){return this.add(new m.Bokeh(this.gameObject,d,b,e))},addTiltShift:function(d,
b,e,h,c,l){return this.add(new m.Bokeh(this.gameObject,d,b,e,!0,h,c,l))},destroy:function(){this.clear();this.gameObject=null}});r.exports=a},54434:r=>{r.exports={flipX:!1,flipY:!1,toggleFlipX:function(){this.flipX=!this.flipX;return this},toggleFlipY:function(){this.flipY=!this.flipY;return this},setFlipX:function(p){this.flipX=p;return this},setFlipY:function(p){this.flipY=p;return this},setFlip:function(p,a){this.flipX=p;this.flipY=a;return this},resetFlip:function(){this.flipY=this.flipX=!1;return this}}},
8004:(r,p,a)=>{var m=a(87841),g=a(11520),d=a(26099);r.exports={prepareBoundsOutput:function(b,e){void 0===e&&(e=!1);0!==this.rotation&&g(b,this.x,this.y,this.rotation);e&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(b.x,b.y,b);return b},getCenter:function(b,e){void 0===b&&(b=new d);b.x=this.x-this.displayWidth*this.originX+this.displayWidth/2;b.y=this.y-this.displayHeight*this.originY+this.displayHeight/2;return this.prepareBoundsOutput(b,e)},getTopLeft:function(b,
e){b||(b=new d);b.x=this.x-this.displayWidth*this.originX;b.y=this.y-this.displayHeight*this.originY;return this.prepareBoundsOutput(b,e)},getTopCenter:function(b,e){b||(b=new d);b.x=this.x-this.displayWidth*this.originX+this.displayWidth/2;b.y=this.y-this.displayHeight*this.originY;return this.prepareBoundsOutput(b,e)},getTopRight:function(b,e){b||(b=new d);b.x=this.x-this.displayWidth*this.originX+this.displayWidth;b.y=this.y-this.displayHeight*this.originY;return this.prepareBoundsOutput(b,e)},
getLeftCenter:function(b,e){b||(b=new d);b.x=this.x-this.displayWidth*this.originX;b.y=this.y-this.displayHeight*this.originY+this.displayHeight/2;return this.prepareBoundsOutput(b,e)},getRightCenter:function(b,e){b||(b=new d);b.x=this.x-this.displayWidth*this.originX+this.displayWidth;b.y=this.y-this.displayHeight*this.originY+this.displayHeight/2;return this.prepareBoundsOutput(b,e)},getBottomLeft:function(b,e){b||(b=new d);b.x=this.x-this.displayWidth*this.originX;b.y=this.y-this.displayHeight*
this.originY+this.displayHeight;return this.prepareBoundsOutput(b,e)},getBottomCenter:function(b,e){b||(b=new d);b.x=this.x-this.displayWidth*this.originX+this.displayWidth/2;b.y=this.y-this.displayHeight*this.originY+this.displayHeight;return this.prepareBoundsOutput(b,e)},getBottomRight:function(b,e){b||(b=new d);b.x=this.x-this.displayWidth*this.originX+this.displayWidth;b.y=this.y-this.displayHeight*this.originY+this.displayHeight;return this.prepareBoundsOutput(b,e)},getBounds:function(b){void 0===
b&&(b=new m);if(this.parentContainer){var e=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(b);e.transformPoint(b.x,b.y,b);var h=b.x;var c=b.y;this.getTopRight(b);e.transformPoint(b.x,b.y,b);var l=b.x;var f=b.y;this.getBottomLeft(b);e.transformPoint(b.x,b.y,b);var k=b.x;var n=b.y;this.getBottomRight(b);e.transformPoint(b.x,b.y,b)}else this.getTopLeft(b),h=b.x,c=b.y,this.getTopRight(b),l=b.x,f=b.y,this.getBottomLeft(b),k=b.x,n=b.y,this.getBottomRight(b);e=b.x;var q=b.y;b.x=Math.min(h,
l,k,e);b.y=Math.min(c,f,n,q);b.width=Math.max(h,l,k,e)-b.x;b.height=Math.max(c,f,n,q)-b.y;return b}}},8573:(r,p,a)=>{var m=a(6858),g=a(80661);r.exports={mask:null,setMask:function(d){this.mask=d;return this},clearMask:function(d){void 0===d&&(d=!1);d&&this.mask&&this.mask.destroy();this.mask=null;return this},createBitmapMask:function(d,b,e,h,c){void 0===d&&(this.texture||this.shader||this.geom)&&(d=this);return new m(this.scene,d,b,e,h,c)},createGeometryMask:function(d){void 0!==d||"Graphics"!==
this.type&&!this.geom||(d=this);return new g(this.scene,d)}}},27387:r=>{r.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(p){this._displayOriginX=p;this.originX=p/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(p){this._displayOriginY=p;this.originY=p/this.height}},setOrigin:function(p,a){void 0===p&&(p=.5);void 0===a&&(a=p);this.originX=p;this.originY=
a;return this.updateDisplayOrigin()},setOriginFromFrame:function(){if(this.frame&&this.frame.customPivot)this.originX=this.frame.pivotX,this.originY=this.frame.pivotY;else return this.setOrigin();return this.updateDisplayOrigin()},setDisplayOrigin:function(p,a){void 0===p&&(p=0);void 0===a&&(a=p);this.displayOriginX=p;this.displayOriginY=a;return this},updateDisplayOrigin:function(){this._displayOriginX=this.originX*this.width;this._displayOriginY=this.originY*this.height;return this}}},37640:(r,
p,a)=>{var m=a(39506),g=a(57355),d=a(35154),b=a(86353),e=a(26099);r.exports={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:b.PLAYING_FORWARD,setPath:function(h,c){void 0===c&&(c=this.pathConfig);var l=this.pathTween;l&&l.isPlaying()&&l.stop();this.path=h;c&&this.startFollow(c);return this},setRotateToPath:function(h,c){void 0===c&&(c=0);this.rotateToPath=h;this.pathRotationOffset=c;return this},isFollowing:function(){var h=
this.pathTween;return h&&h.isPlaying()},startFollow:function(h,c){void 0===h&&(h={});void 0===c&&(c=0);var l=this.pathTween;l&&l.isPlaying()&&l.stop();"number"===typeof h&&(h={duration:h});h.from=d(h,"from",0);h.to=d(h,"to",1);l=g(h,"positionOnPath",!1);this.rotateToPath=g(h,"rotateToPath",!1);this.pathRotationOffset=d(h,"rotationOffset",0);var f=d(h,"startAt",c);f&&(h.onStart=function(k){k=k.data[0];k.progress=f;k.elapsed=k.duration*f;var n=k.ease(k.progress);k.current=k.start+(k.end-k.start)*n;
k.setTargetValue()});this.pathOffset||(this.pathOffset=new e(this.x,this.y));this.pathVector||(this.pathVector=new e);this.pathDelta||(this.pathDelta=new e);this.pathDelta.reset();h.persist=!0;this.pathTween=this.scene.sys.tweens.addCounter(h);this.path.getStartPoint(this.pathOffset);l&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y);this.pathOffset.x=this.x-this.pathOffset.x;this.pathOffset.y=this.y-this.pathOffset.y;this._prevDirection=b.PLAYING_FORWARD;this.rotateToPath&&(c=this.path.getPoint(.1),
this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+m(this.pathRotationOffset));this.pathConfig=h;return this},pauseFollow:function(){var h=this.pathTween;h&&h.isPlaying()&&h.pause();return this},resumeFollow:function(){var h=this.pathTween;h&&h.isPaused()&&h.resume();return this},stopFollow:function(){var h=this.pathTween;h&&h.isPlaying()&&h.stop();return this},pathUpdate:function(){var h=this.pathTween;if(h&&h.data){var c=h.data[0],l=this.pathDelta,f=this.pathVector;l.copy(f).negate();if(c.state===
b.COMPLETE)this.path.getPoint(c.end,f),l.add(f),f.add(this.pathOffset),this.setPosition(f.x,f.y);else if(c.state===b.PLAYING_FORWARD||c.state===b.PLAYING_BACKWARD)if(this.path.getPoint(h.getValue(),f),l.add(f),f.add(this.pathOffset),l=this.x,h=this.y,this.setPosition(f.x,f.y),f=this.x-l,h=this.y-h,0!==f||0!==h)c.state!==this._prevDirection?this._prevDirection=c.state:this.rotateToPath&&(this.rotation=Math.atan2(h,f)+m(this.pathRotationOffset))}}}},72699:(r,p,a)=>{var m=a(62644);r.exports={defaultPipeline:null,
pipeline:null,pipelineData:null,initPipeline:function(g){this.pipelineData={};var d=this.scene.sys.renderer;if(!d)return!1;if(d=d.pipelines)if(void 0===g&&(g=d.default),g=d.get(g))return this.pipeline=this.defaultPipeline=g,!0;return!1},setPipeline:function(g,d,b){var e=this.scene.sys.renderer;if(!e)return this;if(e=e.pipelines){if(g=e.get(g))this.pipeline=g;d&&(this.pipelineData=b?m(d):d)}return this},setPipelineData:function(g,d){var b=this.pipelineData;void 0===d?delete b[g]:b[g]=d;return this},
resetPipeline:function(g){void 0===g&&(g=!1);this.pipeline=this.defaultPipeline;g&&(this.pipelineData={});return null!==this.pipeline},getPipelineName:function(){return this.pipeline.name}}},17581:(r,p,a)=>{var m=a(62644),g=a(47059),d=a(19133);r.exports={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(b){this.postPipelines=[];this.postPipelineData={};this.postFX=new g(this,!0);b&&(this.preFX=new g(this,!1))},setPostPipeline:function(b,e,
h){var c=this.scene.sys.renderer;if(!c)return this;if(c=c.pipelines){Array.isArray(b)||(b=[b]);for(var l=0;l<b.length;l++){var f=c.getPostPipeline(b[l],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=h?m(e):e)}this.hasPostPipeline=0<this.postPipelines.length;return this},setPostPipelineData:function(b,e){var h=this.postPipelineData;void 0===e?delete h[b]:h[b]=e;return this},getPostPipeline:function(b){for(var e="string"===typeof b,h=this.postPipelines,c=[],l=0;l<h.length;l++){var f=
h[l];(e&&f.name===b||!e&&f instanceof b)&&c.push(f)}return 1===c.length?c[0]:c},resetPostPipeline:function(b){void 0===b&&(b=!1);for(var e=this.postPipelines,h=0;h<e.length;h++)e[h].destroy();this.postPipelines=[];this.hasPostPipeline=!1;b&&(this.postPipelineData={})},removePostPipeline:function(b){for(var e="string"===typeof b,h=this.postPipelines,c=h.length-1;0<=c;c--){var l=h[c];if(e&&l.name===b||!e&&l===b)l.destroy(),d(h,c)}this.hasPostPipeline=0<this.postPipelines.length;return this},clearFX:function(){this.preFX&&
this.preFX.clear();this.postFX&&this.postFX.clear();return this}}},80227:r=>{r.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(p,a){void 0===a&&(a=p);this.scrollFactorX=p;this.scrollFactorY=a;return this}}},16736:r=>{r.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(p){this.scaleX=p/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(p){this.scaleY=
p/this.frame.realHeight}},setSizeToFrame:function(p){p||(p=this.frame);this.width=p.realWidth;this.height=p.realHeight;(p=this.input)&&!p.customHitArea&&(p.hitArea.width=this.width,p.hitArea.height=this.height);return this},setSize:function(p,a){this.width=p;this.height=a;return this},setDisplaySize:function(p,a){this.displayWidth=p;this.displayHeight=a;return this}}},37726:(r,p,a)=>{var m=a(4327);r.exports={texture:null,frame:null,isCropped:!1,setTexture:function(g,d,b,e){this.texture=this.scene.sys.textures.get(g);
return this.setFrame(d,b,e)},setFrame:function(g,d,b){void 0===d&&(d=!0);void 0===b&&(b=!0);g instanceof m?(this.texture=this.scene.sys.textures.get(g.texture.key),this.frame=g):this.frame=this.texture.get(g);this.renderFlags=this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|8:this.renderFlags&-9;this._sizeComponent&&d&&this.setSizeToFrame();this._originComponent&&b&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin());return this}}},79812:(r,
p,a)=>{var m=a(4327);r.exports={texture:null,frame:null,isCropped:!1,setCrop:function(g,d,b,e){void 0===g?this.isCropped=!1:this.frame&&("number"===typeof g?this.frame.setCropUVs(this._crop,g,d,b,e,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,g.x,g.y,g.width,g.height,this.flipX,this.flipY),this.isCropped=!0);return this},setTexture:function(g,d){this.texture=this.scene.sys.textures.get(g);return this.setFrame(d)},setFrame:function(g,d,b){void 0===d&&(d=!0);void 0===b&&(b=!0);g instanceof
m?(this.texture=this.scene.sys.textures.get(g.texture.key),this.frame=g):this.frame=this.texture.get(g);this.renderFlags=this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|8:this.renderFlags&-9;this._sizeComponent&&d&&this.setSizeToFrame();this._originComponent&&b&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin());this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY);return this},resetCropObject:function(){return{u0:0,
v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},27472:r=>{r.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){this.setTint(16777215);return this},setTint:function(p,a,m,g){void 0===p&&(p=16777215);void 0===a&&(g=m=a=p);this.tintTopLeft=p;this.tintTopRight=a;this.tintBottomLeft=m;this.tintBottomRight=g;this.tintFill=!1;return this},setTintFill:function(p,a,m,g){this.setTint(p,a,m,g);
this.tintFill=!0;return this},tint:{get:function(){return this.tintTopLeft},set:function(p){this.setTint(p,p,p,p)}},isTinted:{get:function(){return this.tintFill||16777215!==this.tintTopLeft||16777215!==this.tintTopRight||16777215!==this.tintBottomLeft||16777215!==this.tintBottomRight}}}},53774:r=>{r.exports=function(p){var a={name:p.name,type:p.type,x:p.x,y:p.y,depth:p.depth,scale:{x:p.scaleX,y:p.scaleY},origin:{x:p.originX,y:p.originY},flipX:p.flipX,flipY:p.flipY,rotation:p.rotation,alpha:p.alpha,
visible:p.visible,blendMode:p.blendMode,textureKey:"",frameKey:"",data:{}};p.texture&&(a.textureKey=p.texture.key,a.frameKey=p.frame.name);return a}},16901:(r,p,a)=>{var m=a(36383),g=a(61340),d=a(85955),b=a(86554),e=a(30954),h=a(26099);r.exports={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(c){this._scaleY=this._scaleX=c;this.renderFlags=0===c?this.renderFlags&-5:this.renderFlags|4}},scaleX:{get:function(){return this._scaleX},
set:function(c){this._scaleX=c;0===c?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(c){this._scaleY=c;0===c?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return e(this._rotation*m.RAD_TO_DEG)},set:function(c){this.rotation=e(c)*m.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=b(c)}},setPosition:function(c,l,f,k){void 0===c&&(c=0);void 0===l&&
(l=c);void 0===f&&(f=0);void 0===k&&(k=0);this.x=c;this.y=l;this.z=f;this.w=k;return this},copyPosition:function(c){void 0!==c.x&&(this.x=c.x);void 0!==c.y&&(this.y=c.y);void 0!==c.z&&(this.z=c.z);void 0!==c.w&&(this.w=c.w);return this},setRandomPosition:function(c,l,f,k){void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=this.scene.sys.scale.width);void 0===k&&(k=this.scene.sys.scale.height);this.x=c+Math.random()*f;this.y=l+Math.random()*k;return this},setRotation:function(c){void 0===c&&(c=0);
this.rotation=c;return this},setAngle:function(c){void 0===c&&(c=0);this.angle=c;return this},setScale:function(c,l){void 0===c&&(c=1);void 0===l&&(l=c);this.scaleX=c;this.scaleY=l;return this},setX:function(c){void 0===c&&(c=0);this.x=c;return this},setY:function(c){void 0===c&&(c=0);this.y=c;return this},setZ:function(c){void 0===c&&(c=0);this.z=c;return this},setW:function(c){void 0===c&&(c=0);this.w=c;return this},getLocalTransformMatrix:function(c){void 0===c&&(c=new g);return c.applyITRS(this.x,
this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(c,l){void 0===c&&(c=new g);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(c);l||(l=new g);for(c.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)l.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),l.multiply(c,c),f=f.parentContainer;return c},getLocalPoint:function(c,l,f,k){f||(f=new h);k||(k=this.scene.sys.cameras.main);var n=k.scrollX;k=k.scrollY;c=c+n*this.scrollFactorX-
n;l=l+k*this.scrollFactorY-k;this.parentContainer?this.getWorldTransformMatrix().applyInverse(c,l,f):d(c,l,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f);this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY);return f},getParentRotation:function(){for(var c=0,l=this.parentContainer;l;)c+=l.rotation,l=l.parentContainer;return c}}},61340:(r,p,a)=>{p=a(83419);var m=a(36383),g=a(26099);a=new p({initialize:function(d,b,e,h,c,l){void 0===d&&(d=1);void 0===b&&(b=0);void 0===
e&&(e=0);void 0===h&&(h=1);void 0===c&&(c=0);void 0===l&&(l=0);this.matrix=new Float32Array([d,b,e,h,c,l,0,0,1]);this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0};this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(d){this.matrix[0]=d}},b:{get:function(){return this.matrix[1]},set:function(d){this.matrix[1]=d}},c:{get:function(){return this.matrix[2]},set:function(d){this.matrix[2]=d}},d:{get:function(){return this.matrix[3]},set:function(d){this.matrix[3]=
d}},e:{get:function(){return this.matrix[4]},set:function(d){this.matrix[4]=d}},f:{get:function(){return this.matrix[5]},set:function(d){this.matrix[5]=d}},tx:{get:function(){return this.matrix[4]},set:function(d){this.matrix[4]=d}},ty:{get:function(){return this.matrix[5]},set:function(d){this.matrix[5]=d}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(0>Math.atan(-this.c/this.a)?-1:1)}},rotationNormalized:{get:function(){var d=this.matrix,b=d[0],e=d[1],h=d[2];d=d[3];return b||e?
0<e?Math.acos(b/this.scaleX):-Math.acos(b/this.scaleX):h||d?m.TAU-(0<d?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var d=this.matrix;d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;return this},translate:function(d,b){var e=this.matrix;e[4]=e[0]*d+e[2]*b+e[4];e[5]=e[1]*d+e[3]*b+e[5];return this},scale:function(d,b){var e=this.matrix;
e[0]*=d;e[1]*=d;e[2]*=b;e[3]*=b;return this},rotate:function(d){var b=Math.sin(d);d=Math.cos(d);var e=this.matrix,h=e[0],c=e[1],l=e[2],f=e[3];e[0]=h*d+l*b;e[1]=c*d+f*b;e[2]=h*-b+l*d;e[3]=c*-b+f*d;return this},multiply:function(d,b){var e=this.matrix,h=d.matrix;d=e[0];var c=e[1],l=e[2],f=e[3],k=e[4],n=e[5],q=h[0],t=h[1],v=h[2],u=h[3],x=h[4];h=h[5];b=void 0===b?e:b.matrix;b[0]=q*d+t*l;b[1]=q*c+t*f;b[2]=v*d+u*l;b[3]=v*c+u*f;b[4]=x*d+h*l+k;b[5]=x*c+h*f+n;return b},multiplyWithOffset:function(d,b,e){var h=
this.matrix,c=d.matrix;d=h[0];var l=h[1],f=h[2],k=h[3],n=h[4],q=h[5],t=c[0],v=c[1],u=c[2],x=c[3],w=c[4];c=c[5];h[0]=t*d+v*f;h[1]=t*l+v*k;h[2]=u*d+x*f;h[3]=u*l+x*k;h[4]=w*d+c*f+(b*d+e*f+n);h[5]=w*l+c*k+(b*l+e*k+q);return this},transform:function(d,b,e,h,c,l){var f=this.matrix,k=f[0],n=f[1],q=f[2],t=f[3],v=f[4],u=f[5];f[0]=d*k+b*q;f[1]=d*n+b*t;f[2]=e*k+h*q;f[3]=e*n+h*t;f[4]=c*k+l*q+v;f[5]=c*n+l*t+u;return this},transformPoint:function(d,b,e){void 0===e&&(e={x:0,y:0});var h=this.matrix,c=h[1],l=h[3],
f=h[5];e.x=d*h[0]+b*h[2]+h[4];e.y=d*c+b*l+f;return e},invert:function(){var d=this.matrix,b=d[0],e=d[1],h=d[2],c=d[3],l=d[4],f=d[5],k=b*c-e*h;d[0]=c/k;d[1]=-e/k;d[2]=-h/k;d[3]=b/k;d[4]=(h*f-c*l)/k;d[5]=-(b*f-e*l)/k;return this},copyFrom:function(d){var b=this.matrix;b[0]=d.a;b[1]=d.b;b[2]=d.c;b[3]=d.d;b[4]=d.e;b[5]=d.f;return this},copyFromArray:function(d){var b=this.matrix;b[0]=d[0];b[1]=d[1];b[2]=d[2];b[3]=d[3];b[4]=d[4];b[5]=d[5];return this},copyToContext:function(d){var b=this.matrix;d.transform(b[0],
b[1],b[2],b[3],b[4],b[5]);return d},setToContext:function(d){d.setTransform(this);return d},copyToArray:function(d){var b=this.matrix;void 0===d?d=[b[0],b[1],b[2],b[3],b[4],b[5]]:(d[0]=b[0],d[1]=b[1],d[2]=b[2],d[3]=b[3],d[4]=b[4],d[5]=b[5]);return d},setTransform:function(d,b,e,h,c,l){var f=this.matrix;f[0]=d;f[1]=b;f[2]=e;f[3]=h;f[4]=c;f[5]=l;return this},decomposeMatrix:function(){var d=this.decomposedMatrix,b=this.matrix,e=b[0],h=b[1],c=b[2],l=b[3],f=e*l-h*c;d.translateX=b[4];d.translateY=b[5];
e||h?(c=Math.sqrt(e*e+h*h),d.rotation=0<h?Math.acos(e/c):-Math.acos(e/c),d.scaleX=c,d.scaleY=f/c):c||l?(e=Math.sqrt(c*c+l*l),d.rotation=.5*Math.PI-(0<l?Math.acos(-c/e):-Math.acos(c/e)),d.scaleX=f/e,d.scaleY=e):(d.rotation=0,d.scaleX=0,d.scaleY=0);return d},applyITRS:function(d,b,e,h,c){var l=this.matrix,f=Math.sin(e);e=Math.cos(e);l[4]=d;l[5]=b;l[0]=e*h;l[1]=f*h;l[2]=-f*c;l[3]=e*c;return this},applyInverse:function(d,b,e){void 0===e&&(e=new g);var h=this.matrix,c=h[0],l=h[1],f=h[2],k=h[3],n=h[4];
h=h[5];var q=1/(c*k+f*-l);e.x=k*q*d+-f*q*b+(h*f-n*k)*q;e.y=c*q*b+-l*q*d+(-h*c+n*l)*q;return e},setQuad:function(d,b,e,h,c,l){void 0===c&&(c=!1);void 0===l&&(l=this.quad);var f=this.matrix,k=f[0],n=f[1],q=f[2],t=f[3],v=f[4];f=f[5];c?(l[0]=Math.round(d*k+b*q+v),l[1]=Math.round(d*n+b*t+f),l[2]=Math.round(d*k+h*q+v),l[3]=Math.round(d*n+h*t+f),l[4]=Math.round(e*k+h*q+v),l[5]=Math.round(e*n+h*t+f),l[6]=Math.round(e*k+b*q+v),l[7]=Math.round(e*n+b*t+f)):(l[0]=d*k+b*q+v,l[1]=d*n+b*t+f,l[2]=d*k+h*q+v,l[3]=
d*n+h*t+f,l[4]=e*k+h*q+v,l[5]=e*n+h*t+f,l[6]=e*k+b*q+v,l[7]=e*n+b*t+f);return l},getX:function(d,b){return d*this.a+b*this.c+this.e},getY:function(d,b){return d*this.b+b*this.d+this.f},getXRound:function(d,b,e){d=this.getX(d,b);e&&(d=Math.round(d));return d},getYRound:function(d,b,e){d=this.getY(d,b);e&&(d=Math.round(d));return d},getCSSMatrix:function(){var d=this.matrix;return"matrix("+d[0]+","+d[1]+","+d[2]+","+d[3]+","+d[4]+","+d[5]+")"},destroy:function(){this.decomposedMatrix=this.quad=this.matrix=
null}});r.exports=a},59715:r=>{r.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(p){p?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(p){this.visible=p;return this}}},31401:(r,p,a)=>{r.exports={Alpha:a(16005),AlphaSingle:a(88509),BlendMode:a(90065),ComputedSize:a(94215),Crop:a(61683),Depth:a(89272),Flip:a(54434),FX:a(47059),GetBounds:a(8004),Mask:a(8573),Origin:a(27387),PathFollower:a(37640),Pipeline:a(72699),PostPipeline:a(17581),
ScrollFactor:a(80227),Size:a(16736),Texture:a(37726),TextureCrop:a(79812),Tint:a(27472),ToJSON:a(53774),Transform:a(16901),TransformMatrix:a(61340),Visible:a(59715)}},31559:(r,p,a)=>{var m=a(37105),g=a(10312);p=a(83419);var d=a(31401),b=a(51708),e=a(95643),h=a(87841),c=a(29959),l=a(36899),f=a(26099);a=new p({Extends:e,Mixins:[d.AlphaSingle,d.BlendMode,d.ComputedSize,d.Depth,d.Mask,d.PostPipeline,d.Transform,d.Visible,c],initialize:function(k,n,q,t){e.call(this,k,"Container");this.list=[];this.exclusive=
!0;this.maxSize=-1;this.position=0;this.localTransform=new d.TransformMatrix;this.tempTransformMatrix=new d.TransformMatrix;this._sortKey="";this._sysEvents=k.sys.events;this.scrollFactorY=this.scrollFactorX=1;this.initPostPipeline();this.setPosition(n,q);this.setBlendMode(g.SKIP_CHECK);t&&this.add(t)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(k){void 0===
k&&(k=!0);this.exclusive=k;return this},getBounds:function(k){void 0===k&&(k=new h);k.setTo(this.x,this.y,0,0);if(this.parentContainer){var n=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);k.setTo(n.x,n.y,0,0)}if(0<this.list.length){n=this.list;var q=new h,t=!1;k.setEmpty();for(var v=0;v<n.length;v++){var u=n[v];u.getBounds&&(u.getBounds(q),t?l(q,k,k):(k.setTo(q.x,q.y,q.width,q.height),t=!0))}}return k},addHandler:function(k){k.once(b.DESTROY,this.onChildDestroyed,this);
this.exclusive&&(k.parentContainer&&k.parentContainer.remove(k),k.parentContainer=this,k.removeFromDisplayList(),k.addedToScene())},removeHandler:function(k){k.off(b.DESTROY,this.remove,this);this.exclusive&&(k.parentContainer=null,k.removedFromScene(),k.addToDisplayList())},pointToContainer:function(k,n){void 0===n&&(n=new f);this.parentContainer?this.parentContainer.pointToContainer(k,n):(n.x=k.x,n.y=k.y);var q=this.tempTransformMatrix;q.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY);
q.invert();q.transformPoint(k.x,k.y,n);return n},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(k){m.Add(this.list,k,this.maxSize,this.addHandler,this);return this},addAt:function(k,n){m.AddAt(this.list,k,n,this.maxSize,this.addHandler,this);return this},getAt:function(k){return this.list[k]},getIndex:function(k){return this.list.indexOf(k)},sort:function(k,n){if(!k)return this;void 0===n&&(n=function(q,t){return q[k]-
t[k]});m.StableSort(this.list,n);return this},getByName:function(k){return m.GetFirst(this.list,"name",k)},getRandom:function(k,n){return m.GetRandom(this.list,k,n)},getFirst:function(k,n,q,t){return m.GetFirst(this.list,k,n,q,t)},getAll:function(k,n,q,t){return m.GetAll(this.list,k,n,q,t)},count:function(k,n,q,t){return m.CountAllMatching(this.list,k,n,q,t)},swap:function(k,n){m.Swap(this.list,k,n);return this},moveTo:function(k,n){m.MoveTo(this.list,k,n);return this},moveAbove:function(k,n){m.MoveAbove(this.list,
k,n);return this},moveBelow:function(k,n){m.MoveBelow(this.list,k,n);return this},remove:function(k,n){k=m.Remove(this.list,k,this.removeHandler,this);if(n&&k)for(Array.isArray(k)||(k=[k]),n=0;n<k.length;n++)k[n].destroy();return this},removeAt:function(k,n){k=m.RemoveAt(this.list,k,this.removeHandler,this);n&&k&&k.destroy();return this},removeBetween:function(k,n,q){k=m.RemoveBetween(this.list,k,n,this.removeHandler,this);if(q)for(q=0;q<k.length;q++)k[q].destroy();return this},removeAll:function(k){var n=
this.list;if(k){for(k=0;k<n.length;k++)n[k]&&n[k].scene&&(n[k].off(b.DESTROY,this.onChildDestroyed,this),n[k].destroy());this.list=[]}else m.RemoveBetween(n,0,n.length,this.removeHandler,this);return this},bringToTop:function(k){m.BringToTop(this.list,k);return this},sendToBack:function(k){m.SendToBack(this.list,k);return this},moveUp:function(k){m.MoveUp(this.list,k);return this},moveDown:function(k){m.MoveDown(this.list,k);return this},reverse:function(){this.list.reverse();return this},shuffle:function(){m.Shuffle(this.list);
return this},replace:function(k,n,q){m.Replace(this.list,k,n)&&(this.addHandler(n),this.removeHandler(k),q&&k.destroy());return this},exists:function(k){return-1<this.list.indexOf(k)},setAll:function(k,n,q,t){m.SetAll(this.list,k,n,q,t);return this},each:function(k,n){var q=[null],t,v=this.list.slice(),u=v.length;for(t=2;t<arguments.length;t++)q.push(arguments[t]);for(t=0;t<u;t++)q[0]=v[t],k.apply(n,q);return this},iterate:function(k,n){var q=[null],t;for(t=2;t<arguments.length;t++)q.push(arguments[t]);
for(t=0;t<this.list.length;t++)q[0]=this.list[t],k.apply(n,q);return this},setScrollFactor:function(k,n,q){void 0===n&&(n=k);void 0===q&&(q=!1);this.scrollFactorX=k;this.scrollFactorY=n;q&&(m.SetAll(this.list,"scrollFactorX",k),m.SetAll(this.list,"scrollFactorY",n));return this},length:{get:function(){return this.list.length}},first:{get:function(){this.position=0;return 0<this.list.length?this.list[0]:null}},last:{get:function(){return 0<this.list.length?(this.position=this.list.length-1,this.list[this.position]):
null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return 0<this.position?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive);this.localTransform.destroy();this.tempTransformMatrix.destroy();this.list=[]},onChildDestroyed:function(k){m.Remove(this.list,k);this.exclusive&&(k.parentContainer=null,k.removedFromScene())}});r.exports=a},53584:r=>{r.exports=function(p,
a,m,g){m.addToRenderList(a);var d=a.list;if(0!==d.length){var b=a.localTransform;g?(b.loadIdentity(),b.multiply(g),b.translate(a.x,a.y),b.rotate(a.rotation),b.scale(a.scaleX,a.scaleY)):b.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);(g=-1!==a.blendMode)||p.setBlendMode(0);var e=a._alpha,h=a.scrollFactorX,c=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(p,null,m);for(var l=0;l<d.length;l++){var f=d[l];if(f.willRender(m)){var k=f.alpha,n=f.scrollFactorX,q=f.scrollFactorY;g||f.blendMode===p.currentBlendMode||
p.setBlendMode(f.blendMode);f.setScrollFactor(n*h,q*c);f.setAlpha(k*e);f.renderCanvas(p,f,m,b);f.setAlpha(k);f.setScrollFactor(n,q)}}a.mask&&a.mask.postRenderCanvas(p)}}},77143:(r,p,a)=>{var m=a(25305),g=a(31559);r=a(44603);var d=a(23568),b=a(95540);r.register("container",function(e,h){void 0===e&&(e={});var c=d(e,"x",0),l=d(e,"y",0),f=b(e,"children",null);c=new g(this.scene,c,l,f);void 0!==h&&(e.add=h);m(this.scene,c,e);return c})},24961:(r,p,a)=>{var m=a(31559);a(39429).register("container",function(g,
d,b){return this.displayList.add(new m(this.scene,g,d,b))})},29959:(r,p,a)=>{a(29747);p=a(72249);a=a(53584);r.exports={renderWebGL:p,renderCanvas:a}},72249:r=>{r.exports=function(p,a,m,g){m.addToRenderList(a);var d=a.list,b=d.length;if(0!==b){var e=a.localTransform;g?(e.loadIdentity(),e.multiply(g),e.translate(a.x,a.y),e.rotate(a.rotation),e.scale(a.scaleX,a.scaleY)):e.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);p.pipelines.preBatch(a);(g=-1!==a.blendMode)||p.setBlendMode(0);for(var h=a.alpha,
c=a.scrollFactorX,l=a.scrollFactorY,f=0;f<b;f++){var k=d[f];if(k.willRender(m)){if(void 0!==k.alphaTopLeft){var n=k.alphaTopLeft;var q=k.alphaTopRight;var t=k.alphaBottomLeft;var v=k.alphaBottomRight}else t=q=n=v=k.alpha;var u=k.scrollFactorX,x=k.scrollFactorY;g||k.blendMode===p.currentBlendMode||p.setBlendMode(k.blendMode);var w=k.mask;w&&w.preRenderWebGL(p,k,m);var y=k.type;y!==p.currentType&&(p.newType=!0,p.currentType=y);p.nextTypeMatch=f<b-1?d[f+1].type===p.currentType:!1;k.setScrollFactor(u*
c,x*l);k.setAlpha(n*h,q*h,t*h,v*h);k.renderWebGL(p,k,m,e,a);k.setAlpha(n,q,t,v);k.setScrollFactor(u,x);w&&w.postRenderWebGL(p,m);p.newType=!1}}p.pipelines.postBatch(a)}}},47407:r=>{r.exports="normal multiply multiply screen overlay darken lighten color-dodge color-burn hard-light soft-light difference exclusion hue saturation color luminosity".split(" ")},3069:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(441),d=a(95643),b=a(41212),e=a(35846),h=a(44594),c=a(61369);a=new p({Extends:d,Mixins:[m.AlphaSingle,
m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,g],initialize:function(l,f,k,n,q,t){d.call(this,l,"DOMElement");this.parent=l.sys.game.domContainer;this.cache=l.sys.cache.html;this.transformOnly=!1;this.skewY=this.skewX=0;this.rotate3d=new c;this.rotate3dAngle="deg";this.pointerEvents="auto";this.displayHeight=this.displayWidth=this.height=this.width=0;this.handler=this.dispatchNativeEvent.bind(this);this.setPosition(f,k);"string"===typeof n?"#"===n[0]?this.setElement(n.substr(1),
q,t):this.createElement(n,q,t):n&&this.setElement(n,q,t);l.sys.events.on(h.SLEEP,this.handleSceneEvent,this);l.sys.events.on(h.WAKE,this.handleSceneEvent,this);l.sys.events.on(h.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(l){var f=this.node,k=f.style;f&&(k.display=l.settings.visible?"block":"none")},setSkew:function(l,f){void 0===l&&(l=0);void 0===f&&(f=l);this.skewX=l;this.skewY=f;return this},setPerspective:function(l){this.parent.style.perspective=l+"px";return this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},
set:function(l){this.parent.style.perspective=l+"px"}},addListener:function(l){if(this.node){l=l.split(" ");for(var f=0;f<l.length;f++)this.node.addEventListener(l[f],this.handler,!1)}return this},removeListener:function(l){if(this.node){l=l.split(" ");for(var f=0;f<l.length;f++)this.node.removeEventListener(l[f],this.handler)}return this},dispatchNativeEvent:function(l){this.emit(l.type,l)},createElement:function(l,f,k){return this.setElement(document.createElement(l),f,k)},setElement:function(l,
f,k){this.removeElement();if("string"===typeof l){"#"===l[0]&&(l=l.substr(1));var n=document.getElementById(l)}else"object"===typeof l&&1===l.nodeType&&(n=l);if(!n)return this;this.node=n;if(f&&b(f))for(var q in f)n.style[q]=f[q];else"string"===typeof f&&(n.style=f);n.style.zIndex="0";n.style.display="inline";n.style.position="absolute";n.phaser=this;this.parent&&this.parent.appendChild(n);k&&(n.innerText=k);return this.updateSize()},createFromCache:function(l,f){(l=this.cache.get(l))&&this.createFromHTML(l,
f);return this},createFromHTML:function(l,f){void 0===f&&(f="div");this.removeElement();this.node=f=document.createElement(f);f.style.zIndex="0";f.style.display="inline";f.style.position="absolute";f.phaser=this;this.parent&&this.parent.appendChild(f);f.innerHTML=l;return this.updateSize()},removeElement:function(){this.node&&(e(this.node),this.node=null);return this},updateSize:function(){var l=this.node,f=l.getBoundingClientRect();this.width=l.clientWidth;this.height=l.clientHeight;this.displayWidth=
f.width||0;this.displayHeight=f.height||0;return this},getChildByProperty:function(l,f){if(this.node)for(var k=this.node.querySelectorAll("*"),n=0;n<k.length;n++)if(k[n][l]===f)return k[n];return null},getChildByID:function(l){return this.getChildByProperty("id",l)},getChildByName:function(l){return this.getChildByProperty("name",l)},setClassName:function(l){this.node&&(this.node.className=l,this.updateSize());return this},setText:function(l){this.node&&(this.node.innerText=l,this.updateSize());return this},
setHTML:function(l){this.node&&(this.node.innerHTML=l,this.updateSize());return this},preRender:function(){var l=this.parentContainer,f=this.node;f&&l&&!l.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement();this.scene.sys.events.off(h.SLEEP,this.handleSceneEvent,this);this.scene.sys.events.off(h.WAKE,this.handleSceneEvent,this);this.scene.sys.events.off(h.PRE_RENDER,this.preRender,this)}});r.exports=a},49381:(r,p,a)=>{var m=a(47407),g=
a(95643);p=a(61340);var d=new p,b=new p,e=new p;r.exports=function(h,c,l,f){if(c.node){h=c.node.style;var k=c.scene.sys.settings;if(!h||!k.visible||g.RENDER_MASK!==c.renderFlags||0!==c.cameraFilter&&c.cameraFilter&l.id||c.parentContainer&&!c.parentContainer.willRender())h.display="none";else{var n=c.parentContainer;k=l.alpha*c.alpha;n&&(k*=n.alpha);var q="0%",t="0%";if(f){n=c.width*c.scaleX*c.originX;var v=c.height*c.scaleY*c.originY;b.applyITRS(c.x-n,c.y-v,c.rotation,c.scaleX,c.scaleY);d.copyFrom(l.matrix);
d.multiplyWithOffset(f,-l.scrollX*c.scrollFactorX,-l.scrollY*c.scrollFactorY);b.e=c.x-n;b.f=c.y-v}else n=c.width*c.originX,v=c.height*c.originY,b.applyITRS(c.x-n,c.y-v,c.rotation,c.scaleX,c.scaleY),d.copyFrom(l.matrix),q=100*c.originX+"%",t=100*c.originY+"%",b.e-=l.scrollX*c.scrollFactorX,b.f-=l.scrollY*c.scrollFactorY;d.multiply(b,e);c.transformOnly||(h.display="block",h.opacity=k,h.zIndex=c._depth,h.pointerEvents=c.pointerEvents,h.mixBlendMode=m[c._blendMode]);h.transform=e.getCSSMatrix()+" skew("+
c.skewX+"rad, "+c.skewY+"rad) rotate3d("+c.rotate3d.x+","+c.rotate3d.y+","+c.rotate3d.z+","+c.rotate3d.w+c.rotate3dAngle+")";h.transformOrigin=q+" "+t}}}},2611:(r,p,a)=>{var m=a(3069);a(39429).register("dom",function(g,d,b,e,h){g=new m(this.scene,g,d,b,e,h);this.displayList.add(g);return g})},441:(r,p,a)=>{a(29747);p=a(49381);a=a(49381);r.exports={renderWebGL:p,renderCanvas:a}},62980:r=>{r.exports="addedtoscene"},41337:r=>{r.exports="destroy"},44947:r=>{r.exports="removedfromscene"},49358:r=>{r.exports=
"complete"},35163:r=>{r.exports="created"},97249:r=>{r.exports="error"},19483:r=>{r.exports="locked"},56059:r=>{r.exports="loop"},26772:r=>{r.exports="metadata"},64437:r=>{r.exports="playing"},83411:r=>{r.exports="play"},75780:r=>{r.exports="seeked"},67799:r=>{r.exports="seeking"},63500:r=>{r.exports="stalled"},55541:r=>{r.exports="stop"},53208:r=>{r.exports="textureready"},4992:r=>{r.exports="unlocked"},12:r=>{r.exports="unsupported"},51708:(r,p,a)=>{r.exports={ADDED_TO_SCENE:a(62980),DESTROY:a(41337),
REMOVED_FROM_SCENE:a(44947),VIDEO_COMPLETE:a(49358),VIDEO_CREATED:a(35163),VIDEO_ERROR:a(97249),VIDEO_LOCKED:a(19483),VIDEO_LOOP:a(56059),VIDEO_METADATA:a(26772),VIDEO_PLAY:a(83411),VIDEO_PLAYING:a(64437),VIDEO_SEEKED:a(75780),VIDEO_SEEKING:a(67799),VIDEO_STALLED:a(63500),VIDEO_STOP:a(55541),VIDEO_TEXTURE:a(53208),VIDEO_UNLOCKED:a(4992),VIDEO_UNSUPPORTED:a(12)}},42421:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(95643);a=a(64993);a=new p({Extends:g,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,
m.Size,m.Texture,m.Tint,m.Transform,m.Visible,a],initialize:function(d){g.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});r.exports=a},70217:()=>{},56315:(r,p,a)=>{var m=a(42421);a(39429).register("extern",function(){var g=new m(this.scene);this.displayList.add(g);return g})},64993:(r,p,a)=>{a(29747);p=a(80287);a=a(70217);r.exports={renderWebGL:p,renderCanvas:a}},
80287:(r,p,a)=>{var m=a(91296);r.exports=function(g,d,b,e){g.pipelines.clear();e=m(d,b,e).calc;d.render.call(d,g,b,e);g.pipelines.rebind()}},85592:r=>{r.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(r,p,a)=>{p=a(71911);var m=a(83419),g=a(85592),d=a(31401),b=a(8497),e=a(95643),h=a(95540),
c=a(35154),l=a(36383);a=a(84503);var f=new m({Extends:e,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.Pipeline,d.PostPipeline,d.Transform,d.Visible,d.ScrollFactor,a],initialize:function(k,n){var q=c(n,"x",0),t=c(n,"y",0);e.call(this,k,"Graphics");this.setPosition(q,t);this.initPipeline();this.initPostPipeline();this.displayOriginY=this.displayOriginX=0;this.commandBuffer=[];this.defaultFillColor=-1;this.defaultStrokeWidth=this.defaultFillAlpha=1;this.defaultStrokeColor=-1;this._lineWidth=this.defaultStrokeAlpha=
1;this.lineStyle(1,0,0);this.fillStyle(0,0);this.setDefaultStyles(n)},setDefaultStyles:function(k){c(k,"lineStyle",null)&&(this.defaultStrokeWidth=c(k,"lineStyle.width",1),this.defaultStrokeColor=c(k,"lineStyle.color",16777215),this.defaultStrokeAlpha=c(k,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha));c(k,"fillStyle",null)&&(this.defaultFillColor=c(k,"fillStyle.color",16777215),this.defaultFillAlpha=c(k,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,
this.defaultFillAlpha));return this},lineStyle:function(k,n,q){void 0===q&&(q=1);this.commandBuffer.push(g.LINE_STYLE,k,n,q);this._lineWidth=k;return this},fillStyle:function(k,n){void 0===n&&(n=1);this.commandBuffer.push(g.FILL_STYLE,k,n);return this},fillGradientStyle:function(k,n,q,t,v,u,x,w){void 0===v&&(v=1);void 0===u&&(u=v);void 0===x&&(x=v);void 0===w&&(w=v);this.commandBuffer.push(g.GRADIENT_FILL_STYLE,v,u,x,w,k,n,q,t);return this},lineGradientStyle:function(k,n,q,t,v,u){void 0===u&&(u=1);
this.commandBuffer.push(g.GRADIENT_LINE_STYLE,k,u,n,q,t,v);return this},beginPath:function(){this.commandBuffer.push(g.BEGIN_PATH);return this},closePath:function(){this.commandBuffer.push(g.CLOSE_PATH);return this},fillPath:function(){this.commandBuffer.push(g.FILL_PATH);return this},fill:function(){this.commandBuffer.push(g.FILL_PATH);return this},strokePath:function(){this.commandBuffer.push(g.STROKE_PATH);return this},stroke:function(){this.commandBuffer.push(g.STROKE_PATH);return this},fillCircleShape:function(k){return this.fillCircle(k.x,
k.y,k.radius)},strokeCircleShape:function(k){return this.strokeCircle(k.x,k.y,k.radius)},fillCircle:function(k,n,q){this.beginPath();this.arc(k,n,q,0,l.PI2);this.fillPath();return this},strokeCircle:function(k,n,q){this.beginPath();this.arc(k,n,q,0,l.PI2);this.strokePath();return this},fillRectShape:function(k){return this.fillRect(k.x,k.y,k.width,k.height)},strokeRectShape:function(k){return this.strokeRect(k.x,k.y,k.width,k.height)},fillRect:function(k,n,q,t){this.commandBuffer.push(g.FILL_RECT,
k,n,q,t);return this},strokeRect:function(k,n,q,t){var v=this._lineWidth/2,u=k-v;v=k+v;this.beginPath();this.moveTo(k,n);this.lineTo(k,n+t);this.strokePath();this.beginPath();this.moveTo(k+q,n);this.lineTo(k+q,n+t);this.strokePath();this.beginPath();this.moveTo(u,n);this.lineTo(v+q,n);this.strokePath();this.beginPath();this.moveTo(u,n+t);this.lineTo(v+q,n+t);this.strokePath();return this},fillRoundedRect:function(k,n,q,t,v){void 0===v&&(v=20);var u=v,x=v,w=v,y=v;"number"!==typeof v&&(u=h(v,"tl",20),
x=h(v,"tr",20),w=h(v,"bl",20),y=h(v,"br",20));v=0<=u;var z=0<=x,C=0<=w,A=0<=y;u=Math.abs(u);x=Math.abs(x);w=Math.abs(w);y=Math.abs(y);this.beginPath();this.moveTo(k+u,n);this.lineTo(k+q-x,n);z?this.arc(k+q-x,n+x,x,-l.TAU,0):this.arc(k+q,n,x,Math.PI,l.TAU,!0);this.lineTo(k+q,n+t-y);A?this.arc(k+q-y,n+t-y,y,0,l.TAU):this.arc(k+q,n+t,y,-l.TAU,Math.PI,!0);this.lineTo(k+w,n+t);C?this.arc(k+w,n+t-w,w,l.TAU,Math.PI):this.arc(k,n+t,w,0,-l.TAU,!0);this.lineTo(k,n+u);v?this.arc(k+u,n+u,u,-Math.PI,-l.TAU):this.arc(k,
n,u,l.TAU,0,!0);this.fillPath();return this},strokeRoundedRect:function(k,n,q,t,v){void 0===v&&(v=20);var u=v,x=v,w=v,y=v,z=Math.min(q,t)/2;"number"!==typeof v&&(u=h(v,"tl",20),x=h(v,"tr",20),w=h(v,"bl",20),y=h(v,"br",20));v=0<=u;var C=0<=x,A=0<=w,B=0<=y;u=Math.min(Math.abs(u),z);x=Math.min(Math.abs(x),z);w=Math.min(Math.abs(w),z);y=Math.min(Math.abs(y),z);this.beginPath();this.moveTo(k+u,n);this.lineTo(k+q-x,n);this.moveTo(k+q-x,n);C?this.arc(k+q-x,n+x,x,-l.TAU,0):this.arc(k+q,n,x,Math.PI,l.TAU,
!0);this.lineTo(k+q,n+t-y);this.moveTo(k+q,n+t-y);B?this.arc(k+q-y,n+t-y,y,0,l.TAU):this.arc(k+q,n+t,y,-l.TAU,Math.PI,!0);this.lineTo(k+w,n+t);this.moveTo(k+w,n+t);A?this.arc(k+w,n+t-w,w,l.TAU,Math.PI):this.arc(k,n+t,w,0,-l.TAU,!0);this.lineTo(k,n+u);this.moveTo(k,n+u);v?this.arc(k+u,n+u,u,-Math.PI,-l.TAU):this.arc(k,n,u,l.TAU,0,!0);this.strokePath();return this},fillPointShape:function(k,n){return this.fillPoint(k.x,k.y,n)},fillPoint:function(k,n,q){!q||1>q?q=1:(k-=q/2,n-=q/2);this.commandBuffer.push(g.FILL_RECT,
k,n,q,q);return this},fillTriangleShape:function(k){return this.fillTriangle(k.x1,k.y1,k.x2,k.y2,k.x3,k.y3)},strokeTriangleShape:function(k){return this.strokeTriangle(k.x1,k.y1,k.x2,k.y2,k.x3,k.y3)},fillTriangle:function(k,n,q,t,v,u){this.commandBuffer.push(g.FILL_TRIANGLE,k,n,q,t,v,u);return this},strokeTriangle:function(k,n,q,t,v,u){this.commandBuffer.push(g.STROKE_TRIANGLE,k,n,q,t,v,u);return this},strokeLineShape:function(k){return this.lineBetween(k.x1,k.y1,k.x2,k.y2)},lineBetween:function(k,
n,q,t){this.beginPath();this.moveTo(k,n);this.lineTo(q,t);this.strokePath();return this},lineTo:function(k,n){this.commandBuffer.push(g.LINE_TO,k,n);return this},moveTo:function(k,n){this.commandBuffer.push(g.MOVE_TO,k,n);return this},strokePoints:function(k,n,q,t){void 0===n&&(n=!1);void 0===q&&(q=!1);void 0===t&&(t=k.length);this.beginPath();this.moveTo(k[0].x,k[0].y);for(var v=1;v<t;v++)this.lineTo(k[v].x,k[v].y);n&&this.lineTo(k[0].x,k[0].y);q&&this.closePath();this.strokePath();return this},
fillPoints:function(k,n,q,t){void 0===n&&(n=!1);void 0===q&&(q=!1);void 0===t&&(t=k.length);this.beginPath();this.moveTo(k[0].x,k[0].y);for(var v=1;v<t;v++)this.lineTo(k[v].x,k[v].y);n&&this.lineTo(k[0].x,k[0].y);q&&this.closePath();this.fillPath();return this},strokeEllipseShape:function(k,n){void 0===n&&(n=32);k=k.getPoints(n);return this.strokePoints(k,!0)},strokeEllipse:function(k,n,q,t,v){void 0===v&&(v=32);k=(new b(k,n,q,t)).getPoints(v);return this.strokePoints(k,!0)},fillEllipseShape:function(k,
n){void 0===n&&(n=32);k=k.getPoints(n);return this.fillPoints(k,!0)},fillEllipse:function(k,n,q,t,v){void 0===v&&(v=32);k=(new b(k,n,q,t)).getPoints(v);return this.fillPoints(k,!0)},arc:function(k,n,q,t,v,u,x){void 0===u&&(u=!1);void 0===x&&(x=0);this.commandBuffer.push(g.ARC,k,n,q,t,v,u,x);return this},slice:function(k,n,q,t,v,u,x){void 0===u&&(u=!1);void 0===x&&(x=0);this.commandBuffer.push(g.BEGIN_PATH);this.commandBuffer.push(g.MOVE_TO,k,n);this.commandBuffer.push(g.ARC,k,n,q,t,v,u,x);this.commandBuffer.push(g.CLOSE_PATH);
return this},save:function(){this.commandBuffer.push(g.SAVE);return this},restore:function(){this.commandBuffer.push(g.RESTORE);return this},translateCanvas:function(k,n){this.commandBuffer.push(g.TRANSLATE,k,n);return this},scaleCanvas:function(k,n){this.commandBuffer.push(g.SCALE,k,n);return this},rotateCanvas:function(k){this.commandBuffer.push(g.ROTATE,k);return this},clear:function(){this.commandBuffer.length=0;-1<this.defaultFillColor&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha);
-1<this.defaultStrokeColor&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha);return this},generateTexture:function(k,n,q){var t=this.scene.sys,v=t.game.renderer;void 0===n&&(n=t.scale.width);void 0===q&&(q=t.scale.height);f.TargetCamera.setScene(this.scene);f.TargetCamera.setViewport(0,0,n,q);f.TargetCamera.scrollX=this.x;f.TargetCamera.scrollY=this.y;var u,x={willReadFrequently:!0};if("string"===typeof k)if(t.textures.exists(k)){var w=t.textures.get(k);k=w.getSourceImage();
k instanceof HTMLCanvasElement&&(u=k.getContext("2d",x))}else w=t.textures.createCanvas(k,n,q),u=w.getSourceImage().getContext("2d",x);else k instanceof HTMLCanvasElement&&(u=k.getContext("2d",x));u&&(this.renderCanvas(v,this,f.TargetCamera,null,u,!1),w&&w.refresh());return this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new p;r.exports=f},32768:(r,p,a)=>{var m=a(85592),g=a(20926);r.exports=function(d,b,e,h,c,l){var f=b.commandBuffer,k=f.length;c=c||d.currentContext;if(0!==k&&
g(d,c,b,e,h)){e.addToRenderList(b);c.beginPath();for(e=0;e<k;++e)switch(f[e]){case m.ARC:c.arc(f[e+1],f[e+2],f[e+3],f[e+4],f[e+5],f[e+6]);e+=7;break;case m.LINE_STYLE:var n=f[e+1];var q=f[e+2];h=f[e+3];d=(q&16711680)>>>16;b=(q&65280)>>>8;q&=255;c.strokeStyle="rgba("+d+","+b+","+q+","+h+")";c.lineWidth=n;e+=3;break;case m.FILL_STYLE:n=f[e+1];h=f[e+2];d=(n&16711680)>>>16;b=(n&65280)>>>8;q=n&255;c.fillStyle="rgba("+d+","+b+","+q+","+h+")";e+=2;break;case m.BEGIN_PATH:c.beginPath();break;case m.CLOSE_PATH:c.closePath();
break;case m.FILL_PATH:l||c.fill();break;case m.STROKE_PATH:l||c.stroke();break;case m.FILL_RECT:l?c.rect(f[e+1],f[e+2],f[e+3],f[e+4]):c.fillRect(f[e+1],f[e+2],f[e+3],f[e+4]);e+=4;break;case m.FILL_TRIANGLE:c.beginPath();c.moveTo(f[e+1],f[e+2]);c.lineTo(f[e+3],f[e+4]);c.lineTo(f[e+5],f[e+6]);c.closePath();l||c.fill();e+=6;break;case m.STROKE_TRIANGLE:c.beginPath();c.moveTo(f[e+1],f[e+2]);c.lineTo(f[e+3],f[e+4]);c.lineTo(f[e+5],f[e+6]);c.closePath();l||c.stroke();e+=6;break;case m.LINE_TO:c.lineTo(f[e+
1],f[e+2]);e+=2;break;case m.MOVE_TO:c.moveTo(f[e+1],f[e+2]);e+=2;break;case m.LINE_FX_TO:c.lineTo(f[e+1],f[e+2]);e+=5;break;case m.MOVE_FX_TO:c.moveTo(f[e+1],f[e+2]);e+=5;break;case m.SAVE:c.save();break;case m.RESTORE:c.restore();break;case m.TRANSLATE:c.translate(f[e+1],f[e+2]);e+=2;break;case m.SCALE:c.scale(f[e+1],f[e+2]);e+=2;break;case m.ROTATE:c.rotate(f[e+1]);e+=1;break;case m.GRADIENT_FILL_STYLE:e+=5;break;case m.GRADIENT_LINE_STYLE:e+=6}c.restore()}}},87079:(r,p,a)=>{r=a(44603);var m=a(43831);
r.register("graphics",function(g,d){void 0===g&&(g={});void 0!==d&&(g.add=d);d=new m(this.scene,g);g.add&&this.scene.sys.displayList.add(d);return d})},1201:(r,p,a)=>{var m=a(43831);a(39429).register("graphics",function(g){return this.displayList.add(new m(this.scene,g))})},84503:(r,p,a)=>{a(29747);p=a(77545);a(32768);a=a(32768);r.exports={renderWebGL:p,renderCanvas:a}},77545:(r,p,a)=>{var m=a(85592),g=a(91296);p=a(61340);var d=a(70554),b=function(l,f,k){this.x=l;this.y=f;this.width=k},e=function(l,
f,k){this.points=[];this.pointsLength=1;this.points[0]=new b(l,f,k)},h=[],c=new p;r.exports=function(l,f,k,n){if(0!==f.commandBuffer.length){k.addToRenderList(f);var q=l.pipelines.set(f.pipeline,f);l.pipelines.preBatch(f);n=g(f,k,n).calc;var t=c.loadIdentity(),v=f.commandBuffer;k=k.alpha*f.alpha;for(var u=1,x=q.fillTint,w=q.strokeTint,y,z,C=2*Math.PI,A,B=[],E=!0,G=null,I=d.getTintAppendFloatAlpha,H=0;H<v.length;H++)switch(A=v[H],A){case m.BEGIN_PATH:B.length=0;G=null;E=!0;break;case m.CLOSE_PATH:E=
!1;G&&G.points.length&&G.points.push(G.points[0]);break;case m.FILL_PATH:for(A=0;A<B.length;A++)q.batchFillPath(B[A].points,t,n);break;case m.STROKE_PATH:for(A=0;A<B.length;A++)q.batchStrokePath(B[A].points,u,E,t,n);break;case m.LINE_STYLE:u=v[++H];A=v[++H];var K=v[++H]*k;A=I(A,K);w.TL=A;w.TR=A;w.BL=A;w.BR=A;break;case m.FILL_STYLE:A=v[++H];K=v[++H]*k;A=I(A,K);x.TL=A;x.TR=A;x.BL=A;x.BR=A;break;case m.GRADIENT_FILL_STYLE:A=v[++H]*k;K=v[++H]*k;var L=v[++H]*k,M=v[++H]*k;x.TL=I(v[++H],A);x.TR=I(v[++H],
K);x.BL=I(v[++H],L);x.BR=I(v[++H],M);break;case m.GRADIENT_LINE_STYLE:u=v[++H];A=v[++H]*k;w.TL=I(v[++H],A);w.TR=I(v[++H],A);w.BL=I(v[++H],A);w.BR=I(v[++H],A);break;case m.ARC:A=0;K=v[++H];L=v[++H];M=v[++H];var P=v[++H],D=v[++H];y=v[++H];var F=v[++H];D-=P;y?D<-C?D=-C:0<D&&(D=-C+D%C):D>C?D=C:0>D&&(D=C+D%C);null===G&&(G=new e(K+Math.cos(P)*M,L+Math.sin(P)*M,u),B.push(G),A+=.01);for(;A<1+F;)z=D*A+P,y=K+Math.cos(z)*M,z=L+Math.sin(z)*M,G.points.push(new b(y,z,u)),A+=.01;z=D+P;y=K+Math.cos(z)*M;z=L+Math.sin(z)*
M;G.points.push(new b(y,z,u));break;case m.FILL_RECT:q.batchFillRect(v[++H],v[++H],v[++H],v[++H],t,n);break;case m.FILL_TRIANGLE:q.batchFillTriangle(v[++H],v[++H],v[++H],v[++H],v[++H],v[++H],t,n);break;case m.STROKE_TRIANGLE:q.batchStrokeTriangle(v[++H],v[++H],v[++H],v[++H],v[++H],v[++H],u,t,n);break;case m.LINE_TO:null!==G?G.points.push(new b(v[++H],v[++H],u)):(G=new e(v[++H],v[++H],u),B.push(G));break;case m.MOVE_TO:G=new e(v[++H],v[++H],u);B.push(G);break;case m.SAVE:h.push(t.copyToArray());break;
case m.RESTORE:t.copyFromArray(h.pop());break;case m.TRANSLATE:K=v[++H];L=v[++H];t.translate(K,L);break;case m.SCALE:K=v[++H];L=v[++H];t.scale(K,L);break;case m.ROTATE:t.rotate(v[++H])}l.pipelines.postBatch(f)}}},26479:(r,p,a)=>{var m=a(61061);p=a(83419);var g=a(51708),d=a(50792),b=a(46710),e=a(95540),h=a(35154),c=a(97022),l=a(41212),f=a(88492),k=a(35072),n=a(68287);a=new p({Extends:d,initialize:function(q,t,v){d.call(this);v?t&&!Array.isArray(t)&&(t=[t]):Array.isArray(t)?l(t[0])&&(v=t,t=null):l(t)&&
(v=t,t=null);this.scene=q;this.children=new k;this.isParent=!0;this.type="Group";this.classType=e(v,"classType",n);this.name=e(v,"name","");this.active=e(v,"active",!0);this.maxSize=e(v,"maxSize",-1);this.defaultKey=e(v,"defaultKey",null);this.defaultFrame=e(v,"defaultFrame",null);this.runChildUpdate=e(v,"runChildUpdate",!1);this.createCallback=e(v,"createCallback",null);this.removeCallback=e(v,"removeCallback",null);this.createMultipleCallback=e(v,"createMultipleCallback",null);this.internalCreateCallback=
e(v,"internalCreateCallback",null);this.internalRemoveCallback=e(v,"internalRemoveCallback",null);t&&this.addMultiple(t);v&&this.createMultiple(v);this.on(g.ADDED_TO_SCENE,this.addedToScene,this);this.on(g.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(q,t,v,u,x,w){void 0===q&&(q=0);void 0===t&&(t=0);void 0===v&&(v=this.defaultKey);void 0===u&&(u=this.defaultFrame);
void 0===x&&(x=!0);void 0===w&&(w=!0);if(this.isFull())return null;q=new this.classType(this.scene,q,t,v,u);q.addToDisplayList(this.scene.sys.displayList);q.addToUpdateList();q.visible=x;q.setActive(w);this.add(q);return q},createMultiple:function(q){if(this.isFull())return[];Array.isArray(q)||(q=[q]);var t=[];if(q[0].key)for(var v=0;v<q.length;v++){var u=this.createFromConfig(q[v]);t=t.concat(u)}return t},createFromConfig:function(q){if(this.isFull())return[];this.classType=e(q,"classType",this.classType);
var t=e(q,"key",void 0),v=e(q,"frame",null),u=e(q,"visible",!0),x=e(q,"active",!0),w=[];if(void 0===t)return w;Array.isArray(t)||(t=[t]);Array.isArray(v)||(v=[v]);var y=e(q,"repeat",0),z=e(q,"randomKey",!1),C=e(q,"randomFrame",!1),A=e(q,"yoyo",!1),B=e(q,"quantity",!1),E=e(q,"frameQuantity",1),G=e(q,"max",0);t=f(t,v,{max:G,qty:B?B:E,random:z,randomB:C,repeat:y,yoyo:A});q.createCallback&&(this.createCallback=q.createCallback);q.removeCallback&&(this.removeCallback=q.removeCallback);q.internalCreateCallback&&
(this.internalCreateCallback=q.internalCreateCallback);q.internalRemoveCallback&&(this.internalRemoveCallback=q.internalRemoveCallback);for(v=0;v<t.length;v++){y=this.create(0,0,t[v].a,t[v].b,u,x);if(!y)break;w.push(y)}c(q,"setXY")&&(u=h(q,"setXY.x",0),x=h(q,"setXY.y",0),t=h(q,"setXY.stepX",0),v=h(q,"setXY.stepY",0),m.SetXY(w,u,x,t,v));c(q,"setRotation")&&(u=h(q,"setRotation.value",0),x=h(q,"setRotation.step",0),m.SetRotation(w,u,x));c(q,"setScale")&&(u=h(q,"setScale.x",1),x=h(q,"setScale.y",u),t=
h(q,"setScale.stepX",0),v=h(q,"setScale.stepY",0),m.SetScale(w,u,x,t,v));c(q,"setOrigin")&&(u=h(q,"setOrigin.x",.5),x=h(q,"setOrigin.y",u),t=h(q,"setOrigin.stepX",0),v=h(q,"setOrigin.stepY",0),m.SetOrigin(w,u,x,t,v));c(q,"setAlpha")&&(u=h(q,"setAlpha.value",1),x=h(q,"setAlpha.step",0),m.SetAlpha(w,u,x));c(q,"setDepth")&&(u=h(q,"setDepth.value",0),x=h(q,"setDepth.step",0),m.SetDepth(w,u,x));c(q,"setScrollFactor")&&(u=h(q,"setScrollFactor.x",1),x=h(q,"setScrollFactor.y",u),t=h(q,"setScrollFactor.stepX",
0),v=h(q,"setScrollFactor.stepY",0),m.SetScrollFactor(w,u,x,t,v));u=e(q,"hitArea",null);x=e(q,"hitAreaCallback",null);u&&m.SetHitArea(w,u,x);(q=e(q,"gridAlign",!1))&&m.GridAlign(w,q);this.createMultipleCallback&&this.createMultipleCallback.call(this,w);return w},preUpdate:function(q,t){if(this.runChildUpdate&&0!==this.children.size)for(var v=this.children.entries.slice(),u=0;u<v.length;u++){var x=v[u];x.active&&x.update(q,t)}},add:function(q,t){void 0===t&&(t=!1);if(this.isFull())return this;this.children.set(q);
this.internalCreateCallback&&this.internalCreateCallback.call(this,q);this.createCallback&&this.createCallback.call(this,q);t&&(q.addToDisplayList(this.scene.sys.displayList),q.addToUpdateList());q.on(g.DESTROY,this.remove,this);return this},addMultiple:function(q,t){void 0===t&&(t=!1);if(Array.isArray(q))for(var v=0;v<q.length;v++)this.add(q[v],t);return this},remove:function(q,t,v){void 0===t&&(t=!1);void 0===v&&(v=!1);if(!this.children.contains(q))return this;this.children.delete(q);this.internalRemoveCallback&&
this.internalRemoveCallback.call(this,q);this.removeCallback&&this.removeCallback.call(this,q);q.off(g.DESTROY,this.remove,this);v?q.destroy():t&&(q.removeFromDisplayList(),q.removeFromUpdateList());return this},clear:function(q,t){void 0===q&&(q=!1);void 0===t&&(t=!1);for(var v=this.children,u=0;u<v.size;u++){var x=v.entries[u];x.off(g.DESTROY,this.remove,this);t?x.destroy():q&&(x.removeFromDisplayList(),x.removeFromUpdateList())}this.children.clear();return this},contains:function(q){return this.children.contains(q)},
getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(q,t,v,u){return b(this.children.entries,q,t,v,u)},getFirst:function(q,t,v,u,x,w,y){return this.getHandler(!0,1,q,t,v,u,x,w,y)},getFirstNth:function(q,t,v,u,x,w,y,z){return this.getHandler(!0,q,t,v,u,x,w,y,z)},getLast:function(q,t,v,u,x,w,y){return this.getHandler(!1,1,q,t,v,u,x,w,y)},getLastNth:function(q,t,v,u,x,w,y,z){return this.getHandler(!1,q,t,v,u,x,w,y,z)},getHandler:function(q,
t,v,u,x,w,y,z,C){void 0===v&&(v=!1);void 0===u&&(u=!1);var A=0,B=this.children.entries;if(q)for(q=0;q<B.length;q++){var E=B[q];if(E.active===v){if(A++,A===t)break}else E=null}else for(q=B.length-1;0<=q;q--)if(E=B[q],E.active===v){if(A++,A===t)break}else E=null;return E?("number"===typeof x&&(E.x=x),"number"===typeof w&&(E.y=w),E):u?this.create(x,w,y,z,C):null},get:function(q,t,v,u,x){return this.getFirst(!1,!0,q,t,v,u,x)},getFirstAlive:function(q,t,v,u,x,w){return this.getFirst(!0,q,t,v,u,x,w)},getFirstDead:function(q,
t,v,u,x,w){return this.getFirst(!1,q,t,v,u,x,w)},playAnimation:function(q,t){m.PlayAnimation(this.children.entries,q,t);return this},isFull:function(){return-1===this.maxSize?!1:this.children.size>=this.maxSize},countActive:function(q){void 0===q&&(q=!0);for(var t=0,v=0;v<this.children.size;v++)this.children.entries[v].active===q&&t++;return t},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var q=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-q},
setActive:function(q){this.active=q;return this},setName:function(q){this.name=q;return this},propertyValueSet:function(q,t,v,u,x){m.PropertyValueSet(this.children.entries,q,t,v,u,x);return this},propertyValueInc:function(q,t,v,u,x){m.PropertyValueInc(this.children.entries,q,t,v,u,x);return this},setX:function(q,t){m.SetX(this.children.entries,q,t);return this},setY:function(q,t){m.SetY(this.children.entries,q,t);return this},setXY:function(q,t,v,u){m.SetXY(this.children.entries,q,t,v,u);return this},
incX:function(q,t){m.IncX(this.children.entries,q,t);return this},incY:function(q,t){m.IncY(this.children.entries,q,t);return this},incXY:function(q,t,v,u){m.IncXY(this.children.entries,q,t,v,u);return this},shiftPosition:function(q,t,v){m.ShiftPosition(this.children.entries,q,t,v);return this},angle:function(q,t){m.Angle(this.children.entries,q,t);return this},rotate:function(q,t){m.Rotate(this.children.entries,q,t);return this},rotateAround:function(q,t){m.RotateAround(this.children.entries,q,t);
return this},rotateAroundDistance:function(q,t,v){m.RotateAroundDistance(this.children.entries,q,t,v);return this},setAlpha:function(q,t){m.SetAlpha(this.children.entries,q,t);return this},setTint:function(q,t,v,u){m.SetTint(this.children.entries,q,t,v,u);return this},setOrigin:function(q,t,v,u){m.SetOrigin(this.children.entries,q,t,v,u);return this},scaleX:function(q,t){m.ScaleX(this.children.entries,q,t);return this},scaleY:function(q,t){m.ScaleY(this.children.entries,q,t);return this},scaleXY:function(q,
t,v,u){m.ScaleXY(this.children.entries,q,t,v,u);return this},setDepth:function(q,t){m.SetDepth(this.children.entries,q,t);return this},setBlendMode:function(q){m.SetBlendMode(this.children.entries,q);return this},setHitArea:function(q,t){m.SetHitArea(this.children.entries,q,t);return this},shuffle:function(){m.Shuffle(this.children.entries);return this},kill:function(q){this.children.contains(q)&&q.setActive(!1)},killAndHide:function(q){this.children.contains(q)&&(q.setActive(!1),q.setVisible(!1))},
setVisible:function(q,t,v){m.SetVisible(this.children.entries,q,t,v);return this},toggleVisible:function(){m.ToggleVisible(this.children.entries);return this},destroy:function(q,t){void 0===q&&(q=!1);void 0===t&&(t=!1);this.scene&&!this.ignoreDestroy&&(this.emit(g.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(t,q),this.children=this.scene=void 0)}});r.exports=a},94975:(r,p,a)=>{r=a(44603);var m=a(26479);r.register("group",function(g){return new m(this.scene,
null,g)})},3385:(r,p,a)=>{var m=a(26479);a(39429).register("group",function(g,d){return this.updateList.add(new m(this.scene,g,d))})},88571:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(95643);a=a(59819);a=new p({Extends:g,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,a],initialize:function(d,b,e,h,c){g.call(this,d,"Image");this._crop=this.resetCropObject();this.setTexture(h,c);this.setPosition(b,
e);this.setSizeToFrame();this.setOriginFromFrame();this.initPipeline();this.initPostPipeline(!0)}});r.exports=a},40652:r=>{r.exports=function(p,a,m,g){m.addToRenderList(a);p.batchSprite(a,a.frame,m,g)}},82459:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(88571);r.register("image",function(b,e){void 0===b&&(b={});var h=g(b,"key",null),c=g(b,"frame",null);h=new d(this.scene,0,0,h,c);void 0!==e&&(b.add=e);m(this.scene,h,b);return h})},2117:(r,p,a)=>{var m=a(88571);a(39429).register("image",
function(g,d,b,e){return this.displayList.add(new m(this.scene,g,d,b,e))})},59819:(r,p,a)=>{a(29747);p=a(99517);a=a(40652);r.exports={renderWebGL:p,renderCanvas:a}},99517:r=>{r.exports=function(p,a,m,g){m.addToRenderList(a);this.pipeline.batchSprite(a,m,g)}},77856:(r,p,a)=>{p={Events:a(51708),DisplayList:a(8050),GameObjectCreator:a(44603),GameObjectFactory:a(39429),UpdateList:a(45027),Components:a(31401),GetCalcMatrix:a(91296),BuildGameObject:a(25305),BuildGameObjectAnimation:a(13059),GameObject:a(95643),
BitmapText:a(22186),Blitter:a(6107),Bob:a(46590),Container:a(31559),DOMElement:a(3069),DynamicBitmapText:a(2638),Extern:a(42421),Graphics:a(43831),Group:a(26479),Image:a(88571),Layer:a(93595),Particles:a(18404),PathFollower:a(1159),RenderTexture:a(591),RetroFont:a(196),Rope:a(77757),Sprite:a(68287),Text:a(50171),GetTextSize:a(14220),MeasureText:a(79557),TextStyle:a(35762),TileSprite:a(20839),Zone:a(41481),Video:a(18471),Shape:a(17803),Arc:a(23629),Curve:a(89),Ellipse:a(19921),Grid:a(30479),IsoBox:a(61475),
IsoTriangle:a(16933),Line:a(57847),Polygon:a(24949),Rectangle:a(74561),Star:a(55911),Triangle:a(36931),Factories:{Blitter:a(12709),Container:a(24961),DOMElement:a(2611),DynamicBitmapText:a(72566),Extern:a(56315),Graphics:a(1201),Group:a(3385),Image:a(2117),Layer:a(20005),Particles:a(676),PathFollower:a(90145),RenderTexture:a(60505),Rope:a(96819),Sprite:a(46409),StaticBitmapText:a(34914),Text:a(68005),TileSprite:a(91681),Zone:a(84175),Video:a(89025),Arc:a(42563),Curve:a(40511),Ellipse:a(1543),Grid:a(34137),
IsoBox:a(3933),IsoTriangle:a(49803),Line:a(2481),Polygon:a(64827),Rectangle:a(87959),Star:a(93697),Triangle:a(45245)},Creators:{Blitter:a(9403),Container:a(77143),DynamicBitmapText:a(11164),Graphics:a(87079),Group:a(94975),Image:a(82459),Layer:a(25179),Particles:a(92730),RenderTexture:a(34495),Rope:a(26209),Sprite:a(15567),StaticBitmapText:a(57336),Text:a(71259),TileSprite:a(14167),Zone:a(95261),Video:a(11511)}};p.Shader=a(20071);p.Mesh=a(4703);p.NineSlice=a(28103);p.PointLight=a(80321);p.Plane=a(33663);
p.Factories.Shader=a(74177);p.Factories.Mesh=a(9225);p.Factories.NineSlice=a(47521);p.Factories.PointLight=a(71255);p.Factories.Plane=a(30985);p.Creators.Shader=a(54935);p.Creators.Mesh=a(20527);p.Creators.NineSlice=a(28279);p.Creators.PointLight=a(39829);p.Creators.Plane=a(56015);p.Light=a(41432);p.LightsManager=a(61356);p.LightsPlugin=a(88992);r.exports=p},93595:(r,p,a)=>{var m=a(10312);p=a(83419);var g=a(31401),d=a(53774),b=a(45893),e=a(50792),h=a(51708),c=a(73162),l=a(33963),f=a(44594),k=a(19186);
a=new p({Extends:c,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.PostPipeline,g.Visible,e,l],initialize:function(n,q){c.call(this,n);e.call(this);this.scene=n;this.displayList=null;this.type="Layer";this.state=0;this.parentContainer=null;this.name="";this.active=!0;this.tabIndex=-1;this.data=null;this.renderFlags=15;this.cameraFilter=0;this.body=this.input=null;this.ignoreDestroy=!1;this.systems=n.sys;this.events=n.sys.events;this.sortChildrenFlag=!1;this.addCallback=this.addChildCallback;this.removeCallback=
this.removeChildCallback;this.initPostPipeline();this.clearAlpha();this.setBlendMode(m.SKIP_CHECK);q&&this.add(q);n.sys.queueDepthSort()},setActive:function(n){this.active=n;return this},setName:function(n){this.name=n;return this},setState:function(n){this.state=n;return this},setDataEnabled:function(){this.data||(this.data=new b(this));return this},setData:function(n,q){this.data||(this.data=new b(this));this.data.set(n,q);return this},incData:function(n,q){this.data||(this.data=new b(this));this.data.inc(n,
q);return this},toggleData:function(n){this.data||(this.data=new b(this));this.data.toggle(n);return this},getData:function(n){this.data||(this.data=new b(this));return this.data.get(n)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return d(this)},willRender:function(n){return!(15!==this.renderFlags||0===this.list.length||0!==
this.cameraFilter&&this.cameraFilter&n.id)},getIndexList:function(){for(var n=this,q=this.parentContainer,t=[];q;)if(t.unshift(q.getIndex(n)),n=q,q.parentContainer)q=q.parentContainer;else break;t.unshift(this.displayList.getIndex(n));return t},addChildCallback:function(n){var q=n.displayList;q&&q!==this&&n.removeFromDisplayList();n.displayList||(this.queueDepthSort(),n.displayList=this,n.emit(h.ADDED_TO_SCENE,n,this.scene),this.events.emit(f.ADDED_TO_SCENE,n,this.scene))},removeChildCallback:function(n){this.queueDepthSort();
n.displayList=null;n.emit(h.REMOVED_FROM_SCENE,n,this.scene);this.events.emit(f.REMOVED_FROM_SCENE,n,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(k(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(n,q){return n._depth-q._depth},getChildren:function(){return this.list},addToDisplayList:function(n){void 0===n&&(n=this.scene.sys.displayList);this.displayList&&this.displayList!==n&&this.removeFromDisplayList();
n.exists(this)||(this.displayList=n,n.add(this,!0),n.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),n.events.emit(f.ADDED_TO_SCENE,this,this.scene));return this},removeFromDisplayList:function(){var n=this.displayList||this.scene.sys.displayList;n.exists(this)&&(n.remove(this,!0),n.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),n.events.emit(f.REMOVED_FROM_SCENE,this,this.scene));return this},destroy:function(n){if(this.scene&&!this.ignoreDestroy){this.emit(h.DESTROY,
this);for(var q=this.list;q.length;)q[0].destroy(n);this.removeAllListeners();this.resetPostPipeline(!0);this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort());this.data&&(this.data.destroy(),this.data=void 0);this.visible=this.active=!1;this.events=this.systems=this.displayList=this.scene=this.list=void 0}}});r.exports=a},2956:r=>{r.exports=function(p,a,m){var g=a.list;if(0!==g.length){a.depthSort();var d=-1!==a.blendMode;d||p.setBlendMode(0);var b=a._alpha;a.mask&&
a.mask.preRenderCanvas(p,null,m);for(var e=0;e<g.length;e++){var h=g[e];if(h.willRender(m)){var c=h.alpha;d||h.blendMode===p.currentBlendMode||p.setBlendMode(h.blendMode);h.setAlpha(c*b);h.renderCanvas(p,h,m);h.setAlpha(c)}}a.mask&&a.mask.postRenderCanvas(p)}}},25179:(r,p,a)=>{var m=a(25305),g=a(93595);r=a(44603);var d=a(23568);r.register("layer",function(b,e){void 0===b&&(b={});var h=d(b,"children",null);h=new g(this.scene,h);void 0!==e&&(b.add=e);m(this.scene,h,b);return h})},20005:(r,p,a)=>{var m=
a(93595);a(39429).register("layer",function(g){return this.displayList.add(new m(this.scene,g))})},33963:(r,p,a)=>{a(29747);p=a(15869);a=a(2956);r.exports={renderWebGL:p,renderCanvas:a}},15869:r=>{r.exports=function(p,a,m){var g=a.list,d=g.length;if(0!==d){a.depthSort();p.pipelines.preBatch(a);var b=-1!==a.blendMode;b||p.setBlendMode(0);for(var e=a.alpha,h=0;h<d;h++){var c=g[h];if(c.willRender(m)){if(void 0!==c.alphaTopLeft){var l=c.alphaTopLeft;var f=c.alphaTopRight;var k=c.alphaBottomLeft;var n=
c.alphaBottomRight}else k=f=l=n=c.alpha;b||c.blendMode===p.currentBlendMode||p.setBlendMode(c.blendMode);var q=c.mask;q&&q.preRenderWebGL(p,c,m);var t=c.type;t!==p.currentType&&(p.newType=!0,p.currentType=t);p.nextTypeMatch=h<d-1?g[h+1].type===p.currentType:!1;c.setAlpha(l*e,f*e,k*e,n*e);c.renderWebGL(p,c,m);c.setAlpha(l,f,k,n);q&&q.postRenderWebGL(p,m);p.newType=!1}}p.pipelines.postBatch(a)}}},41432:(r,p,a)=>{var m=a(96503);p=a(83419);var g=a(31401),d=a(51767),b=a(70554),e=new p({Extends:m,Mixins:[g.Origin,
g.ScrollFactor,g.Visible],initialize:function(h,c,l,f,k,n,q){m.call(this,h,c,l);this.color=new d(f,k,n);this.intensity=q;this.renderFlags=15;this.cameraFilter=0;this.setScrollFactor(1,1);this.setOrigin();this.setDisplayOrigin(l)},displayWidth:{get:function(){return this.diameter},set:function(h){this.diameter=h}},displayHeight:{get:function(){return this.diameter},set:function(h){this.diameter=h}},width:{get:function(){return this.diameter},set:function(h){this.diameter=h}},height:{get:function(){return this.diameter},
set:function(h){this.diameter=h}},willRender:function(h){return!(e.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&h.id)},setColor:function(h){h=b.getFloatsFromUintRGB(h);this.color.set(h[0],h[1],h[2]);return this},setIntensity:function(h){this.intensity=h;return this},setRadius:function(h){this.radius=h;return this}});e.RENDER_MASK=15;r.exports=e},61356:(r,p,a)=>{var m=a(81491);p=a(83419);var g=a(20339),d=a(41432),b=a(80321),e=a(51767),h=a(19133),c=a(19186),l=a(70554);a=
new p({initialize:function(){this.lights=[];this.ambientColor=new e(.1,.1,.1);this.active=!1;this.maxLights=-1;this.visibleLights=0},addPointLight:function(f,k,n,q,t,v){return this.systems.displayList.add(new b(this.scene,f,k,n,q,t,v))},enable:function(){-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights);this.active=!0;return this},disable:function(){this.active=!1;return this},getLights:function(f){for(var k=this.lights,n=f.worldView,q=[],t=0;t<k.length;t++){var v=k[t];
v.willRender(f)&&m(v,n)&&q.push({light:v,distance:g(v.x,v.y,n.centerX,n.centerY)})}q.length>this.maxLights&&(c(q,this.sortByDistance),q=q.slice(0,this.maxLights));this.visibleLights=q.length;return q},sortByDistance:function(f,k){return f.distance>=k.distance},setAmbientColor:function(f){f=l.getFloatsFromUintRGB(f);this.ambientColor.set(f[0],f[1],f[2]);return this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,k,n,q,t){void 0===
f&&(f=0);void 0===k&&(k=0);void 0===n&&(n=128);void 0===q&&(q=16777215);void 0===t&&(t=1);q=l.getFloatsFromUintRGB(q);f=new d(f,k,n,q[0],q[1],q[2],t);this.lights.push(f);return f},removeLight:function(f){f=this.lights.indexOf(f);0<=f&&h(this.lights,f);return this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});r.exports=a},88992:(r,p,a)=>{var m=a(83419),g=a(61356);p=a(37277);var d=a(44594);a=new m({Extends:g,initialize:function(b){this.scene=b;this.systems=b.sys;if(!b.sys.settings.isBooted)b.sys.events.once(d.BOOT,
this.boot,this);g.call(this)},boot:function(){var b=this.systems.events;b.on(d.SHUTDOWN,this.shutdown,this);b.on(d.DESTROY,this.destroy,this)},destroy:function(){this.shutdown();this.systems=this.scene=void 0}});p.register("LightsPlugin",a,"lights");r.exports=a},4703:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(39506),d=a(83997),b=a(95643),e=a(34684),h=a(92515),c=a(91296),l=a(37867),f=a(29807),k=a(43396),n=a(19186),q=a(25836),t=a(39318);a=new p({Extends:b,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,
m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,f],initialize:function(v,u,x,w,y,z,C,A,B,E,G,I){void 0===u&&(u=0);void 0===x&&(x=0);void 0===w&&(w="__WHITE");b.call(this,v,"Mesh");this.faces=[];this.vertices=[];this.tintFill=!1;this.debugGraphic=this.debugCallback=null;this.hideCCW=!0;this.modelPosition=new q;this.modelScale=new q(1,1,1);this.modelRotation=new q;this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0];this.transformMatrix=new l;this.viewPosition=new q;this.viewMatrix=
new l;this.projectionMatrix=new l;this.totalFrame=this.totalRendered=0;this.ignoreDirtyCache=!1;this.displayOriginY=this.displayOriginX=0;v=v.sys.renderer;this.setPosition(u,x);this.setTexture(w,y);this.setSize(v.width,v.height);this.initPipeline();this.initPostPipeline();this.setPerspective(v.width,v.height);z&&this.addVertices(z,C,A,B,E,G,I)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(v){this.viewPosition.addScale(q.LEFT,
v);this.dirtyCache[10]=1;return this},panY:function(v){this.viewPosition.y+=q.DOWN.y*v;this.dirtyCache[10]=1;return this},panZ:function(v){this.viewPosition.z+=v;this.dirtyCache[10]=1;return this},setPerspective:function(v,u,x,w,y){void 0===x&&(x=45);void 0===w&&(w=.01);void 0===y&&(y=1E3);this.fov=x;this.projectionMatrix.perspective(g(x),v/u,w,y);this.dirtyCache[10]=1;this.dirtyCache[11]=0;return this},setOrtho:function(v,u,x,w){void 0===v&&(v=this.scene.sys.renderer.getAspectRatio());void 0===u&&
(u=1);void 0===x&&(x=-1E3);void 0===w&&(w=1E3);this.fov=0;this.projectionMatrix.ortho(-v,v,-u,u,x,w);this.dirtyCache[10]=1;this.dirtyCache[11]=1;return this},clear:function(){this.faces.forEach(function(v){v.destroy()});this.faces=[];this.vertices=[];return this},addVerticesFromObj:function(v,u,x,w,y,z,C,A,B){var E=this.scene.sys.cache.obj.get(v),G;E&&(G=e(E,this,u,x,w,y,z,C,A,B));G&&0!==G.verts.length||console.warn("Mesh.addVerticesFromObj data empty:",v);return this},sortByDepth:function(v,u){return v.depth-
u.depth},depthSort:function(){n(this.faces,this.sortByDepth);return this},addVertex:function(v,u,x,w,y,z,C){v=new t(v,u,x,w,y,z,C);this.vertices.push(v);return v},addFace:function(v,u,x){v=new d(v,u,x);this.faces.push(v);this.dirtyCache[9]=-1;return v},addVertices:function(v,u,x,w,y,z,C){(v=h(v,u,x,w,y,z,C))?(this.faces=this.faces.concat(v.faces),this.vertices=this.vertices.concat(v.vertices)):console.warn("Mesh.addVertices data empty or invalid");this.dirtyCache[9]=-1;return this},getFaceCount:function(){return this.faces.length},
getVertexCount:function(){return this.vertices.length},getFace:function(v){return this.faces[v]},hasFaceAt:function(v,u,x){void 0===x&&(x=this.scene.sys.cameras.main);x=c(this,x).calc;for(var w=this.faces,y=0;y<w.length;y++)if(w[y].contains(v,u,x))return!0;return!1},getFaceAt:function(v,u,x){void 0===x&&(x=this.scene.sys.cameras.main);x=c(this,x).calc;for(var w=this.faces,y=[],z=0;z<w.length;z++){var C=w[z];C.contains(v,u,x)&&y.push(C)}return n(y,this.sortByDepth)},setDebug:function(v,u){this.debugCallback=
(this.debugGraphic=v)||u?u?u:this.renderDebug:null;return this},isDirty:function(){var v=this.modelPosition,u=this.modelRotation,x=this.modelScale,w=this.dirtyCache,y=v.x,z=v.y;v=v.z;var C=u.x,A=u.y;u=u.z;var B=x.x,E=x.y;x=x.z;var G=this.getFaceCount(),I=w[0],H=w[1],K=w[2],L=w[3],M=w[4],P=w[5],D=w[6],F=w[7],J=w[8],N=w[9];w[0]=y;w[1]=z;w[2]=v;w[3]=C;w[4]=A;w[5]=u;w[6]=B;w[7]=E;w[8]=x;w[9]=G;return I!==y||H!==z||K!==v||L!==C||M!==A||P!==u||D!==B||F!==E||J!==x||N!==G},preUpdate:function(){this.totalRendered=
this.totalFrame;this.totalFrame=0;var v=this.dirtyCache;if(this.ignoreDirtyCache||v[10]||this.isDirty()){var u=this.width,x=this.height,w=this.viewMatrix,y=this.viewPosition;v[10]&&(w.identity(),w.translate(y),w.invert(),v[10]=0);v=this.transformMatrix;v.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);y=y.z;w=this.faces;for(var z=0;z<w.length;z++)w[z].transformCoordinatesLocal(v,u,x,y);this.depthSort()}},renderDebug:function(v,u){v=v.debugGraphic;
for(var x=0;x<u.length;x++){var w=u[x];v.strokeTriangle(w.vertex1.tx,w.vertex1.ty,w.vertex2.tx,w.vertex2.ty,w.vertex3.tx,w.vertex3.ty)}},preDestroy:function(){this.clear();this.debugGraphic=this.debugCallback=null},clearTint:function(){return this.setTint()},setInteractive:function(v){void 0===v&&(v={});var u=function(x,w,y){x=this.faces;for(var z=0;z<x.length;z++)if(x[z].contains(w,y))return!0;return!1}.bind(this);this.scene.sys.input.enable(this,v,u);return this},setTint:function(v){void 0===v&&
(v=16777215);for(var u=this.vertices,x=0;x<u.length;x++)u[x].color=v;return this},uvScroll:function(v,u){for(var x=this.faces,w=0;w<x.length;w++)x[w].scrollUV(v,u);return this},uvScale:function(v,u){for(var x=this.faces,w=0;w<x.length;w++)x[w].scaleUV(v,u);return this},tint:{set:function(v){this.setTint(v)}},rotateX:{get:function(){return k(this.modelRotation.x)},set:function(v){this.modelRotation.x=g(v)}},rotateY:{get:function(){return k(this.modelRotation.y)},set:function(v){this.modelRotation.y=
g(v)}},rotateZ:{get:function(){return k(this.modelRotation.z)},set:function(v){this.modelRotation.z=g(v)}}});r.exports=a},36488:r=>{r.exports=function(){}},20527:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(35154),b=a(4703);r.register("mesh",function(e,h){void 0===e&&(e={});var c=g(e,"key",null),l=g(e,"frame",null),f=d(e,"vertices",[]),k=d(e,"uvs",[]),n=d(e,"indicies",[]),q=d(e,"containsZ",!1),t=d(e,"normals",[]),v=d(e,"colors",16777215),u=d(e,"alphas",1);c=new b(this.scene,0,0,c,l,f,k,
n,q,t,v,u);void 0!==h&&(e.add=h);m(this.scene,c,e);return c})},9225:(r,p,a)=>{var m=a(4703);a(39429).register("mesh",function(g,d,b,e,h,c,l,f,k,n,q){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l,f,k,n,q))})},29807:(r,p,a)=>{a(29747);p=a(48833);a=a(36488);r.exports={renderWebGL:p,renderCanvas:a}},48833:(r,p,a)=>{var m=a(91296);r.exports=function(g,d,b,e){var h=d.faces,c=h.length;if(0!==c){b.addToRenderList(d);var l=g.pipelines.set(d.pipeline,d),f=m(d,b,e).calc;g.pipelines.preBatch(d);
e=l.setGameObject(d);var k=l.vertexViewF32,n=l.vertexViewU32,q=l.vertexCount*l.currentShader.vertexComponentCount-1,t=d.tintFill,v=[],u=d.debugCallback,x=f.a,w=f.b,y=f.c,z=f.d,C=f.e;f=f.f;for(var A=d.viewPosition.z,B=d.hideCCW,E=b.roundPixels,G=b.alpha*d.alpha,I=0,H=0;H<c;H++){var K=h[H];K.isInView(b,B,A,G,x,w,y,z,C,f,E)&&(l.shouldFlush(3)&&(l.flush(),e=l.setGameObject(d),q=0),q=K.load(k,n,q,e,t),I++,l.vertexCount+=3,l.currentBatch.count=l.vertexCount-l.currentBatch.start,u&&v.push(K))}d.totalFrame+=
I;u&&u.call(d,d,v);g.pipelines.postBatch(d)}}},28103:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(95643),d=a(78023),b=a(39318);a=new p({Extends:g,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,d],initialize:function(e,h,c,l,f,k,n,q,t,v,u){g.call(this,e,"NineSlice");this._originY=this._originX=.5;this._sizeComponent=!0;this.vertices=[];this.tint=16777215;this.tintFill=!1;e=e.textures.getFrame(l,f);this.is3Slice=
!v&&!u;e.scale9&&(this.is3Slice=e.is3Slice);e=this.is3Slice?18:54;for(var x=0;x<e;x++)this.vertices.push(new b);this.setPosition(h,c);this.setTexture(l,f);this.setSlices(k,n,q,t,v,u,!1);this.updateDisplayOrigin();this.initPipeline();this.initPostPipeline()},setSlices:function(e,h,c,l,f,k,n){void 0===c&&(c=10);void 0===l&&(l=10);void 0===f&&(f=0);void 0===k&&(k=0);void 0===n&&(n=!1);var q=this.frame,t=!1;this.is3Slice&&n&&0!==f&&0!==k&&(t=!0);t?console.warn("Cannot change 9 slice to 3 slice"):(q.scale9&&
!n?(k=q.data.scale9Borders,l=k.x,n=k.y,c=l,l=q.width-k.w-l,f=n,k=q.height-k.h-n,void 0===e&&(e=q.width),void 0===h&&(h=q.height)):(void 0===e&&(e=256),void 0===h&&(h=256)),this._width=e,this._height=h,this.leftWidth=c,this.rightWidth=l,this.topHeight=f,this.bottomHeight=k,this.is3Slice&&(this.topHeight=this._height=h=q.height,this.bottomHeight=0),this.updateVertices(),this.updateUVs());return this},updateUVs:function(){var e=this.leftWidth,h=this.rightWidth,c=this.topHeight,l=this.bottomHeight,f=
this.frame.width,k=this.frame.height;this.updateQuadUVs(0,0,0,e/f,c/k);this.updateQuadUVs(6,e/f,0,1-h/f,c/k);this.updateQuadUVs(12,1-h/f,0,1,c/k);this.is3Slice||(this.updateQuadUVs(18,0,c/k,e/f,1-l/k),this.updateQuadUVs(24,e/f,c/k,1-h/f,1-l/k),this.updateQuadUVs(30,1-h/f,c/k,1,1-l/k),this.updateQuadUVs(36,0,1-l/k,e/f,1),this.updateQuadUVs(42,e/f,1-l/k,1-h/f,1),this.updateQuadUVs(48,1-h/f,1-l/k,1,1))},updateVertices:function(){var e=this.leftWidth,h=this.rightWidth,c=this.topHeight,l=this.bottomHeight,
f=this.width,k=this.height;this.updateQuad(0,-.5,.5,-.5+e/f,.5-c/k);this.updateQuad(6,-.5+e/f,.5,.5-h/f,.5-c/k);this.updateQuad(12,.5-h/f,.5,.5,.5-c/k);this.is3Slice||(this.updateQuad(18,-.5,.5-c/k,-.5+e/f,-.5+l/k),this.updateQuad(24,-.5+e/f,.5-c/k,.5-h/f,-.5+l/k),this.updateQuad(30,.5-h/f,.5-c/k,.5,-.5+l/k),this.updateQuad(36,-.5,-.5+l/k,-.5+e/f,-.5),this.updateQuad(42,-.5+e/f,-.5+l/k,.5-h/f,-.5),this.updateQuad(48,.5-h/f,-.5+l/k,.5,-.5))},updateQuad:function(e,h,c,l,f){var k=this.width,n=this.height,
q=this.originX,t=this.originY,v=this.vertices;v[e+0].resize(h,c,k,n,q,t);v[e+1].resize(h,f,k,n,q,t);v[e+2].resize(l,c,k,n,q,t);v[e+3].resize(h,f,k,n,q,t);v[e+4].resize(l,f,k,n,q,t);v[e+5].resize(l,c,k,n,q,t)},updateQuadUVs:function(e,h,c,l,f){var k=this.vertices,n=this.frame,q=n.u0,t=n.v0,v=n.u1;n=n.v1;if(0!==q||1!==v)v-=q,h=q+h*v,l=q+l*v;if(0!==t||1!==n)q=n-t,c=t+c*q,f=t+f*q;k[e+0].setUVs(h,c);k[e+1].setUVs(h,f);k[e+2].setUVs(l,c);k[e+3].setUVs(h,f);k[e+4].setUVs(l,f);k[e+5].setUVs(l,c)},clearTint:function(){this.setTint(16777215);
return this},setTint:function(e){void 0===e&&(e=16777215);this.tint=e;this.tintFill=!1;return this},setTintFill:function(e){this.setTint(e);this.tintFill=!0;return this},isTinted:{get:function(){return 16777215!==this.tint}},width:{get:function(){return this._width},set:function(e){this._width=Math.max(e,this.leftWidth+this.rightWidth);this.updateVertices()}},height:{get:function(){return this._height},set:function(e){this.is3Slice||(this._height=Math.max(e,this.topHeight+this.bottomHeight),this.updateVertices())}},
displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,h){this.width=e;this.height=h;this.updateDisplayOrigin();(e=this.input)&&!e.customHitArea&&(e.hitArea.width=this.width,e.hitArea.height=this.height);return this},setDisplaySize:function(e,h){this.displayWidth=e;this.displayHeight=h;return this},originX:{get:function(){return this._originX},
set:function(e){this._originX=e;this.updateVertices()}},originY:{get:function(){return this._originY},set:function(e){this._originY=e;this.updateVertices()}},setOrigin:function(e,h){void 0===e&&(e=.5);void 0===h&&(h=e);this._originX=e;this._originY=h;this.updateVertices();return this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var e=this.frame.height;this.topHeight=this._height=e;this.bottomHeight=0}this.updateUVs();return this},preDestroy:function(){this.vertices=[]}});r.exports=
a},28279:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(35154),b=a(28103);r.register("nineslice",function(e,h){void 0===e&&(e={});var c=g(e,"key",null),l=g(e,"frame",null),f=d(e,"width",256),k=d(e,"height",256),n=d(e,"leftWidth",10),q=d(e,"rightWidth",10),t=d(e,"topHeight",0),v=d(e,"bottomHeight",0);c=new b(this.scene,0,0,c,l,f,k,n,q,t,v);void 0!==h&&(e.add=h);m(this.scene,c,e);return c})},47521:(r,p,a)=>{var m=a(28103);a(39429).register("nineslice",function(g,d,b,e,h,c,l,f,k,n){return this.displayList.add(new m(this.scene,
g,d,b,e,h,c,l,f,k,n))})},78023:(r,p,a)=>{p=a(29747);a=a(52230);r.exports={renderWebGL:a,renderCanvas:p}},52230:(r,p,a)=>{var m=a(91296),g=a(70554);r.exports=function(d,b,e,h){var c=b.vertices,l=c.length;if(0!==l){e.addToRenderList(b);var f=d.pipelines.set(b.pipeline,b);h=m(b,e,h,!1).calc;d.pipelines.preBatch(b);var k=f.setGameObject(b),n=f.vertexViewF32,q=f.vertexViewU32,t=f.vertexCount*f.currentShader.vertexComponentCount-1,v=e.roundPixels,u=b.tintFill;e=g.getTintAppendFloatAlpha(b.tint,e.alpha*
b.alpha);var x=f.vertexAvailable(),w=-1;x<l&&(w=x);for(x=0;x<l;x++){var y=c[x];x===w&&(f.flush(),k=f.setGameObject(b),t=0);n[++t]=h.getXRound(y.vx,y.vy,v);n[++t]=h.getYRound(y.vx,y.vy,v);n[++t]=y.u;n[++t]=y.v;n[++t]=k;n[++t]=u;q[++t]=e;f.vertexCount++;f.currentBatch.count=f.vertexCount-f.currentBatch.start}d.pipelines.postBatch(b)}}},76472:(r,p,a)=>{p=a(83419);var m=a(44777),g=a(37589),d=a(6113),b=a(91389),e=a(90664);a=new p({Extends:m,initialize:function(h){m.call(this,h,null,!1);this.active=!1;
this.easeName="Linear";this.r=[];this.g=[];this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var h=this.propertyValue,c=h,l=this.defaultEmit,f=this.defaultUpdate;if(9===this.method){this.start=h[0];this.ease=d("Linear");this.interpolation=b("linear");l=this.easedValueEmit;f=this.easeValueUpdate;c=h[0];this.active=!0;for(var k=0;k<h.length;k++){var n=e(h[k]);this.r.push(n.r);this.g.push(n.g);this.b.push(n.b)}}this.onEmit=l;this.onUpdate=f;this.current=c;return this},
setEase:function(h){this.easeName=h;this.ease=d(h)},easedValueEmit:function(){return this.current=this.start},easeValueUpdate:function(h,c,l){l=this.ease(l);h=this.interpolation(this.r,l);c=this.interpolation(this.g,l);l=this.interpolation(this.b,l);return this.current=h=g(h,c,l)}});r.exports=a},44777:(r,p,a)=>{var m=a(30976),g=a(45319);p=a(83419);var d=a(99472),b=a(6113),e=a(95540),h=a(91389),c=a(77720),l=a(15994);a=new p({initialize:function(f,k,n){void 0===n&&(n=!1);this.propertyKey=f;this.defaultValue=
this.propertyValue=k;this.counter=this.steps=0;this.yoyo=!1;this.end=this.current=this.start=this.direction=0;this.interpolation=this.ease=null;this.emitOnly=n;this.onEmit=this.defaultEmit;this.onUpdate=this.defaultUpdate;this.active=!0;this.method=0},loadConfig:function(f,k){void 0===f&&(f={});k&&(this.propertyKey=k);this.propertyValue=e(f,this.propertyKey,this.defaultValue);this.method=this.getMethod();this.setMethods();this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},
onChange:function(f){switch(this.method){case 1:case 3:case 8:var k=f;break;case 2:0<=this.propertyValue.indexOf(f)&&(k=f);break;case 4:this.counter=k=c(f,(this.end-this.start)/this.steps);break;case 5:case 6:case 7:k=g(f,this.start,this.end);break;case 9:k=this.start[0]}this.current=k;return this},getMethod:function(){var f=this.propertyValue;if(null===f)return 0;var k=typeof f;if("number"===k)return 1;if(Array.isArray(f))return 2;if("function"===k)return 3;if("object"===k){if(this.hasBoth(f,"start",
"end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.hasEither(f,"values","interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,k=f,n=this.defaultEmit,q=this.defaultUpdate;switch(this.method){case 1:n=this.staticValueEmit;break;case 2:n=this.randomStaticValueEmit;k=f[0];break;case 3:this._onEmit=f;n=this.proxyEmit;break;case 4:this.start=f.start;this.end=
f.end;this.steps=f.steps;this.counter=this.start;this.yoyo=this.has(f,"yoyo")?f.yoyo:!1;this.direction=0;n=this.steppedEmit;k=this.start;break;case 5:this.start=f.start;this.end=f.end;q=this.has(f,"ease")?f.ease:"Linear";this.ease=b(q,f.easeParams);n=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit;q=this.easeValueUpdate;k=this.start;break;case 6:this.start=f.min;this.end=f.max;n=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit;k=this.start;
break;case 7:f=f.random;Array.isArray(f)&&(this.start=f[0],this.end=f[1]);n=this.randomRangedIntEmit;k=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit;this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate;n=this.proxyEmit;q=this.proxyUpdate;break;case 9:this.start=f.values,q=this.has(f,"ease")?f.ease:"Linear",this.ease=b(q,f.easeParams),this.interpolation=h(f.interpolation),n=this.easedValueEmit,q=this.easeValueUpdate,k=this.start[0]}this.onEmit=n;
this.onUpdate=q;this.current=k;return this},has:function(f,k){return f.hasOwnProperty(k)},hasBoth:function(f,k,n){return f.hasOwnProperty(k)&&f.hasOwnProperty(n)},hasEither:function(f,k,n){return f.hasOwnProperty(k)||f.hasOwnProperty(n)},defaultEmit:function(f,k,n){return n},defaultUpdate:function(f,k,n,q){return q},proxyEmit:function(f,k,n){return this.current=f=this._onEmit(f,k,n)},proxyUpdate:function(f,k,n,q){return this.current=f=this._onUpdate(f,k,n,q)},staticValueEmit:function(){return this.current},
staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){return this.current=this.propertyValue[Math.floor(Math.random()*this.propertyValue.length)]},randomRangedValueEmit:function(f,k){var n=d(this.start,this.end);f&&f.data[k]&&(f.data[k].min=n,f.data[k].max=this.end);return this.current=n},randomRangedIntEmit:function(f,k){var n=m(this.start,this.end);f&&f.data[k]&&(f.data[k].min=n,f.data[k].max=this.end);return this.current=n},steppedEmit:function(){var f=this.counter,
k=f,n=(this.end-this.start)/this.steps;this.yoyo?(0===this.direction?(k+=n,k>=this.end&&(k-=this.end,k=this.end-k,this.direction=1)):(k-=n,k<=this.start&&(k=this.start-k,k=this.start+k,this.direction=0)),this.counter=k):this.counter=l(k+n,this.start,this.end);return this.current=f},easedValueEmit:function(f,k){f&&f.data[k]&&(f=f.data[k],f.min=this.start,f.max=this.end);return this.current=this.start},easeValueUpdate:function(f,k,n){f=f.data[k];n=this.ease(n);return this.current=n=this.interpolation?
this.interpolation(this.start,n):(f.max-f.min)*n+f.min},destroy:function(){this._onUpdate=this._onEmit=this.interpolation=this.ease=this.defaultValue=this.propertyValue=null}});r.exports=a},24502:(r,p,a)=>{p=a(83419);var m=a(95540),g=a(20286);a=new p({Extends:g,initialize:function(d,b,e,h,c){"object"===typeof d?(c=d,d=m(c,"x",0),b=m(c,"y",0),e=m(c,"power",0),h=m(c,"epsilon",100),c=m(c,"gravity",50)):(void 0===d&&(d=0),void 0===b&&(b=0),void 0===e&&(e=0),void 0===h&&(h=100),void 0===c&&(c=50));g.call(this,
d,b,!0);this._gravity=c;this._power=e*c;this._epsilon=h*h},update:function(d,b){var e=this.x-d.x,h=this.y-d.y,c=e*e+h*h;if(0!==c){var l=Math.sqrt(c);c<this._epsilon&&(c=this._epsilon);b=this._power*b/(c*l)*100;d.velocityX+=e*b;d.velocityY+=h*b}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(d){this._epsilon=d*d}},power:{get:function(){return this._power/this._gravity},set:function(d){this._power=d*this._gravity}},gravity:{get:function(){return this._gravity},set:function(d){var b=
this.power;this._gravity=d;this.power=b}}});r.exports=a},56480:(r,p,a)=>{var m=a(9674),g=a(45319);p=a(83419);var d=a(39506),b=a(87841),e=a(11520),h=a(26099);a=new p({initialize:function(c){this.emitter=c;this.frame=this.texture=null;this.y=this.x=0;this.worldPosition=new h;this.accelerationY=this.accelerationX=this.velocityY=this.velocityX=0;this.maxVelocityY=this.maxVelocityX=1E4;this.bounce=0;this.alpha=this.scaleY=this.scaleX=1;this.rotation=this.angle=0;this.tint=16777215;this.lifeCurrent=this.life=
1E3;this.lifeT=this.holdCurrent=this.delayCurrent=0;this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}};this.isCropped=!1;this.scene=c.scene;this.anims=new m(this);this.bounds=new b},emit:function(c,l,f,k,n,q){return this.emitter.emit(c,
l,f,k,n,q)},isAlive:function(){return 0<this.lifeCurrent},kill:function(){this.lifeCurrent=0},setPosition:function(c,l){void 0===c&&(c=0);void 0===l&&(l=0);this.x=c;this.y=l},fire:function(c,l){var f=this.emitter,k=f.ops,n=f.getAnim();n?this.anims.play(n):(this.frame=f.getFrame(),this.texture=this.frame.texture);if(!this.frame)throw Error("Particle has no texture frame");f.getEmitZone(this);this.x=void 0===c?this.x+k.x.onEmit(this,"x"):0<k.x.steps?this.x+(c+k.x.onEmit(this,"x")):this.x+c;this.y=void 0===
l?this.y+k.y.onEmit(this,"y"):0<k.y.steps?this.y+(l+k.y.onEmit(this,"y")):this.y+l;this.lifeCurrent=this.life=k.lifespan.onEmit(this,"lifespan");this.lifeT=0;this.delayCurrent=k.delay.onEmit(this,"delay");this.holdCurrent=k.hold.onEmit(this,"hold");this.scaleX=k.scaleX.onEmit(this,"scaleX");this.scaleY=k.scaleY.active?k.scaleY.onEmit(this,"scaleY"):this.scaleX;this.angle=k.rotate.onEmit(this,"rotate");this.rotation=d(this.angle);f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);if(0===
this.delayCurrent&&f.getDeathZone(this))return this.lifeCurrent=0,!1;c=k.speedX.onEmit(this,"speedX");l=k.speedY.active?k.speedY.onEmit(this,"speedY"):c;f.radial?(n=d(k.angle.onEmit(this,"angle")),this.velocityX=Math.cos(n)*Math.abs(c),this.velocityY=Math.sin(n)*Math.abs(l)):f.moveTo?(c=k.moveToX.onEmit(this,"moveToX"),l=k.moveToY.onEmit(this,"moveToY"),n=this.life/1E3,this.velocityX=(c-this.x)/n,this.velocityY=(l-this.y)/n):(this.velocityX=c,this.velocityY=l);f.acceleration&&(this.accelerationX=
k.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=k.accelerationY.onEmit(this,"accelerationY"));this.maxVelocityX=k.maxVelocityX.onEmit(this,"maxVelocityX");this.maxVelocityY=k.maxVelocityY.onEmit(this,"maxVelocityY");this.bounce=k.bounce.onEmit(this,"bounce");this.alpha=k.alpha.onEmit(this,"alpha");this.tint=k.color.active?k.color.onEmit(this,"tint"):k.tint.onEmit(this,"tint");return!0},update:function(c,l,f){if(0>=this.lifeCurrent)return 0<this.holdCurrent?(this.holdCurrent-=c,0>=
this.holdCurrent):!0;if(0<this.delayCurrent)return this.delayCurrent-=c,!1;this.anims.update(0,c);var k=this.emitter,n=k.ops,q=1-this.lifeCurrent/this.life;this.lifeT=q;this.x=n.x.onUpdate(this,"x",q,this.x);this.y=n.y.onUpdate(this,"y",q,this.y);if(k.moveTo){var t=n.moveToX.onUpdate(this,"moveToX",q,k.moveToX),v=n.moveToY.onUpdate(this,"moveToY",q,k.moveToY),u=this.lifeCurrent/1E3;this.velocityX=(t-this.x)/u;this.velocityY=(v-this.y)/u}this.computeVelocity(k,c,l,f,q);this.scaleX=n.scaleX.onUpdate(this,
"scaleX",q,this.scaleX);this.scaleY=n.scaleY.active?n.scaleY.onUpdate(this,"scaleY",q,this.scaleY):this.scaleX;this.angle=n.rotate.onUpdate(this,"rotate",q,this.angle);this.rotation=d(this.angle);if(k.getDeathZone(this))return this.lifeCurrent=0,!0;this.alpha=g(n.alpha.onUpdate(this,"alpha",q,this.alpha),0,1);this.tint=n.color.active?n.color.onUpdate(this,"color",q,this.tint):n.tint.onUpdate(this,"tint",q,this.tint);this.lifeCurrent-=c;return 0>=this.lifeCurrent&&0>=this.holdCurrent},computeVelocity:function(c,
l,f,k,n){var q=c.ops,t=this.velocityX,v=this.velocityY,u=q.accelerationX.onUpdate(this,"accelerationX",n,this.accelerationX),x=q.accelerationY.onUpdate(this,"accelerationY",n,this.accelerationY),w=q.maxVelocityX.onUpdate(this,"maxVelocityX",n,this.maxVelocityX),y=q.maxVelocityY.onUpdate(this,"maxVelocityY",n,this.maxVelocityY);this.bounce=q.bounce.onUpdate(this,"bounce",n,this.bounce);t+=c.gravityX*f+u*f;v+=c.gravityY*f+x*f;t=g(t,-w,w);v=g(v,-y,y);this.velocityX=t;this.velocityY=v;this.x+=t*f;this.y+=
v*f;c.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(c=0;c<k.length;c++)q=k[c],q.active&&q.update(this,l,f,n)},setSizeToFrame:function(){},getBounds:function(c){void 0===c&&(c=this.emitter.getWorldTransformMatrix());var l=this.x,f=this.y,k=this.rotation,n=this.frame.width*Math.abs(c.scaleX)*this.scaleX/2,q=this.frame.height*Math.abs(c.scaleY)*this.scaleY/2,t=this.bounds,v=new h(l-n,f-q),u=new h(l+n,f-q),x=new h(l-n,f+q);n=new h(l+n,f+q);0!==k&&(e(v,l,f,k),e(u,l,f,k),e(x,l,f,k),e(n,
l,f,k));c.transformPoint(v.x,v.y,v);c.transformPoint(u.x,u.y,u);c.transformPoint(x.x,x.y,x);c.transformPoint(n.x,n.y,n);t.x=Math.min(v.x,u.x,x.x,n.x);t.y=Math.min(v.y,u.y,x.y,n.y);t.width=Math.max(v.x,u.x,x.x,n.x)-t.x;t.height=Math.max(v.y,u.y,x.y,n.y)-t.y;return t},destroy:function(){this.anims.destroy();this.scene=this.frame=this.texture=this.emitter=this.anims=null}});r.exports=a},69601:(r,p,a)=>{p=a(83419);var m=a(20286),g=a(87841);a=new p({Extends:m,initialize:function(d,b,e,h,c,l,f,k){void 0===
c&&(c=!0);void 0===l&&(l=!0);void 0===f&&(f=!0);void 0===k&&(k=!0);m.call(this,d,b,!0);this.bounds=new g(d,b,e,h);this.collideLeft=c;this.collideRight=l;this.collideTop=f;this.collideBottom=k},update:function(d){var b=this.bounds,e=-d.bounce,h=d.worldPosition;h.x<b.x&&this.collideLeft?(d.x+=b.x-h.x,d.velocityX*=e):h.x>b.right&&this.collideRight&&(d.x-=h.x-b.right,d.velocityX*=e);h.y<b.y&&this.collideTop?(d.y+=b.y-h.y,d.velocityY*=e):h.y>b.bottom&&this.collideBottom&&(d.y-=h.y-b.bottom,d.velocityY*=
e)}});r.exports=a},31600:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(53774),d=a(43459),b=a(26388),e=a(19909),h=a(76472),c=a(44777),l=a(20696),f=a(95643),k=a(95540),n=a(26546),q=a(24502),t=a(1985),v=a(97022),u=a(86091),x=a(73162),w=a(20074),y=a(56480),z=a(68875),C=a(87841),A=a(59996),B=a(72905),E=a(90668),G=a(19186),I=a(61340),H=a(26099),K=a(15994),L=a(69601),M="active advance blendMode colorEase deathCallback deathCallbackScope duration emitCallback emitCallbackScope follow frequency gravityX gravityY maxAliveParticles maxParticles name emitting particleBringToTop particleClass radial sortCallback sortOrderAsc sortProperty stopAfter tintFill timeScale trackVisible visible".split(" "),
P="accelerationX accelerationY alpha angle bounce color delay hold lifespan maxVelocityX maxVelocityY moveToX moveToY quantity rotate scaleX scaleY speedX speedY tint x y".split(" ");a=new p({Extends:f,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,E],initialize:function(D,F,J,N,O){f.call(this,D,"ParticleEmitter");this.particleClass=y;this.ops={accelerationX:new c("accelerationX",0),accelerationY:new c("accelerationY",0),alpha:new c("alpha",
1),angle:new c("angle",{min:0,max:360},!0),bounce:new c("bounce",0),color:new h("color"),delay:new c("delay",0,!0),hold:new c("hold",0,!0),lifespan:new c("lifespan",1E3,!0),maxVelocityX:new c("maxVelocityX",1E4),maxVelocityY:new c("maxVelocityY",1E4),moveToX:new c("moveToX",0),moveToY:new c("moveToY",0),quantity:new c("quantity",1,!0),rotate:new c("rotate",0),scaleX:new c("scaleX",1),scaleY:new c("scaleY",1),speedX:new c("speedX",0,!0),speedY:new c("speedY",0,!0),tint:new c("tint",16777215),x:new c("x",
0),y:new c("y",0)};this.radial=!0;this.gravityY=this.gravityX=0;this.moveTo=this.acceleration=!1;this.deathCallbackScope=this.deathCallback=this.emitCallbackScope=this.emitCallback=null;this.frequency=this.duration=this.stopAfter=this.maxAliveParticles=this.maxParticles=0;this.particleBringToTop=this.emitting=!0;this.timeScale=1;this.emitZones=[];this.deathZones=[];this.follow=this.viewBounds=null;this.followOffset=new H;this.trackVisible=!1;this.frames=[];this.randomFrame=!0;this.frameQuantity=1;
this.anims=[];this.randomAnim=!0;this.animQuantity=1;this.dead=[];this.alive=[];this.counters=new Float32Array(10);this.skipping=!1;this.worldMatrix=new I;this.sortProperty="";this.sortOrderAsc=!0;this.sortCallback=this.depthSortCallback;this.processors=new x(this);this.tintFill=!1;this.initPipeline();this.initPostPipeline();this.setPosition(F,J);this.setTexture(N);O&&this.setConfig(O)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},
setConfig:function(D){if(!D)return this;var F,J=this.ops;for(F=0;F<P.length;F++){var N=P[F];J[N].loadConfig(D)}for(F=0;F<M.length;F++)N=M[F],v(D,N)&&(this[N]=k(D,N));this.acceleration=0!==this.accelerationX||0!==this.accelerationY;this.moveTo=0!==this.moveToX&&0!==this.moveToY;v(D,"speed")&&(J.speedX.loadConfig(D,"speed"),J.speedY.active=!1);if(t(D,["speedX","speedY"])||this.moveTo)this.radial=!1;v(D,"scale")&&(J.scaleX.loadConfig(D,"scale"),J.scaleY.active=!1);v(D,"callbackScope")&&(this.deathCallbackScope=
this.emitCallbackScope=F=k(D,"callbackScope",null));v(D,"emitZone")&&this.addEmitZone(D.emitZone);v(D,"deathZone")&&this.addDeathZone(D.deathZone);v(D,"bounds")&&(F=this.addParticleBounds(D.bounds),F.collideLeft=k(D,"collideLeft",!0),F.collideRight=k(D,"collideRight",!0),F.collideTop=k(D,"collideTop",!0),F.collideBottom=k(D,"collideBottom",!0));v(D,"followOffset")&&this.followOffset.setFromObject(k(D,"followOffset",0));v(D,"texture")&&this.setTexture(D.texture);v(D,"frame")?this.setEmitterFrame(D.frame):
v(D,"anim")&&this.setAnim(D.anim);v(D,"reserve")&&this.reserve(D.reserve);v(D,"advance")&&this.fastForward(D.advance);this.resetCounters(this.frequency,this.emitting);this.emitting&&this.emit(l.START,this);return this},toJSON:function(){var D=g(this),F;for(F=0;F<M.length;F++){var J=M[F];D[J]=this[J]}var N=this.ops;for(F=0;F<P.length;F++)J=P[F],N[J]&&(D[J]=N[J].toJSON());N.speedY.active||(delete D.speedX,D.speed=N.speedX.toJSON());this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=
N.scaleX.toJSON());return D},resetCounters:function(D,F){var J=this.counters;J.fill(0);J[0]=D;F&&(J[5]=1)},startFollow:function(D,F,J,N){void 0===F&&(F=0);void 0===J&&(J=0);void 0===N&&(N=!1);this.follow=D;this.followOffset.set(F,J);this.trackVisible=N;return this},stopFollow:function(){this.follow=null;this.followOffset.set(0,0);this.trackVisible=!1;return this},getFrame:function(){var D=this.frames,F=D.length;1===F?D=D[0]:this.randomFrame?D=n(D):(D=D[this.currentFrame],this.frameCounter++,this.frameCounter===
this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===F&&(this.currentFrame=0)));return this.texture.get(D)},setEmitterFrame:function(D,F,J){void 0===F&&(F=!0);void 0===J&&(J=1);this.randomFrame=F;this.frameQuantity=J;this.currentFrame=0;F=typeof D;this.frames.length=0;if(Array.isArray(D))this.frames=this.frames.concat(D);else if("string"===F||"number"===F)this.frames.push(D);else if("object"===F){F=D;if(D=k(F,"frames",null))this.frames=this.frames.concat(D);this.randomFrame=
k(F,"cycle",!1)?!1:!0;this.frameQuantity=k(F,"quantity",J)}1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1);return this},getAnim:function(){var D=this.anims,F=D.length;if(0===F)return null;if(1===F)return D[0];if(this.randomAnim)return n(D);D=D[this.currentAnim];this.animCounter++;this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=K(this.currentAnim+1,0,F));return D},setAnim:function(D,F,J){void 0===F&&(F=!0);void 0===J&&(J=1);this.randomAnim=F;this.animQuantity=
J;this.currentAnim=0;F=typeof D;this.anims.length=0;if(Array.isArray(D))this.anims=this.anims.concat(D);else if("string"===F)this.anims.push(D);else if("object"===F){F=D;if(D=k(F,"anims",null))this.anims=this.anims.concat(D);this.randomAnim=k(F,"cycle",!1)?!1:!0;this.animQuantity=k(F,"quantity",J)}1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1);return this},setRadial:function(D){void 0===D&&(D=!0);this.radial=D;return this},addParticleBounds:function(D,F,J,N,O,R,Q,S){"object"===typeof D&&
(N=D,D=N.x,F=N.y,J=v(N,"w")?N.w:N.width,N=v(N,"h")?N.h:N.height);return this.addParticleProcessor(new L(D,F,J,N,O,R,Q,S))},setParticleSpeed:function(D,F){void 0===F&&(F=D);this.ops.speedX.onChange(D);if(D===F)this.ops.speedY.active=!1;else this.ops.speedY.onChange(F);this.radial=!0;return this},setParticleScale:function(D,F){void 0===D&&(D=1);void 0===F&&(F=D);this.ops.scaleX.onChange(D);this.ops.scaleY.onChange(F);return this},setParticleGravity:function(D,F){this.gravityX=D;this.gravityY=F;return this},
setParticleAlpha:function(D){this.ops.alpha.onChange(D);return this},setParticleTint:function(D){this.ops.tint.onChange(D);return this},setEmitterAngle:function(D){this.ops.angle.onChange(D);return this},setParticleLifespan:function(D){this.ops.lifespan.onChange(D);return this},setQuantity:function(D){this.quantity=D;return this},setFrequency:function(D,F){this.frequency=D;this.flowCounter=0<D?D:0;F&&(this.quantity=F);return this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var F,J=[],
N=0;N<D.length;N++)if(F=D[N],F instanceof b)J.push(F);else if("function"===typeof F.contains)F=new b(F,!0),J.push(F);else{var O=k(F,"type","onEnter");(F=k(F,"source",null))&&"function"===typeof F.contains&&(F=new b(F,"onEnter"===O?!0:!1),J.push(F))}this.deathZones=this.deathZones.concat(J);return J},removeDeathZone:function(D){B(this.deathZones,D);return this},clearDeathZones:function(){this.deathZones.length=0;return this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var F,J=[],N=0;N<D.length;N++)if(F=
D[N],F instanceof z||F instanceof e)J.push(F);else{var O=k(F,"source",null);if(O){var R=k(F,"type","random");if("random"===R&&"function"===typeof O.getRandomPoint)F=new z(O),J.push(F);else if("edge"===R&&"function"===typeof O.getPoints){R=k(F,"quantity",1);var Q=k(F,"stepRate",0),S=k(F,"yoyo",!1),T=k(F,"seamless",!0);F=k(F,"total",-1);F=new e(O,R,Q,S,T,F);J.push(F)}}}this.emitZones=this.emitZones.concat(J);return J},removeEmitZone:function(D){B(this.emitZones,D);this.zoneIndex=0;return this},clearEmitZones:function(){this.zoneIndex=
this.emitZones.length=0;return this},getEmitZone:function(D){var F=this.emitZones,J=F.length;0!==J&&(F=F[this.zoneIndex],F.getPoint(D),-1<F.total&&(this.zoneTotal++,this.zoneTotal===F.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===J&&(this.zoneIndex=0))))},getDeathZone:function(D){for(var F=this.deathZones,J=0;J<F.length;J++){var N=F[J];if(N.willKill(D))return this.emit(l.DEATH_ZONE,this,D,N),!0}return!1},setEmitZone:function(D){D=isFinite(D)?D:this.emitZones.indexOf(D);0<=D&&(this.zoneIndex=
D);return this},addParticleProcessor:function(D){this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this);return D},removeParticleProcessor:function(D){this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null);return D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new q(D))},reserve:function(D){var F=this.dead;if(0<this.maxParticles){var J=
this.getParticleCount();J+D>this.maxParticles&&(D=this.maxParticles-(J+D))}for(J=0;J<D;J++)F.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return 0<this.maxParticles&&this.getParticleCount()>=this.maxParticles?!0:0<this.maxAliveParticles&&this.getAliveParticleCount()>=this.maxAliveParticles},
onParticleEmit:function(D,F){void 0===D?this.emitCallbackScope=this.emitCallback=null:"function"===typeof D&&(this.emitCallback=D,F&&(this.emitCallbackScope=F));return this},onParticleDeath:function(D,F){void 0===D?this.deathCallbackScope=this.deathCallback=null:"function"===typeof D&&(this.deathCallback=D,F&&(this.deathCallbackScope=F));return this},killAll:function(){for(var D=this.dead,F=this.alive;0<F.length;)D.push(F.pop());return this},forEachAlive:function(D,F){for(var J=this.alive,N=J.length,
O=0;O<N;O++)D.call(F,J[O],this);return this},forEachDead:function(D,F){for(var J=this.dead,N=J.length,O=0;O<N;O++)D.call(F,J[O],this);return this},start:function(D,F){void 0===D&&(D=0);this.emitting||(0<D&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==F&&(this.duration=Math.abs(F)),this.emit(l.START,this));return this},stop:function(D){void 0===D&&(D=!1);this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(l.STOP,this));return this},pause:function(){this.active=
!1;return this},resume:function(){this.active=!0;return this},setSortProperty:function(D,F){void 0===D&&(D="");void 0===F&&(F=this.true);this.sortProperty=D;this.sortOrderAsc=F;this.sortCallback=this.depthSortCallback;return this},setSortCallback:function(D){this.sortCallback=D=""!==this.sortProperty?this.depthSortCallback:null;return this},depthSort:function(){G(this.alive,this.sortCallback.bind(this));return this},depthSortCallback:function(D,F){var J=this.sortProperty;return this.sortOrderAsc?
D[J]-F[J]:F[J]-D[J]},flow:function(D,F,J){void 0===F&&(F=1);this.emitting=!1;this.frequency=D;this.quantity=F;void 0!==J&&(this.stopAfter=J);return this.start()},explode:function(D,F,J){this.frequency=-1;this.resetCounters(-1,!0);D=this.emitParticle(D,F,J);this.emit(l.EXPLODE,this,D);return D},emitParticleAt:function(D,F,J){return this.emitParticle(J,D,F)},emitParticle:function(D,F,J){if(!this.atLimit()){void 0===D&&(D=this.ops.quantity.onEmit());var N=this.dead,O=this.stopAfter;F=this.follow?this.follow.x+
this.followOffset.x:F;J=this.follow?this.follow.y+this.followOffset.y:J;for(var R=0;R<D;R++){var Q=N.pop();Q||(Q=new this.particleClass(this));Q.fire(F,J)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q);if(0<O&&(this.stopCounter++,this.stopCounter>=O))break;if(this.atLimit())break}return Q}},fastForward:function(D,F){void 0===F&&(F=1E3/60);var J=0;for(this.skipping=!0;J<Math.abs(D);)this.preUpdate(0,
F),J+=F;this.skipping=!1;return this},preUpdate:function(D,F){F*=this.timeScale;var J=F/1E3;this.trackVisible&&(this.visible=this.follow.visible);this.getWorldTransformMatrix(this.worldMatrix);var N=this.getProcessors();D=this.alive;var O=this.dead,R,Q=[],S=D.length;for(R=0;R<S;R++){var T=D[R];T.update(F,J,N)&&Q.push({index:R,particle:T})}S=Q.length;if(0<S)for(J=this.deathCallback,N=this.deathCallbackScope,R=S-1;0<=R;R--)S=Q[R],D.splice(S.index,1),O.push(S.particle),J&&J.call(N,S.particle),S.particle.setPosition();
if(this.emitting||this.skipping){if(0===this.frequency)this.emitParticle();else if(0<this.frequency)for(this.flowCounter-=F;0>=this.flowCounter;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(0<this.duration&&(this.elapsed+=F,this.elapsed>=this.duration&&this.stop()),0<this.stopAfter&&this.stopCounter>=this.stopAfter&&this.stop())}else 1===this.completeFlag&&0===D.length&&(this.completeFlag=0,this.emit(l.COMPLETE,this))},overlap:function(D){for(var F=this.getWorldTransformMatrix(),
J=this.alive,N=J.length,O=[],R=0;R<N;R++){var Q=J[R];A(D,Q.getBounds(F))&&O.push(Q)}return O},getBounds:function(D,F,J,N){void 0===D&&(D=0);void 0===F&&(F=0);void 0===J&&(J=1E3/60);void 0===N&&(N=new C);var O=this.getWorldTransformMatrix(),R,Q=this.alive,S=!1;N.setTo(0,0,0,0);if(0<F){var T=0;for(this.skipping=!0;T<Math.abs(F);){this.preUpdate(0,J);for(R=0;R<Q.length;R++){var U=Q[R].getBounds(O);S?w(N,U):(S=!0,d(U,N))}T+=J}this.skipping=!1}else for(R=0;R<Q.length;R++)U=Q[R].getBounds(O),S?w(N,U):(S=
!0,d(U,N));0<D&&u(N,D,D);return N},createEmitter:function(){throw Error("createEmitter removed. See ParticleEmitter docs for info");},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},
set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D);this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},
speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},
particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},
lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},
hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},
set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.counters=
this.follow=this.bounds=this.deathZones=this.emitZones=this.deathCallbackScope=this.deathCallback=this.emitCallbackScope=this.emitCallback=this.anims=this.frames=this.texture=null;var D,F=this.ops;for(D=0;D<P.length;D++)F[P[D]].destroy();for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null;this.alive=[];this.dead=[];this.worldMatrix.destroy()}});r.exports=a},9871:(r,p,a)=>{var m=a(59996);p=a(61340);var g=new p,d=new p,b=new p,
e=new p;r.exports=function(h,c,l,f){f?(e.loadIdentity(),e.multiply(f),e.translate(c.x,c.y),e.rotate(c.rotation),e.scale(c.scaleX,c.scaleY)):e.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);f=h.currentContext;var k=l.roundPixels,n=l.alpha,q=c.alpha,t=c.alive,v=t.length,u=c.viewBounds;if(c.visible&&0!==v&&(!u||m(u,l.worldView))){c.sortCallback&&c.depthSort();l.addToRenderList(c);u=c.scrollFactorX;var x=c.scrollFactorY;f.save();f.globalCompositeOperation=h.blendModes[c.blendMode];for(h=0;h<v;h++){var w=
t[h];c=w.alpha*q*n;if(!(0>=c||0===w.scaleX||0===w.scaleY)){b.applyITRS(w.x,w.y,w.rotation,w.scaleX,w.scaleY);g.copyFrom(l.matrix);g.multiplyWithOffset(e,-l.scrollX*u,-l.scrollY*x);b.e=w.x;b.f=w.y;g.multiply(b,d);w=w.frame;var y=w.canvasData;if(0<y.width&&0<y.height){var z=-w.halfWidth,C=-w.halfHeight;f.globalAlpha=c;f.save();d.setToContext(f);k&&(z=Math.round(z),C=Math.round(C));f.imageSmoothingEnabled=!w.source.scaleMode;f.drawImage(w.source.image,y.x,y.y,y.width,y.height,z,C,y.width,y.height);f.restore()}}}f.restore()}}},
92730:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(95540),b=a(31600);r.register("particles",function(e,h){void 0===e&&(e={});var c=g(e,"key",null),l=d(e,"config",null);c=new b(this.scene,0,0,c);void 0!==h&&(e.add=h);m(this.scene,c,e);l&&c.setConfig(l);return c})},676:(r,p,a)=>{r=a(39429);var m=a(31600);r.register("particles",function(g,d,b,e){void 0!==g&&"string"===typeof g&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details");return this.displayList.add(new m(this.scene,
g,d,b,e))})},90668:(r,p,a)=>{a(29747);p=a(21188);a=a(9871);r.exports={renderWebGL:p,renderCanvas:a}},21188:(r,p,a)=>{var m=a(59996);p=a(61340);var g=a(70554),d=new p,b=new p,e=new p,h=new p;r.exports=function(c,l,f,k){var n=c.pipelines.set(l.pipeline);k?(h.loadIdentity(),h.multiply(k),h.translate(l.x,l.y),h.rotate(l.rotation),h.scale(l.scaleX,l.scaleY)):h.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);k=g.getTintAppendFloatAlpha;var q=f.alpha,t=l.alpha;c.pipelines.preBatch(l);var v=l.alive,u=v.length,
x=l.viewBounds;if(0!==u&&(!x||m(x,f.worldView))){l.sortCallback&&l.depthSort();f.addToRenderList(l);d.copyFrom(f.matrix);d.multiplyWithOffset(h,-f.scrollX*l.scrollFactorX,-f.scrollY*l.scrollFactorY);c.setBlendMode(l.blendMode);l.mask&&(l.mask.preRenderWebGL(c,l,f),c.pipelines.set(l.pipeline));x=l.tintFill;for(var w,y,z=0;z<u;z++){var C=v[z],A=C.alpha*t*q;if(!(0>=A||0===C.scaleX||0===C.scaleY)){e.applyITRS(C.x,C.y,C.rotation,C.scaleX,C.scaleY);e.e=C.x;e.f=C.y;d.multiply(e,b);var B=C.frame;B.glTexture!==
y&&(y=B.glTexture,w=n.setGameObject(l,B));var E=-B.halfWidth,G=-B.halfHeight;E=b.setQuad(E,G,E+B.width,G+B.height);C=k(C.tint,A);n.shouldFlush(6)&&(n.flush(),w=n.setGameObject(l,B));n.batchQuad(l,E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],B.u0,B.v0,B.u1,B.v1,C,C,C,C,x,y,w)}}l.mask&&l.mask.postRenderWebGL(c,f);c.pipelines.postBatch(l)}}},20286:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g,d){void 0===m&&(m=0);void 0===g&&(g=0);void 0===d&&(d=!0);this.x=m;this.y=g;this.active=d},update:function(){},
destroy:function(){this.emitter=null}});r.exports=p},9774:r=>{r.exports="complete"},812:r=>{r.exports="deathzone"},30522:r=>{r.exports="explode"},96695:r=>{r.exports="start"},18677:r=>{r.exports="stop"},20696:(r,p,a)=>{r.exports={COMPLETE:a(9774),DEATH_ZONE:a(812),EXPLODE:a(30522),START:a(96695),STOP:a(18677)}},18404:(r,p,a)=>{r.exports={EmitterColorOp:a(76472),EmitterOp:a(44777),Events:a(20696),GravityWell:a(24502),Particle:a(56480),ParticleBounds:a(69601),ParticleEmitter:a(31600),ParticleProcessor:a(20286),
Zones:a(21024)}},26388:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g){this.source=m;this.killOnEnter=g},willKill:function(m){m=m.worldPosition;return(m=this.source.contains(m.x,m.y))&&this.killOnEnter||!m&&!this.killOnEnter}});r.exports=p},19909:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g,d,b,e,h){void 0===b&&(b=!1);void 0===e&&(e=!0);void 0===h&&(h=-1);this.source=m;this.points=[];this.quantity=g;this.stepRate=d;this.yoyo=b;this.counter=-1;this.seamless=e;this._direction=this._length=
0;this.total=h;this.updateSource()},updateSource:function(){this.points=this.source.getPoints(this.quantity,this.stepRate);if(this.seamless){var m=this.points[0],g=this.points[this.points.length-1];m.x===g.x&&m.y===g.y&&this.points.pop()}m=this._length;this._length=this.points.length;this._length<m&&this.counter>this._length&&(this.counter=this._length-1);return this},changeSource:function(m){this.source=m;return this.updateSource()},getPoint:function(m){0===this._direction?(this.counter++,this.counter>=
this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.counter=this.yoyo?this._direction=0:this._length-1));var g=this.points[this.counter];g&&(m.x=g.x,m.y=g.y)}});r.exports=p},68875:(r,p,a)=>{p=a(83419);var m=a(26099);a=new p({initialize:function(g){this.source=g;this._tempVec=new m;this.total=-1},getPoint:function(g){var d=this._tempVec;this.source.getRandomPoint(d);g.x=d.x;g.y=d.y}});r.exports=a},21024:(r,p,a)=>{r.exports=
{DeathZone:a(26388),EdgeZone:a(19909),RandomZone:a(68875)}},1159:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(68287);a=new p({Extends:g,Mixins:[m.PathFollower],initialize:function(d,b,e,h,c,l){g.call(this,d,e,h,c,l);this.path=b},preUpdate:function(d,b){this.anims.update(d,b);this.pathUpdate(d)}});r.exports=a},90145:(r,p,a)=>{r=a(39429);var m=a(1159);r.register("follower",function(g,d,b,e,h){g=new m(this.scene,g,d,b,e,h);this.displayList.add(g);this.updateList.add(g);return g})},33663:(r,p,a)=>{var m=a(9674);
p=a(83419);var g=a(48803),d=a(90664),b=a(4703),e=a(45650);a=new p({Extends:b,initialize:function(h,c,l,f,k,n,q,t){f||(f="__DEFAULT");b.call(this,h,c,l,f,k);this.type="Plane";this.anims=new m(this);this._checkerboard=null;this.hideCCW=!1;this.setGridSize(n,q,t);this.setSizeToFrame(!1);this.setViewHeight()},originX:{get:function(){return.5}},originY:{get:function(){return.5}},setGridSize:function(h,c,l){void 0===h&&(h=8);void 0===c&&(c=8);void 0===l&&(l=!1);var f=!1;l&&(f=!0);this.gridWidth=h;this.gridHeight=
c;this.isTiled=l;this.clear();g({mesh:this,widthSegments:h,heightSegments:c,isOrtho:!1,tile:l,flipY:f});return this},setSizeToFrame:function(h){void 0===h&&(h=!0);var c=this.frame;this.setPerspective(this.width/c.width,this.height/c.height);this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard();if(!h)return this;h=this.gridWidth;var l=this.gridHeight,f=this.vertices,k=c.u0,n=c.u1,q=c.v0,t=c.v1,v,u=0;if(this.isTiled)for(q=c.v1,t=c.v0,v=0;v<l;v++)for(c=0;c<h;c++)f[u++].setUVs(k,
t),f[u++].setUVs(k,q),f[u++].setUVs(n,t),f[u++].setUVs(k,q),f[u++].setUVs(n,q),f[u++].setUVs(n,t);else{var x=h+1,w=l+1;n-=k;var y=t-q;t=[];for(v=0;v<w;v++)for(c=0;c<x;c++)t.push(k+c/h*n,q+v/l*y);for(v=0;v<l;v++)for(c=0;c<h;c++)k=2*(c+x*v),q=2*(c+x*(v+1)),w=2*(c+1+x*(v+1)),n=2*(c+1+x*v),f[u++].setUVs(t[k],t[k+1]),f[u++].setUVs(t[q],t[q+1]),f[u++].setUVs(t[n],t[n+1]),f[u++].setUVs(t[q],t[q+1]),f[u++].setUVs(t[w],t[w+1]),f[u++].setUVs(t[n],t[n+1])}return this},setViewHeight:function(h){void 0===h&&(h=
this.frame.height);this.viewPosition.z=this.height/h/Math.tan(Math.PI/180*this.fov/2);this.dirtyCache[10]=1},createCheckerboard:function(h,c,l,f,k){void 0===h&&(h=16777215);void 0===c&&(c=255);void 0===l&&(l=255);void 0===f&&(f=255);void 0===k&&(k=128);h=d(h);c=d(c);for(var n=[],q=0;16>q;q++)for(var t=0;16>t;t++)8>q&&8>t||7<q&&7<t?n.push(h.r,h.g,h.b,l):n.push(c.r,c.g,c.b,f);l=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(n),16,16);this.removeCheckerboard();this.setTexture(l);this.setSizeToFrame();
this.setViewHeight(k);return this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,c){return this.anims.play(h,c)},playReverse:function(h,c){return this.anims.playReverse(h,c)},playAfterDelay:function(h,c){return this.anims.playAfterDelay(h,c)},playAfterRepeat:function(h,c){return this.anims.playAfterRepeat(h,c)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},
stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,c){b.prototype.preUpdate.call(this,h,c);this.anims.update(h,c)},preDestroy:function(){this.clear();this.removeCheckerboard();this.anims.destroy();this.anims=void 0;this.debugGraphic=this.debugCallback=null}});r.exports=a},56015:(r,p,a)=>{var m=a(25305),g=a(13059);r=a(44603);var d=a(23568),b=a(35154),e=a(33663);r.register("plane",function(h,c){void 0===h&&(h={});var l=d(h,"key",null),f=d(h,"frame",null),k=b(h,"width",8),
n=b(h,"height",8),q=b(h,"tile",!1);l=new e(this.scene,0,0,l,f,k,n,q);void 0!==c&&(h.add=c);if(q=b(h,"checkerboard",null))c=b(q,"color1",16777215),f=b(q,"color2",255),k=b(q,"alpha1",255),n=b(q,"alpha2",255),q=b(q,"height",128),l.createCheckerboard(c,f,k,n,q);m(this.scene,l,h);g(l,h);return l})},30985:(r,p,a)=>{var m=a(33663);a(39429).register("plane",function(g,d,b,e,h,c,l){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l))})},80321:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(95643),d=a(30100),
b=a(36060);a=a(67277);a=new p({Extends:g,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,a],initialize:function(e,h,c,l,f,k,n){void 0===l&&(l=16777215);void 0===f&&(f=128);void 0===k&&(k=1);void 0===n&&(n=.1);g.call(this,e,"PointLight");this.initPipeline(b.POINTLIGHT_PIPELINE);this.initPostPipeline();this.setPosition(h,c);this.color=d(l);this.intensity=k;this.attenuation=n;this.width=2*f;this.height=2*f;this._radius=f},radius:{get:function(){return this._radius},
set:function(e){this._radius=e;this.width=2*e;this.height=2*e}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});r.exports=a},39829:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(80321);r.register("pointlight",function(b,e){void 0===b&&(b={});var h=g(b,"color",16777215),c=g(b,"radius",128),l=g(b,"intensity",1),f=g(b,"attenuation",.1);h=new d(this.scene,0,0,h,c,l,
f);void 0!==e&&(b.add=e);m(this.scene,h,b);return h})},71255:(r,p,a)=>{r=a(39429);var m=a(80321);r.register("pointlight",function(g,d,b,e,h,c){return this.displayList.add(new m(this.scene,g,d,b,e,h,c))})},67277:(r,p,a)=>{p=a(29747);a=a(57787);r.exports={renderWebGL:a,renderCanvas:p}},57787:(r,p,a)=>{var m=a(91296);r.exports=function(g,d,b,e){b.addToRenderList(d);var h=g.pipelines.set(d.pipeline),c=m(d,b,e).calc,l=-d._radius,f=-d._radius,k=l+d.width,n=f+d.height;e=c.getX(0,0);var q=c.getY(0,0),t=c.getX(l,
f),v=c.getY(l,f),u=c.getX(l,n);l=c.getY(l,n);var x=c.getX(k,n);n=c.getY(k,n);var w=c.getX(k,f);c=c.getY(k,f);g.pipelines.preBatch(d);h.batchPointLight(d,b,t,v,u,l,x,n,w,c,e,q);g.pipelines.postBatch(d)}},591:(r,p,a)=>{p=a(83419);var m=a(81320),g=a(88571);a=new p({Extends:g,initialize:function(d,b,e,h,c){void 0===b&&(b=0);void 0===e&&(e=0);void 0===h&&(h=32);void 0===c&&(c=32);h=new m(d.sys.textures,"",h,c);g.call(this,d,b,e,h);this.type="RenderTexture";this.camera=this.texture.camera;this._saved=!1},
setSize:function(d,b){this.width=d;this.height=b;this.texture.setSize(d,b);this.updateDisplayOrigin();var e=this.input;e&&!e.customHitArea&&(e.hitArea.width=d,e.hitArea.height=b);return this},resize:function(d,b){this.setSize(d,b);return this},saveTexture:function(d){var b=this.texture;b.key=d;b.manager.addDynamicTexture(b)&&(this._saved=!0);return b},fill:function(d,b,e,h,c,l){this.texture.fill(d,b,e,h,c,l);return this},clear:function(){this.texture.clear();return this},stamp:function(d,b,e,h,c){this.texture.stamp(d,
b,e,h,c);return this},erase:function(d,b,e){this.texture.erase(d,b,e);return this},draw:function(d,b,e,h,c){this.texture.draw(d,b,e,h,c);return this},drawFrame:function(d,b,e,h,c,l){this.texture.drawFrame(d,b,e,h,c,l);return this},repeat:function(d,b,e,h,c,l,f,k,n){this.texture.repeat(d,b,e,h,c,l,f,k,n);return this},beginDraw:function(){this.texture.beginDraw();return this},batchDraw:function(d,b,e,h,c){this.texture.batchDraw(d,b,e,h,c);return this},batchDrawFrame:function(d,b,e,h,c,l){this.texture.batchDrawFrame(d,
b,e,h,c,l);return this},endDraw:function(d){this.texture.endDraw(d);return this},snapshotArea:function(d,b,e,h,c,l,f){this.texture.snapshotArea(d,b,e,h,c,l,f);return this},snapshot:function(d,b,e){return this.snapshotArea(0,0,this.width,this.height,d,b,e)},snapshotPixel:function(d,b,e){return this.snapshotArea(d,b,1,1,e,"pixel")},preDestroy:function(){this.camera=null;this._saved||this.texture.destroy()}});r.exports=a},34495:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(591);r.register("renderTexture",
function(b,e){void 0===b&&(b={});var h=g(b,"x",0),c=g(b,"y",0),l=g(b,"width",32),f=g(b,"height",32);h=new d(this.scene,h,c,l,f);void 0!==e&&(b.add=e);m(this.scene,h,b);return h})},60505:(r,p,a)=>{r=a(39429);var m=a(591);r.register("renderTexture",function(g,d,b,e){return this.displayList.add(new m(this.scene,g,d,b,e))})},77757:(r,p,a)=>{var m=a(9674);p=a(83419);var g=a(31401),d=a(95643),b=a(36060),e=a(38745),h=a(26099);a=new p({Extends:d,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Flip,g.Mask,g.Pipeline,
g.PostPipeline,g.Size,g.Texture,g.Transform,g.Visible,g.ScrollFactor,e],initialize:function(c,l,f,k,n,q,t,v,u){void 0===k&&(k="__DEFAULT");void 0===q&&(q=2);void 0===t&&(t=!0);d.call(this,c,"Rope");this.anims=new m(this);this.points=q;this.tintFill="__DEFAULT"===k?!0:!1;this.dirty=!1;this.horizontal=t;this._flipY=this._flipX=!1;this._perp=new h;this.debugGraphic=this.debugCallback=null;this.setTexture(k,n);this.setPosition(l,f);this.setSizeToFrame();this.initPipeline(b.ROPE_PIPELINE);this.initPostPipeline();
Array.isArray(q)&&this.resizeArrays(q.length);this.setPoints(q,v,u);this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(c,l){var f=this.anims.currentFrame;this.anims.update(c,l);this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(c,l,f){this.anims.play(c,l,f);return this},setDirty:function(){this.dirty=!0;return this},setHorizontal:function(c,l,f){void 0===
c&&(c=this.points.length);if(this.horizontal)return this;this.horizontal=!0;return this.setPoints(c,l,f)},setVertical:function(c,l,f){void 0===c&&(c=this.points.length);if(!this.horizontal)return this;this.horizontal=!1;return this.setPoints(c,l,f)},setTintFill:function(c){void 0===c&&(c=!1);this.tintFill=c;return this},setAlphas:function(c,l){var f=this.points.length;if(1>f)return this;var k=this.alphas;void 0===c?c=[1]:Array.isArray(c)||void 0!==l||(c=[c]);var n;if(void 0!==l)for(n=0;n<f;n++){var q=
2*n;k[q]=c;k[q+1]=l}else if(c.length===f)for(n=0;n<f;n++)q=2*n,k[q]=c[n],k[q+1]=c[n];else for(l=c[0],n=0;n<f;n++)q=2*n,c.length>q&&(l=c[q]),k[q]=l,c.length>q+1&&(l=c[q+1]),k[q+1]=l;return this},setColors:function(c){var l=this.points.length;if(1>l)return this;var f=this.colors;void 0===c?c=[16777215]:Array.isArray(c)||(c=[c]);var k;if(c.length===l)for(k=0;k<l;k++){var n=2*k;f[n]=c[k];f[n+1]=c[k]}else{var q=c[0];for(k=0;k<l;k++)n=2*k,c.length>n&&(q=c[n]),f[n]=q,c.length>n+1&&(q=c[n+1]),f[n+1]=q}return this},
setPoints:function(c,l,f){void 0===c&&(c=2);if("number"===typeof c){var k=c;2>k&&(k=2);c=[];var n;if(this.horizontal){var q=-this.frame.halfWidth;var t=this.frame.width/(k-1);for(n=0;n<k;n++)c.push({x:q+n*t,y:0})}else for(q=-this.frame.halfHeight,t=this.frame.height/(k-1),n=0;n<k;n++)c.push({x:0,y:q+n*t})}k=c.length;n=this.points.length;if(1>k)return console.warn("Rope: Not enough points given"),this;1===k&&(c.unshift({x:0,y:0}),k++);n!==k&&this.resizeArrays(k);this.dirty=!0;this.points=c;this.updateUVs();
void 0!==l&&null!==l&&this.setColors(l);void 0!==f&&null!==f&&this.setAlphas(f);return this},updateUVs:function(){for(var c=this.uv,l=this.points.length,f=this.frame.u0,k=this.frame.v0,n=this.frame.u1,q=this.frame.v1,t=(n-f)/(l-1),v=(q-k)/(l-1),u=0;u<l;u++){var x=4*u;if(this.horizontal){if(this._flipX){var w=n-u*t;var y=n-u*t}else w=f+u*t,y=f+u*t;if(this._flipY){var z=q;var C=k}else z=k,C=q}else this._flipX?(w=f,y=n):(w=n,y=f),this._flipY?(z=q-u*v,C=q-u*v):(z=k+u*v,C=k+u*v);c[x+0]=w;c[x+1]=z;c[x+
2]=y;c[x+3]=C}return this},resizeArrays:function(c){this.vertices=new Float32Array(4*c);this.uv=new Float32Array(4*c);var l=new Uint32Array(2*c);var f=new Float32Array(2*c);for(var k=0;k<2*c;k++)l[k]=16777215,f[k]=1;this.colors=l;this.alphas=f;this.dirty=!0;return this},updateVertices:function(){var c=this._perp,l=this.points,f=this.vertices,k=l.length;this.dirty=!1;if(!(1>k)){for(var n,q=l[0],t=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,v=0;v<k;v++){var u=l[v],x=4*v;n=v<k-1?l[v+1]:
u;c.x=n.y-q.y;c.y=-(n.x-q.x);n=c.length();c.x/=n;c.y/=n;c.x*=t;c.y*=t;f[x]=u.x+c.x;f[x+1]=u.y+c.y;f[x+2]=u.x-c.x;f[x+3]=u.y-c.y;q=u}return this}},setDebug:function(c,l){this.debugCallback=(this.debugGraphic=c)||l?l?l:this.renderDebugVerts:null;return this},renderDebugVerts:function(c,l,f){c=c.debugGraphic;var k=f[0],n=f[1],q=f[2],t=f[3];c.lineBetween(k,n,q,t);for(var v=4;v<l;v+=4){var u=f[v+0],x=f[v+1],w=f[v+2],y=f[v+3];c.lineBetween(k,n,u,x);c.lineBetween(q,t,w,y);c.lineBetween(q,t,u,x);c.lineBetween(u,
x,w,y);k=u;n=x;q=w;t=y}},preDestroy:function(){this.anims.destroy();this.anims=void 0;this.debugGraphic=this.debugCallback=this.alphas=this.colors=this.uv=this.vertices=this.points=null},flipX:{get:function(){return this._flipX},set:function(c){this._flipX=c;return this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(c){this._flipY=c;return this.updateUVs()}}});r.exports=a},95262:r=>{r.exports=function(){}},26209:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(35154),b=
a(77757);r.register("rope",function(e,h){void 0===e&&(e={});var c=g(e,"key",null),l=g(e,"frame",null),f=g(e,"horizontal",!0),k=d(e,"points",void 0),n=d(e,"colors",void 0),q=d(e,"alphas",void 0);c=new b(this.scene,0,0,c,l,k,f,n,q);void 0!==h&&(e.add=h);m(this.scene,c,e);return c})},96819:(r,p,a)=>{var m=a(77757);a(39429).register("rope",function(g,d,b,e,h,c,l,f){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l,f))})},38745:(r,p,a)=>{a(29747);p=a(20439);a=a(95262);r.exports={renderWebGL:p,
renderCanvas:a}},20439:(r,p,a)=>{var m=a(91296),g=a(70554);r.exports=function(d,b,e,h){e.addToRenderList(b);var c=d.pipelines.set(b.pipeline,b);h=m(b,e,h).calc;var l=b.vertices,f=b.uv,k=b.colors,n=b.alphas,q=b.alpha,t=g.getTintAppendFloatAlpha,v=e.roundPixels,u=l.length,x=Math.floor(.5*u);c.flush();d.pipelines.preBatch(b);var w=c.setGameObject(b),y=c.vertexViewF32,z=c.vertexViewU32,C=c.vertexCount*c.currentShader.vertexComponentCount-1,A=0,B=b.tintFill;b.dirty&&b.updateVertices();for(var E=b.debugCallback,
G=[],I=0;I<u;I+=2){var H=l[I+0],K=l[I+1],L=H*h.a+K*h.c+h.e;H=H*h.b+K*h.d+h.f;v&&(L=Math.round(L),H=Math.round(H));y[++C]=L;y[++C]=H;y[++C]=f[I+0];y[++C]=f[I+1];y[++C]=w;y[++C]=B;z[++C]=t(k[A],e.alpha*n[A]*q);A++;E&&(G[I+0]=L,G[I+1]=H)}E&&E.call(b,b,u,G);c.vertexCount+=x;c.currentBatch.count=c.vertexCount-c.currentBatch.start;d.pipelines.postBatch(b)}},20071:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(95643),d=a(95540),b=a(79291),e=a(61622),h=a(25479),c=a(61340),l=a(95428),f=a(92503);a=new p({Extends:g,
Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,h],initialize:function(k,n,q,t,v,u,x,w){void 0===q&&(q=0);void 0===t&&(t=0);void 0===v&&(v=128);void 0===u&&(u=128);g.call(this,k,"Shader");this.blendMode=-1;this.renderer=k=k.sys.renderer;this.gl=k.gl;this.vertexData=new ArrayBuffer(12*Float32Array.BYTES_PER_ELEMENT);this.vertexBuffer=k.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW);this.program=this._deferProjOrtho=this._deferSetShader=
null;this.bytes=new Uint8Array(this.vertexData);this.vertexViewF32=new Float32Array(this.vertexData);this._tempMatrix1=new c;this._tempMatrix2=new c;this._tempMatrix3=new c;this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.uniforms={};this.pointer=null;this._rendererWidth=k.width;this._rendererHeight=k.height;this._textureCount=0;this.glTexture=this.framebuffer=null;this.renderToTexture=!1;this.texture=
null;this.setPosition(q,t);this.setSize(v,u);this.setOrigin(.5,.5);this.setShader(n,x,w);this.renderer.on(f.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(k){return this.renderToTexture?!0:!(g.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&k.id)},setRenderToTexture:function(k,n){if(!this.renderToTexture){n=this.width;var q=this.height,t=this.renderer;this.glTexture=t.createTextureFromSource(null,n,q,0);this.framebuffer=t.createFramebuffer(n,q,this.glTexture,
!1);this._rendererWidth=n;this._rendererHeight=q;this.renderToTexture=!0;this.projOrtho(0,this.width,this.height,0);k&&(this.texture=this.scene.sys.textures.addGLTexture(k,this.glTexture))}this.shader&&(t.pipelines.clear(),this.load(),this.flush(),t.pipelines.rebind());return this},setShader:function(k,n,q){if(this.renderer.contextLost)return this._deferSetShader={key:k,textures:n,textureData:q},this;void 0===n&&(n=[]);if("string"===typeof k){var t=this.scene.sys.cache.shader;if(!t.has(k))return console.warn("Shader missing: "+
k),this;this.shader=t.get(k)}else this.shader=k;k=this.gl;t=this.renderer;this.program&&t.deleteProgram(this.program);t=t.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);k.uniformMatrix4fv(k.getUniformLocation(t.webGLProgram,"uViewMatrix"),!1,this.viewMatrix);k.uniformMatrix4fv(k.getUniformLocation(t.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix);k.uniform2f(k.getUniformLocation(t.webGLProgram,"uResolution"),this.width,this.height);this.program=t;k=new Date;k={resolution:{type:"2f",
value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[k.getFullYear(),k.getMonth(),k.getDate(),3600*k.getHours()+60*k.getMinutes()+k.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,
textureData:{repeat:!0}}};this.uniforms=this.shader.uniforms?b(!0,{},this.shader.uniforms,k):k;for(k=0;4>k;k++)n[k]&&this.setSampler2D("iChannel"+k,n[k],k,q);this.initUniforms();this.projOrtho(0,this._rendererWidth,this._rendererHeight,0);return this},setPointer:function(k){this.pointer=k;return this},projOrtho:function(k,n,q,t){if(this.renderer.contextLost)this._deferProjOrtho={left:k,right:n,bottom:q,top:t};else{var v=1/(k-n),u=1/(q-t),x=this.projectionMatrix;x[0]=-2*v;x[5]=-2*u;x[10]=-.001;x[12]=
(k+n)*v;x[13]=(t+q)*u;x[14]=-0;k=this.program;t=this.gl;this.renderer.setProgram(k);t.uniformMatrix4fv(t.getUniformLocation(k.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix);this._rendererWidth=n;this._rendererHeight=q}},initUniforms:function(){var k=this.renderer.glFuncMap,n=this.program;this._textureCount=0;for(var q in this.uniforms){var t=this.uniforms[q],v=t.type,u=k[v];t.uniformLocation=this.renderer.createUniformLocation(n,q);"sampler2D"!==v&&(t.glMatrix=u.matrix,t.glValueLength=
u.length,t.glFunc=u.func)}},setSampler2DBuffer:function(k,n,q,t,v,u){void 0===v&&(v=0);void 0===u&&(u={});k=this.uniforms[k];k.value=n;u.width=q;u.height=t;k.textureData=u;this._textureCount=v;this.initSampler2D(k);return this},setSampler2D:function(k,n,q,t){void 0===q&&(q=0);var v=this.scene.sys.textures;if(v.exists(n)){v=v.getFrame(n);if(v.glTexture&&v.glTexture.isRenderTexture)return this.setSampler2DBuffer(k,v.glTexture,v.width,v.height,q,t);k=this.uniforms[k];var u=v.source;k.textureKey=n;k.source=
u.image;k.value=v.glTexture;u.isGLTexture&&(t||(t={}),t.width=u.width,t.height=u.height);t&&(k.textureData=t);this._textureCount=q;this.initSampler2D(k)}return this},setUniform:function(k,n){e(this.uniforms,k,n);return this},getUniform:function(k){return d(this.uniforms,k,null)},setChannel0:function(k,n){return this.setSampler2D("iChannel0",k,0,n)},setChannel1:function(k,n){return this.setSampler2D("iChannel1",k,1,n)},setChannel2:function(k,n){return this.setSampler2D("iChannel2",k,2,n)},setChannel3:function(k,
n){return this.setSampler2D("iChannel3",k,3,n)},initSampler2D:function(k){if(k.value){var n=k.textureData;if(n&&!k.value.isRenderTexture){var q=this.gl;k=k.value;var t=q[d(n,"magFilter","linear").toUpperCase()],v=q[d(n,"minFilter","linear").toUpperCase()],u=q[d(n,"wrapS","repeat").toUpperCase()],x=q[d(n,"wrapT","repeat").toUpperCase()],w=q[d(n,"format","rgba").toUpperCase()],y=d(n,"flipY",!1),z=d(n,"width",k.width),C=d(n,"height",k.height),A=d(n,"source",k.pixels);n.repeat&&(x=u=q.REPEAT);n.width&&
(A=null);k.update(A,z,C,y,u,x,v,t,w)}this.renderer.setProgram(this.program);this._textureCount++}},syncUniforms:function(){var k=this.gl,n=this.uniforms,q=0,t;for(t in n){var v=n[t];var u=v.glFunc;var x=v.glValueLength;var w=v.uniformLocation;var y=v.value;null!==y&&(1===x?v.glMatrix?u.call(k,w.webGLUniformLocation,v.transpose,y):u.call(k,w.webGLUniformLocation,y):2===x?u.call(k,w.webGLUniformLocation,y.x,y.y):3===x?u.call(k,w.webGLUniformLocation,y.x,y.y,y.z):4===x?u.call(k,w.webGLUniformLocation,
y.x,y.y,y.z,y.w):"sampler2D"===v.type&&(k.activeTexture(k.TEXTURE0+q),k.bindTexture(k.TEXTURE_2D,y.webGLTexture),k.uniform1i(w.webGLUniformLocation,q),q++))}},load:function(k){var n=this.gl,q=this.width,t=this.height,v=this.renderer,u=this.program,x=this.viewMatrix;if(!this.renderToTexture){var w=-this._displayOriginX,y=-this._displayOriginY;x[0]=k[0];x[1]=k[1];x[4]=k[2];x[5]=k[3];x[8]=k[4];x[9]=k[5];x[12]=x[0]*w+x[4]*y;x[13]=x[1]*w+x[5]*y}n.useProgram(u.webGLProgram);n.uniformMatrix4fv(n.getUniformLocation(u.webGLProgram,
"uViewMatrix"),!1,x);n.uniformMatrix4fv(n.getUniformLocation(u.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix);n.uniform2f(n.getUniformLocation(u.webGLProgram,"uResolution"),this.width,this.height);k=this.uniforms;n=k.resolution;n.value.x=q;n.value.y=t;k.time.value=v.game.loop.getDuration();if(v=this.pointer)k=k.mouse,t=1-v.y/t,k.value.x=(v.x/q).toFixed(2),k.value.y=t.toFixed(2);this.syncUniforms()},flush:function(){var k=this.width,n=this.height,q=this.program,t=this.gl,v=this.vertexBuffer,
u=this.renderer,x=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(u.setFramebuffer(this.framebuffer),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT));t.bindBuffer(t.ARRAY_BUFFER,v.webGLBuffer);q=t.getAttribLocation(q.webGLProgram,"inPosition");-1!==q&&(t.enableVertexAttribArray(q),t.vertexAttribPointer(q,2,t.FLOAT,!1,x,0));q=this.vertexViewF32;q[3]=n;q[4]=k;q[5]=n;q[8]=k;q[9]=n;q[10]=k;t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,6*x));t.drawArrays(t.TRIANGLES,0,6);this.renderToTexture&&
u.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var k=this._deferSetShader.key,n=this._deferSetShader.textures,q=this._deferSetShader.textureData;this._deferSetShader=null;this.setShader(k,n,q)}if(null!==this._deferProjOrtho){k=this._deferProjOrtho.left;n=this._deferProjOrtho.right;q=this._deferProjOrtho.bottom;var t=this._deferProjOrtho.top;this._deferProjOrtho=null;this.projOrtho(k,n,q,t)}},preDestroy:function(){var k=
this.renderer;k.off(f.RESTORE_WEBGL,this.onContextRestored,this);k.deleteProgram(this.program);k.deleteBuffer(this.vertexBuffer);this.renderToTexture&&(k.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.texture=this.glTexture=this.framebuffer=null);l(this.uniforms,function(n){k.deleteUniformLocation(n.uniformLocation);n.uniformLocation=null})}});r.exports=a},80464:r=>{r.exports=function(){}},54935:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(20071);r.register("shader",function(b,
e){void 0===b&&(b={});var h=g(b,"key",null),c=g(b,"x",0),l=g(b,"y",0),f=g(b,"width",128),k=g(b,"height",128);h=new d(this.scene,h,c,l,f,k);void 0!==e&&(b.add=e);m(this.scene,h,b);return h})},74177:(r,p,a)=>{var m=a(20071);a(39429).register("shader",function(g,d,b,e,h,c,l){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l))})},25479:(r,p,a)=>{a(29747);p=a(19257);a=a(80464);r.exports={renderWebGL:p,renderCanvas:a}},19257:(r,p,a)=>{var m=a(91296);r.exports=function(g,d,b,e){d.shader&&(b.addToRenderList(d),
g.pipelines.clear(),d.renderToTexture?d.load():(b=m(d,b,e).calc,g.width===d._rendererWidth&&g.height===d._rendererHeight||d.projOrtho(0,g.width,g.height,0),d.load(b.matrix)),d.flush(),g.pipelines.rebind())}},10441:(r,p,a)=>{var m=a(70554);r.exports=function(g,d,b,e,h,c){e=m.getTintAppendFloatAlpha(b.fillColor,b.fillAlpha*e);for(var l=b.pathData,f=b.pathIndexes,k=0;k<f.length;k+=3){var n=2*f[k],q=2*f[k+1],t=2*f[k+2],v=l[n+0]-h,u=l[n+1]-c;n=l[q+0]-h;var x=l[q+1]-c;q=l[t+0]-h;var w=l[t+1]-c;t=d.getX(v,
u);v=d.getY(v,u);u=d.getX(n,x);n=d.getY(n,x);x=d.getX(q,w);q=d.getY(q,w);g.batchTri(b,t,v,u,n,x,q,0,0,1,1,e,e,e,2)}}},65960:r=>{r.exports=function(p,a,m,g){m=m?m:a.fillColor;p.fillStyle="rgba("+((m&16711680)>>>16)+","+((m&65280)>>>8)+","+(m&255)+","+(g?g:a.fillAlpha)+")"}},75177:r=>{r.exports=function(p,a,m,g){m=m?m:a.strokeColor;p.strokeStyle="rgba("+((m&16711680)>>>16)+","+((m&65280)>>>8)+","+(m&255)+","+(g?g:a.strokeAlpha)+")";p.lineWidth=a.lineWidth}},17803:(r,p,a)=>{p=a(83419);var m=a(31401),
g=a(95643),d=a(23031);a=new p({Extends:g,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(b,e,h){void 0===e&&(e="Shape");g.call(this,b,e);this.geom=h;this.pathData=[];this.pathIndexes=[];this.fillColor=16777215;this.fillAlpha=1;this.strokeColor=16777215;this.lineWidth=this.strokeAlpha=1;this.isStroked=this.isFilled=!1;this.closePath=!0;this._tempLine=new d;this.height=this.width=0;this.initPipeline();
this.initPostPipeline()},setFillStyle:function(b,e){void 0===e&&(e=1);void 0===b?this.isFilled=!1:(this.fillColor=b,this.fillAlpha=e,this.isFilled=!0);return this},setStrokeStyle:function(b,e,h){void 0===h&&(h=1);void 0===b?this.isStroked=!1:(this.lineWidth=b,this.strokeColor=e,this.strokeAlpha=h,this.isStroked=!0);return this},setClosePath:function(b){this.closePath=b;return this},setSize:function(b,e){this.width=b;this.height=e;return this},setDisplaySize:function(b,e){this.displayWidth=b;this.displayHeight=
e;return this},preDestroy:function(){this._tempLine=this.geom=null;this.pathData=[];this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(b){this.scaleX=b/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(b){this.scaleY=b/this.height}}});r.exports=a},34682:(r,p,a)=>{var m=a(70554);r.exports=function(g,d,b,e,h){var c=g.strokeTint;b=m.getTintAppendFloatAlpha(d.strokeColor,d.strokeAlpha*b);c.TL=b;c.TR=b;c.BL=b;c.BR=b;c=d.pathData;
b=c.length-1;var l=d.lineWidth,f=l/2,k=c[0]-e,n=c[1]-h;d.closePath||(b-=2);for(var q=2;q<b;q+=2){var t=c[q]-e,v=c[q+1]-h;g.batchLine(k,n,t,v,f,f,l,q-2,d.closePath?q===b-1:!1);k=t;n=v}}},23629:(r,p,a)=>{p=a(13609);var m=a(83419),g=a(39506),d=a(94811),b=a(96503),e=a(36383),h=a(17803);a=new m({Extends:h,Mixins:[p],initialize:function(c,l,f,k,n,q,t,v,u){void 0===l&&(l=0);void 0===f&&(f=0);void 0===k&&(k=128);void 0===n&&(n=0);void 0===q&&(q=360);void 0===t&&(t=!1);h.call(this,c,"Arc",new b(0,0,k));this._startAngle=
n;this._endAngle=q;this._anticlockwise=t;this._iterations=.01;this.setPosition(l,f);c=2*this.geom.radius;this.setSize(c,c);void 0!==v&&this.setFillStyle(v,u);this.updateDisplayOrigin();this.updateData()},iterations:{get:function(){return this._iterations},set:function(c){this._iterations=c;this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(c){this.geom.radius=c;c*=2;this.setSize(c,c);this.updateDisplayOrigin();this.updateData()}},startAngle:{get:function(){return this._startAngle},
set:function(c){this._startAngle=c;this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(c){this._endAngle=c;this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(c){this._anticlockwise=c;this.updateData()}},setRadius:function(c){this.radius=c;return this},setIterations:function(c){void 0===c&&(c=.01);this.iterations=c;return this},setStartAngle:function(c,l){this._startAngle=c;void 0!==l&&(this._anticlockwise=l);return this.updateData()},
setEndAngle:function(c,l){this._endAngle=c;void 0!==l&&(this._anticlockwise=l);return this.updateData()},updateData:function(){var c=this._iterations,l=c,f=this.geom.radius,k=g(this._startAngle),n=g(this._endAngle),q=this._anticlockwise;n-=k;q?n<-e.PI2?n=-e.PI2:0<n&&(n=-e.PI2+n%e.PI2):n>e.PI2?n=e.PI2:0>n&&(n=e.PI2+n%e.PI2);q=[f+Math.cos(k)*f,f+Math.sin(k)*f];for(var t;1>l;)t=n*l+k,q.push(f+Math.cos(t)*f,f+Math.sin(t)*f),l+=c;t=n+k;q.push(f+Math.cos(t)*f,f+Math.sin(t)*f);q.push(f+Math.cos(k)*f,f+Math.sin(k)*
f);this.pathIndexes=d(q);this.pathData=q;return this}});r.exports=a},42542:(r,p,a)=>{var m=a(39506),g=a(65960),d=a(75177),b=a(20926);r.exports=function(e,h,c,l){c.addToRenderList(h);var f=e.currentContext;b(e,f,h,c,l)&&(e=h.radius,f.beginPath(),f.arc(e-2*h.originX*e,e-2*h.originY*e,e,m(h._startAngle),m(h._endAngle),h.anticlockwise),h.closePath&&f.closePath(),h.isFilled&&(g(f,h),f.fill()),h.isStroked&&(d(f,h),f.stroke()),f.restore())}},42563:(r,p,a)=>{var m=a(23629);r=a(39429);r.register("arc",function(g,
d,b,e,h,c,l,f){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l,f))});r.register("circle",function(g,d,b,e,h){return this.displayList.add(new m(this.scene,g,d,b,0,360,!1,e,h))})},13609:(r,p,a)=>{a(29747);p=a(41447);a=a(42542);r.exports={renderWebGL:p,renderCanvas:a}},41447:(r,p,a)=>{var m=a(91296),g=a(10441),d=a(34682);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.pipelines.set(e.pipeline);c=m(e,h,c);c=l.calcMatrix.copyFrom(c.calc);var f=e._displayOriginX,k=e._displayOriginY;
h=h.alpha*e.alpha;b.pipelines.preBatch(e);e.isFilled&&g(l,c,e,h,f,k);e.isStroked&&d(l,e,h,f,k);b.pipelines.postBatch(e)}},89:(r,p,a)=>{p=a(83419);var m=a(33141),g=a(94811),d=a(87841),b=a(17803);a=new p({Extends:b,Mixins:[m],initialize:function(e,h,c,l,f,k){void 0===h&&(h=0);void 0===c&&(c=0);b.call(this,e,"Curve",l);this._smoothness=32;this._curveBounds=new d;this.closePath=!1;this.setPosition(h,c);void 0!==f&&this.setFillStyle(f,k);this.updateData()},smoothness:{get:function(){return this._smoothness},
set:function(e){this._smoothness=e;this.updateData()}},setSmoothness:function(e){this._smoothness=e;return this.updateData()},updateData:function(){var e=this._curveBounds,h=this._smoothness;this.geom.getBounds(e,h);this.setSize(e.width,e.height);this.updateDisplayOrigin();e=[];h=this.geom.getPoints(h);for(var c=0;c<h.length;c++)e.push(h[c].x,h[c].y);e.push(h[0].x,h[0].y);this.pathIndexes=g(e);this.pathData=e;return this}});r.exports=a},3170:(r,p,a)=>{var m=a(65960),g=a(75177),d=a(20926);r.exports=
function(b,e,h,c){h.addToRenderList(e);var l=b.currentContext;if(d(b,l,e,h,c)){b=e._displayOriginX+e._curveBounds.x;h=e._displayOriginY+e._curveBounds.y;c=e.pathData;var f=c.length-1,k=c[0]-b,n=c[1]-h;l.beginPath();l.moveTo(k,n);e.closePath||(f-=2);for(k=2;k<f;k+=2)l.lineTo(c[k]-b,c[k+1]-h);e.closePath&&l.closePath();e.isFilled&&(m(l,e),l.fill());e.isStroked&&(g(l,e),l.stroke());l.restore()}}},40511:(r,p,a)=>{r=a(39429);var m=a(89);r.register("curve",function(g,d,b,e,h){return this.displayList.add(new m(this.scene,
g,d,b,e,h))})},33141:(r,p,a)=>{a(29747);p=a(53987);a=a(3170);r.exports={renderWebGL:p,renderCanvas:a}},53987:(r,p,a)=>{var m=a(10441),g=a(91296),d=a(34682);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.pipelines.set(e.pipeline);c=g(e,h,c);c=l.calcMatrix.copyFrom(c.calc);var f=e._displayOriginX+e._curveBounds.x,k=e._displayOriginY+e._curveBounds.y;h=h.alpha*e.alpha;b.pipelines.preBatch(e);e.isFilled&&m(l,c,e,h,f,k);e.isStroked&&d(l,e,h,f,k);b.pipelines.postBatch(e)}},19921:(r,p,a)=>{p=a(83419);
var m=a(94811),g=a(54205),d=a(8497),b=a(17803);a=new p({Extends:b,Mixins:[g],initialize:function(e,h,c,l,f,k,n){void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=128);void 0===f&&(f=128);b.call(this,e,"Ellipse",new d(l/2,f/2,l,f));this._smoothness=64;this.setPosition(h,c);this.width=l;this.height=f;void 0!==k&&this.setFillStyle(k,n);this.updateDisplayOrigin();this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e;this.updateData()}},setSize:function(e,
h){this.width=e;this.height=h;this.geom.setPosition(e/2,h/2);this.geom.setSize(e,h);return this.updateData()},setSmoothness:function(e){this._smoothness=e;return this.updateData()},updateData:function(){for(var e=[],h=this.geom.getPoints(this._smoothness),c=0;c<h.length;c++)e.push(h[c].x,h[c].y);e.push(h[0].x,h[0].y);this.pathIndexes=m(e);this.pathData=e;return this}});r.exports=a},7930:(r,p,a)=>{var m=a(65960),g=a(75177),d=a(20926);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.currentContext;
if(d(b,l,e,h,c)){b=e._displayOriginX;h=e._displayOriginY;c=e.pathData;var f=c.length-1,k=c[0]-b,n=c[1]-h;l.beginPath();l.moveTo(k,n);e.closePath||(f-=2);for(k=2;k<f;k+=2)l.lineTo(c[k]-b,c[k+1]-h);l.closePath();e.isFilled&&(m(l,e),l.fill());e.isStroked&&(g(l,e),l.stroke());l.restore()}}},1543:(r,p,a)=>{var m=a(19921);a(39429).register("ellipse",function(g,d,b,e,h,c){return this.displayList.add(new m(this.scene,g,d,b,e,h,c))})},54205:(r,p,a)=>{a(29747);p=a(19467);a=a(7930);r.exports={renderWebGL:p,
renderCanvas:a}},19467:(r,p,a)=>{var m=a(10441),g=a(91296),d=a(34682);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.pipelines.set(e.pipeline);c=g(e,h,c);c=l.calcMatrix.copyFrom(c.calc);var f=e._displayOriginX,k=e._displayOriginY;h=h.alpha*e.alpha;b.pipelines.preBatch(e);e.isFilled&&m(l,c,e,h,f,k);e.isStroked&&d(l,e,h,f,k);b.pipelines.postBatch(e)}},30479:(r,p,a)=>{p=a(83419);var m=a(17803);a=a(26015);a=new p({Extends:m,Mixins:[a],initialize:function(g,d,b,e,h,c,l,f,k,n,q){void 0===d&&(d=
0);void 0===b&&(b=0);void 0===e&&(e=128);void 0===h&&(h=128);void 0===c&&(c=32);void 0===l&&(l=32);m.call(this,g,"Grid",null);this.cellWidth=c;this.cellHeight=l;this.showCells=!0;this.outlineFillAlpha=this.outlineFillColor=0;this.showOutline=!0;this.showAltCells=!1;this.setPosition(d,b);this.setSize(e,h);this.setFillStyle(f,k);void 0!==n&&this.setOutlineStyle(n,q);this.updateDisplayOrigin()},setFillStyle:function(g,d){void 0===d&&(d=1);void 0===g?this.showCells=!1:(this.fillColor=g,this.fillAlpha=
d,this.showCells=!0);return this},setAltFillStyle:function(g,d){void 0===d&&(d=1);void 0===g?this.showAltCells=!1:(this.altFillColor=g,this.altFillAlpha=d,this.showAltCells=!0);return this},setOutlineStyle:function(g,d){void 0===d&&(d=1);void 0===g?this.showOutline=!1:(this.outlineFillColor=g,this.outlineFillAlpha=d,this.showOutline=!0);return this}});r.exports=a},49912:(r,p,a)=>{var m=a(65960),g=a(75177),d=a(20926);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.currentContext;if(d(b,l,
e,h,c)){b=-e._displayOriginX;c=-e._displayOriginY;var f=h.alpha*e.alpha;h=e.width;var k=e.height,n=e.cellWidth,q=e.cellHeight,t=Math.ceil(h/n),v=Math.ceil(k/q),u=n,x=q,w=n-(t*n-h),y=q-(v*q-k),z=e.showCells,C=e.showAltCells,A=e.showOutline,B,E=0;A&&(u--,x--,w===n&&w--,y===q&&y--);if(z&&0<e.fillAlpha)for(m(l,e),B=0;B<v;B++)for(C&&(E=B%2),z=0;z<t;z++)if(C&&E)E=0;else{E++;var G=z<t-1?u:w;var I=B<v-1?x:y;l.fillRect(b+z*n,c+B*q,G,I)}if(C&&0<e.altFillAlpha)for(m(l,e,e.altFillColor,e.altFillAlpha*f),B=0;B<
v;B++)for(C&&(E=B%2),z=0;z<t;z++)C&&!E?E=1:(E=0,G=z<t-1?u:w,I=B<v-1?x:y,l.fillRect(b+z*n,c+B*q,G,I));if(A&&0<e.outlineFillAlpha){g(l,e,e.outlineFillColor,e.outlineFillAlpha*f);for(z=1;z<t;z++)e=z*n,l.beginPath(),l.moveTo(e+b,c),l.lineTo(e+b,k+c),l.stroke();for(B=1;B<v;B++)e=B*q,l.beginPath(),l.moveTo(b,e+c),l.lineTo(b+h,e+c),l.stroke()}l.restore()}}},34137:(r,p,a)=>{r=a(39429);var m=a(30479);r.register("grid",function(g,d,b,e,h,c,l,f,k,n){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l,
f,k,n))})},26015:(r,p,a)=>{a(29747);p=a(46161);a=a(49912);r.exports={renderWebGL:p,renderCanvas:a}},46161:(r,p,a)=>{var m=a(91296),g=a(70554);r.exports=function(d,b,e,h){e.addToRenderList(b);var c=d.pipelines.set(b.pipeline);h=m(b,e,h);c.calcMatrix.copyFrom(h.calc).translate(-b._displayOriginX,-b._displayOriginY);var l=e.alpha*b.alpha;e=b.width;var f=b.height,k=b.cellWidth;h=b.cellHeight;var n=Math.ceil(e/k),q=Math.ceil(f/h),t=k,v=h,u=k-(n*k-e),x=h-(q*h-f);var w=b.showCells;var y=b.showAltCells,z=
b.showOutline,C=0;z&&(t--,v--,u===k&&u--,x===h&&x--);d.pipelines.preBatch(b);if(w&&0<b.fillAlpha){w=c.fillTint;var A=g.getTintAppendFloatAlpha(b.fillColor,b.fillAlpha*l);w.TL=A;w.TR=A;w.BL=A;w.BR=A;for(A=0;A<q;A++)for(y&&(C=A%2),w=0;w<n;w++)if(y&&C)C=0;else{C++;var B=w<n-1?t:u;var E=A<q-1?v:x;c.batchFillRect(w*k,A*h,B,E)}}if(y&&0<b.altFillAlpha)for(w=c.fillTint,A=g.getTintAppendFloatAlpha(b.altFillColor,b.altFillAlpha*l),w.TL=A,w.TR=A,w.BL=A,w.BR=A,A=0;A<q;A++)for(y&&(C=A%2),w=0;w<n;w++)y&&!C?C=1:
(C=0,B=w<n-1?t:u,E=A<q-1?v:x,c.batchFillRect(w*k,A*h,B,E));if(z&&0<b.outlineFillAlpha){t=c.strokeTint;l=g.getTintAppendFloatAlpha(b.outlineFillColor,b.outlineFillAlpha*l);t.TL=l;t.TR=l;t.BL=l;t.BR=l;for(w=1;w<n;w++)l=w*k,c.batchLine(l,0,l,f,1,1,1,0,!1);for(A=1;A<q;A++)f=A*h,c.batchLine(0,f,e,f,1,1,1,0,!1)}d.pipelines.postBatch(b)}},61475:(r,p,a)=>{p=a(99651);var m=a(83419),g=a(17803);a=new m({Extends:g,Mixins:[p],initialize:function(d,b,e,h,c,l,f,k){void 0===b&&(b=0);void 0===e&&(e=0);void 0===h&&
(h=48);void 0===c&&(c=32);void 0===l&&(l=15658734);void 0===f&&(f=10066329);void 0===k&&(k=13421772);g.call(this,d,"IsoBox",null);this.projection=4;this.fillTop=l;this.fillLeft=f;this.fillRight=k;this.isFilled=this.showRight=this.showLeft=this.showTop=!0;this.setPosition(b,e);this.setSize(h,c);this.updateDisplayOrigin()},setProjection:function(d){this.projection=d;return this},setFaces:function(d,b,e){void 0===d&&(d=!0);void 0===b&&(b=!0);void 0===e&&(e=!0);this.showTop=d;this.showLeft=b;this.showRight=
e;return this},setFillStyle:function(d,b,e){this.fillTop=d;this.fillLeft=b;this.fillRight=e;this.isFilled=!0;return this}});r.exports=a},11508:(r,p,a)=>{var m=a(65960),g=a(20926);r.exports=function(d,b,e,h){e.addToRenderList(b);var c=d.currentContext;g(d,c,b,e,h)&&b.isFilled&&(h=b.width,d=b.height,e=h/2,h/=b.projection,b.showTop&&(m(c,b,b.fillTop),c.beginPath(),c.moveTo(-e,-d),c.lineTo(0,-h-d),c.lineTo(e,-d),c.lineTo(e,-1),c.lineTo(0,h-1),c.lineTo(-e,-1),c.lineTo(-e,-d),c.fill()),b.showLeft&&(m(c,
b,b.fillLeft),c.beginPath(),c.moveTo(-e,0),c.lineTo(0,h),c.lineTo(0,h-d),c.lineTo(-e,-d),c.lineTo(-e,0),c.fill()),b.showRight&&(m(c,b,b.fillRight),c.beginPath(),c.moveTo(e,0),c.lineTo(0,h),c.lineTo(0,h-d),c.lineTo(e,-d),c.lineTo(e,0),c.fill()),c.restore())}},3933:(r,p,a)=>{r=a(39429);var m=a(61475);r.register("isobox",function(g,d,b,e,h,c,l){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l))})},99651:(r,p,a)=>{a(29747);p=a(68149);a=a(11508);r.exports={renderWebGL:p,renderCanvas:a}},68149:(r,
p,a)=>{var m=a(91296),g=a(70554);r.exports=function(d,b,e,h){e.addToRenderList(b);var c=d.pipelines.set(b.pipeline);h=m(b,e,h);h=c.calcMatrix.copyFrom(h.calc);var l=b.width,f=b.height,k=l/2;l/=b.projection;e=e.alpha*b.alpha;if(b.isFilled){d.pipelines.preBatch(b);if(b.showTop){var n=g.getTintAppendFloatAlpha(b.fillTop,e);var q=h.getX(-k,-f);var t=h.getY(-k,-f);var v=h.getX(0,-l-f);var u=h.getY(0,-l-f);var x=h.getX(k,-f);var w=h.getY(k,-f);var y=h.getX(0,l-f);var z=h.getY(0,l-f);c.batchQuad(b,q,t,v,
u,x,w,y,z,0,0,1,1,n,n,n,n,2)}b.showLeft&&(n=g.getTintAppendFloatAlpha(b.fillLeft,e),q=h.getX(-k,0),t=h.getY(-k,0),v=h.getX(0,l),u=h.getY(0,l),x=h.getX(0,l-f),w=h.getY(0,l-f),y=h.getX(-k,-f),z=h.getY(-k,-f),c.batchQuad(b,q,t,v,u,x,w,y,z,0,0,1,1,n,n,n,n,2));b.showRight&&(n=g.getTintAppendFloatAlpha(b.fillRight,e),q=h.getX(k,0),t=h.getY(k,0),v=h.getX(0,l),u=h.getY(0,l),x=h.getX(0,l-f),w=h.getY(0,l-f),y=h.getX(k,-f),z=h.getY(k,-f),c.batchQuad(b,q,t,v,u,x,w,y,z,0,0,1,1,n,n,n,n,2));d.pipelines.postBatch(b)}}},
16933:(r,p,a)=>{p=a(83419);var m=a(60561),g=a(17803);a=new p({Extends:g,Mixins:[m],initialize:function(d,b,e,h,c,l,f,k,n){void 0===b&&(b=0);void 0===e&&(e=0);void 0===h&&(h=48);void 0===c&&(c=32);void 0===l&&(l=!1);void 0===f&&(f=15658734);void 0===k&&(k=10066329);void 0===n&&(n=13421772);g.call(this,d,"IsoTriangle",null);this.projection=4;this.fillTop=f;this.fillLeft=k;this.fillRight=n;this.showRight=this.showLeft=this.showTop=!0;this.isReversed=l;this.isFilled=!0;this.setPosition(b,e);this.setSize(h,
c);this.updateDisplayOrigin()},setProjection:function(d){this.projection=d;return this},setReversed:function(d){this.isReversed=d;return this},setFaces:function(d,b,e){void 0===d&&(d=!0);void 0===b&&(b=!0);void 0===e&&(e=!0);this.showTop=d;this.showLeft=b;this.showRight=e;return this},setFillStyle:function(d,b,e){this.fillTop=d;this.fillLeft=b;this.fillRight=e;this.isFilled=!0;return this}});r.exports=a},79590:(r,p,a)=>{var m=a(65960),g=a(20926);r.exports=function(d,b,e,h){e.addToRenderList(b);var c=
d.currentContext;if(g(d,c,b,e,h)&&b.isFilled){h=b.width;d=b.height;e=h/2;h/=b.projection;var l=b.isReversed;b.showTop&&l&&(m(c,b,b.fillTop),c.beginPath(),c.moveTo(-e,-d),c.lineTo(0,-h-d),c.lineTo(e,-d),c.lineTo(0,h-d),c.fill());b.showLeft&&(m(c,b,b.fillLeft),c.beginPath(),l?c.moveTo(-e,-d):c.moveTo(-e,0),c.lineTo(0,h),c.lineTo(0,h-d),c.fill());b.showRight&&(m(c,b,b.fillRight),c.beginPath(),l?c.moveTo(e,-d):c.moveTo(e,0),c.lineTo(0,h),c.lineTo(0,h-d),c.fill());c.restore()}}},49803:(r,p,a)=>{r=a(39429);
var m=a(16933);r.register("isotriangle",function(g,d,b,e,h,c,l,f){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l,f))})},60561:(r,p,a)=>{a(29747);p=a(51503);a=a(79590);r.exports={renderWebGL:p,renderCanvas:a}},51503:(r,p,a)=>{var m=a(91296),g=a(70554);r.exports=function(d,b,e,h){e.addToRenderList(b);var c=d.pipelines.set(b.pipeline);h=m(b,e,h);h=c.calcMatrix.copyFrom(h.calc);var l=b.width,f=b.height,k=l/2;l/=b.projection;var n=b.isReversed;e=e.alpha*b.alpha;if(b.isFilled){d.pipelines.preBatch(b);
if(b.showTop&&n){var q=g.getTintAppendFloatAlpha(b.fillTop,e);var t=h.getX(-k,-f);var v=h.getY(-k,-f);var u=h.getX(0,-l-f);var x=h.getY(0,-l-f);var w=h.getX(k,-f);var y=h.getY(k,-f);var z=h.getX(0,l-f),C=h.getY(0,l-f);c.batchQuad(b,t,v,u,x,w,y,z,C,0,0,1,1,q,q,q,q,2)}b.showLeft&&(q=g.getTintAppendFloatAlpha(b.fillLeft,e),n?(t=h.getX(-k,-f),v=h.getY(-k,-f)):(t=h.getX(-k,0),v=h.getY(-k,0)),u=h.getX(0,l),x=h.getY(0,l),w=h.getX(0,l-f),y=h.getY(0,l-f),c.batchTri(b,t,v,u,x,w,y,0,0,1,1,q,q,q,2));b.showRight&&
(q=g.getTintAppendFloatAlpha(b.fillRight,e),n?(t=h.getX(k,-f),v=h.getY(k,-f)):(t=h.getX(k,0),v=h.getY(k,0)),u=h.getX(0,l),x=h.getY(0,l),w=h.getX(0,l-f),y=h.getY(0,l-f),c.batchTri(b,t,v,u,x,w,y,0,0,1,1,q,q,q,2));d.pipelines.postBatch(b)}}},57847:(r,p,a)=>{p=a(83419);var m=a(17803),g=a(23031);a=a(36823);a=new p({Extends:m,Mixins:[a],initialize:function(d,b,e,h,c,l,f,k,n){void 0===b&&(b=0);void 0===e&&(e=0);void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=128);void 0===f&&(f=0);m.call(this,d,"Line",
new g(h,c,l,f));d=Math.max(1,this.geom.right-this.geom.left);h=Math.max(1,this.geom.bottom-this.geom.top);this._endWidth=this._startWidth=this.lineWidth=1;this.setPosition(b,e);this.setSize(d,h);void 0!==k&&this.setStrokeStyle(1,k,n);this.updateDisplayOrigin()},setLineWidth:function(d,b){void 0===b&&(b=d);this._startWidth=d;this._endWidth=b;this.lineWidth=d;return this},setTo:function(d,b,e,h){this.geom.setTo(d,b,e,h);return this}});r.exports=a},17440:(r,p,a)=>{var m=a(75177),g=a(20926);r.exports=
function(d,b,e,h){e.addToRenderList(b);var c=d.currentContext;g(d,c,b,e,h)&&(d=b._displayOriginX,e=b._displayOriginY,b.isStroked&&(m(c,b),c.beginPath(),c.moveTo(b.geom.x1-d,b.geom.y1-e),c.lineTo(b.geom.x2-d,b.geom.y2-e),c.stroke()),c.restore())}},2481:(r,p,a)=>{r=a(39429);var m=a(57847);r.register("line",function(g,d,b,e,h,c,l,f){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l,f))})},36823:(r,p,a)=>{a(29747);p=a(77385);a=a(17440);r.exports={renderWebGL:p,renderCanvas:a}},77385:(r,p,a)=>
{var m=a(91296),g=a(70554);r.exports=function(d,b,e,h){e.addToRenderList(b);var c=d.pipelines.set(b.pipeline);h=m(b,e,h);c.calcMatrix.copyFrom(h.calc);var l=b._displayOriginX,f=b._displayOriginY,k=e.alpha*b.alpha;d.pipelines.preBatch(b);b.isStroked&&(e=c.strokeTint,k=g.getTintAppendFloatAlpha(b.strokeColor,b.strokeAlpha*k),e.TL=k,e.TR=k,e.BL=k,e.BR=k,c.batchLine(b.geom.x1-l,b.geom.y1-f,b.geom.x2-l,b.geom.y2-f,b._startWidth/2,b._endWidth/2,1,0,!1,h.sprite,h.camera));d.pipelines.postBatch(b)}},24949:(r,
p,a)=>{p=a(90273);var m=a(83419),g=a(94811),d=a(13829),b=a(25717),e=a(17803),h=a(5469);a=new m({Extends:e,Mixins:[p],initialize:function(c,l,f,k,n,q){void 0===l&&(l=0);void 0===f&&(f=0);e.call(this,c,"Polygon",new b(k));c=d(this.geom);this.setPosition(l,f);this.setSize(c.width,c.height);void 0!==n&&this.setFillStyle(n,q);this.updateDisplayOrigin();this.updateData()},smooth:function(c){void 0===c&&(c=1);for(var l=0;l<c;l++)h(this.geom);return this.updateData()},setTo:function(c){this.geom.setTo(c);
c=d(this.geom);this.setSize(c.width,c.height);this.updateDisplayOrigin();return this.updateData()},updateData:function(){for(var c=[],l=this.geom.points,f=0;f<l.length;f++)c.push(l[f].x,l[f].y);c.push(l[0].x,l[0].y);this.pathIndexes=g(c);this.pathData=c;return this}});r.exports=a},38710:(r,p,a)=>{var m=a(65960),g=a(75177),d=a(20926);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.currentContext;if(d(b,l,e,h,c)){b=e._displayOriginX;h=e._displayOriginY;c=e.pathData;var f=c.length-1,k=c[0]-
b,n=c[1]-h;l.beginPath();l.moveTo(k,n);e.closePath||(f-=2);for(k=2;k<f;k+=2)l.lineTo(c[k]-b,c[k+1]-h);e.closePath&&l.closePath();e.isFilled&&(m(l,e),l.fill());e.isStroked&&(g(l,e),l.stroke());l.restore()}}},64827:(r,p,a)=>{r=a(39429);var m=a(24949);r.register("polygon",function(g,d,b,e,h){return this.displayList.add(new m(this.scene,g,d,b,e,h))})},90273:(r,p,a)=>{a(29747);p=a(73695);a=a(38710);r.exports={renderWebGL:p,renderCanvas:a}},73695:(r,p,a)=>{var m=a(10441),g=a(91296),d=a(34682);r.exports=
function(b,e,h,c){h.addToRenderList(e);var l=b.pipelines.set(e.pipeline);c=g(e,h,c);c=l.calcMatrix.copyFrom(c.calc);var f=e._displayOriginX,k=e._displayOriginY;h=h.alpha*e.alpha;b.pipelines.preBatch(e);e.isFilled&&m(l,c,e,h,f,k);e.isStroked&&d(l,e,h,f,k);b.pipelines.postBatch(e)}},74561:(r,p,a)=>{p=a(83419);var m=a(87841),g=a(17803);a=a(95597);a=new p({Extends:g,Mixins:[a],initialize:function(d,b,e,h,c,l,f){void 0===b&&(b=0);void 0===e&&(e=0);void 0===h&&(h=128);void 0===c&&(c=128);g.call(this,d,
"Rectangle",new m(0,0,h,c));this.setPosition(b,e);this.setSize(h,c);void 0!==l&&this.setFillStyle(l,f);this.updateDisplayOrigin();this.updateData()},setSize:function(d,b){this.width=d;this.height=b;this.geom.setSize(d,b);this.updateData();this.updateDisplayOrigin();var e=this.input;e&&!e.customHitArea&&(e.hitArea.width=d,e.hitArea.height=b);return this},updateData:function(){var d=[],b=this.geom,e=this._tempLine;b.getLineA(e);d.push(e.x1,e.y1,e.x2,e.y2);b.getLineB(e);d.push(e.x2,e.y2);b.getLineC(e);
d.push(e.x2,e.y2);b.getLineD(e);d.push(e.x2,e.y2);this.pathData=d;return this}});r.exports=a},48682:(r,p,a)=>{var m=a(65960),g=a(75177),d=a(20926);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.currentContext;d(b,l,e,h,c)&&(b=e._displayOriginX,h=e._displayOriginY,e.isFilled&&(m(l,e),l.fillRect(-b,-h,e.width,e.height)),e.isStroked&&(g(l,e),l.beginPath(),l.rect(-b,-h,e.width,e.height),l.stroke()),l.restore())}},87959:(r,p,a)=>{r=a(39429);var m=a(74561);r.register("rectangle",function(g,d,
b,e,h,c){return this.displayList.add(new m(this.scene,g,d,b,e,h,c))})},95597:(r,p,a)=>{a(29747);p=a(52059);a=a(48682);r.exports={renderWebGL:p,renderCanvas:a}},52059:(r,p,a)=>{var m=a(91296),g=a(34682),d=a(70554);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.pipelines.set(e.pipeline);c=m(e,h,c);l.calcMatrix.copyFrom(c.calc);c=e._displayOriginX;var f=e._displayOriginY;h=h.alpha*e.alpha;b.pipelines.preBatch(e);if(e.isFilled){var k=l.fillTint,n=d.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*
h);k.TL=n;k.TR=n;k.BL=n;k.BR=n;l.batchFillRect(-c,-f,e.width,e.height)}e.isStroked&&g(l,e,h,c,f);b.pipelines.postBatch(e)}},55911:(r,p,a)=>{p=a(81991);var m=a(83419),g=a(94811),d=a(17803);a=new m({Extends:d,Mixins:[p],initialize:function(b,e,h,c,l,f,k,n){void 0===e&&(e=0);void 0===h&&(h=0);void 0===c&&(c=5);void 0===l&&(l=32);void 0===f&&(f=64);d.call(this,b,"Star",null);this._points=c;this._innerRadius=l;this._outerRadius=f;this.setPosition(e,h);this.setSize(2*f,2*f);void 0!==k&&this.setFillStyle(k,
n);this.updateDisplayOrigin();this.updateData()},setPoints:function(b){this._points=b;return this.updateData()},setInnerRadius:function(b){this._innerRadius=b;return this.updateData()},setOuterRadius:function(b){this._outerRadius=b;return this.updateData()},points:{get:function(){return this._points},set:function(b){this._points=b;this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(b){this._innerRadius=b;this.updateData()}},outerRadius:{get:function(){return this._outerRadius},
set:function(b){this._outerRadius=b;this.updateData()}},updateData:function(){var b=[],e=this._points,h=this._innerRadius,c=this._outerRadius,l=Math.PI/2*3,f=Math.PI/e;b.push(c,c+-c);for(var k=0;k<e;k++)b.push(c+Math.cos(l)*c,c+Math.sin(l)*c),l+=f,b.push(c+Math.cos(l)*h,c+Math.sin(l)*h),l+=f;b.push(c,c+-c);this.pathIndexes=g(b);this.pathData=b;return this}});r.exports=a},64272:(r,p,a)=>{var m=a(65960),g=a(75177),d=a(20926);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.currentContext;if(d(b,
l,e,h,c)){b=e._displayOriginX;h=e._displayOriginY;c=e.pathData;var f=c.length-1,k=c[0]-b,n=c[1]-h;l.beginPath();l.moveTo(k,n);e.closePath||(f-=2);for(k=2;k<f;k+=2)l.lineTo(c[k]-b,c[k+1]-h);l.closePath();e.isFilled&&(m(l,e),l.fill());e.isStroked&&(g(l,e),l.stroke());l.restore()}}},93697:(r,p,a)=>{var m=a(55911);a(39429).register("star",function(g,d,b,e,h,c,l){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l))})},81991:(r,p,a)=>{a(29747);p=a(57017);a=a(64272);r.exports={renderWebGL:p,renderCanvas:a}},
57017:(r,p,a)=>{var m=a(10441),g=a(91296),d=a(34682);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.pipelines.set(e.pipeline);c=g(e,h,c);c=l.calcMatrix.copyFrom(c.calc);var f=e._displayOriginX,k=e._displayOriginY;h=h.alpha*e.alpha;b.pipelines.preBatch(e);e.isFilled&&m(l,c,e,h,f,k);e.isStroked&&d(l,e,h,f,k);b.pipelines.postBatch(e)}},36931:(r,p,a)=>{p=a(83419);var m=a(17803),g=a(16483);a=a(96195);a=new p({Extends:m,Mixins:[a],initialize:function(d,b,e,h,c,l,f,k,n,q,t){void 0===b&&(b=0);void 0===
e&&(e=0);void 0===h&&(h=0);void 0===c&&(c=128);void 0===l&&(l=64);void 0===f&&(f=0);void 0===k&&(k=128);void 0===n&&(n=128);m.call(this,d,"Triangle",new g(h,c,l,f,k,n));d=this.geom.right-this.geom.left;h=this.geom.bottom-this.geom.top;this.setPosition(b,e);this.setSize(d,h);void 0!==q&&this.setFillStyle(q,t);this.updateDisplayOrigin();this.updateData()},setTo:function(d,b,e,h,c,l){this.geom.setTo(d,b,e,h,c,l);return this.updateData()},updateData:function(){var d=[],b=this.geom,e=this._tempLine;b.getLineA(e);
d.push(e.x1,e.y1,e.x2,e.y2);b.getLineB(e);d.push(e.x2,e.y2);b.getLineC(e);d.push(e.x2,e.y2);this.pathData=d;return this}});r.exports=a},85172:(r,p,a)=>{var m=a(65960),g=a(75177),d=a(20926);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.currentContext;if(d(b,l,e,h,c)){var f=e._displayOriginX,k=e._displayOriginY;b=e.geom.x1-f;h=e.geom.y1-k;c=e.geom.x2-f;var n=e.geom.y2-k;f=e.geom.x3-f;k=e.geom.y3-k;l.beginPath();l.moveTo(b,h);l.lineTo(c,n);l.lineTo(f,k);l.closePath();e.isFilled&&(m(l,e),l.fill());
e.isStroked&&(g(l,e),l.stroke());l.restore()}}},45245:(r,p,a)=>{r=a(39429);var m=a(36931);r.register("triangle",function(g,d,b,e,h,c,l,f,k,n){return this.displayList.add(new m(this.scene,g,d,b,e,h,c,l,f,k,n))})},96195:(r,p,a)=>{a(29747);p=a(83253);a=a(85172);r.exports={renderWebGL:p,renderCanvas:a}},83253:(r,p,a)=>{var m=a(91296),g=a(34682),d=a(70554);r.exports=function(b,e,h,c){h.addToRenderList(e);var l=b.pipelines.set(e.pipeline);c=m(e,h,c);l.calcMatrix.copyFrom(c.calc);var f=e._displayOriginX,
k=e._displayOriginY;h=h.alpha*e.alpha;b.pipelines.preBatch(e);if(e.isFilled){var n=l.fillTint,q=d.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*h);n.TL=q;n.TR=q;n.BL=q;n.BR=q;l.batchFillTriangle(e.geom.x1-f,e.geom.y1-k,e.geom.x2-f,e.geom.y2-k,e.geom.x3-f,e.geom.y3-k,c.sprite,c.camera)}e.isStroked&&g(l,e,h,f,k);b.pipelines.postBatch(e)}},68287:(r,p,a)=>{var m=a(9674);p=a(83419);var g=a(31401),d=a(95643);a=a(92751);a=new p({Extends:d,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,
g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,a],initialize:function(b,e,h,c,l){d.call(this,b,"Sprite");this._crop=this.resetCropObject();this.anims=new m(this);this.setTexture(c,l);this.setPosition(e,h);this.setSizeToFrame();this.setOriginFromFrame();this.initPipeline();this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(b,e){this.anims.update(b,
e)},play:function(b,e){return this.anims.play(b,e)},playReverse:function(b,e){return this.anims.playReverse(b,e)},playAfterDelay:function(b,e){return this.anims.playAfterDelay(b,e)},playAfterRepeat:function(b,e){return this.anims.playAfterRepeat(b,e)},chain:function(b){return this.anims.chain(b)},stop:function(){return this.anims.stop()},stopAfterDelay:function(b){return this.anims.stopAfterDelay(b)},stopAfterRepeat:function(b){return this.anims.stopAfterRepeat(b)},stopOnFrame:function(b){return this.anims.stopOnFrame(b)},
toJSON:function(){return g.ToJSON(this)},preDestroy:function(){this.anims.destroy();this.anims=void 0}});r.exports=a},76552:r=>{r.exports=function(p,a,m,g){m.addToRenderList(a);p.batchSprite(a,a.frame,m,g)}},15567:(r,p,a)=>{var m=a(25305),g=a(13059);r=a(44603);var d=a(23568),b=a(68287);r.register("sprite",function(e,h){void 0===e&&(e={});var c=d(e,"key",null),l=d(e,"frame",null);c=new b(this.scene,0,0,c,l);void 0!==h&&(e.add=h);m(this.scene,c,e);g(c,e);return c})},46409:(r,p,a)=>{r=a(39429);var m=
a(68287);r.register("sprite",function(g,d,b,e){return this.displayList.add(new m(this.scene,g,d,b,e))})},92751:(r,p,a)=>{a(29747);p=a(9409);a=a(76552);r.exports={renderWebGL:p,renderCanvas:a}},9409:r=>{r.exports=function(p,a,m,g){m.addToRenderList(a);a.pipeline.batchSprite(a,m,g)}},14220:r=>{r.exports=function(p,a,m){var g=p.canvas,d=p.context,b=p.style,e=[],h=0,c=m.length;0<b.maxLines&&b.maxLines<m.length&&(c=b.maxLines);b.syncFont(g,d);for(g=0;g<c;g++){var l=b.strokeThickness;l+=d.measureText(m[g]).width;
1<m[g].length&&(l+=p.letterSpacing*(m[g].length-1));b.wordWrap&&(l-=d.measureText(" ").width);e[g]=Math.ceil(l);h=Math.max(h,e[g])}a=a.fontSize+b.strokeThickness;m=a*c;p=p.lineSpacing;1<c&&(m+=p*(c-1));return{width:h,height:m,lines:c,lineWidths:e,lineSpacing:p,lineHeight:a}}},79557:(r,p,a)=>{var m=a(27919);r.exports=function(g){var d=m.create(this),b=d.getContext("2d",{willReadFrequently:!0});g.syncFont(d,b);var e=b.measureText(g.testString);if("actualBoundingBoxAscent"in e){var h=e.actualBoundingBoxAscent;
e=e.actualBoundingBoxDescent;m.remove(d);return{ascent:h,descent:e,fontSize:h+e}}var c=Math.ceil(e.width*g.baselineX);e=c;h=2*e;e=e*g.baselineY|0;d.width=c;d.height=h;b.fillStyle="#f00";b.fillRect(0,0,c,h);b.font=g._font;b.textBaseline="alphabetic";b.fillStyle="#000";b.fillText(g.testString,0,e);g={ascent:0,descent:0,fontSize:0};b=b.getImageData(0,0,c,h);if(!b)return g.ascent=e,g.descent=e+6,g.fontSize=g.ascent+g.descent,m.remove(d),g;b=b.data;var l=b.length;c*=4;var f,k,n=0,q=!1;for(f=0;f<e;f++){for(k=
0;k<c;k+=4)if(255!==b[n+k]){q=!0;break}if(q)break;else n+=c}g.ascent=e-f;n=l-c;q=!1;for(f=h;f>e;f--){for(k=0;k<c;k+=4)if(255!==b[n+k]){q=!0;break}if(q)break;else n-=c}g.descent=f-e;g.fontSize=g.ascent+g.descent;m.remove(d);return g}},50171:(r,p,a)=>{var m=a(40366),g=a(27919);p=a(83419);var d=a(31401),b=a(95643),e=a(14220),h=a(35154),c=a(35846),l=a(61771),f=a(35762),k=a(45650);a=new p({Extends:b,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Crop,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,
d.PostPipeline,d.ScrollFactor,d.Tint,d.Transform,d.Visible,l],initialize:function(n,q,t,v,u){void 0===q&&(q=0);void 0===t&&(t=0);b.call(this,n,"Text");this.renderer=n.sys.renderer;this.setPosition(q,t);this.setOrigin(0,0);this.initPipeline();this.initPostPipeline(!0);this.canvas=g.create(this);this.style=new f(this,u);this.autoRound=!0;this.splitRegExp=/(?:\r\n|\r|\n)/;this._text=void 0;this.padding={left:0,right:0,top:0,bottom:0};this.height=this.width=1;this.letterSpacing=this.lineSpacing=0;0===
this.style.resolution&&(this.style.resolution=1);this._crop=this.resetCropObject();this._textureKey=k();this.texture=n.sys.textures.addCanvas(this._textureKey,this.canvas);this.context=this.texture.context;this.frame=this.texture.get();this.frame.source.resolution=this.style.resolution;this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);this.initRTL();this.setText(v);u&&u.padding&&this.setPadding(u.padding);u&&u.lineSpacing&&
this.setLineSpacing(u.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",m(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(n){var q=this.style;return q.wordWrapCallback?(n=q.wordWrapCallback.call(q.wordWrapCallbackScope,n,this),Array.isArray(n)&&(n=n.join("\n")),n):q.wordWrapWidth?q.wordWrapUseAdvanced?this.advancedWordWrap(n,this.context,this.style.wordWrapWidth):this.basicWordWrap(n,this.context,
this.style.wordWrapWidth):n},advancedWordWrap:function(n,q,t){var v="";n=n.replace(/ +/gi," ").split(this.splitRegExp);for(var u=n.length,x=0;x<u;x++){var w=n[x],y="";w=w.replace(/^ *|\s*$/gi,"");if(q.measureText(w).width<t)v+=w+"\n";else{var z=t;w=w.split(" ");for(var C=0;C<w.length;C++){var A=w[C],B=A+" ",E=q.measureText(B).width;if(E>z){if(0===C){for(u=B;u.length&&!(u=u.slice(0,-1),E=q.measureText(u).width,E<=z););if(!u.length)throw Error("wordWrapWidth \x3c a single character");z=A.substr(u.length);
w[C]=z;y+=u}z=w.slice(w[C].length?C:C+1).join(" ").replace(/[ \n]*$/gi,"");n.splice(x+1,0,z);u=n.length;break}else y+=B,z-=E}v+=y.replace(/[ \n]*$/gi,"")+"\n"}}return v=v.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(n,q,t){var v="";n=n.split(this.splitRegExp);for(var u=n.length-1,x=q.measureText(" ").width,w=0;w<=u;w++){for(var y=t,z=n[w].split(" "),C=z.length-1,A=0;A<=C;A++){var B=z[A],E=q.measureText(B).width,G=E;A<C&&(G+=x);G>y&&0<A&&(v+="\n",y=t);v+=B;A<C?(v+=" ",y-=G):y-=E}w<u&&(v+="\n")}return v},
getWrappedText:function(n){void 0===n&&(n=this._text);this.style.syncFont(this.canvas,this.context);return this.runWordWrap(n).split(this.splitRegExp)},setText:function(n){n||0===n||(n="");Array.isArray(n)&&(n=n.join("\n"));n!==this._text&&(this._text=n.toString(),this.updateText());return this},appendText:function(n,q){void 0===q&&(q=!0);n||0===n||(n="");Array.isArray(n)&&(n=n.join("\n"));n=n.toString();n=this._text.concat(q?"\n"+n:n);n!==this._text&&(this._text=n,this.updateText());return this},
setStyle:function(n){return this.style.setStyle(n)},setFont:function(n){return this.style.setFont(n)},setFontFamily:function(n){return this.style.setFontFamily(n)},setFontSize:function(n){return this.style.setFontSize(n)},setFontStyle:function(n){return this.style.setFontStyle(n)},setFixedSize:function(n,q){return this.style.setFixedSize(n,q)},setBackgroundColor:function(n){return this.style.setBackgroundColor(n)},setFill:function(n){return this.style.setFill(n)},setColor:function(n){return this.style.setColor(n)},
setStroke:function(n,q){return this.style.setStroke(n,q)},setShadow:function(n,q,t,v,u,x){return this.style.setShadow(n,q,t,v,u,x)},setShadowOffset:function(n,q){return this.style.setShadowOffset(n,q)},setShadowColor:function(n){return this.style.setShadowColor(n)},setShadowBlur:function(n){return this.style.setShadowBlur(n)},setShadowStroke:function(n){return this.style.setShadowStroke(n)},setShadowFill:function(n){return this.style.setShadowFill(n)},setWordWrapWidth:function(n,q){return this.style.setWordWrapWidth(n,
q)},setWordWrapCallback:function(n,q){return this.style.setWordWrapCallback(n,q)},setAlign:function(n){return this.style.setAlign(n)},setResolution:function(n){return this.style.setResolution(n)},setLineSpacing:function(n){this.lineSpacing=n;return this.updateText()},setLetterSpacing:function(n){this.letterSpacing=n;return this.updateText()},setPadding:function(n,q,t,v){if("object"===typeof n){v=n;q=h(v,"x",null);null!==q?t=n=q:(n=h(v,"left",0),t=h(v,"right",n));var u=h(v,"y",null);null!==u?v=q=u:
(q=h(v,"top",0),v=h(v,"bottom",q))}else void 0===n&&(n=0),void 0===q&&(q=n),void 0===t&&(t=n),void 0===v&&(v=q);this.padding.left=n;this.padding.top=q;this.padding.right=t;this.padding.bottom=v;return this.updateText()},setMaxLines:function(n){return this.style.setMaxLines(n)},setRTL:function(n){void 0===n&&(n=!0);var q=this.style;if(q.rtl===n)return this;(q.rtl=n)?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",m(this.canvas,this.scene.sys.canvas)):(this.canvas.dir=
"ltr",this.context.direction="ltr");"left"===q.align?q.align="right":"right"===q.align&&(q.align="left");return this},updateText:function(){var n=this.canvas,q=this.context,t=this.style,v=t.resolution,u=t.metrics;t.syncFont(n,q);var x=this._text;if(t.wordWrapWidth||t.wordWrapCallback)x=this.runWordWrap(this._text);x=x.split(this.splitRegExp);var w=e(this,u,x),y=this.padding;if(0===t.fixedWidth){this.width=w.width+y.left+y.right;var z=w.width}else this.width=t.fixedWidth,z=this.width-y.left-y.right,
z<w.width&&(z=w.width);this.height=0===t.fixedHeight?w.height+y.top+y.bottom:t.fixedHeight;var C=this.width,A=this.height;this.updateDisplayOrigin();C=Math.max(C*v,1);A=Math.max(A*v,1);n.width!==C||n.height!==A?(n.width=C,n.height=A,this.frame.setSize(C,A),t.syncFont(n,q),t.rtl&&(q.direction="rtl")):q.clearRect(0,0,C,A);q.save();q.scale(v,v);t.backgroundColor&&(q.fillStyle=t.backgroundColor,q.fillRect(0,0,C,A));t.syncStyle(n,q);q.translate(y.left,y.top);for(var B=0;B<w.lines;B++){v=t.strokeThickness/
2;A=t.strokeThickness/2+B*w.lineHeight+u.ascent;0<B&&(A+=w.lineSpacing*B);if(t.rtl)v=C-v-y.left-y.right;else if("right"===t.align)v+=z-w.lineWidths[B];else if("center"===t.align)v+=(z-w.lineWidths[B])/2;else if("justify"===t.align&&.85<=w.lineWidths[B]/w.width){var E=w.width-w.lineWidths[B],G=q.measureText(" ").width,I=x[B].trim(),H=I.split(" ");E+=(x[B].length-I.length)*G;E=Math.floor(E/G);for(G=0;0<E;)H[G]+=" ",G=(G+1)%(H.length-1||1),--E;x[B]=H.join(" ")}this.autoRound&&(v=Math.round(v),A=Math.round(A));
t.strokeThickness&&(t.syncShadow(q,t.shadowStroke),q.strokeText(x[B],v,A));if(t.color)if(t.syncShadow(q,t.shadowFill),H=this.letterSpacing,0!==H)for(E=0,G=x[B].split(""),I=0;I<G.length;I++)q.fillText(G[I],v+E,A),E+=q.measureText(G[I]).width+H;else q.fillText(x[B],v,A)}q.restore();this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(n,this.frame.source.glTexture,!0));(n=this.input)&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height);return this},
getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(n){this.setText(n)}},toJSON:function(){var n=d.ToJSON(this),q={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};n.data=q;return n},preDestroy:function(){c(this.canvas);g.remove(this.canvas);var n=this.texture;n&&n.destroy()}});r.exports=a},79724:r=>{r.exports=function(p,
a,m,g){0!==a.width&&0!==a.height&&(m.addToRenderList(a),p.batchSprite(a,a.frame,m,g))}},71259:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(50171);r.register("text",function(b,e){void 0===b&&(b={});var h=g(b,"text",""),c=g(b,"style",null),l=g(b,"padding",null);null!==l&&(c.padding=l);h=new d(this.scene,0,0,h,c);void 0!==e&&(b.add=e);m(this.scene,h,b);h.autoRound=g(b,"autoRound",!0);h.resolution=g(b,"resolution",1);return h})},68005:(r,p,a)=>{var m=a(50171);a(39429).register("text",function(g,
d,b,e){return this.displayList.add(new m(this.scene,g,d,b,e))})},61771:(r,p,a)=>{a(29747);p=a(34397);a=a(79724);r.exports={renderWebGL:p,renderCanvas:a}},35762:(r,p,a)=>{p=a(83419);var m=a(23568),g=a(35154),d=a(79557),b={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",
0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",
null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]};a=new p({initialize:function(e,h){this.parent=e;this.setStyle(h,!1,!0)},setStyle:function(e,h,c){void 0===h&&(h=!0);void 0===c&&(c=!1);e&&e.hasOwnProperty("fontSize")&&"number"===typeof e.fontSize&&(e.fontSize=e.fontSize.toString()+"px");for(var l in b){var f=c?b[l][1]:this[l];this[l]="wordWrapCallback"===l||"wordWrapCallbackScope"===l?g(e,b[l][0],f):m(e,b[l][0],f)}c=g(e,"font",null);null!==c&&this.setFont(c,!1);this._font=[this.fontStyle,
this.fontSize,this.fontFamily].join(" ").trim();c=g(e,"fill",null);null!==c&&(this.color=c);if(e=g(e,"metrics",!1))this.metrics={ascent:g(e,"ascent",0),descent:g(e,"descent",0),fontSize:g(e,"fontSize",0)};else if(h||!this.metrics)this.metrics=d(this);return h?this.parent.updateText():this.parent},syncFont:function(e,h){h.font=this._font},syncStyle:function(e,h){h.textBaseline="alphabetic";h.fillStyle=this.color;h.strokeStyle=this.stroke;h.lineWidth=this.strokeThickness;h.lineCap="round";h.lineJoin=
"round"},syncShadow:function(e,h){h?(e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur):(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor=0,e.shadowBlur=0)},update:function(e){e&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=d(this));return this.parent.updateText()},setFont:function(e,h){void 0===h&&(h=!0);if("string"!==typeof e){var c=g(e,"fontFamily","Courier");var l=g(e,"fontSize",
"16px");e=g(e,"fontStyle","")}else{c=e.split(" ");var f=0;e=2<c.length?c[f++]:"";l=c[f++]||"16px";c=c[f++]||"Courier"}if(c!==this.fontFamily||l!==this.fontSize||e!==this.fontStyle)this.fontFamily=c,this.fontSize=l,this.fontStyle=e,h&&this.update(!0);return this.parent},setFontFamily:function(e){this.fontFamily!==e&&(this.fontFamily=e,this.update(!0));return this.parent},setFontStyle:function(e){this.fontStyle!==e&&(this.fontStyle=e,this.update(!0));return this.parent},setFontSize:function(e){"number"===
typeof e&&(e=e.toString()+"px");this.fontSize!==e&&(this.fontSize=e,this.update(!0));return this.parent},setTestString:function(e){this.testString=e;return this.update(!0)},setFixedSize:function(e,h){this.fixedWidth=e;this.fixedHeight=h;e&&(this.parent.width=e);h&&(this.parent.height=h);return this.update(!1)},setBackgroundColor:function(e){this.backgroundColor=e;return this.update(!1)},setFill:function(e){this.color=e;return this.update(!1)},setColor:function(e){this.color=e;return this.update(!1)},
setResolution:function(e){this.resolution=e;return this.update(!1)},setStroke:function(e,h){void 0===h&&(h=this.strokeThickness);if(void 0===e&&0!==this.strokeThickness)this.strokeThickness=0,this.update(!0);else if(this.stroke!==e||this.strokeThickness!==h)this.stroke=e,this.strokeThickness=h,this.update(!0);return this.parent},setShadow:function(e,h,c,l,f,k){void 0===e&&(e=0);void 0===h&&(h=0);void 0===c&&(c="#000");void 0===l&&(l=0);void 0===f&&(f=!1);void 0===k&&(k=!0);this.shadowOffsetX=e;this.shadowOffsetY=
h;this.shadowColor=c;this.shadowBlur=l;this.shadowStroke=f;this.shadowFill=k;return this.update(!1)},setShadowOffset:function(e,h){void 0===e&&(e=0);void 0===h&&(h=e);this.shadowOffsetX=e;this.shadowOffsetY=h;return this.update(!1)},setShadowColor:function(e){void 0===e&&(e="#000");this.shadowColor=e;return this.update(!1)},setShadowBlur:function(e){void 0===e&&(e=0);this.shadowBlur=e;return this.update(!1)},setShadowStroke:function(e){this.shadowStroke=e;return this.update(!1)},setShadowFill:function(e){this.shadowFill=
e;return this.update(!1)},setWordWrapWidth:function(e,h){void 0===h&&(h=!1);this.wordWrapWidth=e;this.wordWrapUseAdvanced=h;return this.update(!1)},setWordWrapCallback:function(e,h){void 0===h&&(h=null);this.wordWrapCallback=e;this.wordWrapCallbackScope=h;return this.update(!1)},setAlign:function(e){void 0===e&&(e="left");this.align=e;return this.update(!1)},setMaxLines:function(e){void 0===e&&(e=0);this.maxLines=e;return this.update(!1)},getTextMetrics:function(){var e=this.metrics;return{ascent:e.ascent,
descent:e.descent,fontSize:e.fontSize}},toJSON:function(){var e={},h;for(h in b)e[h]=this[h];e.metrics=this.getTextMetrics();return e},destroy:function(){this.parent=void 0}});r.exports=a},34397:(r,p,a)=>{var m=a(70554);r.exports=function(g,d,b,e){if(0!==d.width&&0!==d.height){b.addToRenderList(d);var h=d.frame,c=h.width,l=h.height,f=m.getTintAppendFloatAlpha;g=g.pipelines.set(d.pipeline,d);var k=g.setTexture2D(h.glTexture,d);g.batchTexture(d,h.glTexture,c,l,d.x,d.y,c/d.style.resolution,l/d.style.resolution,
d.scaleX,d.scaleY,d.rotation,d.flipX,d.flipY,d.scrollFactorX,d.scrollFactorY,d.displayOriginX,d.displayOriginY,0,0,c,l,f(d.tintTopLeft,b.alpha*d._alphaTL),f(d.tintTopRight,b.alpha*d._alphaTR),f(d.tintBottomLeft,b.alpha*d._alphaBL),f(d.tintBottomRight,b.alpha*d._alphaBR),d.tintFill,0,0,b,e,!1,k)}}},20839:(r,p,a)=>{var m=a(27919);p=a(83419);var g=a(31401),d=a(95643),b=a(98439),e=a(68703),h=a(56295),c=a(45650),l=a(26099);a=new p({Extends:d,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Crop,g.Depth,g.Flip,
g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Tint,g.Transform,g.Visible,h],initialize:function(f,k,n,q,t,v,u){var x=f.sys.renderer;d.call(this,f,"TileSprite");v=f.sys.textures.get(v);var w=v.get(u);w.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),v=f.sys.textures.get("__MISSING"),w=v.get());"DynamicTexture"===v.type&&(console.warn("TileSprite cannot use Dynamic Texture"),v=f.sys.textures.get("__MISSING"),w=v.get());q&&t?(q=Math.floor(q),
t=Math.floor(t)):(q=w.width,t=w.height);this._tilePosition=new l;this._tileScale=new l(1,1);this.dirty=!1;this.renderer=x;this.canvas=m.create(this,q,t);this.context=this.canvas.getContext("2d",{willReadFrequently:!1});this.displayTexture=v;this.displayFrame=w;this._crop=this.resetCropObject();this._textureKey=c();this.texture=f.sys.textures.addCanvas(this._textureKey,this.canvas);this.frame=this.texture.get();this.potWidth=b(w.width);this.potHeight=b(w.height);this.fillCanvas=m.create2D(this,this.potWidth,
this.potHeight);this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1});this.fillPattern=null;this.setPosition(k,n);this.setSize(q,t);this.setFrame(u);this.setOriginFromFrame();this.initPipeline();this.initPostPipeline(!0)},setTexture:function(f,k){this.displayTexture=this.scene.sys.textures.get(f);return this.setFrame(k)},setFrame:function(f){f=this.displayTexture.get(f);this.potWidth=b(f.width);this.potHeight=b(f.height);this.canvas.width=0;this.renderFlags=f.cutWidth&&f.cutHeight?
this.renderFlags|8:this.renderFlags&-9;this.displayFrame=f;this.dirty=!0;this.updateTileTexture();return this},setTilePosition:function(f,k){void 0!==f&&(this.tilePositionX=f);void 0!==k&&(this.tilePositionY=k);return this},setTileScale:function(f,k){void 0===f&&(f=this.tileScaleX);void 0===k&&(k=f);this.tileScaleX=f;this.tileScaleY=k;return this},updateTileTexture:function(){if(this.dirty&&this.renderer){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture)console.warn("TileSprites can only use Image or Canvas based textures");
else{var k=this.fillContext,n=this.fillCanvas,q=this.potWidth,t=this.potHeight;this.renderer&&this.renderer.gl||(q=f.cutWidth,t=f.cutHeight);k.clearRect(0,0,q,t);n.width=q;n.height=t;k.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,q,t);this.fillPattern=this.renderer&&this.renderer.gl?this.renderer.canvasToTexture(n,this.fillPattern):k.createPattern(n,"repeat");this.updateCanvas()}this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if(f.width!==this.width||f.height!==this.height)f.width=
this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0;if(!(!this.dirty||this.renderer&&this.renderer.gl)){f=this.context;this.scene.sys.game.config.antialias||e.disable(f);var k=this._tileScale.x,n=this._tileScale.y,q=this._tilePosition.x,t=this._tilePosition.y;f.clearRect(0,0,this.width,this.height);f.save();f.scale(k,n);f.translate(-q,-t);f.fillStyle=this.fillPattern;f.fillRect(q,t,this.width/k,this.height/n);f.restore()}this.dirty=!1},
preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern);m.remove(this.canvas);m.remove(this.fillCanvas);this.displayFrame=this.displayTexture=this.fillCanvas=this.fillContext=this.fillPattern=null;var f=this.texture;f&&f.destroy();this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f;this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=
f;this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f;this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f;this.dirty=!0}}});r.exports=a},46992:r=>{r.exports=function(p,a,m,g){a.updateCanvas();m.addToRenderList(a);p.batchSprite(a,a.frame,m,g)}},14167:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(20839);r.register("tileSprite",function(b,e){void 0===b&&(b={});var h=g(b,"x",0),c=g(b,"y",
0),l=g(b,"width",512),f=g(b,"height",512),k=g(b,"key",""),n=g(b,"frame","");h=new d(this.scene,h,c,l,f,k,n);void 0!==e&&(b.add=e);m(this.scene,h,b);return h})},91681:(r,p,a)=>{var m=a(20839);a(39429).register("tileSprite",function(g,d,b,e,h,c){return this.displayList.add(new m(this.scene,g,d,b,e,h,c))})},56295:(r,p,a)=>{a(29747);p=a(18553);a=a(46992);r.exports={renderWebGL:p,renderCanvas:a}},18553:(r,p,a)=>{var m=a(70554);r.exports=function(g,d,b,e){d.updateCanvas();var h=d.width,c=d.height;if(0!==
h&&0!==c){b.addToRenderList(d);var l=m.getTintAppendFloatAlpha;g=g.pipelines.set(d.pipeline,d);var f=g.setTexture2D(d.fillPattern,d);g.batchTexture(d,d.fillPattern,d.displayFrame.width*d.tileScaleX,d.displayFrame.height*d.tileScaleY,d.x,d.y,h,c,d.scaleX,d.scaleY,d.rotation,d.flipX,d.flipY,d.scrollFactorX,d.scrollFactorY,d.originX*h,d.originY*c,0,0,h,c,l(d.tintTopLeft,b.alpha*d._alphaTL),l(d.tintTopRight,b.alpha*d._alphaTR),l(d.tintBottomLeft,b.alpha*d._alphaBL),l(d.tintBottomRight,b.alpha*d._alphaBR),
d.tintFill,d.tilePositionX%d.displayFrame.width/d.displayFrame.width,d.tilePositionY%d.displayFrame.height/d.displayFrame.height,b,e,!1,f)}}},18471:(r,p,a)=>{var m=a(45319);p=a(83419);var g=a(31401),d=a(51708),b=a(8443),e=a(95643),h=a(36383),c=a(14463),l=a(45650);a=a(10247);a=new p({Extends:e,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.TextureCrop,g.Tint,g.Transform,g.Visible,a],initialize:function(f,k,n,q){e.call(this,
f,"Video");this.flipY=!1;this._key=l();this.isStalled=this.frameReady=this.playWhenUnlocked=this.touchLocked=!1;this.retry=this.failedPlayAttempts=0;this.retryInterval=500;this._codePaused=this._systemPaused=this._codeMuted=this._systemMuted=!1;this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),
waiting:this.stalledHandler.bind(this)};this._loadCallbackHandler=this.loadErrorHandler.bind(this);this._metadataCallbackHandler=this.metadataHandler.bind(this);this._crop=this.resetCropObject();this.markers={};this._markerOut=this._markerIn=0;this._playingMarker=!1;this._lastUpdate=0;this.cacheKey="";this._playCalled=this.isSeeking=!1;this._rfvCallbackId=0;var t=f.sys.game;this._device=t.device.video;this.setPosition(k,n);this.setSize(256,256);this.initPipeline();this.initPostPipeline(!0);t.events.on(b.PAUSE,
this.globalPause,this);t.events.on(b.RESUME,this.globalResume,this);if(f=f.sys.sound)f.on(c.GLOBAL_MUTE,this.globalMute,this);q&&this.load(q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(f){var k=this.scene.sys.cache.video.get(f);k?(this.cacheKey=f,this.loadHandler(k.url,k.noAudio,k.crossOrigin)):console.warn("No video in cache for key: "+f);return this},changeSource:function(f,k,n,q,t){void 0===k&&
(k=!0);void 0===n&&(n=!1);this.cacheKey!==f&&(this.load(f),k&&this.play(n,q,t))},getVideoKey:function(){return this.cacheKey},loadURL:function(f,k,n){void 0===k&&(k=!1);var q=this._device.getVideoURL(f);q?(this.cacheKey="",this.loadHandler(q.url,k,n)):console.warn("No supported video format found for "+f);return this},loadMediaStream:function(f,k,n){return this.loadHandler(null,k,n,f)},loadHandler:function(f,k,n,q){k||(k=!1);var t=this.video;t?(this.removeLoadEventHandlers(),this.stop()):(t=document.createElement("video"),
t.controls=!1,t.setAttribute("playsinline","playsinline"),t.setAttribute("preload","auto"),t.setAttribute("disablePictureInPicture","true"));k?(t.muted=!0,t.defaultMuted=!0,t.setAttribute("autoplay","autoplay")):(t.muted=!1,t.defaultMuted=!1,t.removeAttribute("autoplay"));n?t.setAttribute("crossorigin",n):t.removeAttribute("crossorigin");if(q)if("srcObject"in t)try{t.srcObject=q}catch(v){if("TypeError"!==v.name)throw v;t.src=URL.createObjectURL(q)}else t.src=URL.createObjectURL(q);else t.src=f;this.retry=
0;this.video=t;this._playCalled=!1;t.load();this.addLoadEventHandlers();f=this.scene.sys.textures.get(this._key);this.setTexture(f);return this},requestVideoFrame:function(f,k){if(f=this.video){var n=k.width,q=k.height,t=this.videoTexture,v=this.videoTextureSource,u=!t||v.source!==f;u?(this._codePaused=f.paused,this._codeMuted=f.muted,t?(v.source=f,v.width=n,v.height=q,t.get().setSize(n,q)):(t=this.scene.sys.textures.create(this._key,f,n,q),t.add("__BASE",0,0,0,n,q),this.setTexture(t),this.videoTexture=
t,this.videoTextureSource=t.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(d.VIDEO_TEXTURE,this,t)),this.setSizeToFrame(),this.updateDisplayOrigin()):v.update();this.isStalled=!1;this.metadata=k;k=k.mediaTime;u&&(this._lastUpdate=k,this.emit(d.VIDEO_CREATED,this,n,q),this.frameReady||(this.frameReady=!0,this.emit(d.VIDEO_PLAY,this)));this._playingMarker?k>=this._markerOut&&(f.loop?(f.currentTime=this._markerIn,this.emit(d.VIDEO_LOOP,this)):(this.stop(!1),this.emit(d.VIDEO_COMPLETE,
this))):k<this._lastUpdate&&this.emit(d.VIDEO_LOOP,this);this._lastUpdate=k;this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(f,k,n){void 0===k&&(k=-1);void 0===n&&(n=h.MAX_SAFE_INTEGER);var q=this.video;if(!q||this.isPlaying())return q||console.warn("Video not loaded"),this;void 0===f&&(f=q.loop);q.loop=f;this._markerIn=k;this._markerOut=n;this._playingMarker=-1<k&&n>k&&n<h.MAX_SAFE_INTEGER;this._playCalled||(this._rfvCallbackId=q.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),
this._playCalled=!0,this.createPlayPromise());return this},addLoadEventHandlers:function(){var f=this.video;f&&(f.addEventListener("error",this._loadCallbackHandler),f.addEventListener("abort",this._loadCallbackHandler),f.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var f=this.video;f&&(f.removeEventListener("error",this._loadCallbackHandler),f.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var f=this.video;
if(f){var k=this._callbacks,n;for(n in k)f.addEventListener(n,k[n])}},removeEventHandlers:function(){var f=this.video;if(f){var k=this._callbacks,n;for(n in k)f.removeEventListener(n,k[n])}},createPlayPromise:function(f){void 0===f&&(f=!0);var k=this.video,n=k.play();if(void 0!==n){k=this.playSuccess.bind(this);var q=this.playError.bind(this);if(!f){var t=this;q=function(){t.failedPlayAttempts++}}n.then(k).catch(q)}else k.addEventListener("playing",this._callbacks.legacy),f||this.failedPlayAttempts++},
addMarker:function(f,k,n){!isNaN(k)&&0<=k&&!isNaN(n)&&n>k&&(this.markers[f]=[k,n]);return this},playMarker:function(f,k){(f=this.markers[f])&&this.play(k,f[0],f[1]);return this},removeMarker:function(f){delete this.markers[f];return this},snapshot:function(f,k){void 0===f&&(f=this.width);void 0===k&&(k=this.height);return this.snapshotArea(0,0,this.width,this.height,f,k)},snapshotArea:function(f,k,n,q,t,v){void 0===f&&(f=0);void 0===k&&(k=0);void 0===n&&(n=this.width);void 0===q&&(q=this.height);
void 0===t&&(t=n);void 0===v&&(v=q);var u=this.video,x=this.snapshotTexture;x?x.setSize(t,v):this.snapshotTexture=x=this.scene.sys.textures.createCanvas(l(),t,v);u&&x.context.drawImage(u,f,k,n,q,0,0,t,v);return x.update()},saveSnapshotTexture:function(f){this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,f):this.snapshotTexture=this.scene.sys.textures.createCanvas(f,this.width,this.height);return this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers();
this._codePaused=!1;this.touchLocked&&(this.touchLocked=!1,this.emit(d.VIDEO_UNLOCKED,this));var f=this.scene.sys.sound;f&&f.mute&&this.setMute(!0);-1<this._markerIn&&(this.video.currentTime=this._markerIn)}},playError:function(f){var k=f.name;"NotAllowedError"===k?(this.playWhenUnlocked=this.touchLocked=!0,this.failedPlayAttempts=1,this.emit(d.VIDEO_LOCKED,this)):"NotSupportedError"===k?(this.stop(!1),this.emit(d.VIDEO_UNSUPPORTED,this,f)):(this.stop(!1),this.emit(d.VIDEO_ERROR,this,f))},legacyPlayHandler:function(){var f=
this.video;f&&(this.playSuccess(),f.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1;this.emit(d.VIDEO_PLAYING,this)},loadErrorHandler:function(f){this.stop(!1);this.emit(d.VIDEO_ERROR,this,f)},metadataHandler:function(f){this.emit(d.VIDEO_METADATA,this,f)},setSizeToFrame:function(f){f||(f=this.frame);this.width=f.realWidth;this.height=f.realHeight;1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width);1!==this.scaleY&&(this.scaleY=this.displayHeight/
this.height);(f=this.input)&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height);return this},stalledHandler:function(f){this.isStalled=!0;this.emit(d.VIDEO_STALLED,this,f)},completeHandler:function(){this._playCalled=!1;this.emit(d.VIDEO_COMPLETE,this)},preUpdate:function(f,k){this.video&&this._playCalled&&this.touchLocked&&this.playWhenUnlocked&&(this.retry+=k,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(f){var k=this.video;
k&&(k=k.duration,Infinity===k||isNaN(k)||this.setCurrentTime(k*f));return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(f){var k=this.video;if(k){if("string"===typeof f){var n=f[0],q=parseFloat(f.substr(1));"+"===n?f=k.currentTime+q:"-"===n&&(f=k.currentTime-q)}k.currentTime=f}return this},seekingHandler:function(){this.isSeeking=!0;this.emit(d.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1;this.emit(d.VIDEO_SEEKED,this)},getProgress:function(){var f=
this.video;if(f){var k=f.duration;if(Infinity!==k&&!isNaN(k))return f.currentTime/k}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(f){void 0===f&&(f=!0);this._codeMuted=f;var k=this.video;k&&(k.muted=this._systemMuted?!0:f);return this},isMuted:function(){return this._codeMuted},globalMute:function(f,k){this._systemMuted=k;if(f=this.video)f.muted=this._codeMuted?!0:k},globalPause:function(){this._systemPaused=!0;this.video&&!this.video.ended&&(this.removeEventHandlers(),
this.video.pause())},globalResume:function(){this._systemPaused=!1;!this.video||this._codePaused||this.video.ended||this.createPlayPromise()},setPaused:function(f){void 0===f&&(f=!0);var k=this.video;this._codePaused=f;k&&!k.ended&&(f?k.paused||(this.removeEventHandlers(),k.pause()):f||(this._playCalled?k.paused&&!this._systemPaused&&this.createPlayPromise():this.play()));return this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?
this.video.volume:1},setVolume:function(f){void 0===f&&(f=1);this.video&&(this.video.volume=m(f,0,1));return this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(f){this.video&&(this.video.playbackRate=f);return this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(f){void 0===f&&(f=!0);this.video&&(this.video.loop=f);return this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&
this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(f,k){void 0===k&&(k=!1);this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,f),this.videoTextureSource.setFlipY(k));this._key=f;this.flipY=k;return this.videoTexture?!0:!1},stop:function(f){void 0===f&&(f=!0);var k=this.video;k&&(this.removeEventHandlers(),k.cancelVideoFrameCallback(this._rfvCallbackId),k.pause());this.retry=0;this._playCalled=!1;f&&this.emit(d.VIDEO_STOP,this);return this},
removeVideoElement:function(){var f=this.video;if(f){for(f.parentNode&&f.parentNode.removeChild(f);f.hasChildNodes();)f.removeChild(f.firstChild);f.removeAttribute("autoplay");f.removeAttribute("src");this.video=null}},preDestroy:function(){this.stop(!1);this.removeLoadEventHandlers();this.removeVideoElement();var f=this.scene.sys.game.events;f.off(b.PAUSE,this.globalPause,this);f.off(b.RESUME,this.globalResume,this);(f=this.scene.sys.sound)&&f.off(c.GLOBAL_MUTE,this.globalMute,this)}});r.exports=
a},58352:r=>{r.exports=function(p,a,m,g){a.videoTexture&&(m.addToRenderList(a),p.batchSprite(a,a.frame,m,g))}},11511:(r,p,a)=>{var m=a(25305);r=a(44603);var g=a(23568),d=a(18471);r.register("video",function(b,e){void 0===b&&(b={});var h=g(b,"key",null);h=new d(this.scene,0,0,h);void 0!==e&&(b.add=e);m(this.scene,h,b);return h})},89025:(r,p,a)=>{var m=a(18471);a(39429).register("video",function(g,d,b){return this.displayList.add(new m(this.scene,g,d,b))})},10247:(r,p,a)=>{a(29747);p=a(29849);a=a(58352);
r.exports={renderWebGL:p,renderCanvas:a}},29849:r=>{r.exports=function(p,a,m,g){a.videoTexture&&(m.addToRenderList(a),a.pipeline.batchSprite(a,m,g))}},41481:(r,p,a)=>{var m=a(10312),g=a(96503),d=a(87902);p=a(83419);var b=a(31401),e=a(95643),h=a(87841),c=a(37303);a=new p({Extends:e,Mixins:[b.Depth,b.GetBounds,b.Origin,b.Transform,b.ScrollFactor,b.Visible],initialize:function(l,f,k,n,q){void 0===n&&(n=1);void 0===q&&(q=n);e.call(this,l,"Zone");this.setPosition(f,k);this.width=n;this.height=q;this.blendMode=
m.NORMAL;this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,f,k){void 0===k&&(k=!0);this.width=l;this.height=f;this.updateDisplayOrigin();var n=this.input;k&&n&&!n.customHitArea&&(n.hitArea.width=l,n.hitArea.height=f);return this},setDisplaySize:function(l,f){this.displayWidth=l;this.displayHeight=
f;return this},setCircleDropZone:function(l){return this.setDropZone(new g(0,0,l),d)},setRectangleDropZone:function(l,f){return this.setDropZone(new h(0,0,l,f),c)},setDropZone:function(l,f){this.input||this.setInteractive(l,f,!0);return this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(l,f,k){k.addToRenderList(f)},renderWebGL:function(l,f,k){k.addToRenderList(f)}});r.exports=a},95261:(r,p,a)=>{r=a(44603);var m=a(23568),g=a(41481);r.register("zone",function(d){var b=m(d,"x",
0),e=m(d,"y",0),h=m(d,"width",1);d=m(d,"height",h);return new g(this.scene,b,e,h,d)})},84175:(r,p,a)=>{var m=a(41481);a(39429).register("zone",function(g,d,b,e){return this.displayList.add(new m(this.scene,g,d,b,e))})},95166:r=>{r.exports=function(p){return 0<p.radius?Math.PI*p.radius*p.radius:0}},96503:(r,p,a)=>{p=a(83419);var m=a(87902),g=a(26241),d=a(79124),b=a(23777),e=a(28176);a=new p({initialize:function(h,c,l){void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=0);this.type=b.CIRCLE;this.x=
h;this.y=c;this._radius=l;this._diameter=2*l},contains:function(h,c){return m(this,h,c)},getPoint:function(h,c){return g(this,h,c)},getPoints:function(h,c,l){return d(this,h,c,l)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,c,l){this.x=h;this.y=c;this._radius=l;this._diameter=2*l;return this},setEmpty:function(){this._diameter=this._radius=0;return this},setPosition:function(h,c){void 0===c&&(c=h);this.x=h;this.y=c;return this},isEmpty:function(){return 0>=this._radius},radius:{get:function(){return this._radius},
set:function(h){this._radius=h;this._diameter=2*h}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h;this._radius=.5*h}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});
r.exports=a},71562:r=>{r.exports=function(p){return 2*Math.PI*p.radius}},92110:(r,p,a)=>{var m=a(2141);r.exports=function(g,d,b){void 0===b&&(b=new m);b.x=g.x+g.radius*Math.cos(d);b.y=g.y+g.radius*Math.sin(d);return b}},42250:(r,p,a)=>{var m=a(96503);r.exports=function(g){return new m(g.x,g.y,g.radius)}},87902:r=>{r.exports=function(p,a,m){return 0<p.radius&&a>=p.left&&a<=p.right&&m>=p.top&&m<=p.bottom?(p.x-a)*(p.x-a)+(p.y-m)*(p.y-m)<=p.radius*p.radius:!1}},5698:(r,p,a)=>{var m=a(87902);r.exports=
function(g,d){return m(g,d.x,d.y)}},70588:(r,p,a)=>{var m=a(87902);r.exports=function(g,d){return m(g,d.x,d.y)&&m(g,d.right,d.y)&&m(g,d.x,d.bottom)&&m(g,d.right,d.bottom)}},26394:r=>{r.exports=function(p,a){return a.setTo(p.x,p.y,p.radius)}},76278:r=>{r.exports=function(p,a){return p.x===a.x&&p.y===a.y&&p.radius===a.radius}},2074:(r,p,a)=>{var m=a(87841);r.exports=function(g,d){void 0===d&&(d=new m);d.x=g.left;d.y=g.top;d.width=g.diameter;d.height=g.diameter;return d}},26241:(r,p,a)=>{var m=a(92110),
g=a(62945),d=a(36383),b=a(2141);r.exports=function(e,h,c){void 0===c&&(c=new b);h=g(h,0,d.PI2);return m(e,h,c)}},79124:(r,p,a)=>{var m=a(71562),g=a(92110),d=a(62945),b=a(36383);r.exports=function(e,h,c,l){void 0===l&&(l=[]);!h&&0<c&&(h=m(e)/c);for(c=0;c<h;c++){var f=d(c/h,0,b.PI2);l.push(g(e,f))}return l}},50884:r=>{r.exports=function(p,a,m){p.x+=a;p.y+=m;return p}},39212:r=>{r.exports=function(p,a){p.x+=a.x;p.y+=a.y;return p}},28176:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=
new m);var b=2*Math.PI*Math.random(),e=Math.random()+Math.random();e=1<e?2-e:e;var h=e*Math.sin(b);d.x=g.x+e*Math.cos(b)*g.radius;d.y=g.y+h*g.radius;return d}},88911:(r,p,a)=>{p=a(96503);p.Area=a(95166);p.Circumference=a(71562);p.CircumferencePoint=a(92110);p.Clone=a(42250);p.Contains=a(87902);p.ContainsPoint=a(5698);p.ContainsRect=a(70588);p.CopyFrom=a(26394);p.Equals=a(76278);p.GetBounds=a(2074);p.GetPoint=a(26241);p.GetPoints=a(79124);p.Offset=a(50884);p.OffsetPoint=a(39212);p.Random=a(28176);
r.exports=p},23777:r=>{r.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:r=>{r.exports=function(p){return p.isEmpty()?0:p.getMajorRadius()*p.getMinorRadius()*Math.PI}},92990:r=>{r.exports=function(p){var a=p.width/2;p=p.height/2;var m=Math.pow(a-p,2)/Math.pow(a+p,2);return Math.PI*(a+p)*(1+3*m/(10+Math.sqrt(4-3*m)))}},79522:(r,p,a)=>{var m=a(2141);r.exports=function(g,d,b){void 0===b&&(b=new m);var e=g.height/2;b.x=g.x+g.width/2*Math.cos(d);b.y=g.y+e*Math.sin(d);
return b}},58102:(r,p,a)=>{var m=a(8497);r.exports=function(g){return new m(g.x,g.y,g.width,g.height)}},81154:r=>{r.exports=function(p,a,m){if(0>=p.width||0>=p.height)return!1;a=(a-p.x)/p.width;p=(m-p.y)/p.height;return.25>a*a+p*p}},46662:(r,p,a)=>{var m=a(81154);r.exports=function(g,d){return m(g,d.x,d.y)}},1632:(r,p,a)=>{var m=a(81154);r.exports=function(g,d){return m(g,d.x,d.y)&&m(g,d.right,d.y)&&m(g,d.x,d.bottom)&&m(g,d.right,d.bottom)}},65534:r=>{r.exports=function(p,a){return a.setTo(p.x,p.y,
p.width,p.height)}},8497:(r,p,a)=>{p=a(83419);var m=a(81154),g=a(90549),d=a(48320),b=a(23777),e=a(24820);a=new p({initialize:function(h,c,l,f){void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=0);this.type=b.ELLIPSE;this.x=h;this.y=c;this.width=l;this.height=f},contains:function(h,c){return m(this,h,c)},getPoint:function(h,c){return g(this,h,c)},getPoints:function(h,c,l){return d(this,h,c,l)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,c,l,f){this.x=h;this.y=c;
this.width=l;this.height=f;return this},setEmpty:function(){this.height=this.width=0;return this},setPosition:function(h,c){void 0===c&&(c=h);this.x=h;this.y=c;return this},setSize:function(h,c){void 0===c&&(c=h);this.width=h;this.height=c;return this},isEmpty:function(){return 0>=this.width||0>=this.height},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=
h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});r.exports=a},36146:r=>{r.exports=function(p,a){return p.x===a.x&&p.y===a.y&&p.width===a.width&&p.height===a.height}},23694:(r,p,a)=>{var m=a(87841);r.exports=function(g,d){void 0===d&&(d=new m);d.x=g.left;d.y=
g.top;d.width=g.width;d.height=g.height;return d}},90549:(r,p,a)=>{var m=a(79522),g=a(62945),d=a(36383),b=a(2141);r.exports=function(e,h,c){void 0===c&&(c=new b);h=g(h,0,d.PI2);return m(e,h,c)}},48320:(r,p,a)=>{var m=a(92990),g=a(79522),d=a(62945),b=a(36383);r.exports=function(e,h,c,l){void 0===l&&(l=[]);!h&&0<c&&(h=m(e)/c);for(c=0;c<h;c++){var f=d(c/h,0,b.PI2);l.push(g(e,f))}return l}},73424:r=>{r.exports=function(p,a,m){p.x+=a;p.y+=m;return p}},44808:r=>{r.exports=function(p,a){p.x+=a.x;p.y+=a.y;
return p}},24820:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);var b=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());d.x=g.x+e*Math.cos(b)*g.width/2;d.y=g.y+e*Math.sin(b)*g.height/2;return d}},49203:(r,p,a)=>{p=a(8497);p.Area=a(78874);p.Circumference=a(92990);p.CircumferencePoint=a(79522);p.Clone=a(58102);p.Contains=a(81154);p.ContainsPoint=a(46662);p.ContainsRect=a(1632);p.CopyFrom=a(65534);p.Equals=a(36146);p.GetBounds=a(23694);p.GetPoint=a(90549);p.GetPoints=a(48320);
p.Offset=a(73424);p.OffsetPoint=a(44808);p.Random=a(24820);r.exports=p},55738:(r,p,a)=>{p=a(23777);var m=a(79291);a={Circle:a(88911),Ellipse:a(49203),Intersects:a(91865),Line:a(2529),Mesh:a(73090),Point:a(43711),Polygon:a(58423),Rectangle:a(93232),Triangle:a(84435)};a=m(!1,a,p);r.exports=a},2044:(r,p,a)=>{var m=a(20339);r.exports=function(g,d){return m(g.x,g.y,d.x,d.y)<=g.radius+d.radius}},81491:r=>{r.exports=function(p,a){var m=a.width/2,g=a.height/2,d=Math.abs(p.x-a.x-m);a=Math.abs(p.y-a.y-g);var b=
g+p.radius;if(d>m+p.radius||a>b)return!1;if(d<=m||a<=g)return!0;m=d-m;g=a-g;return m*m+g*g<=p.radius*p.radius}},63376:(r,p,a)=>{var m=a(2141),g=a(2044);r.exports=function(d,b,e){void 0===e&&(e=[]);if(g(d,b)){var h=d.x,c=d.y,l=d.radius,f=b.x,k=b.y,n=b.radius;if(c===k)h=(n*n-l*l-f*f+h*h)/(2*(h-f)),b=1,d=-2*k,c=d*d-4*b*(f*f+h*h-2*f*h+k*k-n*n),0===c?e.push(new m(h,-d/(2*b))):0<c&&(e.push(new m(h,(-d+Math.sqrt(c))/(2*b))),e.push(new m(h,(-d-Math.sqrt(c))/(2*b))));else{var q=(h-f)/(c-k);f=(n*n-l*l-f*f+
h*h-k*k+c*c)/(2*(c-k));b=q*q+1;d=2*c*q-2*f*q-2*h;c=d*d-4*b*(h*h+c*c+f*f-l*l-2*c*f);0===c?(h=-d/(2*b),e.push(new m(h,f-h*q))):0<c&&(h=(-d+Math.sqrt(c))/(2*b),e.push(new m(h,f-h*q)),h=(-d-Math.sqrt(c))/(2*b),e.push(new m(h,f-h*q)))}}return e}},97439:(r,p,a)=>{var m=a(4042),g=a(81491);r.exports=function(d,b,e){void 0===e&&(e=[]);if(g(d,b)){var h=b.getLineA(),c=b.getLineB(),l=b.getLineC();b=b.getLineD();m(h,d,e);m(c,d,e);m(l,d,e);m(b,d,e)}return e}},4042:(r,p,a)=>{var m=a(2141),g=a(80462);r.exports=function(d,
b,e){void 0===e&&(e=[]);if(g(d,b)){var h=d.x1,c=d.y1,l=b.radius,f=d.x2-h;d=d.y2-c;var k=h-b.x,n=c-b.y;b=f*f+d*d;var q=2*(f*k+d*n);l=q*q-4*b*(k*k+n*n-l*l);0===l?(l=-q/(2*b),0<=l&&1>=l&&e.push(new m(h+l*f,c+l*d))):0<l&&(k=(-q-Math.sqrt(l))/(2*b),0<=k&&1>=k&&e.push(new m(h+k*f,c+k*d)),l=(-q+Math.sqrt(l))/(2*b),0<=l&&1>=l&&e.push(new m(h+l*f,c+l*d)))}return e}},36100:(r,p,a)=>{var m=a(25836);r.exports=function(g,d,b,e){void 0===b&&(b=!1);var h=g.x1,c=g.y1,l=d.x1,f=d.y1,k=g.x2-h;g=g.y2-c;var n=d.x2-l,
q=d.y2-f;d=k*q-g*n;if(0===d)return null;if(b){if(b=(k*(f-c)+g*(h-l))/(n*g-q*k),l=(l+n*b-h)/k,0>l||0>b||1<b)return null}else{b=((l-h)*q-(f-c)*n)/d;l=((c-f)*k-(h-l)*g)/d;if(0>b||1<b||0>l||1<l)return null;l=b}void 0===e&&(e=new m);return e.set(h+k*l,c+g*l,l)}},3073:(r,p,a)=>{var m=a(36100);p=a(23031);var g=a(25836),d=new p,b=new g;r.exports=function(e,h,c,l){void 0===c&&(c=!1);void 0===l&&(l=new g);var f=!1;l.set();b.set();for(var k=h[h.length-1],n=0;n<h.length;n++){var q=h[n];d.setTo(k.x,k.y,q.x,q.y);
k=q;m(e,d,c,b)&&(!f||b.z<l.z)&&(l.copy(b),f=!0)}return f?l:null}},56362:(r,p,a)=>{p=a(25836);var m=a(61369),g=a(3073),d=new p;r.exports=function(b,e,h,c){void 0===c&&(c=new m);Array.isArray(e)||(e=[e]);var l=!1;c.set();d.set();for(var f=0;f<e.length;f++)g(b,e[f].points,h,d)&&(!l||d.z<c.z)&&(c.set(d.x,d.y,d.z,f),l=!0);return l?c:null}},60646:(r,p,a)=>{var m=a(2141),g=a(76112),d=a(92773);r.exports=function(b,e,h){void 0===h&&(h=[]);if(d(b,e)){var c=e.getLineA(),l=e.getLineB(),f=e.getLineC(),k=e.getLineD();
e=[new m,new m,new m,new m];b=[g(c,b,e[0]),g(l,b,e[1]),g(f,b,e[2]),g(k,b,e[3])];for(c=0;4>c;c++)b[c]&&h.push(e[c])}return h}},71147:(r,p,a)=>{function m(h,c,l,f,k){e.setTo(c,l,c+Math.cos(h),l+Math.sin(h));(c=b(e,f,!0))&&k.push(new d(c.x,c.y,h,c.w))}function g(h,c){return h.z-c.z}var d=a(61369),b=a(56362),e=new (a(23031));r.exports=function(h,c,l){Array.isArray(l)||(l=[l]);for(var f=[],k=[],n=0;n<l.length;n++)for(var q=l[n].points,t=0;t<q.length;t++){var v=Math.atan2(q[t].y-c,q[t].x-h);-1===k.indexOf(v)&&
(m(v,h,c,l,f),m(v-1E-5,h,c,l,f),m(v+1E-5,h,c,l,f),k.push(v))}return f.sort(g)}},68389:(r,p,a)=>{var m=a(87841),g=a(59996);r.exports=function(d,b,e){void 0===e&&(e=new m);g(d,b)&&(e.x=Math.max(d.x,b.x),e.y=Math.max(d.y,b.y),e.width=Math.min(d.right,b.right)-e.x,e.height=Math.min(d.bottom,b.bottom)-e.y);return e}},52784:(r,p,a)=>{var m=a(60646),g=a(59996);r.exports=function(d,b,e){void 0===e&&(e=[]);if(g(d,b)){var h=d.getLineA(),c=d.getLineB(),l=d.getLineC();d=d.getLineD();m(h,b,e);m(c,b,e);m(l,b,e);
m(d,b,e)}return e}},26341:(r,p,a)=>{var m=a(89265),g=a(60646);r.exports=function(d,b,e){void 0===e&&(e=[]);if(m(d,b)){var h=b.getLineA(),c=b.getLineB();b=b.getLineC();g(h,d,e);g(c,d,e);g(b,d,e)}return e}},38720:(r,p,a)=>{var m=a(4042),g=a(67636);r.exports=function(d,b,e){void 0===e&&(e=[]);if(g(d,b)){var h=d.getLineA(),c=d.getLineB();d=d.getLineC();m(h,b,e);m(c,b,e);m(d,b,e)}return e}},13882:(r,p,a)=>{var m=a(2141),g=a(2822),d=a(76112);r.exports=function(b,e,h){void 0===h&&(h=[]);if(g(b,e)){var c=
b.getLineA(),l=b.getLineB(),f=b.getLineC();b=[new m,new m,new m];e=[d(c,e,b[0]),d(l,e,b[1]),d(f,e,b[2])];for(c=0;3>c;c++)e[c]&&h.push(b[c])}return h}},75636:(r,p,a)=>{var m=a(82944),g=a(13882);r.exports=function(d,b,e){void 0===e&&(e=[]);if(m(d,b)){var h=b.getLineA(),c=b.getLineB();b=b.getLineC();g(d,h,e);g(d,c,e);g(d,b,e)}return e}},80462:(r,p,a)=>{var m=a(87902),g=new (a(2141));r.exports=function(d,b,e){void 0===e&&(e=g);if(m(b,d.x1,d.y1))return e.x=d.x1,e.y=d.y1,!0;if(m(b,d.x2,d.y2))return e.x=
d.x2,e.y=d.y2,!0;var h=d.x2-d.x1,c=d.y2-d.y1,l=b.x-d.x1,f=b.y-d.y1,k=h*h+c*c,n=h,q=c;0<k&&(l=(l*h+f*c)/k,n*=l,q*=l);e.x=d.x1+n;e.y=d.y1+q;return n*n+q*q<=k&&0<=n*h+q*c&&m(b,e.x,e.y)}},76112:r=>{r.exports=function(p,a,m){var g=p.x1,d=p.y1,b=p.x2;p=p.y2;var e=a.x1,h=a.y1,c=a.x2,l=a.y2;if(g===b&&d===p||e===c&&h===l)return!1;a=(l-h)*(b-g)-(c-e)*(p-d);if(0===a)return!1;c=((c-e)*(d-h)-(l-h)*(g-e))/a;e=((b-g)*(d-h)-(p-d)*(g-e))/a;if(0>c||1<c||0>e||1<e)return!1;m&&(m.x=g+c*(b-g),m.y=d+c*(p-d));return!0}},
92773:r=>{r.exports=function(p,a){var m=p.x1,g=p.y1,d=p.x2;p=p.y2;var b=a.x,e=a.y,h=a.right;a=a.bottom;if(m>=b&&m<=h&&g>=e&&g<=a||d>=b&&d<=h&&p>=e&&p<=a)return!0;if(m<b&&d>=b){var c=g+(p-g)*(b-m)/(d-m);if(c>e&&c<=a)return!0}else if(m>h&&d<=h&&(c=g+(p-g)*(h-m)/(d-m),c>=e&&c<=a))return!0;if(g<e&&p>=e){if(c=m+(d-m)*(e-g)/(p-g),c>=b&&c<=h)return!0}else if(g>a&&p<=a&&(c=m+(d-m)*(a-g)/(p-g),c>=b&&c<=h))return!0;return!1}},16204:r=>{r.exports=function(p,a,m){void 0===m&&(m=1);var g=a.x1,d=a.y1,b=a.x2;a=
a.y2;var e=p.x;p=p.y;var h=(b-g)*(b-g)+(a-d)*(a-d);if(0===h)return!1;var c=((e-g)*(b-g)+(p-d)*(a-d))/h;return 0>c?Math.sqrt((g-e)*(g-e)+(d-p)*(d-p))<=m:0<=c&&1>=c?Math.abs(((d-p)*(b-g)-(g-e)*(a-d))/h)*Math.sqrt(h)<=m:Math.sqrt((b-e)*(b-e)+(a-p)*(a-p))<=m}},14199:(r,p,a)=>{var m=a(16204);r.exports=function(g,d){if(!m(g,d))return!1;var b=Math.max(d.x1,d.x2),e=Math.min(d.y1,d.y2),h=Math.max(d.y1,d.y2);return g.x>=Math.min(d.x1,d.x2)&&g.x<=b&&g.y>=e&&g.y<=h}},59996:r=>{r.exports=function(p,a){return 0>=
p.width||0>=p.height||0>=a.width||0>=a.height?!1:!(p.right<a.x||p.bottom<a.y||p.x>a.right||p.y>a.bottom)}},89265:(r,p,a)=>{var m=a(76112),g=a(37303),d=a(48653),b=a(77493);r.exports=function(e,h){if(h.left>e.right||h.right<e.left||h.top>e.bottom||h.bottom<e.top)return!1;var c=h.getLineA(),l=h.getLineB(),f=h.getLineC();if(g(e,c.x1,c.y1)||g(e,c.x2,c.y2)||g(e,l.x1,l.y1)||g(e,l.x2,l.y2)||g(e,f.x1,f.y1)||g(e,f.x2,f.y2))return!0;var k=e.getLineA(),n=e.getLineB(),q=e.getLineC(),t=e.getLineD();if(m(c,k)||
m(c,n)||m(c,q)||m(c,t)||m(l,k)||m(l,n)||m(l,q)||m(l,t)||m(f,k)||m(f,n)||m(f,q)||m(f,t))return!0;e=b(e);return 0<d(h,e,!0).length}},84411:r=>{r.exports=function(p,a,m,g,d,b){void 0===b&&(b=0);return!(a>p.right+b||m<p.left-b||g>p.bottom+b||d<p.top-b)}},67636:(r,p,a)=>{var m=a(80462),g=a(10690);r.exports=function(d,b){return d.left>b.right||d.right<b.left||d.top>b.bottom||d.bottom<b.top?!1:g(d,b.x,b.y)||m(d.getLineA(),b)||m(d.getLineB(),b)||m(d.getLineC(),b)?!0:!1}},2822:(r,p,a)=>{var m=a(76112);r.exports=
function(g,d){return g.contains(d.x1,d.y1)||g.contains(d.x2,d.y2)||m(g.getLineA(),d)||m(g.getLineB(),d)||m(g.getLineC(),d)?!0:!1}},82944:(r,p,a)=>{var m=a(48653),g=a(71694),d=a(76112);r.exports=function(b,e){if(b.left>e.right||b.right<e.left||b.top>e.bottom||b.bottom<e.top)return!1;var h=b.getLineA(),c=b.getLineB(),l=b.getLineC(),f=e.getLineA(),k=e.getLineB(),n=e.getLineC();if(d(h,f)||d(h,k)||d(h,n)||d(c,f)||d(c,k)||d(c,n)||d(l,f)||d(l,k)||d(l,n))return!0;h=g(b);h=m(e,h,!0);if(0<h.length)return!0;
h=g(e);h=m(b,h,!0);return 0<h.length?!0:!1}},91865:(r,p,a)=>{r.exports={CircleToCircle:a(2044),CircleToRectangle:a(81491),GetCircleToCircle:a(63376),GetCircleToRectangle:a(97439),GetLineToCircle:a(4042),GetLineToLine:a(36100),GetLineToPoints:a(3073),GetLineToPolygon:a(56362),GetLineToRectangle:a(60646),GetRaysFromPointToPolygon:a(71147),GetRectangleIntersection:a(68389),GetRectangleToRectangle:a(52784),GetRectangleToTriangle:a(26341),GetTriangleToCircle:a(38720),GetTriangleToLine:a(13882),GetTriangleToTriangle:a(75636),
LineToCircle:a(80462),LineToLine:a(76112),LineToRectangle:a(92773),PointToLine:a(16204),PointToLineSegment:a(14199),RectangleToRectangle:a(59996),RectangleToTriangle:a(89265),RectangleToValues:a(84411),TriangleToCircle:a(67636),TriangleToLine:a(2822),TriangleToTriangle:a(82944)}},91938:r=>{r.exports=function(p){return Math.atan2(p.y2-p.y1,p.x2-p.x1)}},84993:r=>{r.exports=function(p,a,m){void 0===a&&(a=1);void 0===m&&(m=[]);var g=Math.round(p.x1),d=Math.round(p.y1),b=Math.round(p.x2);p=Math.round(p.y2);
var e=Math.abs(b-g),h=Math.abs(p-d),c=g<b?1:-1,l=d<p?1:-1,f=e-h;m.push({x:g,y:d});for(var k=1;g!==b||d!==p;){var n=f<<1;n>-h&&(f-=h,g+=c);n<e&&(f+=e,d+=l);0===k%a&&m.push({x:g,y:d});k++}return m}},36469:r=>{r.exports=function(p,a,m){a-=(p.x1+p.x2)/2;m-=(p.y1+p.y2)/2;p.x1+=a;p.y1+=m;p.x2+=a;p.y2+=m;return p}},31116:(r,p,a)=>{var m=a(23031);r.exports=function(g){return new m(g.x1,g.y1,g.x2,g.y2)}},59944:r=>{r.exports=function(p,a){return a.setTo(p.x1,p.y1,p.x2,p.y2)}},59220:r=>{r.exports=function(p,
a){return p.x1===a.x1&&p.y1===a.y1&&p.x2===a.x2&&p.y2===a.y2}},78177:(r,p,a)=>{var m=a(35001);r.exports=function(g,d,b){void 0===b&&(b=d);var e=m(g),h=g.x2-g.x1,c=g.y2-g.y1;d&&(g.x1-=h/e*d,g.y1-=c/e*d);b&&(g.x2+=h/e*b,g.y2+=c/e*b);return g}},26708:(r,p,a)=>{var m=a(52816),g=a(6113),d=a(2141);r.exports=function(b,e,h,c,l){void 0===c&&(c=0);void 0===l&&(l=[]);var f=[],k=b.x1,n=b.y1,q=b.x2-k;b=b.y2-n;e=g(e,l);var t=h-1;for(h=0;h<t;h++)l=e(h/t),f.push(new d(k+q*l,n+b*l));l=e(1);f.push(new d(k+q*l,n+b*
l));if(0<c){k=f[0];n=[k];for(h=1;h<f.length-1;h++)q=f[h],m(k,q)>=c&&(n.push(q),k=q);f=f[f.length-1];m(k,f)<c&&n.pop();n.push(f);return n}return f}},32125:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);d.x=(g.x1+g.x2)/2;d.y=(g.y1+g.y2)/2;return d}},99569:(r,p,a)=>{var m=a(2141);r.exports=function(g,d,b){void 0===b&&(b=new m);var e=g.x1,h=g.y1,c=g.x2;g=g.y2;var l=(c-e)*(c-e)+(g-h)*(g-h);if(0===l)return b;d=((d.x-e)*(c-e)+(d.y-h)*(g-h))/l;b.x=e+d*(c-e);b.y=h+d*(g-h);return b}},
34638:(r,p,a)=>{var m=a(36383),g=a(91938),d=a(2141);r.exports=function(b,e){void 0===e&&(e=new d);b=g(b)-m.TAU;e.x=Math.cos(b);e.y=Math.sin(b);return e}},13151:(r,p,a)=>{var m=a(2141);r.exports=function(g,d,b){void 0===b&&(b=new m);b.x=g.x1+(g.x2-g.x1)*d;b.y=g.y1+(g.y2-g.y1)*d;return b}},15258:(r,p,a)=>{var m=a(35001),g=a(2141);r.exports=function(d,b,e,h){void 0===h&&(h=[]);!b&&0<e&&(b=m(d)/e);e=d.x1;var c=d.y1,l=d.x2;d=d.y2;for(var f=0;f<b;f++){var k=f/b;h.push(new g(e+(l-e)*k,c+(d-c)*k))}return h}},
26408:r=>{r.exports=function(p,a){var m=p.x1,g=p.y1,d=p.x2;p=p.y2;var b=(d-m)*(d-m)+(p-g)*(p-g);return 0===b?!1:Math.abs(((g-a.y)*(d-m)-(m-a.x)*(p-g))/b)*Math.sqrt(b)}},98770:r=>{r.exports=function(p){return Math.abs(p.y1-p.y2)}},35001:r=>{r.exports=function(p){return Math.sqrt((p.x2-p.x1)*(p.x2-p.x1)+(p.y2-p.y1)*(p.y2-p.y1))}},23031:(r,p,a)=>{p=a(83419);var m=a(13151),g=a(15258),d=a(23777),b=a(65822),e=a(26099);a=new p({initialize:function(h,c,l,f){void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&
(l=0);void 0===f&&(f=0);this.type=d.LINE;this.x1=h;this.y1=c;this.x2=l;this.y2=f},getPoint:function(h,c){return m(this,h,c)},getPoints:function(h,c,l){return g(this,h,c,l)},getRandomPoint:function(h){return b(this,h)},setTo:function(h,c,l,f){void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=0);this.x1=h;this.y1=c;this.x2=l;this.y2=f;return this},setFromObjects:function(h,c){this.x1=h.x;this.y1=h.y;this.x2=c.x;this.y2=c.y;return this},getPointA:function(h){void 0===h&&(h=new e);
h.set(this.x1,this.y1);return h},getPointB:function(h){void 0===h&&(h=new e);h.set(this.x2,this.y2);return h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>
this.y2?this.y1=h:this.y2=h}}});r.exports=a},64795:(r,p,a)=>{var m=a(36383),g=a(15994),d=a(91938);r.exports=function(b){b=d(b)-m.TAU;return g(b,-Math.PI,Math.PI)}},52616:(r,p,a)=>{var m=a(36383),g=a(91938);r.exports=function(d){return Math.cos(g(d)-m.TAU)}},87231:(r,p,a)=>{var m=a(36383),g=a(91938);r.exports=function(d){return Math.sin(g(d)-m.TAU)}},89662:r=>{r.exports=function(p,a,m){p.x1+=a;p.y1+=m;p.x2+=a;p.y2+=m;return p}},71165:r=>{r.exports=function(p){return-((p.x2-p.x1)/(p.y2-p.y1))}},65822:(r,
p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);var b=Math.random();d.x=g.x1+b*(g.x2-g.x1);d.y=g.y1+b*(g.y2-g.y1);return d}},69777:(r,p,a)=>{var m=a(91938),g=a(64795);r.exports=function(d,b){return 2*g(b)-Math.PI-m(d)}},39706:(r,p,a)=>{var m=a(64400);r.exports=function(g,d){return m(g,(g.x1+g.x2)/2,(g.y1+g.y2)/2,d)}},82585:(r,p,a)=>{var m=a(64400);r.exports=function(g,d,b){return m(g,d.x,d.y,b)}},64400:r=>{r.exports=function(p,a,m,g){var d=Math.cos(g);g=Math.sin(g);var b=p.x1-a,
e=p.y1-m;p.x1=b*d-e*g+a;p.y1=b*g+e*d+m;b=p.x2-a;e=p.y2-m;p.x2=b*d-e*g+a;p.y2=b*g+e*d+m;return p}},62377:r=>{r.exports=function(p,a,m,g,d){p.x1=a;p.y1=m;p.x2=a+Math.cos(g)*d;p.y2=m+Math.sin(g)*d;return p}},71366:r=>{r.exports=function(p){return(p.y2-p.y1)/(p.x2-p.x1)}},10809:r=>{r.exports=function(p){return Math.abs(p.x1-p.x2)}},2529:(r,p,a)=>{p=a(23031);p.Angle=a(91938);p.BresenhamPoints=a(84993);p.CenterOn=a(36469);p.Clone=a(31116);p.CopyFrom=a(59944);p.Equals=a(59220);p.Extend=a(78177);p.GetEasedPoints=
a(26708);p.GetMidPoint=a(32125);p.GetNearestPoint=a(99569);p.GetNormal=a(34638);p.GetPoint=a(13151);p.GetPoints=a(15258);p.GetShortestDistance=a(26408);p.Height=a(98770);p.Length=a(35001);p.NormalAngle=a(64795);p.NormalX=a(52616);p.NormalY=a(87231);p.Offset=a(89662);p.PerpSlope=a(71165);p.Random=a(65822);p.ReflectAngle=a(69777);p.Rotate=a(39706);p.RotateAroundPoint=a(82585);p.RotateAroundXY=a(64400);p.SetToAngle=a(62377);p.Slope=a(71366);p.Width=a(10809);r.exports=p},83997:(r,p,a)=>{function m(b,
e,h,c){b-=h;e-=c;return Math.sqrt(b*b+e*e)}p=a(83419);var g=a(87841),d=a(26099);a=new p({initialize:function(b,e,h){this.vertex1=b;this.vertex2=e;this.vertex3=h;this.bounds=new g;this._inCenter=new d},getInCenter:function(b){void 0===b&&(b=!0);var e=this.vertex1,h=this.vertex2,c=this.vertex3;if(b){b=e.x;e=e.y;var l=h.x;h=h.y;var f=c.x;c=c.y}else b=e.vx,e=e.vy,l=h.vx,h=h.vy,f=c.vx,c=c.vy;var k=m(f,c,l,h),n=m(b,e,f,c),q=m(l,h,b,e),t=k+n+q;return this._inCenter.set((b*k+l*n+f*q)/t,(e*k+h*n+c*q)/t)},
contains:function(b,e,h){var c=this.vertex1,l=this.vertex2,f=this.vertex3,k=c.vx,n=c.vy,q=l.vx,t=l.vy,v=f.vx,u=f.vy;if(h){v=h.a;u=h.b;var x=h.c,w=h.d,y=h.e;h=h.f;k=c.vx*v+c.vy*x+y;n=c.vx*u+c.vy*w+h;q=l.vx*v+l.vy*x+y;t=l.vx*u+l.vy*w+h;v=f.vx*v+f.vy*x+y;u=f.vx*u+f.vy*w+h}c=v-k;l=u-n;q-=k;t-=n;b-=k;f=e-n;e=c*c+l*l;n=c*q+l*t;k=c*b+l*f;c=q*q+t*t;b=q*b+t*f;t=e*c-n*n;t=0===t?0:1/t;q=(c*k-n*b)*t;e=(e*b-n*k)*t;return 0<=q&&0<=e&&1>q+e},isCounterClockwise:function(b){var e=this.vertex1,h=this.vertex2,c=this.vertex3;
e=(h.vx-e.vx)*(c.vy-e.vy)-(h.vy-e.vy)*(c.vx-e.vx);return 0>=b?0<=e:0>e},load:function(b,e,h,c,l){h=this.vertex1.load(b,e,h,c,l);h=this.vertex2.load(b,e,h,c,l);return h=this.vertex3.load(b,e,h,c,l)},transformCoordinatesLocal:function(b,e,h,c){this.vertex1.transformCoordinatesLocal(b,e,h,c);this.vertex2.transformCoordinatesLocal(b,e,h,c);this.vertex3.transformCoordinatesLocal(b,e,h,c);return this},updateBounds:function(){var b=this.vertex1,e=this.vertex2,h=this.vertex3,c=this.bounds;c.x=Math.min(b.vx,
e.vx,h.vx);c.y=Math.min(b.vy,e.vy,h.vy);c.width=Math.max(b.vx,e.vx,h.vx)-c.x;c.height=Math.max(b.vy,e.vy,h.vy)-c.y;return this},isInView:function(b,e,h,c,l,f,k,n,q,t,v){this.update(c,l,f,k,n,q,t,v);c=this.vertex1;l=this.vertex2;f=this.vertex3;if(0>=c.ta&&0>=l.ta&&0>=f.ta||e&&!this.isCounterClockwise(h))return!1;e=this.bounds;e.x=Math.min(c.tx,l.tx,f.tx);e.y=Math.min(c.ty,l.ty,f.ty);e.width=Math.max(c.tx,l.tx,f.tx)-e.x;e.height=Math.max(c.ty,l.ty,f.ty)-e.y;h=b.x+b.width;c=b.y+b.height;return 0>=e.width||
0>=e.height||0>=b.width||0>=b.height?!1:!(e.right<b.x||e.bottom<b.y||e.x>h||e.y>c)},scrollUV:function(b,e){this.vertex1.scrollUV(b,e);this.vertex2.scrollUV(b,e);this.vertex3.scrollUV(b,e);return this},scaleUV:function(b,e){this.vertex1.scaleUV(b,e);this.vertex2.scaleUV(b,e);this.vertex3.scaleUV(b,e);return this},setColor:function(b){this.vertex1.color=b;this.vertex2.color=b;this.vertex3.color=b;return this},update:function(b,e,h,c,l,f,k,n){this.vertex1.update(e,h,c,l,f,k,n,b);this.vertex2.update(e,
h,c,l,f,k,n,b);this.vertex3.update(e,h,c,l,f,k,n,b);return this},translate:function(b,e){void 0===e&&(e=0);var h=this.vertex1,c=this.vertex2,l=this.vertex3;h.x+=b;h.y+=e;c.x+=b;c.y+=e;l.x+=b;l.y+=e;return this},x:{get:function(){return this.getInCenter().x},set:function(b){var e=this.getInCenter();this.translate(b-e.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(b){var e=this.getInCenter();this.translate(0,b-e.y)}},alpha:{get:function(){return(this.vertex1.alpha+this.vertex2.alpha+
this.vertex3.alpha)/3},set:function(b){this.vertex1.alpha=b;this.vertex2.alpha=b;this.vertex3.alpha=b}},depth:{get:function(){return(this.vertex1.vz+this.vertex2.vz+this.vertex3.vz)/3}},destroy:function(){this.vertex3=this.vertex2=this.vertex1=null}});r.exports=a},48803:(r,p,a)=>{var m=a(83997),g=a(95540);p=a(37867);var d=a(25836),b=a(39318),e=new d,h=new d,c=new p;r.exports=function(l){var f=g(l,"mesh"),k=g(l,"texture",null),n=g(l,"frame"),q=g(l,"width",1),t=g(l,"height",q),v=g(l,"widthSegments",
1),u=g(l,"heightSegments",v),x=g(l,"x",0),w=g(l,"y",0),y=g(l,"z",0),z=g(l,"rotateX",0),C=g(l,"rotateY",0),A=g(l,"rotateZ",0),B=g(l,"zIsUp",!0),E=g(l,"isOrtho",f?f.dirtyCache[11]:!1),G=g(l,"colors",[16777215]),I=g(l,"alphas",[1]),H=g(l,"tile",!1),K=g(l,"flipY",!1),L=g(l,"width",null);l={faces:[],verts:[]};e.set(x,w,y);h.set(z,C,A);c.fromRotationXYTranslation(h,e,B);if(!k&&f){if(k=f.texture,!n)var M=f.frame}else if(f&&"string"===typeof k)k=f.scene.sys.textures.get(k);else if(!k)return l;M||(M=k.get(n));
!L&&E&&k&&f&&(q=M.width/f.height,t=M.height/f.height);z=q/2;C=t/2;v=Math.floor(v);u=Math.floor(u);k=v+1;A=u+1;B=q/v;E=t/u;t=[];q=[];n=0;x=1;w=0;y=1;M&&(n=M.u0,x=M.u1,K?(w=M.v1,y=M.v0):(w=M.v0,y=M.v1));L=x-n;var P=y-w;for(M=0;M<A;M++){var D=M*E-C;for(K=0;K<k;K++)q.push(K*B-z,-D),t.push(n+K/v*L,w+M/u*P)}Array.isArray(G)||(G=[G]);Array.isArray(I)||(I=[I]);for(M=C=z=0;M<u;M++)for(K=0;K<v;K++){L=2*(K+k*M);var F=2*(K+k*(M+1)),J=2*(K+1+k*(M+1));A=2*(K+1+k*M);B=G[C];E=I[z];L=(new b(q[L],q[L+1],0,t[L],t[L+
1],B,E)).transformMat4(c);P=(new b(q[F],q[F+1],0,t[F],t[F+1],B,E)).transformMat4(c);D=(new b(q[A],q[A+1],0,t[A],t[A+1],B,E)).transformMat4(c);F=(new b(q[F],q[F+1],0,t[F],t[F+1],B,E)).transformMat4(c);J=(new b(q[J],q[J+1],0,t[J],t[J+1],B,E)).transformMat4(c);A=(new b(q[A],q[A+1],0,t[A],t[A+1],B,E)).transformMat4(c);H&&(L.setUVs(n,y),P.setUVs(n,w),D.setUVs(x,y),F.setUVs(n,w),J.setUVs(x,w),A.setUVs(x,y));C++;C===G.length&&(C=0);z++;z===I.length&&(z=0);l.verts.push(L,P,D,F,J,A);l.faces.push(new m(L,P,
D),new m(F,J,A))}f&&(f.faces=f.faces.concat(l.faces),f.vertices=f.vertices.concat(l.verts));return l}},34684:(r,p,a)=>{var m=a(83997);p=a(37867);var g=a(25836),d=a(39318),b=new g,e=new g,h=new p;r.exports=function(c,l,f,k,n,q,t,v,u,x){void 0===f&&(f=1);void 0===k&&(k=0);void 0===n&&(n=0);void 0===q&&(q=0);void 0===t&&(t=0);void 0===v&&(v=0);void 0===u&&(u=0);void 0===x&&(x=!0);var w={faces:[],verts:[]},y=c.materials;b.set(k,n,q);e.set(t,v,u);h.fromRotationXYTranslation(e,b,x);for(k=0;k<c.models.length;k++)for(t=
c.models[k],n=t.vertices,q=t.textureCoords,t=t.faces,v=0;v<t.length;v++){var z=t[v],C=z.vertices[0],A=z.vertices[1],B=z.vertices[2],E=n[C.vertexIndex];x=n[A.vertexIndex];u=n[B.vertexIndex];C=C.textureCoordsIndex;A=A.textureCoordsIndex;var G=B.textureCoordsIndex;B=-1===C?{u:0,v:1}:q[C];C=-1===A?{u:0,v:0}:q[A];A=-1===G?{u:1,v:1}:q[G];G=16777215;""!==z.material&&y[z.material]&&(G=y[z.material]);z=(new d(E.x*f,E.y*f,E.z*f,B.u,B.v,G)).transformMat4(h);x=(new d(x.x*f,x.y*f,x.z*f,C.u,C.v,G)).transformMat4(h);
u=(new d(u.x*f,u.y*f,u.z*f,A.u,A.v,G)).transformMat4(h);w.verts.push(z,x,u);w.faces.push(new m(z,x,u))}l&&(l.faces=l.faces.concat(w.faces),l.vertices=l.vertices.concat(w.verts));return w}},92515:(r,p,a)=>{var m=a(83997),g=a(39318);r.exports=function(d,b,e,h,c,l,f,k){void 0===h&&(h=!1);void 0===l&&(l=16777215);void 0===f&&(f=1);void 0===k&&(k=!1);if(d.length===b.length||h){var n={faces:[],vertices:[]},q,t,v,u=h?3:2,x=Array.isArray(l),w=Array.isArray(f);if(Array.isArray(e)&&0<e.length)for(q=0;q<e.length;q++){var y=
e[q];var z=2*e[q];var C=e[q]*u;var A=d[C];var B=d[C+1];var E=h?d[C+2]:0;var G=b[z];z=b[z+1];k&&(z=1-z);var I=x?l[y]:l;y=w?f[y]:f;var H=v=t=0;c&&(t=c[C],v=c[C+1],H=h?c[C+2]:0);n.vertices.push(new g(A,B,E,G,z,I,y,t,v,H))}else for(q=k=e=0;q<d.length;q+=u)A=d[q],B=d[q+1],E=h?d[q+2]:0,G=b[e],z=b[e+1],I=x?l[k]:l,y=w?f[k]:f,H=v=t=0,c&&(t=c[q],v=c[q+1],H=h?c[q+2]:0),n.vertices.push(new g(A,B,E,G,z,I,y,t,v,H)),e+=2,k++;for(q=0;q<n.vertices.length;q+=3)n.faces.push(new m(n.vertices[q],n.vertices[q+1],n.vertices[q+
2]));return n}console.warn("GenerateVerts: vertices and uvs count not equal")}},85048:r=>{function p(d){0===d.models.length&&d.models.push({faces:[],name:"untitled",textureCoords:[],vertexNormals:[],vertices:[]});m="";return d.models[d.models.length-1]}var a=!0,m="",g="";r.exports=function(d,b){void 0===b&&(b=!0);a=b;b={materials:{},materialLibraries:[],models:[]};g=m="";d=d.split("\n");for(var e=0;e<d.length;e++){var h=d[e],c=h.indexOf("#");h=(-1<c?h.substring(0,c):h).replace(/\s\s+/g," ").trim().split(" ");
switch(h[0].toLowerCase()){case "o":b.models.push({faces:[],name:2<=h.length?h[1]:"untitled",textureCoords:[],vertexNormals:[],vertices:[]});m="";break;case "g":2===h.length&&(m=h[1]);break;case "v":var l=h;h=b;var f=l.length;c=2<=f?parseFloat(l[1]):0;var k=3<=f?parseFloat(l[2]):0;l=4<=f?parseFloat(l[3]):0;p(h).vertices.push({x:c,y:k,z:l});break;case "vt":l=h;h=b;f=l.length;c=2<=f?parseFloat(l[1]):0;k=3<=f?parseFloat(l[2]):0;l=4<=f?parseFloat(l[3]):0;isNaN(c)&&(c=0);isNaN(k)&&(k=0);isNaN(l)&&(l=0);
a&&(k=1-k);p(h).textureCoords.push({u:c,v:k,w:l});break;case "vn":l=h;h=b;f=l.length;c=2<=f?parseFloat(l[1]):0;k=3<=f?parseFloat(l[2]):0;l=4<=f?parseFloat(l[3]):0;p(h).vertexNormals.push({x:c,y:k,z:l});break;case "f":c=b;k=h.length-1;if(!(3>k)){l={group:m,material:g,vertices:[]};for(f=0;f<k;f++){var n=h[f+1].split("/"),q=n.length;if(!(1>q||3<q)){var t=0,v=0;var u=parseInt(n[0],10);1<q&&""!==n[1]&&(t=parseInt(n[1],10));2<q&&(v=parseInt(n[2],10));0!==u&&(0>u&&(u=p(c).vertices.length+1+u),--t,--u,--v,
l.vertices.push({textureCoordsIndex:t,vertexIndex:u,vertexNormalIndex:v}))}}p(c).faces.push(l)}break;case "mtllib":2<=h.length&&b.materialLibraries.push(h[1]);break;case "usemtl":2<=h.length&&(g=h[1])}}return b}},61485:(r,p,a)=>{var m=a(37589);r.exports=function(g){var d={};g=g.split("\n");for(var b="",e=0;e<g.length;e++){var h=g[e].trim();if(0!==h.indexOf("#")&&""!==h)switch(h=h.replace(/\s\s+/g," ").trim().split(" "),h[0].toLowerCase()){case "newmtl":b=h[1];break;case "kd":var c=Math.floor(255*
h[1]);d[b]=m(c,2<=h.length?Math.floor(255*h[2]):c,3<=h.length?Math.floor(255*h[3]):c)}}return d}},92570:r=>{r.exports=function(p,a,m,g){if(void 0===m&&void 0===g){var d=p.getInCenter();var b=d.x;d=d.y}m=Math.cos(a);a=Math.sin(a);g=p.vertex1;var e=p.vertex2;p=p.vertex3;var h=g.x-b,c=g.y-d;g.set(h*m-c*a+b,h*a+c*m+d);h=e.x-b;c=e.y-d;e.set(h*m-c*a+b,h*a+c*m+d);h=p.x-b;c=p.y-d;p.set(h*m-c*a+b,h*a+c*m+d)}},39318:(r,p,a)=>{p=a(83419);var m=a(70554),g=a(25836);a=new p({Extends:g,initialize:function(d,b,e,
h,c,l,f,k,n,q){void 0===l&&(l=16777215);void 0===f&&(f=1);void 0===k&&(k=0);void 0===n&&(n=0);void 0===q&&(q=0);g.call(this,d,b,e);this.vz=this.vy=this.vx=0;this.nx=k;this.ny=n;this.nz=q;this.u=h;this.v=c;this.color=l;this.alpha=f;this.ta=this.ty=this.tx=0;this.tu=h;this.tv=c},setUVs:function(d,b){this.u=d;this.v=b;this.tu=d;this.tv=b;return this},scrollUV:function(d,b){this.tu+=d;this.tv+=b;return this},scaleUV:function(d,b){this.tu=this.u*d;this.tv=this.v*b;return this},transformCoordinatesLocal:function(d,
b,e,h){var c=this.x,l=this.y,f=this.z;d=d.val;var k=c*d[1]+l*d[5]+f*d[9]+d[13],n=c*d[2]+l*d[6]+f*d[10]+d[14],q=c*d[3]+l*d[7]+f*d[11]+d[15];this.vx=(c*d[0]+l*d[4]+f*d[8]+d[12])/q*b;this.vy=-(k/q)*e;this.vz=0>=h?n/q:-(n/q)},resize:function(d,b,e,h,c,l){this.x=d;this.y=b;this.vx=this.x*e;this.vy=-this.y*h;this.vz=0;.5>c?this.vx+=e*(.5-c):.5<c&&(this.vx-=e*(c-.5));.5>l?this.vy+=h*(.5-l):.5<l&&(this.vy-=h*(l-.5));return this},update:function(d,b,e,h,c,l,f,k){d=this.vx*d+this.vy*e+c;b=this.vx*b+this.vy*
h+l;f&&(d=Math.round(d),b=Math.round(b));this.tx=d;this.ty=b;this.ta=this.alpha*k;return this},load:function(d,b,e,h,c){d[++e]=this.tx;d[++e]=this.ty;d[++e]=this.tu;d[++e]=this.tv;d[++e]=h;d[++e]=c;b[++e]=m.getTintAppendFloatAlpha(this.color,this.ta);return e}});r.exports=a},73090:(r,p,a)=>{p={Face:a(83997),GenerateGridVerts:a(48803),GenerateObjVerts:a(34684),GenerateVerts:a(92515),ParseObj:a(85048),ParseObjMaterial:a(61485),RotateFace:a(92570),Vertex:a(39318)};r.exports=p},96550:r=>{r.exports=function(p){return p.setTo(Math.ceil(p.x),
Math.ceil(p.y))}},99706:(r,p,a)=>{var m=a(2141);r.exports=function(g){return new m(g.x,g.y)}},68010:r=>{r.exports=function(p,a){return a.setTo(p.x,p.y)}},27814:r=>{r.exports=function(p,a){return p.x===a.x&&p.y===a.y}},73565:r=>{r.exports=function(p){return p.setTo(Math.floor(p.x),Math.floor(p.y))}},87555:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);if(!Array.isArray(g))throw Error("GetCentroid points argument must be an array");var b=g.length;if(1>b)throw Error("GetCentroid points array must not be empty");
if(1===b)d.x=g[0].x,d.y=g[0].y;else{for(var e=0;e<b;e++)d.x+=g[e].x,d.y+=g[e].y;d.x/=b;d.y/=b}return d}},28793:r=>{r.exports=function(p){return Math.sqrt(p.x*p.x+p.y*p.y)}},44405:r=>{r.exports=function(p){return p.x*p.x+p.y*p.y}},20873:(r,p,a)=>{var m=a(87841);r.exports=function(g,d){void 0===d&&(d=new m);for(var b=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,l=0;l<g.length;l++){var f=g[l];f.x>b&&(b=f.x);f.x<e&&(e=f.x);f.y>h&&(h=f.y);f.y<
c&&(c=f.y)}d.x=e;d.y=c;d.width=b-e;d.height=h-c;return d}},26152:(r,p,a)=>{var m=a(2141);r.exports=function(g,d,b,e){void 0===b&&(b=0);void 0===e&&(e=new m);e.x=g.x+(d.x-g.x)*b;e.y=g.y+(d.y-g.y)*b;return e}},55767:r=>{r.exports=function(p){return p.setTo(p.y,p.x)}},79432:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);return d.setTo(-g.x,-g.y)}},2141:(r,p,a)=>{p=a(83419);var m=a(23777);a=new p({initialize:function(g,d){void 0===g&&(g=0);void 0===d&&(d=g);this.type=m.POINT;this.x=
g;this.y=d},setTo:function(g,d){void 0===g&&(g=0);void 0===d&&(d=g);this.x=g;this.y=d;return this}});r.exports=a},72930:(r,p,a)=>{var m=a(2141),g=a(44405);r.exports=function(d,b,e){void 0===e&&(e=new m);d=(d.x*b.x+d.y*b.y)/g(b);0!==d&&(e.x=d*b.x,e.y=d*b.y);return e}},62880:(r,p,a)=>{var m=a(2141);r.exports=function(g,d,b){void 0===b&&(b=new m);g=g.x*d.x+g.y*d.y;0!==g&&(b.x=g*d.x,b.y=g*d.y);return b}},15093:(r,p,a)=>{var m=a(28793);r.exports=function(g,d){if(0!==g.x||0!==g.y){var b=m(g);g.x/=b;g.y/=
b}g.x*=d;g.y*=d;return g}},43711:(r,p,a)=>{p=a(2141);p.Ceil=a(96550);p.Clone=a(99706);p.CopyFrom=a(68010);p.Equals=a(27814);p.Floor=a(73565);p.GetCentroid=a(87555);p.GetMagnitude=a(28793);p.GetMagnitudeSq=a(44405);p.GetRectangleFromPoints=a(20873);p.Interpolate=a(26152);p.Invert=a(55767);p.Negative=a(79432);p.Project=a(72930);p.ProjectUnit=a(62880);p.SetMagnitude=a(15093);r.exports=p},12306:(r,p,a)=>{var m=a(25717);r.exports=function(g){return new m(g.points)}},63814:r=>{r.exports=function(p,a,m){for(var g=
!1,d=-1,b=p.points.length-1;++d<p.points.length;b=d){var e=p.points[d].x,h=p.points[d].y,c=p.points[b].x;b=p.points[b].y;(h<=m&&m<b||b<=m&&m<h)&&a<(c-e)*(m-h)/(b-h)+e&&(g=!g)}return g}},99338:(r,p,a)=>{var m=a(63814);r.exports=function(g,d){return m(g,d.x,d.y)}},94811:r=>{function p(y,z,C){C=C||2;var A=z&&z.length,B=A?z[0]*C:y.length,E=a(y,0,B,C,!0),G=[];if(!E||E.next===E.prev)return G;var I;if(A){var H=E;var K=C;E=[];var L;A=0;for(L=z.length;A<L;A++){var M=z[A]*K;var P=A<L-1?z[A+1]*K:y.length;M=
a(y,M,P,K,!1);M===M.next&&(M.steiner=!0);P=E;var D=P.push,F=M,J=M;do{if(F.x<J.x||F.x===J.x&&F.y<J.y)J=F;F=F.next}while(F!==M);D.call(P,J)}E.sort(b);for(A=0;A<E.length;A++){K=void 0;z=E[A];b:{L=H;M=z.x;P=z.y;D=-Infinity;do{if(P<=L.y&&P>=L.next.y&&L.next.y!==L.y&&(F=L.x+(P-L.y)*(L.next.x-L.x)/(L.next.y-L.y),F<=M&&F>D&&(D=F,K=L.x<L.next.x?L:L.next,F===M)))break b;L=L.next}while(L!==H);if(K){J=K;var N=K.x,O=K.y,R=Infinity;L=K;do{if(M>=L.x&&L.x>=N&&M!==L.x&&h(P<O?M:D,P,N,O,P<O?D:M,P,L.x,L.y)){F=Math.abs(P-
L.y)/(M-L.x);var Q;if((Q=q(L,z))&&!(Q=F<R)&&(Q=F===R)&&!(Q=L.x>K.x)&&(Q=L.x===K.x)){Q=K;var S=L;Q=0>c(Q.prev,Q,S.prev)&&0>c(S.next,Q,Q.next)}Q&&(K=L,R=F)}L=L.next}while(L!==J)}else K=null}K&&(z=t(K,z),m(z,z.next),H=m(K,K.next))}E=H}if(y.length>80*C){var T=I=y[0];var U=A=y[1];for(H=C;H<B;H+=C)z=y[H],K=y[H+1],z<T&&(T=z),K<U&&(U=K),z>I&&(I=z),K>A&&(A=K);I=Math.max(I-T,A-U);I=0!==I?32767/I:0}g(E,G,C,T,U,I,0);return G}function a(y,z,C,A,B){if(B===0<w(y,z,C,A))for(B=z;B<C;B+=A)var E=v(B,y[B],y[B+1],E);
else for(B=C-A;B>=z;B-=A)E=v(B,y[B],y[B+1],E);E&&l(E,E.next)&&(u(E),E=E.next);return E}function m(y,z){if(!y)return y;z||(z=y);do{var C=!1;if(y.steiner||!l(y,y.next)&&0!==c(y.prev,y,y.next))y=y.next;else{u(y);y=z=y.prev;if(y===y.next)break;C=!0}}while(C||y!==z);return z}function g(y,z,C,A,B,E,G){if(y){if(!G&&E){var I=y,H=I;do 0===H.z&&(H.z=e(H.x,H.y,A,B,E)),H.prevZ=H.prev,H=H.nextZ=H.next;while(H!==I);H.prevZ.nextZ=null;H.prevZ=null;I=H;var K,L,M,P,D=1;do{H=I;var F=I=null;for(L=0;H;){L++;var J=H;
for(K=M=0;K<D&&(M++,J=J.nextZ,J);K++);for(P=D;0<M||0<P&&J;)0!==M&&(0===P||!J||H.z<=J.z)?(K=H,H=H.nextZ,M--):(K=J,J=J.nextZ,P--),F?F.nextZ=K:I=K,K.prevZ=F,F=K;H=J}F.nextZ=null;D*=2}while(1<L)}for(I=y;y.prev!==y.next;){H=y.prev;J=y.next;if(E)F=d(y,A,B,E);else a:{F=y.prev;var N=y;P=y.next;if(0<=c(F,N,P))F=!1;else{L=F.x;M=N.x;D=P.x;K=F.y;N=N.y;var O=P.y,R=L<M?L<D?L:D:M<D?M:D,Q=K<N?K<O?K:O:N<O?N:O,S=L>M?L>D?L:D:M>D?M:D,T=K>N?K>O?K:O:N>O?N:O;for(P=P.next;P!==F;){if(P.x>=R&&P.x<=S&&P.y>=Q&&P.y<=T&&h(L,K,
M,N,D,O,P.x,P.y)&&0<=c(P.prev,P,P.next)){F=!1;break a}P=P.next}F=!0}}if(F)z.push(H.i/C|0),z.push(y.i/C|0),z.push(J.i/C|0),u(y),I=y=J.next;else if(y=J,y===I){if(!G)g(m(y),z,C,A,B,E,1);else if(1===G){y=m(y);G=z;I=C;H=y;do J=H.prev,F=H.next.next,!l(J,F)&&f(J,H,H.next,F)&&q(J,F)&&q(F,J)&&(G.push(J.i/I|0),G.push(H.i/I|0),G.push(F.i/I|0),u(H),u(H.next),H=y=F),H=H.next;while(H!==y);y=m(H);g(y,z,C,A,B,E,2)}else if(2===G)a:{G=y;do{for(I=G.next.next;I!==G.prev;){if(H=G.i!==I.i){H=G;J=I;if(F=H.next.i!==J.i&&
H.prev.i!==J.i){b:{F=H;do{if(F.i!==H.i&&F.next.i!==H.i&&F.i!==J.i&&F.next.i!==J.i&&f(F,F.next,H,J)){F=!0;break b}F=F.next}while(F!==H);F=!1}F=!F}if(F){if(F=q(H,J)&&q(J,H)){F=H;L=!1;M=(H.x+J.x)/2;D=(H.y+J.y)/2;do F.y>D!==F.next.y>D&&F.next.y!==F.y&&M<(F.next.x-F.x)*(D-F.y)/(F.next.y-F.y)+F.x&&(L=!L),F=F.next;while(F!==H);F=L}F=F&&(c(H.prev,H,J.prev)||c(H,J.prev,J))||l(H,J)&&0<c(H.prev,H,H.next)&&0<c(J.prev,J,J.next)}H=F}if(H){y=t(G,I);G=m(G,G.next);y=m(y,y.next);g(G,z,C,A,B,E,0);g(y,z,C,A,B,E,0);break a}I=
I.next}G=G.next}while(G!==y)}break}}}}function d(y,z,C,A){var B=y.prev,E=y.next;if(0<=c(B,y,E))return!1;var G=B.x,I=y.x,H=E.x,K=B.y,L=y.y,M=E.y,P=G<I?G<H?G:H:I<H?I:H,D=K<L?K<M?K:M:L<M?L:M,F=G>I?G>H?G:H:I>H?I:H,J=K>L?K>M?K:M:L>M?L:M,N=e(P,D,z,C,A);z=e(F,J,z,C,A);C=y.prevZ;for(y=y.nextZ;C&&C.z>=N&&y&&y.z<=z;){if(C.x>=P&&C.x<=F&&C.y>=D&&C.y<=J&&C!==B&&C!==E&&h(G,K,I,L,H,M,C.x,C.y)&&0<=c(C.prev,C,C.next))return!1;C=C.prevZ;if(y.x>=P&&y.x<=F&&y.y>=D&&y.y<=J&&y!==B&&y!==E&&h(G,K,I,L,H,M,y.x,y.y)&&0<=c(y.prev,
y,y.next))return!1;y=y.nextZ}for(;C&&C.z>=N;){if(C.x>=P&&C.x<=F&&C.y>=D&&C.y<=J&&C!==B&&C!==E&&h(G,K,I,L,H,M,C.x,C.y)&&0<=c(C.prev,C,C.next))return!1;C=C.prevZ}for(;y&&y.z<=z;){if(y.x>=P&&y.x<=F&&y.y>=D&&y.y<=J&&y!==B&&y!==E&&h(G,K,I,L,H,M,y.x,y.y)&&0<=c(y.prev,y,y.next))return!1;y=y.nextZ}return!0}function b(y,z){return y.x-z.x}function e(y,z,C,A,B){y=(y-C)*B|0;z=(z-A)*B|0;y=(y|y<<8)&16711935;y=(y|y<<4)&252645135;y=(y|y<<2)&858993459;z=(z|z<<8)&16711935;z=(z|z<<4)&252645135;z=(z|z<<2)&858993459;
return(y|y<<1)&1431655765|((z|z<<1)&1431655765)<<1}function h(y,z,C,A,B,E,G,I){return(B-G)*(z-I)>=(y-G)*(E-I)&&(y-G)*(A-I)>=(C-G)*(z-I)&&(C-G)*(E-I)>=(B-G)*(A-I)}function c(y,z,C){return(z.y-y.y)*(C.x-z.x)-(z.x-y.x)*(C.y-z.y)}function l(y,z){return y.x===z.x&&y.y===z.y}function f(y,z,C,A){var B=n(c(y,z,C)),E=n(c(y,z,A)),G=n(c(C,A,y)),I=n(c(C,A,z));return B!==E&&G!==I||0===B&&k(y,C,z)||0===E&&k(y,A,z)||0===G&&k(C,y,A)||0===I&&k(C,z,A)?!0:!1}function k(y,z,C){return z.x<=Math.max(y.x,C.x)&&z.x>=Math.min(y.x,
C.x)&&z.y<=Math.max(y.y,C.y)&&z.y>=Math.min(y.y,C.y)}function n(y){return 0<y?1:0>y?-1:0}function q(y,z){return 0>c(y.prev,y,y.next)?0<=c(y,z,y.next)&&0<=c(y,y.prev,z):0>c(y,z,y.prev)||0>c(y,y.next,z)}function t(y,z){var C=new x(y.i,y.x,y.y),A=new x(z.i,z.x,z.y),B=y.next,E=z.prev;y.next=z;z.prev=y;C.next=B;B.prev=C;A.next=C;C.prev=A;E.next=A;A.prev=E;return A}function v(y,z,C,A){y=new x(y,z,C);A?(y.next=A.next,y.prev=A,A.next.prev=y,A.next=y):(y.prev=y,y.next=y);return y}function u(y){y.next.prev=
y.prev;y.prev.next=y.next;y.prevZ&&(y.prevZ.nextZ=y.nextZ);y.nextZ&&(y.nextZ.prevZ=y.prevZ)}function x(y,z,C){this.i=y;this.x=z;this.y=C;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=null;this.steiner=!1}function w(y,z,C,A){for(var B=0,E=C-A;z<C;z+=A)B+=(y[E]-y[z])*(y[z+1]+y[E+1]),E=z;return B}p.deviation=function(y,z,C,A){var B=z&&z.length,E=Math.abs(w(y,0,B?z[0]*C:y.length,C));if(B){B=0;for(var G=z.length;B<G;B++)E-=Math.abs(w(y,z[B]*C,B<G-1?z[B+1]*C:y.length,C))}for(B=z=0;B<A.length;B+=
3){G=A[B]*C;var I=A[B+1]*C,H=A[B+2]*C;z+=Math.abs((y[G]-y[H])*(y[I+1]-y[G+1])-(y[G]-y[I])*(y[H+1]-y[G+1]))}return 0===E&&0===z?0:Math.abs((z-E)/E)};p.flatten=function(y){for(var z=y[0][0].length,C={vertices:[],holes:[],dimensions:z},A=0,B=0;B<y.length;B++){for(var E=0;E<y[B].length;E++)for(var G=0;G<z;G++)C.vertices.push(y[B][E][G]);0<B&&(A+=y[B-1].length,C.holes.push(A))}return C};r.exports=p},13829:(r,p,a)=>{var m=a(87841);r.exports=function(g,d){void 0===d&&(d=new m);for(var b=Infinity,e=Infinity,
h=-b,c=-e,l,f=0;f<g.points.length;f++)l=g.points[f],b=Math.min(b,l.x),e=Math.min(e,l.y),h=Math.max(h,l.x),c=Math.max(c,l.y);d.x=b;d.y=e;d.width=h-b;d.height=c-e;return d}},26173:r=>{r.exports=function(p,a){void 0===a&&(a=[]);for(var m=0;m<p.points.length;m++)a.push(p.points[m].x),a.push(p.points[m].y);return a}},9564:(r,p,a)=>{var m=a(35001),g=a(23031),d=a(30052);r.exports=function(b,e,h,c){void 0===c&&(c=[]);var l=b.points;b=d(b);!e&&0<h&&(e=b/h);for(h=0;h<e;h++)for(var f=h/e*b,k=0,n=0;n<l.length;n++){var q=
l[n],t=l[(n+1)%l.length];q=new g(q.x,q.y,t.x,t.y);t=m(q);if(f<k||f>k+t)k+=t;else{f=q.getPoint((f-k)/t);c.push(f);break}}return c}},30052:(r,p,a)=>{var m=a(35001),g=a(23031);r.exports=function(d){d=d.points;for(var b=0,e=0;e<d.length;e++){var h=d[e],c=d[(e+1)%d.length];h=new g(h.x,h.y,c.x,c.y);b+=m(h)}return b}},25717:(r,p,a)=>{p=a(83419);var m=a(63814),g=a(9564),d=a(23777);a=new p({initialize:function(b){this.type=d.POLYGON;this.area=0;this.points=[];b&&this.setTo(b)},contains:function(b,e){return m(this,
b,e)},setTo:function(b){this.area=0;this.points=[];"string"===typeof b&&(b=b.split(" "));if(!Array.isArray(b))return this;for(var e,h=0;h<b.length;h++)e={x:0,y:0},"number"===typeof b[h]||"string"===typeof b[h]?(e.x=parseFloat(b[h]),e.y=parseFloat(b[h+1]),h++):Array.isArray(b[h])?(e.x=b[h][0],e.y=b[h][1]):(e.x=b[h].x,e.y=b[h].y),this.points.push(e);this.calculateArea();return this},calculateArea:function(){if(3>this.points.length)return this.area=0;for(var b=0,e,h,c=0;c<this.points.length-1;c++)e=
this.points[c],h=this.points[c+1],b+=(h.x-e.x)*(e.y+h.y);e=this.points[0];h=this.points[this.points.length-1];b+=(e.x-h.x)*(h.y+e.y);return this.area=.5*-b},getPoints:function(b,e,h){return g(this,b,e,h)}});r.exports=a},8133:r=>{r.exports=function(p){p.points.reverse();return p}},29524:r=>{function p(a,m,g,d,b){for(var e=d,h,c=m+1;c<g;c++){var l=a[c];var f=a[m],k=a[g],n=f.x;f=f.y;var q=k.x-n,t=k.y-f;if(0!==q||0!==t){var v=((l.x-n)*q+(l.y-f)*t)/(q*q+t*t);1<v?(n=k.x,f=k.y):0<v&&(n+=q*v,f+=t*v)}q=l.x-
n;t=l.y-f;l=q*q+t*t;l>e&&(h=c,e=l)}e>d&&(1<h-m&&p(a,m,h,d,b),b.push(a[h]),1<g-h&&p(a,h,g,d,b))}r.exports=function(a,m,g){void 0===m&&(m=1);void 0===g&&(g=!1);var d=a.points;if(2<d.length){m*=m;if(!g){g=d[0];for(var b=[g],e,h=1,c=d.length;h<c;h++){e=d[h];var l=e.x-g.x,f=e.y-g.y;l*l+f*f>m&&(b.push(e),g=e)}g!==e&&b.push(e);d=b}e=a.setTo;g=d.length-1;b=[d[0]];p(d,0,g,m,b);b.push(d[g]);e.call(a,b)}return a}},5469:r=>{var p=function(a,m){a[0]=m[0];a[1]=m[1];return a};r.exports=function(a){var m,g=[],d=
a.points;for(m=0;m<d.length;m++)g.push([d[m].x,d[m].y]);d=[];0<g.length&&d.push(p([0,0],g[0]));for(m=0;m<g.length-1;m++){var b=g[m],e=g[m+1],h=b[0];b=b[1];var c=e[0];e=e[1];d.push([.85*h+.15*c,.85*b+.15*e]);d.push([.15*h+.85*c,.15*b+.85*e])}1<g.length&&d.push(p([0,0],g[g.length-1]));return a.setTo(d)}},24709:r=>{r.exports=function(p,a,m){for(var g=p.points,d=0;d<g.length;d++)g[d].x+=a,g[d].y+=m;return p}},58423:(r,p,a)=>{p=a(25717);p.Clone=a(12306);p.Contains=a(63814);p.ContainsPoint=a(99338);p.Earcut=
a(94811);p.GetAABB=a(13829);p.GetNumberArray=a(26173);p.GetPoints=a(9564);p.Perimeter=a(30052);p.Reverse=a(8133);p.Simplify=a(29524);p.Smooth=a(5469);p.Translate=a(24709);r.exports=p},62224:r=>{r.exports=function(p){return p.width*p.height}},98615:r=>{r.exports=function(p){p.x=Math.ceil(p.x);p.y=Math.ceil(p.y);return p}},31688:r=>{r.exports=function(p){p.x=Math.ceil(p.x);p.y=Math.ceil(p.y);p.width=Math.ceil(p.width);p.height=Math.ceil(p.height);return p}},67502:r=>{r.exports=function(p,a,m){p.x=a-
p.width/2;p.y=m-p.height/2;return p}},65085:(r,p,a)=>{var m=a(87841);r.exports=function(g){return new m(g.x,g.y,g.width,g.height)}},37303:r=>{r.exports=function(p,a,m){return 0>=p.width||0>=p.height?!1:p.x<=a&&p.x+p.width>=a&&p.y<=m&&p.y+p.height>=m}},96553:(r,p,a)=>{var m=a(37303);r.exports=function(g,d){return m(g,d.x,d.y)}},70273:r=>{r.exports=function(p,a){return a.width*a.height>p.width*p.height?!1:a.x>p.x&&a.x<p.right&&a.right>p.x&&a.right<p.right&&a.y>p.y&&a.y<p.bottom&&a.bottom>p.y&&a.bottom<
p.bottom}},43459:r=>{r.exports=function(p,a){return a.setTo(p.x,p.y,p.width,p.height)}},77493:r=>{r.exports=function(p,a){void 0===a&&(a=[]);a.push({x:p.x,y:p.y});a.push({x:p.right,y:p.y});a.push({x:p.right,y:p.bottom});a.push({x:p.x,y:p.bottom});return a}},9219:r=>{r.exports=function(p,a){return p.x===a.x&&p.y===a.y&&p.width===a.width&&p.height===a.height}},53751:(r,p,a)=>{var m=a(8249);r.exports=function(g,d){var b=m(g);b<m(d)?g.setSize(d.height*b,d.height):g.setSize(d.width,d.width/b);return g.setPosition(d.centerX-
g.width/2,d.centerY-g.height/2)}},16088:(r,p,a)=>{var m=a(8249);r.exports=function(g,d){var b=m(g);b>m(d)?g.setSize(d.height*b,d.height):g.setSize(d.width,d.width/b);return g.setPosition(d.centerX-g.width/2,d.centerY-g.height/2)}},80774:r=>{r.exports=function(p){p.x=Math.floor(p.x);p.y=Math.floor(p.y);return p}},83859:r=>{r.exports=function(p){p.x=Math.floor(p.x);p.y=Math.floor(p.y);p.width=Math.floor(p.width);p.height=Math.floor(p.height);return p}},19217:(r,p,a)=>{var m=a(87841),g=a(36383);r.exports=
function(d,b){void 0===b&&(b=new m);if(0===d.length)return b;for(var e=Number.MAX_VALUE,h=Number.MAX_VALUE,c=g.MIN_SAFE_INTEGER,l=g.MIN_SAFE_INTEGER,f,k,n=0;n<d.length;n++)f=d[n],Array.isArray(f)?(k=f[0],f=f[1]):(k=f.x,f=f.y),e=Math.min(e,k),h=Math.min(h,f),c=Math.max(c,k),l=Math.max(l,f);b.x=e;b.y=h;b.width=c-e;b.height=l-h;return b}},9477:(r,p,a)=>{var m=a(87841);r.exports=function(g,d,b,e,h){void 0===h&&(h=new m);return h.setTo(Math.min(g,b),Math.min(d,e),Math.abs(g-b),Math.abs(d-e))}},8249:r=>
{r.exports=function(p){return 0===p.height?NaN:p.width/p.height}},27165:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);d.x=g.centerX;d.y=g.centerY;return d}},20812:(r,p,a)=>{var m=a(13019),g=a(2141);r.exports=function(d,b,e){void 0===e&&(e=new g);if(0>=b||1<=b)return e.x=d.x,e.y=d.y,e;var h=m(d)*b;.5<b?(h-=d.width+d.height,h<=d.width?(e.x=d.right-h,e.y=d.bottom):(e.x=d.x,e.y=d.bottom-(h-d.width))):h<=d.width?(e.x=d.x+h,e.y=d.y):(e.x=d.right,e.y=d.y+(h-d.width));return e}},34819:(r,
p,a)=>{var m=a(20812),g=a(13019);r.exports=function(d,b,e,h){void 0===h&&(h=[]);!b&&0<e&&(b=g(d)/e);for(e=0;e<b;e++)h.push(m(d,e/b));return h}},51313:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);d.x=g.width;d.y=g.height;return d}},86091:(r,p,a)=>{var m=a(67502);r.exports=function(g,d,b){var e=g.centerX,h=g.centerY;g.setSize(g.width+2*d,g.height+2*b);return m(g,e,h)}},53951:(r,p,a)=>{var m=a(87841),g=a(59996);r.exports=function(d,b,e){void 0===e&&(e=new m);g(d,b)?(e.x=Math.max(d.x,
b.x),e.y=Math.max(d.y,b.y),e.width=Math.min(d.right,b.right)-e.x,e.height=Math.min(d.bottom,b.bottom)-e.y):e.setEmpty();return e}},14649:(r,p,a)=>{var m=a(13019),g=a(2141);r.exports=function(d,b,e,h){void 0===h&&(h=[]);if(!b&&!e)return h;b?e=Math.round(m(d)/b):b=m(d)/e;for(var c=d.x,l=d.y,f=0,k=0;k<e;k++)switch(h.push(new g(c,l)),f){case 0:c+=b;c>=d.right&&(f=1,l+=c-d.right,c=d.right);break;case 1:l+=b;l>=d.bottom&&(f=2,c-=l-d.bottom,l=d.bottom);break;case 2:c-=b;c<=d.left&&(f=3,l-=d.left-c,c=d.left);
break;case 3:l-=b,l<=d.top&&(f=0,l=d.top)}return h}},33595:r=>{r.exports=function(p,a){for(var m=p.x,g=p.right,d=p.y,b=p.bottom,e=0;e<a.length;e++)m=Math.min(m,a[e].x),g=Math.max(g,a[e].x),d=Math.min(d,a[e].y),b=Math.max(b,a[e].y);p.x=m;p.y=d;p.width=g-m;p.height=b-d;return p}},20074:r=>{r.exports=function(p,a){var m=Math.min(p.x,a.x),g=Math.max(p.right,a.right);p.x=m;p.width=g-m;m=Math.min(p.y,a.y);a=Math.max(p.bottom,a.bottom);p.y=m;p.height=a-m;return p}},92171:r=>{r.exports=function(p,a,m){var g=
Math.min(p.x,a);a=Math.max(p.right,a);p.x=g;p.width=a-g;g=Math.min(p.y,m);m=Math.max(p.bottom,m);p.y=g;p.height=m-g;return p}},42981:r=>{r.exports=function(p,a,m){p.x+=a;p.y+=m;return p}},46907:r=>{r.exports=function(p,a){p.x+=a.x;p.y+=a.y;return p}},60170:r=>{r.exports=function(p,a){return p.x<a.right&&p.right>a.x&&p.y<a.bottom&&p.bottom>a.y}},13019:r=>{r.exports=function(p){return 2*(p.width+p.height)}},85133:(r,p,a)=>{var m=a(2141),g=a(39506);r.exports=function(d,b,e){void 0===e&&(e=new m);b=g(b);
var h=Math.sin(b);b=Math.cos(b);var c=0<b?d.width/2:d.width/-2,l=0<h?d.height/2:d.height/-2;Math.abs(c*h)<Math.abs(l*b)?l=c*h/b:c=l*b/h;e.x=c+d.centerX;e.y=l+d.centerY;return e}},26597:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);d.x=g.x+Math.random()*g.width;d.y=g.y+Math.random()*g.height;return d}},86470:(r,p,a)=>{var m=a(30976),g=a(70273),d=a(2141);r.exports=function(b,e,h){void 0===h&&(h=new d);if(g(b,e))switch(m(0,3)){case 0:h.x=b.x+Math.random()*(e.right-b.x);h.y=b.y+
Math.random()*(e.top-b.y);break;case 1:h.x=e.x+Math.random()*(b.right-e.x);h.y=e.bottom+Math.random()*(b.bottom-e.bottom);break;case 2:h.x=b.x+Math.random()*(e.x-b.x);h.y=e.y+Math.random()*(b.bottom-e.y);break;case 3:h.x=e.right+Math.random()*(b.right-e.right),h.y=b.y+Math.random()*(e.bottom-b.y)}return h}},87841:(r,p,a)=>{p=a(83419);var m=a(37303),g=a(20812),d=a(34819),b=a(23777),e=a(23031),h=a(26597);a=new p({initialize:function(c,l,f,k){void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=0);void 0===
k&&(k=0);this.type=b.RECTANGLE;this.x=c;this.y=l;this.width=f;this.height=k},contains:function(c,l){return m(this,c,l)},getPoint:function(c,l){return g(this,c,l)},getPoints:function(c,l,f){return d(this,c,l,f)},getRandomPoint:function(c){return h(this,c)},setTo:function(c,l,f,k){this.x=c;this.y=l;this.width=f;this.height=k;return this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(c,l){void 0===l&&(l=c);this.x=c;this.y=l;return this},setSize:function(c,l){void 0===l&&(l=c);
this.width=c;this.height=l;return this},isEmpty:function(){return 0>=this.width||0>=this.height},getLineA:function(c){void 0===c&&(c=new e);c.setTo(this.x,this.y,this.right,this.y);return c},getLineB:function(c){void 0===c&&(c=new e);c.setTo(this.right,this.y,this.right,this.bottom);return c},getLineC:function(c){void 0===c&&(c=new e);c.setTo(this.right,this.bottom,this.x,this.bottom);return c},getLineD:function(c){void 0===c&&(c=new e);c.setTo(this.x,this.bottom,this.x,this.y);return c},left:{get:function(){return this.x},
set:function(c){this.width=c>=this.right?0:this.right-c;this.x=c}},right:{get:function(){return this.x+this.width},set:function(c){this.width=c<=this.x?0:c-this.x}},top:{get:function(){return this.y},set:function(c){this.height=c>=this.bottom?0:this.bottom-c;this.y=c}},bottom:{get:function(){return this.y+this.height},set:function(c){this.height=c<=this.y?0:c-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},centerY:{get:function(){return this.y+
this.height/2},set:function(c){this.y=c-this.height/2}}});r.exports=a},94845:r=>{r.exports=function(p,a){return p.width===a.width&&p.height===a.height}},31730:r=>{r.exports=function(p,a,m){void 0===m&&(m=a);p.width*=a;p.height*=m;return p}},36899:(r,p,a)=>{var m=a(87841);r.exports=function(g,d,b){void 0===b&&(b=new m);var e=Math.min(g.x,d.x),h=Math.min(g.y,d.y);return b.setTo(e,h,Math.max(g.right,d.right)-e,Math.max(g.bottom,d.bottom)-h)}},93232:(r,p,a)=>{p=a(87841);p.Area=a(62224);p.Ceil=a(98615);
p.CeilAll=a(31688);p.CenterOn=a(67502);p.Clone=a(65085);p.Contains=a(37303);p.ContainsPoint=a(96553);p.ContainsRect=a(70273);p.CopyFrom=a(43459);p.Decompose=a(77493);p.Equals=a(9219);p.FitInside=a(53751);p.FitOutside=a(16088);p.Floor=a(80774);p.FloorAll=a(83859);p.FromPoints=a(19217);p.FromXY=a(9477);p.GetAspectRatio=a(8249);p.GetCenter=a(27165);p.GetPoint=a(20812);p.GetPoints=a(34819);p.GetSize=a(51313);p.Inflate=a(86091);p.Intersection=a(53951);p.MarchingAnts=a(14649);p.MergePoints=a(33595);p.MergeRect=
a(20074);p.MergeXY=a(92171);p.Offset=a(42981);p.OffsetPoint=a(46907);p.Overlaps=a(60170);p.Perimeter=a(13019);p.PerimeterPoint=a(85133);p.Random=a(26597);p.RandomOutside=a(86470);p.SameDimensions=a(94845);p.Scale=a(31730);p.Union=a(36899);r.exports=p},41658:r=>{r.exports=function(p){var a=p.x1,m=p.y1;return Math.abs(((p.x3-a)*(p.y2-m)-(p.x2-a)*(p.y3-m))/2)}},39208:(r,p,a)=>{var m=a(16483);r.exports=function(g,d,b){var e=Math.sqrt(3)/2*b;return new m(g,d,g+b/2,d+e,g-b/2,d+e)}},39545:(r,p,a)=>{var m=
a(94811),g=a(16483);r.exports=function(d,b,e,h,c){void 0===b&&(b=null);void 0===e&&(e=1);void 0===h&&(h=1);void 0===c&&(c=[]);b=m(d,b);for(var l,f,k,n,q,t,v=0;v<b.length;v+=3)l=b[v],f=b[v+1],k=b[v+2],n=d[2*l]*e,l=d[2*l+1]*h,q=d[2*f]*e,f=d[2*f+1]*h,t=d[2*k]*e,k=d[2*k+1]*h,c.push(new g(n,l,q,f,t,k));return c}},90301:(r,p,a)=>{var m=a(16483);r.exports=function(g,d,b,e){void 0===e&&(e=b);return new m(g,d,g,d-e,g+b,d)}},23707:(r,p,a)=>{var m=a(97523),g=a(13584);r.exports=function(d,b,e,h){void 0===h&&
(h=m);h=h(d);return g(d,b-h.x,e-h.y)}},97523:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);d.x=(g.x1+g.x2+g.x3)/3;d.y=(g.y1+g.y2+g.y3)/3;return d}},24951:(r,p,a)=>{var m=a(26099);r.exports=function(g,d){void 0===d&&(d=new m);var b=g.x3,e=g.y3,h=g.x1-b,c=g.y1-e,l=g.x2-b;g=g.y2-e;var f=2*(h*g-c*l);d.x=b-(c*(l*l+g*g)-(h*h+c*c)*g)/f;d.y=e+(h*(l*l+g*g)-(h*h+c*c)*l)/f;return d}},85614:(r,p,a)=>{var m=a(96503);r.exports=function(g,d){void 0===d&&(d=new m);var b=g.x1,e=g.y1,h=g.x2,
c=g.y2,l=g.x3;g=g.y3;var f=h-b,k=c-e,n=l-b,q=g-e,t=f*(b+h)+k*(e+c),v=n*(b+l)+q*(e+g),u=2*(f*(g-c)-k*(l-h));1E-6>Math.abs(u)?(f=Math.min(b,h,l),k=Math.min(e,c,g),b=.5*(Math.max(b,h,l)-f),e=.5*(Math.max(e,c,g)-k),d.x=f+b,d.y=k+e):(d.x=(q*t-k*v)/u,d.y=(f*v-n*t)/u,b=d.x-b,e=d.y-e);d.radius=Math.sqrt(b*b+e*e);return d}},74422:(r,p,a)=>{var m=a(16483);r.exports=function(g){return new m(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)}},10690:r=>{r.exports=function(p,a,m){var g=p.x3-p.x1,d=p.y3-p.y1,b=p.x2-p.x1,e=p.y2-p.y1;
a-=p.x1;var h=m-p.y1;p=g*g+d*d;m=g*b+d*e;g=g*a+d*h;d=b*b+e*e;b=b*a+e*h;e=p*d-m*m;e=0===e?0:1/e;a=(d*g-m*b)*e;p=(p*b-m*g)*e;return 0<=a&&0<=p&&1>a+p}},48653:r=>{r.exports=function(p,a,m,g){void 0===m&&(m=!1);void 0===g&&(g=[]);var d=p.x3-p.x1,b=p.y3-p.y1,e=p.x2-p.x1,h=p.y2-p.y1,c=d*d+b*b,l=d*e+b*h,f=e*e+h*h,k=c*f-l*l;k=0===k?0:1/k;var n=p.x1;p=p.y1;for(var q=0;q<a.length;q++){var t=a[q].x-n;var v=a[q].y-p;var u=d*t+b*v;v=e*t+h*v;t=(f*u-l*v)*k;u=(c*v-l*u)*k;if(0<=t&&0<=u&&1>t+u&&(g.push({x:a[q].x,y:a[q].y}),
m))break}return g}},96006:(r,p,a)=>{var m=a(10690);r.exports=function(g,d){return m(g,d.x,d.y)}},71326:r=>{r.exports=function(p,a){return a.setTo(p.x1,p.y1,p.x2,p.y2,p.x3,p.y3)}},71694:r=>{r.exports=function(p,a){void 0===a&&(a=[]);a.push({x:p.x1,y:p.y1});a.push({x:p.x2,y:p.y2});a.push({x:p.x3,y:p.y3});return a}},33522:r=>{r.exports=function(p,a){return p.x1===a.x1&&p.y1===a.y1&&p.x2===a.x2&&p.y2===a.y2&&p.x3===a.x3&&p.y3===a.y3}},20437:(r,p,a)=>{var m=a(2141),g=a(35001);r.exports=function(d,b,e){void 0===
e&&(e=new m);var h=d.getLineA(),c=d.getLineB();d=d.getLineC();if(0>=b||1<=b)return e.x=h.x1,e.y=h.y1,e;var l=g(h),f=g(c),k=g(d);b*=l+f+k;b<l?(b/=l,e.x=h.x1+(h.x2-h.x1)*b,e.y=h.y1+(h.y2-h.y1)*b):b>l+f?(b=(b-(l+f))/k,e.x=d.x1+(d.x2-d.x1)*b,e.y=d.y1+(d.y2-d.y1)*b):(b=(b-l)/f,e.x=c.x1+(c.x2-c.x1)*b,e.y=c.y1+(c.y2-c.y1)*b);return e}},80672:(r,p,a)=>{var m=a(35001),g=a(2141);r.exports=function(d,b,e,h){void 0===h&&(h=[]);var c=d.getLineA(),l=d.getLineB();d=d.getLineC();var f=m(c),k=m(l),n=m(d),q=f+k+n;
!b&&0<e&&(b=q/e);for(e=0;e<b;e++){var t=e/b*q,v=new g;t<f?(t/=f,v.x=c.x1+(c.x2-c.x1)*t,v.y=c.y1+(c.y2-c.y1)*t):t>f+k?(t-=f+k,t/=n,v.x=d.x1+(d.x2-d.x1)*t,v.y=d.y1+(d.y2-d.y1)*t):(t-=f,t/=k,v.x=l.x1+(l.x2-l.x1)*t,v.y=l.y1+(l.y2-l.y1)*t);h.push(v)}return h}},39757:(r,p,a)=>{function m(d,b,e,h){d-=e;b-=h;return Math.sqrt(d*d+b*b)}var g=a(2141);r.exports=function(d,b){void 0===b&&(b=new g);var e=d.x1,h=d.y1,c=d.x2,l=d.y2,f=d.x3;d=d.y3;var k=m(f,d,c,l),n=m(e,h,f,d),q=m(c,l,e,h),t=k+n+q;b.x=(e*k+c*n+f*q)/
t;b.y=(h*k+l*n+d*q)/t;return b}},13584:r=>{r.exports=function(p,a,m){p.x1+=a;p.y1+=m;p.x2+=a;p.y2+=m;p.x3+=a;p.y3+=m;return p}},1376:(r,p,a)=>{var m=a(35001);r.exports=function(g){var d=g.getLineA(),b=g.getLineB();g=g.getLineC();return m(d)+m(b)+m(g)}},90260:(r,p,a)=>{var m=a(2141);r.exports=function(g,d){void 0===d&&(d=new m);var b=g.x2-g.x1,e=g.y2-g.y1,h=g.x3-g.x1,c=g.y3-g.y1,l=Math.random(),f=Math.random();1<=l+f&&(l=1-l,f=1-f);d.x=g.x1+(b*l+h*f);d.y=g.y1+(e*l+c*f);return d}},52172:(r,p,a)=>{var m=
a(99614),g=a(39757);r.exports=function(d,b){var e=g(d);return m(d,e.x,e.y,b)}},49907:(r,p,a)=>{var m=a(99614);r.exports=function(g,d,b){return m(g,d.x,d.y,b)}},99614:r=>{r.exports=function(p,a,m,g){var d=Math.cos(g);g=Math.sin(g);var b=p.x1-a,e=p.y1-m;p.x1=b*d-e*g+a;p.y1=b*g+e*d+m;b=p.x2-a;e=p.y2-m;p.x2=b*d-e*g+a;p.y2=b*g+e*d+m;b=p.x3-a;e=p.y3-m;p.x3=b*d-e*g+a;p.y3=b*g+e*d+m;return p}},16483:(r,p,a)=>{p=a(83419);var m=a(10690),g=a(20437),d=a(80672),b=a(23777),e=a(23031),h=a(90260);a=new p({initialize:function(c,
l,f,k,n,q){void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=0);void 0===k&&(k=0);void 0===n&&(n=0);void 0===q&&(q=0);this.type=b.TRIANGLE;this.x1=c;this.y1=l;this.x2=f;this.y2=k;this.x3=n;this.y3=q},contains:function(c,l){return m(this,c,l)},getPoint:function(c,l){return g(this,c,l)},getPoints:function(c,l,f){return d(this,c,l,f)},getRandomPoint:function(c){return h(this,c)},setTo:function(c,l,f,k,n,q){void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=0);void 0===k&&(k=0);void 0===n&&(n=0);void 0===
q&&(q=0);this.x1=c;this.y1=l;this.x2=f;this.y2=k;this.x3=n;this.y3=q;return this},getLineA:function(c){void 0===c&&(c=new e);c.setTo(this.x1,this.y1,this.x2,this.y2);return c},getLineB:function(c){void 0===c&&(c=new e);c.setTo(this.x2,this.y2,this.x3,this.y3);return c},getLineC:function(c){void 0===c&&(c=new e);c.setTo(this.x3,this.y3,this.x1,this.y1);return c},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(c){c=this.x1<=this.x2&&this.x1<=this.x3?this.x1-c:this.x2<=this.x1&&
this.x2<=this.x3?this.x2-c:this.x3-c;this.x1-=c;this.x2-=c;this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(c){c=this.x1>=this.x2&&this.x1>=this.x3?this.x1-c:this.x2>=this.x1&&this.x2>=this.x3?this.x2-c:this.x3-c;this.x1-=c;this.x2-=c;this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(c){c=this.y1<=this.y2&&this.y1<=this.y3?this.y1-c:this.y2<=this.y1&&this.y2<=this.y3?this.y2-c:this.y3-c;this.y1-=c;this.y2-=c;this.y3-=c}},
bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(c){c=this.y1>=this.y2&&this.y1>=this.y3?this.y1-c:this.y2>=this.y1&&this.y2>=this.y3?this.y2-c:this.y3-c;this.y1-=c;this.y2-=c;this.y3-=c}}});r.exports=a},84435:(r,p,a)=>{p=a(16483);p.Area=a(41658);p.BuildEquilateral=a(39208);p.BuildFromPolygon=a(39545);p.BuildRight=a(90301);p.CenterOn=a(23707);p.Centroid=a(97523);p.CircumCenter=a(24951);p.CircumCircle=a(85614);p.Clone=a(74422);p.Contains=a(10690);p.ContainsArray=a(48653);
p.ContainsPoint=a(96006);p.CopyFrom=a(71326);p.Decompose=a(71694);p.Equals=a(33522);p.GetPoint=a(20437);p.GetPoints=a(80672);p.InCenter=a(39757);p.Perimeter=a(1376);p.Offset=a(13584);p.Random=a(90260);p.Rotate=a(52172);p.RotateAroundPoint=a(49907);p.RotateAroundXY=a(99614);r.exports=p},74457:r=>{r.exports=function(p,a,m){return{gameObject:p,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,
dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},84409:r=>{r.exports=function(p,a){return function(m,g,d,b){return(m=p.getPixelAlpha(g,d,b.texture.key,b.frame.name))&&m>=a}}},7003:(r,p,a)=>{p=a(83419);var m=a(93301),g=a(50792),d=a(8214),b=a(8443),e=a(78970),h=a(85098),c=a(42515),l=a(36210),f=a(61340),k=a(85955);a=new p({initialize:function(n,q){this.game=n;this.config=q;this.enabled=!0;this.events=new g;this.isOver=!0;this.defaultCursor="";this.keyboard=q.inputKeyboard?
new e(this):null;this.mouse=q.inputMouse?new h(this):null;this.touch=q.inputTouch?new l(this):null;this.pointers=[];this.pointersTotal=q.inputActivePointers;q.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var t=0;t<=this.pointersTotal;t++){var v=new c(this,t);v.smoothFactor=q.inputSmoothFactor;this.pointers.push(v)}this.mousePointer=q.inputMouse?this.pointers[0]:null;this.activePointer=this.pointers[0];this.globalTopOnly=!0;this.time=0;this._tempPoint={x:0,y:0};this._tempHitTest=
[];this._tempMatrix=new f;this._tempMatrix2=new f;this._tempSkip=!1;this.mousePointerContainer=[this.mousePointer];n.events.once(b.BOOT,this.boot,this)},boot:function(){var n=this.game,q=n.events;this.canvas=n.canvas;this.scaleManager=n.scale;this.events.emit(d.MANAGER_BOOT);q.on(b.PRE_RENDER,this.preRender,this);q.once(b.DESTROY,this.destroy,this)},setCanvasOver:function(n){this.isOver=!0;this.events.emit(d.GAME_OVER,n)},setCanvasOut:function(n){this.isOver=!1;this.events.emit(d.GAME_OUT,n)},preRender:function(){var n=
this.game.loop.now,q=this.game.loop.delta,t=this.game.scene.getScenes(!0,!0);this.time=n;this.events.emit(d.MANAGER_UPDATE);for(var v=0;v<t.length;v++){var u=t[v];if(u.sys.input&&u.sys.input.updatePoll(n,q)&&this.globalTopOnly)break}},setDefaultCursor:function(n){this.defaultCursor=n;this.canvas.style.cursor!==n&&(this.canvas.style.cursor=n)},setCursor:function(n){n.cursor&&(this.canvas.style.cursor=n.cursor)},resetCursor:function(n){n.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},
addPointer:function(n){void 0===n&&(n=1);var q=[];10<this.pointersTotal+n&&(n=10-this.pointersTotal);for(var t=0;t<n;t++){var v=new c(this,this.pointers.length);v.smoothFactor=this.config.inputSmoothFactor;this.pointers.push(v);this.pointersTotal++;q.push(v)}return q},updateInputPlugins:function(n,q){var t=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var v=0;v<t.length;v++){var u=t[v];if(u.sys.input&&(u.sys.input.update(n,q)&&this.globalTopOnly||this._tempSkip))break}},onTouchStart:function(n){for(var q=
this.pointers,t=[],v=0;v<n.changedTouches.length;v++)for(var u=n.changedTouches[v],x=1;x<this.pointersTotal;x++){var w=q[x];if(!w.active){w.touchstart(u,n);this.activePointer=w;t.push(w);break}}this.updateInputPlugins(m.TOUCH_START,t)},onTouchMove:function(n){for(var q=this.pointers,t=[],v=0;v<n.changedTouches.length;v++)for(var u=n.changedTouches[v],x=1;x<this.pointersTotal;x++){var w=q[x];if(w.active&&w.identifier===u.identifier){x=document.elementFromPoint(u.clientX,u.clientY)===this.canvas;!this.isOver&&
x?this.setCanvasOver(n):this.isOver&&!x&&this.setCanvasOut(n);this.isOver&&(w.touchmove(u,n),this.activePointer=w,t.push(w));break}}this.updateInputPlugins(m.TOUCH_MOVE,t)},onTouchEnd:function(n){for(var q=this.pointers,t=[],v=0;v<n.changedTouches.length;v++)for(var u=n.changedTouches[v],x=1;x<this.pointersTotal;x++){var w=q[x];if(w.active&&w.identifier===u.identifier){w.touchend(u,n);t.push(w);break}}this.updateInputPlugins(m.TOUCH_END,t)},onTouchCancel:function(n){for(var q=this.pointers,t=[],v=
0;v<n.changedTouches.length;v++)for(var u=n.changedTouches[v],x=1;x<this.pointersTotal;x++){var w=q[x];if(w.active&&w.identifier===u.identifier){w.touchcancel(u,n);t.push(w);break}}this.updateInputPlugins(m.TOUCH_CANCEL,t)},onMouseDown:function(n){var q=this.mousePointer;q.down(n);q.updateMotion();this.activePointer=q;this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(n){var q=this.mousePointer;q.move(n);q.updateMotion();this.activePointer=q;this.updateInputPlugins(m.MOUSE_MOVE,
this.mousePointerContainer)},onMouseUp:function(n){var q=this.mousePointer;q.up(n);q.updateMotion();this.activePointer=q;this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(n){var q=this.mousePointer;q.wheel(n);this.activePointer=q;this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(n){var q=this.mouse.locked;this.mousePointer.locked=q;this.events.emit(d.POINTERLOCK_CHANGE,n,q)},inputCandidate:function(n,q){var t=n.input;
if(!t||!t.enabled||!n.willRender(q))return!1;t=!0;if(n=n.parentContainer){do{if(!n.willRender(q)){t=!1;break}n=n.parentContainer}while(n)}return t},hitTest:function(n,q,t,v){void 0===v&&(v=this._tempHitTest);var u=this._tempPoint,x=t.scrollX,w=t.scrollY;v.length=0;t.getWorldPoint(n.x,n.y,u);n.worldX=u.x;n.worldY=u.y;n={x:0,y:0};for(var y=this._tempMatrix,z=this._tempMatrix2,C=0;C<q.length;C++){var A=q[C];if(this.inputCandidate(A,t)){var B=u.x+x*A.scrollFactorX-x,E=u.y+w*A.scrollFactorY-w;A.parentContainer?
(A.getWorldTransformMatrix(y,z),y.applyInverse(B,E,n)):k(B,E,A.x,A.y,A.rotation,A.scaleX,A.scaleY,n);this.pointWithinHitArea(A,n.x,n.y)&&v.push(A)}}return v},pointWithinHitArea:function(n,q,t){q+=n.displayOriginX;t+=n.displayOriginY;var v=n.input;return v&&v.hitAreaCallback(v.hitArea,q,t,n)?(v.localX=q,v.localY=t,!0):!1},pointWithinInteractiveObject:function(n,q,t){if(!n.hitArea)return!1;q+=n.gameObject.displayOriginX;t+=n.gameObject.displayOriginY;n.localX=q;n.localY=t;return n.hitAreaCallback(n.hitArea,
q,t,n)},transformPointer:function(n,q,t,v){var u=n.position,x=n.prevPosition;x.x=u.x;x.y=u.y;q=this.scaleManager.transformX(q);t=this.scaleManager.transformY(t);n=n.smoothFactor;v&&0!==n?(u.x=q*n+x.x*(1-n),u.y=t*n+x.y*(1-n)):(u.x=q,u.y=t)},destroy:function(){this.events.removeAllListeners();this.game.events.off(b.PRE_RENDER);this.keyboard&&this.keyboard.destroy();this.mouse&&this.mouse.destroy();this.touch&&this.touch.destroy();for(var n=0;n<this.pointers.length;n++)this.pointers[n].destroy();this.pointers=
[];this._tempHitTest=[];this._tempMatrix.destroy();this.game=this.canvas=null}});r.exports=a},48205:(r,p,a)=>{var m=a(96503),g=a(87902),d=a(83419),b=a(93301),e=a(74457),h=a(84409),c=a(20339),l=a(8497),f=a(81154),k=a(8214),n=a(50792),q=a(95540),t=a(23777),v=a(89639),u=a(41212);p=a(37277);var x=a(87841),w=a(37303),y=a(44594),z=a(16483),C=a(10690);a=new d({Extends:n,initialize:function(A){n.call(this);this.scene=A;this.systems=A.sys;this.settings=A.sys.settings;this.manager=A.sys.game.input;this.pluginEvents=
new n;this.enabled=!0;v.install(this);this.mouse=this.manager.mouse;this.topOnly=!0;this.pollRate=-1;this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}};this._eventData=B;this.dragTimeThreshold=this.dragDistanceThreshold=0;this._temp=[];this._tempZones=[];this._list=[];this._pendingInsertion=[];this._pendingRemoval=[];this._draggable=[];this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]};this._dragState=[];this._over={0:[],1:[],
2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]};this._validTypes="onDown onUp onOver onOut onMove onDragStart onDrag onDragEnd onDragEnter onDragLeave onDragOver onDrop".split(" ");this._updatedThisFrame=!1;A.sys.events.once(y.BOOT,this.boot,this);A.sys.events.on(y.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras;this.displayList=this.systems.displayList;this.systems.events.once(y.DESTROY,this.destroy,this);this.pluginEvents.emit(k.BOOT)},start:function(){var A=this.systems.events;
A.on(y.TRANSITION_START,this.transitionIn,this);A.on(y.TRANSITION_OUT,this.transitionOut,this);A.on(y.TRANSITION_COMPLETE,this.transitionComplete,this);A.on(y.PRE_UPDATE,this.preUpdate,this);A.once(y.SHUTDOWN,this.shutdown,this);this.manager.events.on(k.GAME_OUT,this.onGameOut,this);this.manager.events.on(k.GAME_OVER,this.onGameOver,this);this.enabled=!0;this._dragState=[0,0,0,0,0,0,0,0,0,0];this.pluginEvents.emit(k.START)},onGameOver:function(A){this.isActive()&&this.emit(k.GAME_OVER,A.timeStamp,
A)},onGameOut:function(A){this.isActive()&&this.emit(k.GAME_OUT,A.timeStamp,A)},preUpdate:function(){this.pluginEvents.emit(k.PRE_UPDATE);var A=this._pendingRemoval,B=this._pendingInsertion,E=A.length,G=B.length;if(0!==E||0!==G){G=this._list;for(var I=0;I<E;I++){var H=A[I],K=G.indexOf(H);-1<K&&(G.splice(K,1),this.clear(H,!0))}this._pendingRemoval.length=0;this._list=G.concat(B.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(A,B){if(!this.isActive())return!1;
this.pluginEvents.emit(k.UPDATE,A,B);if(this._updatedThisFrame)return this._updatedThisFrame=!1;var E,G=this.manager,I=G.pointers;G=G.pointersTotal;for(E=0;E<G;E++)I[E].updateMotion();if(0===this._list.length)return!1;E=this.pollRate;if(-1===E)return!1;if(0<E)if(this._pollTimer-=B,0>this._pollTimer)this._pollTimer=this.pollRate;else return!1;B=!1;for(E=0;E<G;E++){var H=0,K=I[E];this._tempZones=[];this._temp=this.hitTestPointer(K);this.sortGameObjects(this._temp,K);this.sortDropZones(this._tempZones);
this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1));H+=this.processOverOutEvents(K);2===this.getDragState(K)&&this.processDragThresholdEvent(K,A);0<H&&(B=!0)}return B},update:function(A,B){if(!this.isActive())return!1;for(var E=B.length,G=!1,I=0;I<E;I++){var H=0,K=B[I];this._tempZones=[];this._temp=this.hitTestPointer(K);this.sortGameObjects(this._temp,K);this.sortDropZones(this._tempZones);this.topOnly&&(this._temp.length&&this._temp.splice(1),
this._tempZones.length&&this._tempZones.splice(1));switch(A){case b.MOUSE_DOWN:H+=this.processDragDownEvent(K);H+=this.processDownEvents(K);H+=this.processOverOutEvents(K);break;case b.MOUSE_UP:H+=this.processDragUpEvent(K);H+=this.processUpEvents(K);H+=this.processOverOutEvents(K);break;case b.TOUCH_START:H+=this.processDragDownEvent(K);H+=this.processDownEvents(K);H+=this.processOverEvents(K);break;case b.TOUCH_END:case b.TOUCH_CANCEL:H+=this.processDragUpEvent(K);H+=this.processUpEvents(K);H+=
this.processOutEvents(K);break;case b.MOUSE_MOVE:case b.TOUCH_MOVE:H+=this.processDragMoveEvent(K);H+=this.processMoveEvents(K);H+=this.processOverOutEvents(K);break;case b.MOUSE_WHEEL:H+=this.processWheelEvent(K)}0<H&&(G=!0)}this._updatedThisFrame=!0;return G},clear:function(A,B){void 0===B&&(B=!1);this.disable(A);var E=A.input;E&&(this.removeDebug(A),this.manager.resetCursor(E),E.gameObject=void 0,E.target=void 0,E.hitArea=void 0,E.hitAreaCallback=void 0,E.callbackContext=void 0,A.input=null);B||
this.queueForRemoval(A);B=this._draggable.indexOf(A);-1<B&&this._draggable.splice(B,1);return A},disable:function(A){var B=A.input;B&&(B.enabled=!1,B.dragState=0);B=this._drag;for(var E=this._over,G=this.manager,I=0,H;I<G.pointersTotal;I++)H=B[I].indexOf(A),-1<H&&B[I].splice(H,1),H=E[I].indexOf(A),-1<H&&E[I].splice(H,1);return this},enable:function(A,B,E,G){void 0===G&&(G=!1);A.input?A.input.enabled=!0:this.setHitArea(A,B,E);A.input&&G&&!A.input.dropZone&&(A.input.dropZone=G);return this},hitTestPointer:function(A){for(var B=
this.cameras.getCamerasBelowPointer(A),E=0;E<B.length;E++){for(var G=B[E],I=this.manager.hitTest(A,this._list,G),H=0;H<I.length;H++){var K=I[H];K.input.dropZone&&this._tempZones.push(K)}if(0<I.length)return A.camera=G,I}A.camera=B[0];return[]},processDownEvents:function(A){for(var B=0,E=this._temp,G=this._eventData,I=this._eventContainer,H=G.cancelled=!1,K=0;K<E.length;K++){var L=E[K];if(L.input&&L.input.enabled){B++;L.emit(k.GAMEOBJECT_POINTER_DOWN,A,L.input.localX,L.input.localY,I);if(G.cancelled||
!L.input||!L.input.enabled){H=!0;break}this.emit(k.GAMEOBJECT_DOWN,A,L,I);if(G.cancelled||!L.input){H=!0;break}}}!H&&this.manager&&(A.downElement===this.manager.game.canvas?this.emit(k.POINTER_DOWN,A,E):this.emit(k.POINTER_DOWN_OUTSIDE,A));return B},getDragState:function(A){return this._dragState[A.id]},setDragState:function(A,B){this._dragState[A.id]=B},processDragThresholdEvent:function(A,B){var E=!1,G=this.dragTimeThreshold,I=this.dragDistanceThreshold;0<I&&c(A.x,A.y,A.downX,A.downY)>=I?E=!0:0<
G&&B>=A.downTime+G&&(E=!0);if(E)return this.setDragState(A,3),this.processDragStartList(A)},processDragStartList:function(A){if(3!==this.getDragState(A))return 0;for(var B=this._drag[A.id],E=0;E<B.length;E++){var G=B[E],I=G.input;I.dragState=2;I.dragStartX=G.x;I.dragStartY=G.y;I.dragStartXGlobal=A.worldX;I.dragStartYGlobal=A.worldY;I.dragX=I.dragStartXGlobal-I.dragStartX;I.dragY=I.dragStartYGlobal-I.dragStartY;G.emit(k.GAMEOBJECT_DRAG_START,A,I.dragX,I.dragY);this.emit(k.DRAG_START,A,G)}this.setDragState(A,
4);return B.length},processDragDownEvent:function(A){var B=this._temp;if(0===this._draggable.length||0===B.length||!A.primaryDown||0!==this.getDragState(A))return 0;this.setDragState(A,1);for(var E=[],G=0;G<B.length;G++){var I=B[G];I.input.draggable&&0===I.input.dragState&&E.push(I)}if(0===E.length)return this.setDragState(A,0),0;1<E.length&&(this.sortGameObjects(E,A),this.topOnly&&E.splice(1));this._drag[A.id]=E;if(0===this.dragDistanceThreshold&&0===this.dragTimeThreshold)return this.setDragState(A,
3),this.processDragStartList(A);this.setDragState(A,2);return 0},processDragMoveEvent:function(A){2===this.getDragState(A)&&this.processDragThresholdEvent(A,this.manager.game.loop.now);if(4!==this.getDragState(A))return 0;for(var B=this._tempZones,E=this._drag[A.id],G=0;G<E.length;G++){var I=E[G],H=I.input,K=H.target;if(K){var L=B.indexOf(K);0===L?(I.emit(k.GAMEOBJECT_DRAG_OVER,A,K),this.emit(k.DRAG_OVER,A,I,K)):0<L?(I.emit(k.GAMEOBJECT_DRAG_LEAVE,A,K),this.emit(k.DRAG_LEAVE,A,I,K),H.target=B[0],
K=H.target,I.emit(k.GAMEOBJECT_DRAG_ENTER,A,K),this.emit(k.DRAG_ENTER,A,I,K)):(I.emit(k.GAMEOBJECT_DRAG_LEAVE,A,K),this.emit(k.DRAG_LEAVE,A,I,K),B[0]?(H.target=B[0],K=H.target,I.emit(k.GAMEOBJECT_DRAG_ENTER,A,K),this.emit(k.DRAG_ENTER,A,I,K)):H.target=null)}else!K&&B[0]&&(H.target=B[0],K=H.target,I.emit(k.GAMEOBJECT_DRAG_ENTER,A,K),this.emit(k.DRAG_ENTER,A,I,K));if(I.parentContainer){L=A.worldX-H.dragStartXGlobal;var M=A.worldY-H.dragStartYGlobal,P=I.getParentRotation();K=L*Math.cos(P)+M*Math.sin(P);
L=M*Math.cos(P)-L*Math.sin(P);K*=1/I.parentContainer.scaleX;L*=1/I.parentContainer.scaleY;K+=H.dragStartX;H=L+H.dragStartY}else K=A.worldX-H.dragX,H=A.worldY-H.dragY;I.emit(k.GAMEOBJECT_DRAG,A,K,H);this.emit(k.DRAG,A,I,K,H)}return E.length},processDragUpEvent:function(A){for(var B=this._drag[A.id],E=0;E<B.length;E++){var G=B[E],I=G.input;if(I&&2===I.dragState){I.dragState=0;I.dragX=I.localX-G.displayOriginX;I.dragY=I.localY-G.displayOriginY;var H=!1,K=I.target;K&&(G.emit(k.GAMEOBJECT_DROP,A,K),this.emit(k.DROP,
A,G,K),I.target=null,H=!0);G.input&&G.input.enabled&&(G.emit(k.GAMEOBJECT_DRAG_END,A,I.dragX,I.dragY,H),this.emit(k.DRAG_END,A,G,H))}}this.setDragState(A,0);B.splice(0);return 0},processMoveEvents:function(A){for(var B=0,E=this._temp,G=this._eventData,I=this._eventContainer,H=G.cancelled=!1,K=0;K<E.length;K++){var L=E[K];if(L.input&&L.input.enabled){B++;L.emit(k.GAMEOBJECT_POINTER_MOVE,A,L.input.localX,L.input.localY,I);if(G.cancelled||!L.input||!L.input.enabled){H=!0;break}this.emit(k.GAMEOBJECT_MOVE,
A,L,I);if(G.cancelled||!L.input||!L.input.enabled){H=!0;break}if(this.topOnly)break}}H||this.emit(k.POINTER_MOVE,A,E);return B},processWheelEvent:function(A){for(var B=0,E=this._temp,G=this._eventData,I=this._eventContainer,H=G.cancelled=!1,K=A.deltaX,L=A.deltaY,M=A.deltaZ,P=0;P<E.length;P++){var D=E[P];if(D.input&&D.input.enabled){B++;D.emit(k.GAMEOBJECT_POINTER_WHEEL,A,K,L,M,I);if(G.cancelled||!D.input||!D.input.enabled){H=!0;break}this.emit(k.GAMEOBJECT_WHEEL,A,D,K,L,M,I);if(G.cancelled||!D.input||
!D.input.enabled){H=!0;break}}}H||this.emit(k.POINTER_WHEEL,A,E,K,L,M);return B},processOverEvents:function(A){var B=this._temp,E=0,G=B.length,I=[];if(0<G){for(var H=this.manager,K=this._eventData,L=this._eventContainer,M=K.cancelled=!1,P=0;P<G;P++){var D=B[P];if(D.input&&D.input.enabled){I.push(D);H.setCursor(D.input);D.emit(k.GAMEOBJECT_POINTER_OVER,A,D.input.localX,D.input.localY,L);E++;if(K.cancelled||!D.input||!D.input.enabled){M=!0;break}this.emit(k.GAMEOBJECT_OVER,A,D,L);if(K.cancelled||!D.input||
!D.input.enabled){M=!0;break}}}M||this.emit(k.POINTER_OVER,A,I)}this._over[A.id]=I;return E},processOutEvents:function(A){var B=this._over[A.id],E=0,G=B.length;if(0<G){var I=this.manager,H=this._eventData,K=this._eventContainer;H.cancelled=!1;this.sortGameObjects(B,A);for(var L=0;L<G;L++){var M=B[L];if(M.input&&M.input.enabled){I.resetCursor(M.input);M.emit(k.GAMEOBJECT_POINTER_OUT,A,K);E++;if(H.cancelled||!M.input||!M.input.enabled)break;this.emit(k.GAMEOBJECT_OUT,A,M,K);if(H.cancelled||!M.input||
!M.input.enabled)break;this.emit(k.POINTER_OUT,A,B)}}this._over[A.id]=[]}return E},processOverOutEvents:function(A){var B=this._temp,E,G=[],I=[],H=[],K=this._over[A.id],L=this._drag[A.id],M=this.manager;for(E=0;E<K.length;E++){var P=K[E];-1===B.indexOf(P)&&-1===L.indexOf(P)?G.push(P):H.push(P)}for(E=0;E<B.length;E++)P=B[E],-1===K.indexOf(P)&&I.push(P);K=G.length;B=0;L=this._eventData;var D=this._eventContainer,F=L.cancelled=!1;if(0<K){this.sortGameObjects(G,A);for(E=0;E<K;E++)if(P=G[E],P.input&&P.input.enabled){M.resetCursor(P.input);
P.emit(k.GAMEOBJECT_POINTER_OUT,A,D);B++;if(L.cancelled||!P.input||!P.input.enabled){F=!0;break}this.emit(k.GAMEOBJECT_OUT,A,P,D);if(L.cancelled||!P.input||!P.input.enabled){F=!0;break}}F||this.emit(k.POINTER_OUT,A,G)}K=I.length;F=L.cancelled=!1;if(0<K){this.sortGameObjects(I,A);for(E=0;E<K;E++)if(P=I[E],P.input&&P.input.enabled){M.setCursor(P.input);P.emit(k.GAMEOBJECT_POINTER_OVER,A,P.input.localX,P.input.localY,D);B++;if(L.cancelled||!P.input||!P.input.enabled){F=!0;break}this.emit(k.GAMEOBJECT_OVER,
A,P,D);if(L.cancelled||!P.input||!P.input.enabled){F=!0;break}}F||this.emit(k.POINTER_OVER,A,I)}K=H.concat(I);this._over[A.id]=this.sortGameObjects(K,A);return B},processUpEvents:function(A){for(var B=this._temp,E=this._eventData,G=this._eventContainer,I=E.cancelled=!1,H=0;H<B.length;H++){var K=B[H];if(K.input&&K.input.enabled){K.emit(k.GAMEOBJECT_POINTER_UP,A,K.input.localX,K.input.localY,G);if(E.cancelled||!K.input||!K.input.enabled){I=!0;break}this.emit(k.GAMEOBJECT_UP,A,K,G);if(E.cancelled||!K.input||
!K.input.enabled){I=!0;break}}}!I&&this.manager&&(A.upElement===this.manager.game.canvas?this.emit(k.POINTER_UP,A,B):this.emit(k.POINTER_UP_OUTSIDE,A));return B.length},queueForInsertion:function(A){-1===this._pendingInsertion.indexOf(A)&&-1===this._list.indexOf(A)&&this._pendingInsertion.push(A);return this},queueForRemoval:function(A){this._pendingRemoval.push(A);return this},setDraggable:function(A,B){void 0===B&&(B=!0);Array.isArray(A)||(A=[A]);for(var E=0;E<A.length;E++){var G=A[E];G.input.draggable=
B;var I=this._draggable.indexOf(G);B&&-1===I?this._draggable.push(G):!B&&-1<I&&this._draggable.splice(I,1)}return this},makePixelPerfect:function(A){void 0===A&&(A=1);return h(this.systems.textures,A)},setHitArea:function(A,B,E){if(void 0===B)return this.setHitAreaFromTexture(A);Array.isArray(A)||(A=[A]);var G=!1,I=!1,H=!1,K=!1,L=!1,M=!0;u(B)&&Object.keys(B).length?(K=B,A.some(function(J){return J.hasOwnProperty("faces")})||(B=q(K,"hitArea",null),E=q(K,"hitAreaCallback",null),L=q(K,"pixelPerfect",
!1),G=q(K,"alphaTolerance",1),L&&(B={},E=this.makePixelPerfect(G))),G=q(K,"draggable",!1),I=q(K,"dropZone",!1),H=q(K,"cursor",!1),K=q(K,"useHandCursor",!1),B&&E||(this.setHitAreaFromTexture(A),M=!1)):"function"!==typeof B||E||(E=B,B={});for(var P=0;P<A.length;P++){var D=A[P];if(L&&"Container"===D.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var F=D.input?D.input:e(D,B,E);F.customHitArea=M;F.dropZone=I;F.cursor=K?"pointer":H;D.input=F;G&&this.setDraggable(D);
this.queueForInsertion(D)}}return this},setHitAreaCircle:function(A,B,E,G,I){void 0===I&&(I=g);B=new m(B,E,G);return this.setHitArea(A,B,I)},setHitAreaEllipse:function(A,B,E,G,I,H){void 0===H&&(H=f);B=new l(B,E,G,I);return this.setHitArea(A,B,H)},setHitAreaFromTexture:function(A,B){void 0===B&&(B=w);Array.isArray(A)||(A=[A]);for(var E=0;E<A.length;E++){var G=A[E],I=G.frame,H=0,K=0;G.width?(H=G.width,K=G.height):I&&(H=I.realWidth,K=I.realHeight);"Container"!==G.type||0!==H&&0!==K?0!==H&&0!==K&&(G.input=
e(G,new x(0,0,H,K),B),this.queueForInsertion(G)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(A,B,E,G,I,H){void 0===H&&(H=w);B=new x(B,E,G,I);return this.setHitArea(A,B,H)},setHitAreaTriangle:function(A,B,E,G,I,H,K,L){void 0===L&&(L=C);B=new z(B,E,G,I,H,K);return this.setHitArea(A,B,L)},enableDebug:function(A,B){void 0===B&&(B=65280);var E=A.input;if(!E||!E.hitArea)return this;var G=E.hitArea,I=G.type,H=E.hitAreaDebug,
K=this.systems.add,L=this.systems.updateList;H&&(L.remove(H),H.destroy(),H=null);var M=0,P=0;switch(I){case t.CIRCLE:H=K.arc(0,0,G.radius);M=G.x-G.radius;P=G.y-G.radius;break;case t.ELLIPSE:H=K.ellipse(0,0,G.width,G.height);M=G.x-G.width/2;P=G.y-G.height/2;break;case t.LINE:H=K.line(0,0,G.x1,G.y1,G.x2,G.y2);break;case t.POLYGON:H=K.polygon(0,0,G.points);break;case t.RECTANGLE:H=K.rectangle(0,0,G.width,G.height);M=G.x;P=G.y;break;case t.TRIANGLE:H=K.triangle(0,0,G.x1,G.y1,G.x2,G.y2,G.x3,G.y3)}H&&(H.isFilled=
!1,H.strokeColor=B,H.preUpdate=function(){H.setVisible(A.visible);H.setStrokeStyle(1/A.scale,H.strokeColor);H.setDisplayOrigin(A.displayOriginX,A.displayOriginY);var D=A.x,F=A.y,J=A.rotation,N=A.scaleX,O=A.scaleY;A.parentContainer&&(O=A.getWorldTransformMatrix(),D=O.tx,F=O.ty,J=O.rotation,N=O.scaleX,O=O.scaleY);H.setRotation(J);H.setScale(N,O);H.setPosition(D+M*N,F+P*O);H.setScrollFactor(A.scrollFactorX,A.scrollFactorY);H.setDepth(A.depth)},L.add(H),E.hitAreaDebug=H);return this},removeDebug:function(A){(A=
A.input)&&A.hitAreaDebug&&(A.hitAreaDebug.destroy(),A.hitAreaDebug=null);return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(A){this.pollRate=A;this._pollTimer=0;return this},setGlobalTopOnly:function(A){this.manager.globalTopOnly=A;return this},setTopOnly:function(A){this.topOnly=A;return this},sortGameObjects:function(A,B){if(2>A.length||!B.camera)return A;var E=B.camera.renderList;return A.sort(function(G,
I){G=Math.max(E.indexOf(G),0);return Math.max(E.indexOf(I),0)-G})},sortDropZones:function(A){if(2>A.length)return A;this.scene.sys.depthSort();return A.sort(this.sortDropZoneHandler.bind(this))},sortDropZoneHandler:function(A,B){if(A.parentContainer||B.parentContainer){if(A.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-A.parentContainer.getIndex(A);if(A.parentContainer===B)return-1;if(B.parentContainer===A)return 1;A=A.getIndexList();B=B.getIndexList();for(var E=Math.min(A.length,
B.length),G=0;G<E;G++){var I=A[G],H=B[G];if(I!==H)return H-I}return B.length-A.length}return this.displayList.getIndex(B)-this.displayList.getIndex(A)},stopPropagation:function(){this.manager._tempSkip=!0;return this},addPointer:function(A){return this.manager.addPointer(A)},setDefaultCursor:function(A){this.manager.setDefaultCursor(A);return this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=
!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(k.SHUTDOWN);this._temp.length=0;this._list.length=0;this._draggable.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;for(var A=this._dragState.length=0;10>A;A++)this._drag[A]=[],this._over[A]=[];this.removeAllListeners();A=this.manager;A.canvas.style.cursor=A.defaultCursor;var B=this.systems.events;B.off(y.TRANSITION_START,this.transitionIn,this);B.off(y.TRANSITION_OUT,
this.transitionOut,this);B.off(y.TRANSITION_COMPLETE,this.transitionComplete,this);B.off(y.PRE_UPDATE,this.preUpdate,this);A.events.off(k.GAME_OUT,this.onGameOut,this);A.events.off(k.GAME_OVER,this.onGameOver,this);B.off(y.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var A=this.manager.pointers,B=0;B<A.length;B++)A[B].reset()},destroy:function(){this.shutdown();this.pluginEvents.emit(k.DESTROY);this.pluginEvents.removeAllListeners();this.scene.sys.events.off(y.START,this.start,this);
this.mouse=this.events=this.manager=this.cameras=this.scene=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},
pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});p.register("InputPlugin",a,"input");r.exports=a},89639:(r,p,a)=>{var m=a(35154),g={};
r.exports={register:function(d,b,e,h,c){g[d]={plugin:b,mapping:e,settingsKey:h,configKey:c}},getPlugin:function(d){return g[d]},install:function(d){var b=d.scene.sys,e=b.settings.input;b=b.game.config;for(var h in g){var c=g[h].plugin,l=g[h].mapping;m(e,g[h].settingsKey,b[g[h].configKey])&&(d[l]=new c(d))}},remove:function(d){g.hasOwnProperty(d)&&delete g[d]}}},42515:(r,p,a)=>{var m=a(31040);p=a(83419);var g=a(20339),d=a(43855),b=a(47235),e=a(26099),h=a(25892);a=new p({initialize:function(c,l){this.manager=
c;this.id=l;this.camera=null;this.buttons=this.button=0;this.position=new e;this.prevPosition=new e;this.midPoint=new e(-1,-1);this.velocity=new e;this.smoothFactor=this.distance=this.angle=0;this.motionFactor=.2;this.upTime=this.upY=this.upX=this.downTime=this.downY=this.downX=this.moveTime=this.worldY=this.worldX=0;this.wasCanceled=this.wasTouch=this.isDown=this.primaryDown=!1;this.identifier=this.movementY=this.movementX=0;this.pointerId=null;this.active=0===l?!0:!1;this.locked=!1;this.deltaZ=
this.deltaY=this.deltaX=0},updateWorldPoint:function(c){c=c.getWorldPoint(this.x,this.y);this.worldX=c.x;this.worldY=c.y;return this},positionToCamera:function(c,l){return c.getWorldPoint(this.x,this.y,l)},updateMotion:function(){var c=this.position.x,l=this.position.y,f=this.midPoint.x,k=this.midPoint.y;if(c!==f||l!==k){f=b(this.motionFactor,f,c);k=b(this.motionFactor,k,l);d(f,c,.1)&&(f=c);d(k,l,.1)&&(k=l);this.midPoint.set(f,k);var n=c-f,q=l-k;this.velocity.set(n,q);this.angle=m(f,k,c,l);this.distance=
Math.sqrt(n*n+q*q)}},up:function(c){"buttons"in c&&(this.buttons=c.buttons);this.event=c;this.button=c.button;this.upElement=c.target;this.manager.transformPointer(this,c.pageX,c.pageY,!1);0===c.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y);0===this.buttons&&(this.isDown=!1,this.upTime=c.timeStamp,this.wasTouch=!1)},down:function(c){"buttons"in c&&(this.buttons=c.buttons);this.event=c;this.button=c.button;this.downElement=c.target;this.manager.transformPointer(this,c.pageX,c.pageY,
!1);0===c.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y);h.macOS&&c.ctrlKey&&(this.buttons=2,this.primaryDown=!1);this.isDown||(this.isDown=!0,this.downTime=c.timeStamp);this.wasTouch=!1},move:function(c){"buttons"in c&&(this.buttons=c.buttons);this.event=c;this.manager.transformPointer(this,c.pageX,c.pageY,!0);this.locked&&(this.movementX=c.movementX||c.mozMovementX||c.webkitMovementX||0,this.movementY=c.movementY||c.mozMovementY||c.webkitMovementY||0);this.moveTime=c.timeStamp;
this.wasTouch=!1},wheel:function(c){"buttons"in c&&(this.buttons=c.buttons);this.event=c;this.manager.transformPointer(this,c.pageX,c.pageY,!1);this.deltaX=c.deltaX;this.deltaY=c.deltaY;this.deltaZ=c.deltaZ;this.wasTouch=!1},touchstart:function(c,l){c.pointerId&&(this.pointerId=c.pointerId);this.identifier=c.identifier;this.target=c.target;this.active=!0;this.buttons=1;this.event=l;this.downElement=c.target;this.manager.transformPointer(this,c.pageX,c.pageY,!1);this.primaryDown=!0;this.downX=this.x;
this.downY=this.y;this.downTime=l.timeStamp;this.wasTouch=this.isDown=!0;this.wasCanceled=!1;this.updateMotion()},touchmove:function(c,l){this.event=l;this.manager.transformPointer(this,c.pageX,c.pageY,!0);this.moveTime=l.timeStamp;this.wasTouch=!0;this.updateMotion()},touchend:function(c,l){this.buttons=0;this.event=l;this.upElement=c.target;this.manager.transformPointer(this,c.pageX,c.pageY,!1);this.primaryDown=!1;this.upX=this.x;this.upY=this.y;this.upTime=l.timeStamp;this.isDown=!1;this.wasTouch=
!0;this.active=this.wasCanceled=!1;this.updateMotion()},touchcancel:function(c,l){this.buttons=0;this.event=l;this.upElement=c.target;this.manager.transformPointer(this,c.pageX,c.pageY,!1);this.primaryDown=!1;this.upX=this.x;this.upY=this.y;this.upTime=l.timeStamp;this.isDown=!1;this.wasCanceled=this.wasTouch=!0;this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return this.buttons&1?!0:!1},rightButtonDown:function(){return this.buttons&2?!0:!1},middleButtonDown:function(){return this.buttons&
4?!0:!1},backButtonDown:function(){return this.buttons&8?!0:!1},forwardButtonDown:function(){return this.buttons&16?!0:!1},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?
g(this.downX,this.downY,this.x,this.y):g(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?m(this.downX,this.downY,this.x,this.y):m(this.downX,this.downY,this.upX,this.upY)},
getInterpolatedPosition:function(c,l){void 0===c&&(c=10);void 0===l&&(l=[]);for(var f=this.prevPosition.x,k=this.prevPosition.y,n=this.position.x,q=this.position.y,t=0;t<c;t++){var v=1/c*t;l[t]={x:b(v,f,n),y:b(v,k,q)}}return l},reset:function(){this.upElement=this.downElement=this.event=null;this.buttons=this.button=0;this.position.set(0,0);this.prevPosition.set(0,0);this.midPoint.set(-1,-1);this.velocity.set(0,0);this.downTime=this.upTime=this.moveTime=this.upY=this.upX=this.downY=this.downX=this.worldY=
this.worldX=this.distance=this.angle=0;this.wasCanceled=this.wasTouch=this.isDown=this.primaryDown=!1;this.identifier=this.movementY=this.movementX=0;this.pointerId=null;this.deltaZ=this.deltaY=this.deltaX=0;this.active=0===this.id?!0:!1},destroy:function(){this.position=this.manager=this.camera=null},x:{get:function(){return this.position.x},set:function(c){this.position.x=c}},y:{get:function(){return this.position.y},set:function(c){this.position.y=c}},time:{get:function(){return this.event?this.event.timeStamp:
0}}});r.exports=a},93301:r=>{r.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:r=>{r.exports="boot"},85375:r=>{r.exports="destroy"},39843:r=>{r.exports="dragend"},23388:r=>{r.exports="dragenter"},16133:r=>{r.exports="drag"},27829:r=>{r.exports="dragleave"},53904:r=>{r.exports="dragover"},56058:r=>{r.exports="dragstart"},2642:r=>{r.exports="drop"},88171:r=>{r.exports="gameobjectdown"},36147:r=>{r.exports=
"dragend"},71692:r=>{r.exports="dragenter"},96149:r=>{r.exports="drag"},81285:r=>{r.exports="dragleave"},74048:r=>{r.exports="dragover"},21322:r=>{r.exports="dragstart"},49378:r=>{r.exports="drop"},86754:r=>{r.exports="gameobjectmove"},86433:r=>{r.exports="gameobjectout"},60709:r=>{r.exports="gameobjectover"},24081:r=>{r.exports="pointerdown"},11172:r=>{r.exports="pointermove"},18907:r=>{r.exports="pointerout"},95579:r=>{r.exports="pointerover"},35368:r=>{r.exports="pointerup"},26972:r=>{r.exports=
"wheel"},47078:r=>{r.exports="gameobjectup"},73802:r=>{r.exports="gameobjectwheel"},56718:r=>{r.exports="gameout"},25936:r=>{r.exports="gameover"},27503:r=>{r.exports="boot"},50852:r=>{r.exports="process"},96438:r=>{r.exports="update"},59152:r=>{r.exports="pointerlockchange"},47777:r=>{r.exports="pointerdown"},27957:r=>{r.exports="pointerdownoutside"},19444:r=>{r.exports="pointermove"},54251:r=>{r.exports="pointerout"},18667:r=>{r.exports="pointerover"},27192:r=>{r.exports="pointerup"},24652:r=>{r.exports=
"pointerupoutside"},45132:r=>{r.exports="wheel"},44512:r=>{r.exports="preupdate"},15757:r=>{r.exports="shutdown"},41637:r=>{r.exports="start"},93802:r=>{r.exports="update"},8214:(r,p,a)=>{r.exports={BOOT:a(7179),DESTROY:a(85375),DRAG_END:a(39843),DRAG_ENTER:a(23388),DRAG:a(16133),DRAG_LEAVE:a(27829),DRAG_OVER:a(53904),DRAG_START:a(56058),DROP:a(2642),GAME_OUT:a(56718),GAME_OVER:a(25936),GAMEOBJECT_DOWN:a(88171),GAMEOBJECT_DRAG_END:a(36147),GAMEOBJECT_DRAG_ENTER:a(71692),GAMEOBJECT_DRAG:a(96149),GAMEOBJECT_DRAG_LEAVE:a(81285),
GAMEOBJECT_DRAG_OVER:a(74048),GAMEOBJECT_DRAG_START:a(21322),GAMEOBJECT_DROP:a(49378),GAMEOBJECT_MOVE:a(86754),GAMEOBJECT_OUT:a(86433),GAMEOBJECT_OVER:a(60709),GAMEOBJECT_POINTER_DOWN:a(24081),GAMEOBJECT_POINTER_MOVE:a(11172),GAMEOBJECT_POINTER_OUT:a(18907),GAMEOBJECT_POINTER_OVER:a(95579),GAMEOBJECT_POINTER_UP:a(35368),GAMEOBJECT_POINTER_WHEEL:a(26972),GAMEOBJECT_UP:a(47078),GAMEOBJECT_WHEEL:a(73802),MANAGER_BOOT:a(27503),MANAGER_PROCESS:a(50852),MANAGER_UPDATE:a(96438),POINTER_DOWN:a(47777),POINTER_DOWN_OUTSIDE:a(27957),
POINTER_MOVE:a(19444),POINTER_OUT:a(54251),POINTER_OVER:a(18667),POINTER_UP:a(27192),POINTER_UP_OUTSIDE:a(24652),POINTER_WHEEL:a(45132),POINTERLOCK_CHANGE:a(59152),PRE_UPDATE:a(44512),SHUTDOWN:a(15757),START:a(41637),UPDATE:a(93802)}},97421:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g){this.pad=m;this.events=m.events;this.index=g;this.value=0;this.threshold=.1},update:function(m){this.value=m},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.events=
this.pad=null}});r.exports=p},28884:(r,p,a)=>{p=a(83419);var m=a(92734);a=new p({initialize:function(g,d){this.pad=g;this.events=g.manager;this.index=d;this.value=0;this.threshold=1;this.pressed=!1},update:function(g){this.value=g;var d=this.pad,b=this.index;g>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,d,this,g),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,b,g,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,d,this,g),this.pad.emit(m.GAMEPAD_BUTTON_UP,b,
g,this))},destroy:function(){this.events=this.pad=null}});r.exports=a},99125:(r,p,a)=>{var m=a(97421),g=a(28884);p=a(83419);var d=a(50792),b=a(26099);a=new p({Extends:d,initialize:function(e,h){d.call(this);this.manager=e;this.pad=h;this.id=h.id;this.index=h.index;for(var c=[],l=0;l<h.buttons.length;l++)c.push(new g(this,l));this.buttons=c;e=[];for(l=0;l<h.axes.length;l++)e.push(new m(this,l));this.axes=e;this.vibration=h.vibrationActuator;h={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:h;this._LCRight=
c[15]?c[15]:h;this._LCTop=c[12]?c[12]:h;this._LCBottom=c[13]?c[13]:h;this._RCLeft=c[2]?c[2]:h;this._RCRight=c[1]?c[1]:h;this._RCTop=c[3]?c[3]:h;this._RCBottom=c[0]?c[0]:h;this._FBLeftTop=c[4]?c[4]:h;this._FBLeftBottom=c[6]?c[6]:h;this._FBRightTop=c[5]?c[5]:h;this._FBRightBottom=c[7]?c[7]:h;h={value:0};this._HAxisLeft=e[0]?e[0]:h;this._VAxisLeft=e[1]?e[1]:h;this._HAxisRight=e[2]?e[2]:h;this._VAxisRight=e[3]?e[3]:h;this.leftStick=new b;this.rightStick=new b;this._created=performance.now()},getAxisTotal:function(){return this.axes.length},
getAxisValue:function(e){return this.axes[e].getValue()},setAxisThreshold:function(e){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=e},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(e){return this.buttons[e].value},isButtonDown:function(e){return this.buttons[e].pressed},update:function(e){if(!(e.timestamp<this._created)){var h,c=this.buttons,l=e.buttons,f=c.length;for(h=0;h<f;h++)c[h].update(l[h].value);c=this.axes;e=e.axes;f=c.length;for(h=0;h<f;h++)c[h].update(e[h]);
2<=f&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),4<=f&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners();this.pad=this.manager=null;var e;for(e=0;e<this.buttons.length;e++)this.buttons[e].destroy();for(e=0;e<this.axes.length;e++)this.axes[e].destroy();this.buttons=[];this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},
right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},
R2:{get:function(){return this._FBRightBottom.value}}});r.exports=a},56654:(r,p,a)=>{var m=a(83419),g=a(50792),d=a(92734),b=a(99125),e=a(35154);p=a(89639);var h=a(8214);a=new m({Extends:g,initialize:function(c){g.call(this);this.scene=c.scene;this.settings=this.scene.sys.settings;this.sceneInputPlugin=c;this.enabled=!0;this.gamepads=[];this.queue=[];c.pluginEvents.once(h.BOOT,this.boot,this);c.pluginEvents.on(h.START,this.start,this)},boot:function(){var c=this.scene.sys.game,l=this.settings.input,
f=c.config;this.enabled=e(l,"gamepad",f.inputGamepad)&&c.device.input.gamepads;this.target=e(l,"gamepad.target",f.inputGamepadEventTarget);this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads());this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var c=this,l=this.target,f=function(k){!k.defaultPrevented&&
c.isActive()&&(c.refreshPads(),c.queue.push(k))};this.onGamepadHandler=f;l.addEventListener("gamepadconnected",f,!1);l.addEventListener("gamepaddisconnected",f,!1);this.sceneInputPlugin.pluginEvents.on(h.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler);this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler);this.sceneInputPlugin.pluginEvents.off(h.UPDATE,this.update);for(var c=0;c<this.gamepads.length;c++)this.gamepads[c].removeAllListeners()},
disconnectAll:function(){for(var c=0;c<this.gamepads.length;c++)this.gamepads[c].pad.connected=!1},refreshPads:function(){var c=navigator.getGamepads();if(c)for(var l=this.gamepads,f=0;f<c.length;f++){var k=c[f];if(k){var n=k.id,q=k.index,t=l[q];t?t.id!==n?(t.destroy(),l[q]=new b(this,k)):t.update(k):(k=new b(this,k),l[q]=k,this._pad1)?this._pad2?this._pad3?this._pad4||(this._pad4=k):this._pad3=k:this._pad2=k:this._pad1=k}}else this.disconnectAll()},getAll:function(){for(var c=[],l=this.gamepads,
f=0;f<l.length;f++)l[f]&&c.push(l[f]);return c},getPad:function(c){for(var l=this.gamepads,f=0;f<l.length;f++)if(l[f]&&l[f].index===c)return l[f]},update:function(){if(this.enabled){this.refreshPads();var c=this.queue.length;if(0!==c)for(var l=this.queue.splice(0,c),f=0;f<c;f++){var k=l[f],n=this.getPad(k.gamepad.index);"gamepadconnected"===k.type?this.emit(d.CONNECTED,n,k):"gamepaddisconnected"===k.type&&this.emit(d.DISCONNECTED,n,k)}}},shutdown:function(){this.stopListeners();this.removeAllListeners()},
destroy:function(){this.shutdown();for(var c=0;c<this.gamepads.length;c++)this.gamepads[c]&&this.gamepads[c].destroy();this.gamepads=[];this.target=this.sceneInputPlugin=this.settings=this.scene=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});p.register("GamepadPlugin",a,"gamepad","gamepad","inputGamepad");r.exports=a},89651:r=>
{r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:r=>{r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:r=>{r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},
64894:(r,p,a)=>{r.exports={DUALSHOCK_4:a(65294),SNES_USB:a(89651),XBOX_360:a(90089)}},46008:r=>{r.exports="down"},7629:r=>{r.exports="up"},42206:r=>{r.exports="connected"},86544:r=>{r.exports="disconnected"},94784:r=>{r.exports="down"},14325:r=>{r.exports="up"},92734:(r,p,a)=>{r.exports={BUTTON_DOWN:a(46008),BUTTON_UP:a(7629),CONNECTED:a(42206),DISCONNECTED:a(86544),GAMEPAD_BUTTON_DOWN:a(94784),GAMEPAD_BUTTON_UP:a(14325)}},48646:(r,p,a)=>{r.exports={Axis:a(97421),Button:a(28884),Events:a(92734),Gamepad:a(99125),
GamepadPlugin:a(56654),Configs:a(64894)}},14350:(r,p,a)=>{p=a(93301);var m=a(79291);a={CreatePixelPerfectHandler:a(84409),CreateInteractiveObject:a(74457),Events:a(8214),Gamepad:a(48646),InputManager:a(7003),InputPlugin:a(48205),InputPluginCache:a(89639),Keyboard:a(51442),Mouse:a(87078),Pointer:a(42515),Touch:a(95618)};a=m(!1,a,p);r.exports=a},78970:(r,p,a)=>{var m=a(72905);p=a(83419);var g=a(8443),d=a(8214),b=a(46032),e=a(29747);a=new p({initialize:function(h){this.manager=h;this.queue=[];this.preventDefault=
!0;this.captures=[];this.enabled=!1;this.onKeyUp=this.onKeyDown=e;h.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard;this.target=h.inputKeyboardEventTarget;this.addCapture(h.inputKeyboardCapture);!this.target&&window&&(this.target=window);this.enabled&&this.target&&this.startListeners();this.manager.game.events.on(g.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(l){if(!l.defaultPrevented&&
h.enabled&&h.manager){h.queue.push(l);h.manager.events.emit(d.MANAGER_PROCESS);var f=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;h.preventDefault&&!f&&-1<h.captures.indexOf(l.keyCode)&&l.preventDefault()}};this.onKeyUp=function(l){if(!l.defaultPrevented&&h.enabled&&h.manager){h.queue.push(l);h.manager.events.emit(d.MANAGER_PROCESS);var f=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;h.preventDefault&&!f&&-1<h.captures.indexOf(l.keyCode)&&l.preventDefault()}};var c=this.target;c&&(c.addEventListener("keydown",
this.onKeyDown,!1),c.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1);h.removeEventListener("keyup",this.onKeyUp,!1);this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){"string"===typeof h&&(h=h.split(","));Array.isArray(h)||(h=[h]);for(var c=this.captures,l=0;l<h.length;l++){var f=h[l];"string"===typeof f&&(f=b[f.trim().toUpperCase()]);-1===c.indexOf(f)&&c.push(f)}this.preventDefault=
0<c.length},removeCapture:function(h){"string"===typeof h&&(h=h.split(","));Array.isArray(h)||(h=[h]);for(var c=this.captures,l=0;l<h.length;l++){var f=h[l];"string"===typeof f&&(f=b[f.toUpperCase()]);m(c,f)}this.preventDefault=0<c.length},clearCaptures:function(){this.captures=[];this.preventDefault=!1},destroy:function(){this.stopListeners();this.clearCaptures();this.queue=[];this.manager.game.events.off(g.POST_RENDER,this.postUpdate,this);this.target=null;this.enabled=!1;this.manager=null}});r.exports=
a},28846:(r,p,a)=>{var m=a(83419),g=a(50792),d=a(95922),b=a(8443),e=a(35154),h=a(8214);p=a(89639);var c=a(30472),l=a(46032),f=a(87960),k=a(74600),n=a(44594),q=a(56583);a=new m({Extends:g,initialize:function(t){g.call(this);this.game=t.systems.game;this.scene=t.scene;this.settings=this.scene.sys.settings;this.sceneInputPlugin=t;this.manager=t.manager.keyboard;this.enabled=!0;this.keys=[];this.combos=[];this.prevCode=null;this.prevTime=0;this.prevType=null;t.pluginEvents.once(h.BOOT,this.boot,this);
t.pluginEvents.on(h.START,this.start,this)},boot:function(){var t=this.settings.input;this.enabled=e(t,"keyboard",!0);(t=e(t,"keyboard.capture",null))&&this.addCaptures(t);this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(h.MANAGER_PROCESS,this.update,this);this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this);this.game.events.on(b.BLUR,this.resetKeys,this);this.scene.sys.events.on(n.PAUSE,this.resetKeys,
this);this.scene.sys.events.on(n.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(t){this.manager.addCapture(t);return this},removeCapture:function(t){this.manager.removeCapture(t);return this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){this.manager.preventDefault=!0;return this},disableGlobalCapture:function(){this.manager.preventDefault=!1;return this},clearCaptures:function(){this.manager.clearCaptures();
return this},createCursorKeys:function(){return this.addKeys({up:l.UP,down:l.DOWN,left:l.LEFT,right:l.RIGHT,space:l.SPACE,shift:l.SHIFT})},addKeys:function(t,v,u){void 0===v&&(v=!0);void 0===u&&(u=!1);var x={};if("string"===typeof t){t=t.split(",");for(var w=0;w<t.length;w++){var y=t[w].trim();y&&(x[y]=this.addKey(y,v,u))}}else for(w in t)x[w]=this.addKey(t[w],v,u);return x},addKey:function(t,v,u){void 0===v&&(v=!0);void 0===u&&(u=!1);var x=this.keys;if(t instanceof c){var w=x.indexOf(t);-1<w?x[w]=
t:x[t.keyCode]=t;v&&this.addCapture(t.keyCode);t.setEmitOnRepeat(u);return t}"string"===typeof t&&(t=l[t.toUpperCase()]);x[t]||(x[t]=new c(this,t),v&&this.addCapture(t),x[t].setEmitOnRepeat(u));return x[t]},removeKey:function(t,v,u){void 0===v&&(v=!1);void 0===u&&(u=!1);var x=this.keys;if(t instanceof c){var w=x.indexOf(t);if(-1<w){var y=this.keys[w];this.keys[w]=void 0}}else"string"===typeof t&&(t=l[t.toUpperCase()]);x[t]&&(y=x[t],x[t]=void 0);y&&(y.plugin=null,u&&this.removeCapture(y.keyCode),v&&
y.destroy());return this},removeAllKeys:function(t,v){void 0===t&&(t=!1);void 0===v&&(v=!1);for(var u=this.keys,x=0;x<u.length;x++){var w=u[x];w&&(u[x]=void 0,v&&this.removeCapture(w.keyCode),t&&w.destroy())}return this},createCombo:function(t,v){return new f(this,t,v)},checkDown:function(t,v){void 0===v&&(v=0);return this.enabled&&t.isDown&&(v=q(this.time-t.timeDown,v),v>t._tick)?(t._tick=v,!0):!1},update:function(){var t=this.manager.queue,v=t.length;if(this.isActive()&&0!==v)for(var u=this.keys,
x=0;x<v;x++){var w=t[x],y=w.keyCode,z=u[y],C=!1;void 0===w.cancelled&&(w.cancelled=0,w.stopImmediatePropagation=function(){w.cancelled=1},w.stopPropagation=function(){w.cancelled=-1});if(-1!==w.cancelled&&(y!==this.prevCode||w.timeStamp!==this.prevTime||w.type!==this.prevType)){this.prevCode=y;this.prevTime=w.timeStamp;this.prevType=w.type;if("keydown"===w.type)z&&(C=z.isDown,z.onDown(w)),w.cancelled||z&&C||(k[y]&&this.emit(d.KEY_DOWN+k[y],w),w.cancelled||this.emit(d.ANY_KEY_DOWN,w));else{if(z)z.onUp(w);
w.cancelled||(k[y]&&this.emit(d.KEY_UP+k[y],w),w.cancelled||this.emit(d.ANY_KEY_UP,w))}1===w.cancelled&&(w.cancelled=0)}}},resetKeys:function(){for(var t=this.keys,v=0;v<t.length;v++)t[v]&&t[v].reset();return this},shutdown:function(){this.removeAllKeys(!0);this.removeAllListeners();this.sceneInputPlugin.manager.events.off(h.MANAGER_PROCESS,this.update,this);this.game.events.off(b.BLUR,this.resetKeys);this.scene.sys.events.off(n.PAUSE,this.resetKeys,this);this.scene.sys.events.off(n.SLEEP,this.resetKeys,
this);this.queue=[]},destroy:function(){this.shutdown();for(var t=this.keys,v=0;v<t.length;v++)t[v]&&t[v].destroy();this.keys=[];this.combos=[];this.queue=[];this.manager=this.sceneInputPlugin=this.settings=this.scene=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});p.register("KeyboardPlugin",a,"keyboard","keyboard","inputKeyboard");r.exports=a},66970:r=>{r.exports=function(p,a){a.timeLastMatched=p.timeStamp;a.index++;if(a.index===a.size)return!0;a.current=a.keyCodes[a.index];
return!1}},87960:(r,p,a)=>{p=a(83419);var m=a(95922),g=a(95540),d=a(68769),b=a(92803);a=new p({initialize:function(e,h,c){void 0===c&&(c={});if(2>h.length)return!1;this.manager=e;this.enabled=!0;this.keyCodes=[];for(e=0;e<h.length;e++){var l=h[e];"string"===typeof l?this.keyCodes.push(l.toUpperCase().charCodeAt(0)):"number"===typeof l?this.keyCodes.push(l):l.hasOwnProperty("keyCode")&&this.keyCodes.push(l.keyCode)}this.current=this.keyCodes[0];this.index=0;this.size=this.keyCodes.length;this.timeLastMatched=
0;this.matched=!1;this.timeMatched=0;this.resetOnWrongKey=g(c,"resetOnWrongKey",!0);this.maxKeyDelay=g(c,"maxKeyDelay",0);this.resetOnMatch=g(c,"resetOnMatch",!1);this.deleteOnMatch=g(c,"deleteOnMatch",!1);var f=this;this.onKeyDown=function(k){!f.matched&&f.enabled&&d(k,f)&&(f.manager.emit(m.COMBO_MATCH,f,k),f.resetOnMatch?b(f):f.deleteOnMatch&&f.destroy())};this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1;this.keyCodes=
[];this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown);this.manager=null}});r.exports=a},68769:(r,p,a)=>{var m=a(66970);r.exports=function(g,d){if(d.matched)return!0;var b=!1,e=!1;g.keyCode===d.current&&(0<d.index&&0<d.maxKeyDelay?g.timeStamp<=d.timeLastMatched+d.maxKeyDelay&&(e=!0,b=m(g,d)):(e=!0,b=m(g,d)));!e&&d.resetOnWrongKey&&(d.index=0,d.current=d.keyCodes[0]);b&&(d.timeLastMatched=g.timeStamp,d.matched=!0,d.timeMatched=g.timeStamp);return b}},92803:r=>{r.exports=function(p){p.current=p.keyCodes[0];
p.index=0;p.timeLastMatched=0;p.matched=!1;p.timeMatched=0;return p}},92612:r=>{r.exports="keydown"},23345:r=>{r.exports="keyup"},21957:r=>{r.exports="keycombomatch"},44743:r=>{r.exports="down"},3771:r=>{r.exports="keydown-"},46358:r=>{r.exports="keyup-"},75674:r=>{r.exports="up"},95922:(r,p,a)=>{r.exports={ANY_KEY_DOWN:a(92612),ANY_KEY_UP:a(23345),COMBO_MATCH:a(21957),DOWN:a(44743),KEY_DOWN:a(3771),KEY_UP:a(46358),UP:a(75674)}},51442:(r,p,a)=>{r.exports={Events:a(95922),KeyboardManager:a(78970),
KeyboardPlugin:a(28846),Key:a(30472),KeyCodes:a(46032),KeyCombo:a(87960),AdvanceKeyCombo:a(66970),ProcessKeyCombo:a(68769),ResetKeyCombo:a(92803),JustDown:a(90229),JustUp:a(38796),DownDuration:a(37015),UpDuration:a(41170)}},37015:r=>{r.exports=function(p,a){void 0===a&&(a=50);var m=p.plugin.game.loop.time-p.timeDown;return p.isDown&&m<a}},90229:r=>{r.exports=function(p){return p._justDown?(p._justDown=!1,!0):!1}},38796:r=>{r.exports=function(p){return p._justUp?(p._justUp=!1,!0):!1}},30472:(r,p,a)=>
{p=a(83419);var m=a(50792),g=a(95922);a=new p({Extends:m,initialize:function(d,b){m.call(this);this.plugin=d;this.keyCode=b;this.originalEvent=void 0;this.enabled=!0;this.isDown=!1;this.isUp=!0;this.metaKey=this.shiftKey=this.ctrlKey=this.altKey=!1;this.timeUp=this.duration=this.timeDown=this.location=0;this.emitOnRepeat=!1;this.repeats=0;this._justUp=this._justDown=!1;this._tick=-1},setEmitOnRepeat:function(d){this.emitOnRepeat=d;return this},onDown:function(d){this.originalEvent=d;this.enabled&&
(this.altKey=d.altKey,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.location=d.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(g.DOWN,this,d):(this.isDown=!0,this.isUp=!1,this.timeDown=d.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(g.DOWN,this,d)))},onUp:function(d){this.originalEvent=d;this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=d.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=
!0,this._tick=-1,this.emit(g.UP,this,d))},reset:function(){this.isDown=!1;this.isUp=!0;this.metaKey=this.shiftKey=this.ctrlKey=this.altKey=!1;this.repeats=this.timeUp=this.duration=this.timeDown=0;this._justUp=this._justDown=!1;this._tick=-1;return this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners();this.plugin=this.originalEvent=null}});r.exports=a},46032:r=>{r.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,
ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,
Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(r,p,a)=>{p=a(46032);a={};for(var m in p)a[p[m]]=m;r.exports=a},41170:r=>{r.exports=function(p,
a){void 0===a&&(a=50);var m=p.plugin.game.loop.time-p.timeUp;return p.isUp&&m<a}},85098:(r,p,a)=>{p=a(83419);var m=a(89357),g=a(8214),d=a(29747);a=new p({initialize:function(b){this.manager=b;this.preventDefaultMove=this.preventDefaultUp=this.preventDefaultDown=!0;this.locked=this.enabled=this.preventDefaultWheel=!1;this.pointerLockChange=this.onMouseWheel=this.onMouseOut=this.onMouseOver=this.onMouseUpWindow=this.onMouseDownWindow=this.onMouseUp=this.onMouseDown=this.onMouseMove=d;this.isTop=!0;
b.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var b=this.manager.config;this.enabled=b.inputMouse;this.target=b.inputMouseEventTarget;this.passive=b.inputMousePassive;this.preventDefaultDown=b.inputMousePreventDefaultDown;this.preventDefaultUp=b.inputMousePreventDefaultUp;this.preventDefaultMove=b.inputMousePreventDefaultMove;this.preventDefaultWheel=b.inputMousePreventDefaultWheel;this.target?"string"===typeof this.target&&(this.target=document.getElementById(this.target)):this.target=
this.manager.game.canvas;b.disableContextMenu&&this.disableContextMenu();this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){this.target.addEventListener("contextmenu",function(b){b.preventDefault();return!1});return this},requestPointerLock:function(){if(m.pointerLock){var b=this.target;b.requestPointerLock=b.requestPointerLock||b.mozRequestPointerLock||b.webkitRequestPointerLock;b.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=
document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var b=this.target;if(b){var e=this,h=this.manager,c=h.canvas,l=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(k){!k.defaultPrevented&&e.enabled&&h&&h.enabled&&(h.onMouseMove(k),e.preventDefaultMove&&k.preventDefault())};this.onMouseDown=function(k){l&&window.focus();!k.defaultPrevented&&e.enabled&&h&&h.enabled&&(h.onMouseDown(k),e.preventDefaultDown&&
k.target===c&&k.preventDefault())};this.onMouseDownWindow=function(k){if(!(k.sourceCapabilities&&k.sourceCapabilities.firesTouchEvents||k.defaultPrevented)&&e.enabled&&h&&h.enabled&&k.target!==c)h.onMouseDown(k)};this.onMouseUp=function(k){!k.defaultPrevented&&e.enabled&&h&&h.enabled&&(h.onMouseUp(k),e.preventDefaultUp&&k.target===c&&k.preventDefault())};this.onMouseUpWindow=function(k){if(!(k.sourceCapabilities&&k.sourceCapabilities.firesTouchEvents||k.defaultPrevented)&&e.enabled&&h&&h.enabled&&
k.target!==c)h.onMouseUp(k)};this.onMouseOver=function(k){!k.defaultPrevented&&e.enabled&&h&&h.enabled&&h.setCanvasOver(k)};this.onMouseOut=function(k){!k.defaultPrevented&&e.enabled&&h&&h.enabled&&h.setCanvasOut(k)};this.onMouseWheel=function(k){if(!k.defaultPrevented&&e.enabled&&h&&h.enabled)h.onMouseWheel(k);e.preventDefaultWheel&&k.target===c&&k.preventDefault()};var f={passive:!0};b.addEventListener("mousemove",this.onMouseMove);b.addEventListener("mousedown",this.onMouseDown);b.addEventListener("mouseup",
this.onMouseUp);b.addEventListener("mouseover",this.onMouseOver,f);b.addEventListener("mouseout",this.onMouseOut,f);this.preventDefaultWheel?b.addEventListener("wheel",this.onMouseWheel,{passive:!1}):b.addEventListener("wheel",this.onMouseWheel,f);if(window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch(k){window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",
this.onMouseUpWindow,f),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(k){var n=e.target;e.locked=document.pointerLockElement===n||document.mozPointerLockElement===n||document.webkitPointerLockElement===n?!0:!1;h.onPointerLockChange(k)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0));this.enabled=!0}},stopListeners:function(){var b=
this.target;b.removeEventListener("mousemove",this.onMouseMove);b.removeEventListener("mousedown",this.onMouseDown);b.removeEventListener("mouseup",this.onMouseUp);b.removeEventListener("mouseover",this.onMouseOver);b.removeEventListener("mouseout",this.onMouseOut);window&&(b=this.isTop?window.top:window,b.removeEventListener("mousedown",this.onMouseDownWindow),b.removeEventListener("mouseup",this.onMouseUpWindow));m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,
!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners();this.target=null;this.enabled=!1;this.manager=null}});r.exports=a},87078:(r,p,a)=>{r.exports={MouseManager:a(85098)}},36210:(r,p,a)=>{p=a(83419);var m=a(8214),g=a(29747);a=new p({initialize:function(d){this.manager=d;this.capture=!0;this.enabled=!1;this.onTouchCancelWindow=this.onTouchCancel=this.onTouchEndWindow=
this.onTouchEnd=this.onTouchMove=this.onTouchStartWindow=this.onTouchStart=g;this.isTop=!0;d.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var d=this.manager.config;this.enabled=d.inputTouch;this.target=d.inputTouchEventTarget;this.capture=d.inputTouchCapture;this.target?"string"===typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas;d.disableContextMenu&&this.disableContextMenu();this.enabled&&this.target&&this.startListeners()},
disableContextMenu:function(){this.target.addEventListener("contextmenu",function(d){d.preventDefault();return!1});return this},startListeners:function(){var d=this.target;if(d){var b=this,e=this.manager,h=e.canvas,c=window&&window.focus&&e.game.config.autoFocus;this.onTouchMove=function(n){!n.defaultPrevented&&b.enabled&&e&&e.enabled&&(e.onTouchMove(n),b.capture&&n.cancelable&&n.preventDefault())};this.onTouchStart=function(n){c&&window.focus();!n.defaultPrevented&&b.enabled&&e&&e.enabled&&(e.onTouchStart(n),
b.capture&&n.cancelable&&n.target===h&&n.preventDefault())};this.onTouchStartWindow=function(n){if(!n.defaultPrevented&&b.enabled&&e&&e.enabled&&n.target!==h)e.onTouchStart(n)};this.onTouchEnd=function(n){!n.defaultPrevented&&b.enabled&&e&&e.enabled&&(e.onTouchEnd(n),b.capture&&n.cancelable&&n.target===h&&n.preventDefault())};this.onTouchEndWindow=function(n){if(!n.defaultPrevented&&b.enabled&&e&&e.enabled&&n.target!==h)e.onTouchEnd(n)};this.onTouchCancel=function(n){!n.defaultPrevented&&b.enabled&&
e&&e.enabled&&(e.onTouchCancel(n),b.capture&&n.preventDefault())};this.onTouchCancelWindow=function(n){if(!n.defaultPrevented&&b.enabled&&e&&e.enabled)e.onTouchCancel(n)};var l=this.capture,f={passive:!0},k={passive:!1};d.addEventListener("touchstart",this.onTouchStart,l?k:f);d.addEventListener("touchmove",this.onTouchMove,l?k:f);d.addEventListener("touchend",this.onTouchEnd,l?k:f);d.addEventListener("touchcancel",this.onTouchCancel,l?k:f);if(window&&e.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",
this.onTouchStartWindow,k),window.top.addEventListener("touchend",this.onTouchEndWindow,k),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,k)}catch(n){window.addEventListener("touchstart",this.onTouchStartWindow,k),window.addEventListener("touchend",this.onTouchEndWindow,k),window.addEventListener("touchcancel",this.onTouchCancelWindow,k),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var d=this.target;d.removeEventListener("touchstart",this.onTouchStart);d.removeEventListener("touchmove",
this.onTouchMove);d.removeEventListener("touchend",this.onTouchEnd);d.removeEventListener("touchcancel",this.onTouchCancel);window&&(d=this.isTop?window.top:window,d.removeEventListener("touchstart",this.onTouchStartWindow),d.removeEventListener("touchend",this.onTouchEndWindow),d.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners();this.target=null;this.enabled=!1;this.manager=null}});r.exports=a},95618:(r,p,a)=>{r.exports={TouchManager:a(36210)}},
41299:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(54899),d=a(95540),b=a(98356),e=a(3374),h=a(84376),c=a(92638);a=new p({initialize:function(l,f){this.loader=l;this.cache=d(f,"cache",!1);this.type=d(f,"type",!1);if(!this.type)throw Error("Invalid File type: "+this.type);var k=this.key=d(f,"key",!1);l.prefix&&""!==l.prefix&&(this.key=l.prefix+k);if(!this.key)throw Error("Invalid File key: "+this.key);var n=d(f,"url");void 0===n?n=l.path+k+"."+d(f,"extension",""):"string"!==typeof n||n.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)||
(n=l.path+n);this.url=n;this.src="";this.xhrSettings=c(d(f,"responseType",void 0));d(f,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,d(f,"xhrSettings",{})));this.xhrLoader=null;this.state="function"===typeof this.url?m.FILE_POPULATED:m.FILE_PENDING;this.bytesTotal=0;this.percentComplete=this.bytesLoaded=-1;this.data=this.crossOrigin=void 0;this.config=d(f,"config",{});this.base64="string"===typeof n&&0===n.indexOf("data:")},setLink:function(l){this.linkFile=l;l.linkFile=this},resetXHR:function(){this.xhrLoader&&
(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===m.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=m.FILE_LOADING,this.src=b(this,this.loader.baseURL),0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=h(this,this.loader.xhr))},onLoad:function(l,f){var k=l.responseURL&&this.loader.localSchemes.some(function(n){return 0===l.responseURL.indexOf(n)})&&0===f.target.status;f=!(f.target&&200!==f.target.status)||
k;4===l.readyState&&400<=l.status&&599>=l.status&&(f=!1);this.state=m.FILE_LOADED;this.resetXHR();this.loader.nextFile(this,f)},onBase64Load:function(l){this.xhrLoader=l;this.state=m.FILE_LOADED;this.percentComplete=1;this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete);this.loader.nextFile(this,!0)},onError:function(){this.resetXHR();this.loader.nextFile(this,!1)},onProgress:function(l){l.lengthComputable&&(this.bytesLoaded=l.loaded,this.bytesTotal=l.total,this.percentComplete=Math.min(this.bytesLoaded/
this.bytesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING;this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE;if(this.multiFile)this.multiFile.onFileComplete(this);this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key);this.state=m.FILE_ERRORED;if(this.multiFile)this.multiFile.onFileFailed(this);this.loader.fileProcessComplete(this)},
hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(l){if(this.state!==m.FILE_PENDING_DESTROY){void 0===l&&(l=this.data);var f=this.key,k=this.type;this.loader.emit(g.FILE_COMPLETE,f,k,l);this.loader.emit(g.FILE_KEY_COMPLETE+k+"-"+f,f,k,l);this.loader.flagForRemoval(this);this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.data=this.linkFile=this.multiFile=this.xhrSettings=
this.cache=this.loader=null}});a.createObjectURL=function(l,f,k){if("function"===typeof URL)l.src=URL.createObjectURL(f);else{var n=new FileReader;n.onload=function(){l.removeAttribute("crossOrigin");l.src="data:"+(f.type||k)+";base64,"+n.result.split(",")[1]};n.onerror=l.onerror;n.readAsDataURL(f)}};a.revokeObjectURL=function(l){"function"===typeof URL&&URL.revokeObjectURL(l.src)};r.exports=a},74099:r=>{var p={};r.exports={install:function(a){for(var m in p)a[m]=p[m]},register:function(a,m){p[a]=
m},destroy:function(){p={}}}},98356:r=>{r.exports=function(p,a){return p.url?p.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?p.url:a+p.url:!1}},74261:(r,p,a)=>{var m=a(83419),g=a(23906),d=a(35072),b=a(50792),e=a(54899),h=a(74099),c=a(95540),l=a(35154);p=a(37277);var f=a(44594),k=a(92638);a=new m({Extends:b,initialize:function(n){b.call(this);var q=n.sys.game.config,t=n.sys.settings.loader;this.scene=n;this.systems=n.sys;this.cacheManager=n.sys.cache;this.textureManager=n.sys.textures;
this.sceneManager=n.sys.game.scene;h.install(this);this.baseURL=this.path=this.prefix="";this.setBaseURL(c(t,"baseURL",q.loaderBaseURL));this.setPath(c(t,"path",q.loaderPath));this.setPrefix(c(t,"prefix",q.loaderPrefix));this.maxParallelDownloads=c(t,"maxParallelDownloads",q.loaderMaxParallelDownloads);this.xhr=k(c(t,"responseType",q.loaderResponseType),c(t,"async",q.loaderAsync),c(t,"user",q.loaderUser),c(t,"password",q.loaderPassword),c(t,"timeout",q.loaderTimeout),c(t,"withCredentials",q.loaderWithCredentials));
this.crossOrigin=c(t,"crossOrigin",q.loaderCrossOrigin);this.imageLoadType=c(t,"imageLoadType",q.loaderImageLoadType);this.localSchemes=c(t,"localScheme",q.loaderLocalScheme);this.progress=this.totalToLoad=0;this.list=new d;this.inflight=new d;this.queue=new d;this._deleteQueue=new d;this.totalComplete=this.totalFailed=0;this.state=g.LOADER_IDLE;this.multiKeyIndex=0;n.sys.events.once(f.BOOT,this.boot,this);n.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,
this.destroy,this)},pluginStart:function(){this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},setBaseURL:function(n){void 0===n&&(n="");""!==n&&"/"!==n.substr(-1)&&(n=n.concat("/"));this.baseURL=n;return this},setPath:function(n){void 0===n&&(n="");""!==n&&"/"!==n.substr(-1)&&(n=n.concat("/"));this.path=n;return this},setPrefix:function(n){void 0===n&&(n="");this.prefix=n;return this},setCORS:function(n){this.crossOrigin=n;return this},addFile:function(n){Array.isArray(n)||(n=[n]);for(var q=
0;q<n.length;q++){var t=n[q];this.keyExists(t)||(this.list.set(t),this.emit(e.ADD,t.key,t.type,this,t),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(n){var q=n.hasCacheConflict();q||this.list.iterate(function(t){if(t.type===n.type&&t.key===n.key)return q=!0,!1});!q&&this.isLoading()&&(this.inflight.iterate(function(t){if(t.type===n.type&&t.key===n.key)return q=!0,!1}),this.queue.iterate(function(t){if(t.type===n.type&&t.key===n.key)return q=!0,!1}));return q},
addPack:function(n,q){"string"===typeof q&&(q=l(n,q))&&(n={packKey:q});q=0;var t=this.baseURL,v=this.path,u=this.prefix,x;for(x in n)if(Object.prototype.hasOwnProperty.call(n,x)){var w=n[x],y=c(w,"baseURL",t),z=c(w,"path",v),C=c(w,"prefix",u),A=c(w,"files",null);w=c(w,"defaultType","void");if(Array.isArray(A))for(this.setBaseURL(y),this.setPath(z),this.setPrefix(C),y=0;y<A.length;y++)z=A[y],C=z.hasOwnProperty("type")?z.type:w,this[C]&&(this[C](z),q++)}this.setBaseURL(t);this.setPath(v);this.setPrefix(u);
return 0<q},isLoading:function(){return this.state===g.LOADER_LOADING||this.state===g.LOADER_PROCESSING},isReady:function(){return this.state===g.LOADER_IDLE||this.state===g.LOADER_COMPLETE},start:function(){this.isReady()&&(this.totalComplete=this.totalFailed=this.progress=0,this.totalToLoad=this.list.size,this.emit(e.START,this),0===this.list.size?this.loadComplete():(this.state=g.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(f.UPDATE,
this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad;this.emit(e.PROGRESS,this.progress)},update:function(){this.state===g.LOADER_LOADING&&0<this.list.size&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(n){if(n.state===g.FILE_POPULATED||n.state===g.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)this.inflight.set(n),this.list.delete(n),n.crossOrigin||(n.crossOrigin=
this.crossOrigin),n.load();if(this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(n,q){this.inflight&&(this.inflight.delete(n),this.updateProgress(),q?(this.totalComplete++,this.queue.set(n),this.emit(e.FILE_LOAD,n),n.onProcess()):(this.totalFailed++,this._deleteQueue.set(n),this.emit(e.FILE_LOAD_ERROR,n),this.fileProcessComplete(n)))},fileProcessComplete:function(n){if(this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy){if(n.state===g.FILE_ERRORED){if(n.multiFile)n.multiFile.onFileFailed(n)}else n.state===
g.FILE_COMPLETE&&(n.multiFile?n.multiFile.isReadyToProcess()&&(n.multiFile.addToCache(),n.multiFile.pendingDestroy()):(n.addToCache(),n.pendingDestroy()));this.queue.delete(n);0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete()}},loadComplete:function(){this.emit(e.POST_PROCESS,this);this.list.clear();this.inflight.clear();this.queue.clear();this.progress=1;this.state=g.LOADER_COMPLETE;this.systems.events.off(f.UPDATE,this.update,this);this._deleteQueue.iterateLocal("destroy");
this._deleteQueue.clear();this.emit(e.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(n){this._deleteQueue.set(n)},saveJSON:function(n,q){return this.save(JSON.stringify(n),q)},save:function(n,q,t){void 0===q&&(q="file.json");void 0===t&&(t="application/json");n=new Blob([n],{type:t});n=URL.createObjectURL(n);t=document.createElement("a");t.download=q;t.textContent="Download "+q;t.href=n;t.click();return this},reset:function(){this.list.clear();this.inflight.clear();this.queue.clear();
var n=this.systems.game.config,q=this.systems.settings.loader;this.setBaseURL(c(q,"baseURL",n.loaderBaseURL));this.setPath(c(q,"path",n.loaderPath));this.setPrefix(c(q,"prefix",n.loaderPrefix));this.state=g.LOADER_IDLE},shutdown:function(){this.reset();this.state=g.LOADER_SHUTDOWN;this.removeAllListeners();this.systems.events.off(f.UPDATE,this.update,this);this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.state=g.LOADER_DESTROYED;this.systems.events.off(f.UPDATE,
this.update,this);this.systems.events.off(f.START,this.pluginStart,this);this.sceneManager=this.cacheManager=this.textureManager=this.systems=this.scene=this.queue=this.inflight=this.list=null}});p.register("Loader",a,"load");r.exports=a},3374:(r,p,a)=>{var m=a(79291),g=a(92638);r.exports=function(d,b){d=void 0===d?g():m({},d);if(b)for(var e in b)void 0!==b[e]&&(d[e]=b[e]);return d}},26430:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(54899);a=new p({initialize:function(d,b,e,h){var c=[];h.forEach(function(l){l&&
c.push(l)});this.loader=d;this.type=b;b=this.key=e;d.prefix&&""!==d.prefix&&(this.key=d.prefix+b);this.multiKeyIndex=d.multiKeyIndex++;this.files=c;this.state=m.FILE_PENDING;this.complete=!1;this.pending=c.length;this.failed=0;this.config={};this.baseURL=d.baseURL;this.path=d.path;this.prefix=d.prefix;for(d=0;d<c.length;d++)c[d].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(d){this.files.push(d);d.multiFile=this;this.pending++;
this.complete=!1;return this},onFileComplete:function(d){-1!==this.files.indexOf(d)&&this.pending--},onFileFailed:function(d){-1!==this.files.indexOf(d)&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,d.type,d.key))},pendingDestroy:function(){if(this.state!==m.FILE_PENDING_DESTROY){var d=this.key,b=this.type;this.loader.emit(g.FILE_COMPLETE,d,b);this.loader.emit(g.FILE_KEY_COMPLETE+b+"-"+d,d,b);this.loader.flagForRemoval(this);for(d=0;d<this.files.length;d++)this.files[d].pendingDestroy();
this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.config=this.files=this.loader=null}});r.exports=a},84376:(r,p,a)=>{var m=a(3374);r.exports=function(g,d){d=m(d,g.xhrSettings);if(g.base64){var b=g.url.split(";base64,").pop()||g.url.split(",").pop();b={responseText:atob(b)};g.onBase64Load(b)}else{var e=new XMLHttpRequest;e.open("GET",g.src,d.async,d.user,d.password);e.responseType=g.xhrSettings.responseType;e.timeout=d.timeout;if(d.headers)for(b in d.headers)e.setRequestHeader(b,d.headers[b]);
d.header&&d.headerValue&&e.setRequestHeader(d.header,d.headerValue);d.requestedWith&&e.setRequestHeader("X-Requested-With",d.requestedWith);d.overrideMimeType&&e.overrideMimeType(d.overrideMimeType);d.withCredentials&&(e.withCredentials=!0);e.onload=g.onLoad.bind(g,e);e.onerror=g.onError.bind(g,e);e.onprogress=g.onProgress.bind(g);e.ontimeout=g.onError.bind(g,e);e.send();return e}}},92638:r=>{r.exports=function(p,a,m,g,d,b){void 0===p&&(p="");void 0===a&&(a=!0);void 0===m&&(m="");void 0===g&&(g="");
void 0===d&&(d=0);void 0===b&&(b=!1);return{responseType:p,async:a,user:m,password:g,timeout:d,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:b}}},23906:r=>{r.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},
42155:r=>{r.exports="addfile"},38991:r=>{r.exports="complete"},27540:r=>{r.exports="filecomplete"},87464:r=>{r.exports="filecomplete-"},94486:r=>{r.exports="loaderror"},13035:r=>{r.exports="load"},38144:r=>{r.exports="fileprogress"},97520:r=>{r.exports="postprocess"},85595:r=>{r.exports="progress"},55680:r=>{r.exports="start"},54899:(r,p,a)=>{r.exports={ADD:a(42155),COMPLETE:a(38991),FILE_COMPLETE:a(27540),FILE_KEY_COMPLETE:a(87464),FILE_LOAD_ERROR:a(94486),FILE_LOAD:a(13035),FILE_PROGRESS:a(38144),
POST_PROCESS:a(97520),PROGRESS:a(85595),START:a(55680)}},14135:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(518),d=a(54899),b=new p({Extends:g,initialize:function(e,h,c,l,f){g.call(this,e,h,c,l,f);this.type="animationJSON"},onProcess:function(){this.loader.once(d.POST_PROCESS,this.onLoadComplete,this);g.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(e,h,c,l){if(Array.isArray(e))for(h=0;h<e.length;h++)this.addFile(new b(this,
e[h]));else this.addFile(new b(this,e,h,l,c));return this});r.exports=b},76272:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(95540),d=a(19550),b=a(41212),e=a(518),h=a(26430),c=new p({Extends:h,initialize:function(l,f,k,n,q,t){b(f)?(n=f,f=g(n,"key"),k=new d(l,{key:f,url:g(n,"textureURL"),extension:g(n,"textureExtension","png"),normalMap:g(n,"normalMap"),xhrSettings:g(n,"textureXhrSettings")}),n=new e(l,{key:f,url:g(n,"atlasURL"),extension:g(n,"atlasExtension","json"),xhrSettings:g(n,"atlasXhrSettings")})):
(k=new d(l,f,k,q),n=new e(l,f,n,t));k.linkFile?h.call(this,l,"atlasjson",f,[k,n,k.linkFile]):h.call(this,l,"atlasjson",f,[k,n])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],f=this.files[1];this.loader.textureManager.addAtlas(l.key,l.data,f.data,this.files[2]?this.files[2].data:null);f.addToCache();this.complete=!0}}});m.register("aseprite",function(l,f,k,n,q){if(Array.isArray(l))for(k=0;k<l.length;k++)f=new c(this,l[k]),this.addFile(f.files);else f=new c(this,l,f,k,n,q),
this.addFile(f.files);return this});r.exports=c},38734:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(95540),d=a(19550),b=a(41212),e=a(518),h=a(26430),c=new p({Extends:h,initialize:function(l,f,k,n,q,t){b(f)?(n=f,f=g(n,"key"),k=new d(l,{key:f,url:g(n,"textureURL"),extension:g(n,"textureExtension","png"),normalMap:g(n,"normalMap"),xhrSettings:g(n,"textureXhrSettings")}),n=new e(l,{key:f,url:g(n,"atlasURL"),extension:g(n,"atlasExtension","json"),xhrSettings:g(n,"atlasXhrSettings")})):(k=new d(l,f,k,q),n=new e(l,
f,n,t));k.linkFile?h.call(this,l,"atlasjson",f,[k,n,k.linkFile]):h.call(this,l,"atlasjson",f,[k,n])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0];this.loader.textureManager.addAtlas(l.key,l.data,this.files[1].data,this.files[2]?this.files[2].data:null);this.complete=!0}}});m.register("atlas",function(l,f,k,n,q){if(Array.isArray(l))for(k=0;k<l.length;k++)f=new c(this,l[k]),this.addFile(f.files);else f=new c(this,l,f,k,n,q),this.addFile(f.files);return this});r.exports=c},74599:(r,
p,a)=>{p=a(83419);var m=a(74099),g=a(95540),d=a(19550),b=a(41212),e=a(26430),h=a(57318),c=new p({Extends:e,initialize:function(l,f,k,n,q,t){b(f)?(n=f,f=g(n,"key"),k=new d(l,{key:f,url:g(n,"textureURL"),extension:g(n,"textureExtension","png"),normalMap:g(n,"normalMap"),xhrSettings:g(n,"textureXhrSettings")}),n=new h(l,{key:f,url:g(n,"atlasURL"),extension:g(n,"atlasExtension","xml"),xhrSettings:g(n,"atlasXhrSettings")})):(k=new d(l,f,k,q),n=new h(l,f,n,t));k.linkFile?e.call(this,l,"atlasxml",f,[k,n,
k.linkFile]):e.call(this,l,"atlasxml",f,[k,n])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0];this.loader.textureManager.addAtlasXML(l.key,l.data,this.files[1].data,this.files[2]?this.files[2].data:null);this.complete=!0}}});m.register("atlasXML",function(l,f,k,n,q){if(Array.isArray(l))for(k=0;k<l.length;k++)f=new c(this,l[k]),this.addFile(f.files);else f=new c(this,l,f,k,n,q),this.addFile(f.files);return this});r.exports=c},21097:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),
d=a(74099),b=a(95540),e=a(89749),h=a(41212),c=new p({Extends:g,initialize:function(l,f,k,n,q){if(h(f)){var t=f;f=b(t,"key");n=b(t,"xhrSettings");q=b(t,"context",q)}g.call(this,l,{type:"audio",cache:l.cacheManager.audio,extension:k.type,responseType:"arraybuffer",key:f,url:k.url,xhrSettings:n,config:{context:q}})},onProcess:function(){this.state=m.FILE_PROCESSING;var l=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(f){l.data=f;l.onProcessComplete()},function(f){console.error("Error decoding audio: "+
l.key+" - ",f?f.message:null);l.onProcessError()});this.config.context=null}});c.create=function(l,f,k,n,q){var t=l.systems.game,v=t.config.audio,u=t.device.audio;h(f)&&(k=b(f,"url",[]),n=b(f,"config",{}));k=c.getAudioURL(t,k);return k?u.webAudio&&!v.disableWebAudio?new c(l,f,k,q,t.sound.context):new e(l,f,k,n):(console.warn('No audio URLs for "%s" matched this device',f),null)};c.getAudioURL=function(l,f){Array.isArray(f)||(f=[f]);for(var k=0;k<f.length;k++){var n=b(f[k],"url",f[k]);if(0===n.indexOf("blob:")||
0===n.indexOf("data:"))return{url:n,type:""};var q=n.match(/\.([a-zA-Z0-9]+)($|\?)/);q=b(f[k],"type",q?q[1]:"").toLowerCase();if(l.device.audio[q])return{url:n,type:q}}return null};d.register("audio",function(l,f,k,n){var q=this.systems.game,t=q.device.audio;if(q.config.audio.noAudio||!t.webAudio&&!t.audioData)return this;if(Array.isArray(l))for(k=0;k<l.length;k++)(f=c.create(this,l[k]))&&this.addFile(f);else(f=c.create(this,l,f,k,n))&&this.addFile(f);return this});r.exports=c},89524:(r,p,a)=>{var m=
a(21097);r=a(83419);p=a(74099);var g=a(95540),d=a(41212),b=a(518),e=a(26430),h=new r({Extends:e,initialize:function(c,l,f,k,n,q,t){d(l)&&(t=l,l=g(t,"key"),f=g(t,"jsonURL"),k=g(t,"audioURL"),n=g(t,"audioConfig"),q=g(t,"audioXhrSettings"),t=g(t,"jsonXhrSettings"));if(k){if(n=m.create(c,l,k,n,q))f=new b(c,l,f,t),e.call(this,c,"audiosprite",l,[n,f]),this.config.resourceLoad=!1}else f=new b(c,l,f,t),e.call(this,c,"audiosprite",l,[f]),this.config.resourceLoad=!0,this.config.audioConfig=n,this.config.audioXhrSettings=
q},onFileComplete:function(c){if(-1!==this.files.indexOf(c)&&(this.pending--,this.config.resourceLoad&&"json"===c.type&&c.data.hasOwnProperty("resources"))){var l=c.data.resources,f=g(this.config,"audioConfig"),k=g(this.config,"audioXhrSettings");if(c=m.create(this.loader,c.key,l,f,k))this.addToMultiFile(c),this.loader.addFile(c)}},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[1];this.files[0].addToCache();c.addToCache();this.complete=!0}}});p.register("audioSprite",function(c,
l,f,k,n,q){var t=this.systems.game,v=t.config.audio;t=t.device.audio;if(v&&v.noAudio||!t.webAudio&&!t.audioData)return this;if(Array.isArray(c))for(f=0;f<c.length;f++)l=new h(this,c[f]),l.files&&this.addFile(l.files);else l=new h(this,c,l,f,k,n,q),l.files&&this.addFile(l.files);return this})},85722:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,k,n){var q="bin";if(e(l)){var t=l;l=b(t,"key");f=b(t,"url");k=b(t,"xhrSettings");
q=b(t,"extension",q);n=b(t,"dataType",n)}g.call(this,c,{type:"binary",cache:c.cacheManager.binary,extension:q,responseType:"arraybuffer",key:l,url:f,xhrSettings:k,config:{dataType:n}})},onProcess:function(){this.state=m.FILE_PROCESSING;var c=this.config.dataType;this.data=c?new c(this.xhrLoader.response):this.xhrLoader.response;this.onProcessComplete()}});d.register("binary",function(c,l,f,k){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,c[l]));else this.addFile(new h(this,c,
l,k,f));return this});r.exports=h},97025:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(95540),d=a(19550),b=a(41212),e=a(26430),h=a(21859),c=a(57318),l=new p({Extends:e,initialize:function(f,k,n,q,t,v){b(k)?(q=k,k=g(q,"key"),n=new d(f,{key:k,url:g(q,"textureURL"),extension:g(q,"textureExtension","png"),normalMap:g(q,"normalMap"),xhrSettings:g(q,"textureXhrSettings")}),q=new c(f,{key:k,url:g(q,"fontDataURL"),extension:g(q,"fontDataExtension","xml"),xhrSettings:g(q,"fontDataXhrSettings")})):(n=new d(f,k,n,
t),q=new c(f,k,q,v));n.linkFile?e.call(this,f,"bitmapfont",k,[n,q,n.linkFile]):e.call(this,f,"bitmapfont",k,[n,q])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],k=this.files[1];f.addToCache();var n=f.cache.get(f.key);k=h(k.data,f.cache.getFrame(f.key),0,0,n);this.loader.cacheManager.bitmapFont.add(f.key,{data:k,texture:f.key,frame:null});this.complete=!0}}});m.register("bitmapFont",function(f,k,n,q,t){if(Array.isArray(f))for(n=0;n<f.length;n++)k=new l(this,f[n]),this.addFile(k.files);
else k=new l(this,f,k,n,q,t),this.addFile(k.files);return this});r.exports=l},16024:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,k){var n="css";if(e(l)){var q=l;l=b(q,"key");f=b(q,"url");k=b(q,"xhrSettings");n=b(q,"extension",n)}g.call(this,c,{type:"script",cache:!1,extension:n,responseType:"text",key:l,url:f,xhrSettings:k})},onProcess:function(){this.state=m.FILE_PROCESSING;this.data=document.createElement("style");this.data.defer=
!1;this.data.innerHTML=this.xhrLoader.responseText;document.head.appendChild(this.data);this.onProcessComplete()}});d.register("css",function(c,l,f){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,c[l]));else this.addFile(new h(this,c,l,f));return this});r.exports=h},69559:(r,p,a)=>{var m=a(38734),g=a(85722);p=a(83419);var d=a(74099),b=a(95540),e=a(19550),h=a(41212),c=a(518),l=a(31403),f=a(46975),k=a(59327),n=a(26430),q=a(82038),t=a(55222),v=new p({Extends:n,initialize:function(u,
x,w,y){if(w.multiAtlasURL)y=new c(u,{key:x,url:w.multiAtlasURL,xhrSettings:y,config:w}),n.call(this,u,"texture",x,[y]);else{var z=w.textureURL.substr(w.textureURL.length-3);w.type||(w.type="ktx"===z.toLowerCase()?"KTX":"PVR");z=new g(u,{key:x,url:w.textureURL,extension:z,xhrSettings:y,config:w});w.atlasURL?(y=new c(u,{key:x,url:w.atlasURL,xhrSettings:y,config:w}),n.call(this,u,"texture",x,[z,y])):n.call(this,u,"texture",x,[z])}this.config=w},onFileComplete:function(u){if(-1!==this.files.indexOf(u)&&
(this.pending--,this.config.multiAtlasURL&&"json"===u.type&&u.data.hasOwnProperty("textures"))){u=u.data.textures;var x=this.config,w=this.loader,y=w.baseURL,z=w.path,C=w.prefix,A=b(x,"multiBaseURL",this.baseURL),B=b(x,"multiPath",this.path),E=b(x,"prefix",this.prefix);x=b(x,"textureXhrSettings");A&&w.setBaseURL(A);B&&w.setPath(B);E&&w.setPrefix(E);for(A=0;A<u.length;A++)E=u[A].image,B="CMA"+this.multiKeyIndex+"_"+E,E=new g(w,B,E,x),this.addToMultiFile(E),w.addFile(E),u[A].normalMap&&(B=new g(w,B,
u[A].normalMap,x),B.type="normalMap",E.setLink(B),this.addToMultiFile(B),w.addFile(B));w.setBaseURL(y);w.setPath(z);w.setPrefix(C)}},addToCache:function(){function u(B){console.warn('Compressed Texture Invalid: "'+z.key+'". '+B)}if(this.isReadyToProcess()){var x=this.config;if(x.multiAtlasURL)this.addMultiToCache();else{var w=this.loader.systems.renderer,y=this.loader.textureManager,z=this.files[0],C=this.files[1];if("PVR"===x.type)var A=q(z.data);else"KTX"===x.type&&((A=l(z.data))||u("KTX file contains unsupported format."));
A&&!t(A)&&(u("Texture dimensions failed verification. Check the texture format specifications for "+x.format+" 0x"+A.internalFormat.toString(16)+"."),A=null);A&&!w.supportsCompressedTexture(x.format,A.internalFormat)&&(u("Texture format "+x.format+" with internal format "+A.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),A=null);A&&(A.format=w.getCompressedTextureName(x.format,A.internalFormat),y.addCompressedTexture(z.key,
A,C&&C.data?C.data:null))}this.complete=!0}},addMultiToCache:function(){for(var u=this.config,x=this.files[0],w=[],y=[],z=[],C=this.loader.systems.renderer,A=this.loader.textureManager,B,E=1;E<this.files.length;E++){var G=this.files[E];if("normalMap"!==G.type){var I=G.key.indexOf("_");I=G.key.substr(I+1);for(var H=G.data,K=0;K<x.data.textures.length;K++){var L=x.data.textures[K];if(L.image===I){"PVR"===u.type?B=q(H):"KTX"===u.type&&(B=l(H));B&&C.supportsCompressedTexture(u.format,B.internalFormat)&&
(B.format=C.getCompressedTextureName(u.format,B.internalFormat),y.push(B),w.push(L),G.linkFile&&z.push(G.linkFile.data));break}}}}0===z.length&&(z=void 0);A.addAtlasJSONArray(this.key,y,w,z);this.complete=!0}});d.register("texture",function(u,x,w){var y=this.systems.renderer,z=function(C,A,B,E){var G={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};h(A)&&(E=A,A=b(E,"key"),B=b(E,"url"),E=b(E,"xhrSettings"));var I=!1,H;for(H in B)if(y.supportsCompressedTexture(H)){B=
B[H];"string"===typeof B?G.textureURL=B:G=f(B,G);G.format=H.toUpperCase();I=!0;break}I?"IMG"===G.format?(G.multiAtlasURL?(A=new k(C,A,G.multiAtlasURL,G.multiPath,G.multiBaseURL,E),A=A.files):G.atlasURL?(A=new m(C,A,G.textureURL,G.atlasURL,E),A=A.files):A=new e(C,A,G.textureURL,E),C.addFile(A)):(A=new v(C,A,G,E),C.addFile(A.files)):console.warn("No supported compressed texture format or IMG fallback",A)};if(Array.isArray(u))for(x=0;x<u.length;x++)z(this,u[x]);else z(this,u,x,w);return this});r.exports=
v},47931:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=a(73894),c=new p({Extends:g,initialize:function(l,f,k,n,q){var t="glsl";if(e(f)){var v=f;f=b(v,"key");k=b(v,"url");n=b(v,"shaderType","fragment");q=b(v,"xhrSettings");t=b(v,"extension",t)}else void 0===n&&(n="fragment");g.call(this,l,{type:"glsl",cache:l.cacheManager.shader,extension:t,responseType:"text",key:f,url:k,config:{shaderType:n},xhrSettings:q})},onProcess:function(){this.state=m.FILE_PROCESSING;this.data=
this.xhrLoader.responseText;this.onProcessComplete()},addToCache:function(){var l=this.data.split("\n"),f=this.extractBlock(l,0);if(f)for(;f;){var k=this.getShaderName(f.header),n=this.getShaderType(f.header),q=this.getShaderUniforms(f.header),t=f.shader;this.cache.has(k)?(k=this.cache.get(k),"fragment"===n?k.fragmentSrc=t:k.vertexSrc=t,k.uniforms||(k.uniforms=q)):"fragment"===n?this.cache.add(k,new h(k,t,"",q)):this.cache.add(k,new h(k,"",t,q));f=this.extractBlock(l,f.offset)}else"fragment"===this.config.shaderType?
this.cache.add(this.key,new h(this.key,this.data)):this.cache.add(this.key,new h(this.key,"",this.data))},getShaderName:function(l){for(var f=0;f<l.length;f++){var k=l[f].trim();if("name:"===k.substring(0,5))return k.substring(5).trim()}return this.key},getShaderType:function(l){for(var f=0;f<l.length;f++){var k=l[f].trim();if("type:"===k.substring(0,5))return k.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(l){for(var f={},k=0;k<l.length;k++){var n=l[k].trim();if("uniform."===
n.substring(0,8)){var q=n.indexOf(":");if(q){var t=n.substring(8,q);try{f[t]=JSON.parse(n.substring(q+1))}catch(v){console.warn("Invalid uniform JSON: "+t)}}}}return f},extractBlock:function(l,f){for(var k=-1,n=-1,q=-1,t=!1,v=!1,u=[],x=[];f<l.length;f++){var w=l[f].trim();if("---"===w)if(-1===k)k=f,t=!0;else if(t)n=f,t=!1,v=!0;else break;else t?u.push(w):v&&(x.push(w),q=f)}return t||-1===n?null:{header:u,shader:x.join("\n"),offset:q}}});d.register("glsl",function(l,f,k,n){if(Array.isArray(l))for(f=
0;f<l.length;f++)this.addFile(new c(this,l[f]));else this.addFile(new c(this,l,f,k,n));return this});r.exports=c},89749:(r,p,a)=>{p=a(83419);var m=a(54899),g=a(41299),d=a(95540),b=a(98356),e=a(41212);a=new p({Extends:g,initialize:function(h,c,l,f){if(e(c)){var k=c;c=d(k,"key");f=d(k,"config",f)}g.call(this,h,{type:"audio",cache:h.cacheManager.audio,extension:l.type,key:c,url:l.url,config:f});this.locked="ontouchstart"in window;this.loaded=!1;this.filesTotal=this.filesLoaded=0},onLoad:function(){this.loaded||
(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var c=this.data[h];c.oncanplaythrough=null;c.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){h=h.target;h.oncanplaythrough=null;h.onerror=null;this.filesLoaded++;this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1);this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete);if(this.filesLoaded===this.filesTotal)this.onLoad()},load:function(){this.data=[];var h=this.config&&
this.config.instances||1;this.filesTotal=h;for(var c=this.percentComplete=this.filesLoaded=0;c<h;c++){var l=new Audio;l.dataset||(l.dataset={});l.dataset.name=this.key+("0"+c).slice(-2);l.dataset.used="false";this.locked?l.dataset.locked="true":(l.dataset.locked="false",l.preload="auto",l.oncanplaythrough=this.onProgress.bind(this),l.onerror=this.onError.bind(this));this.data.push(l)}for(c=0;c<this.data.length;c++)l=this.data[c],l.src=b(this,this.loader.baseURL),this.locked||l.load();this.locked&&
setTimeout(this.onLoad.bind(this))}});r.exports=a},88470:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,k){var n="html";if(e(l)){var q=l;l=b(q,"key");f=b(q,"url");k=b(q,"xhrSettings");n=b(q,"extension",n)}g.call(this,c,{type:"text",cache:c.cacheManager.html,extension:n,responseType:"text",key:l,url:f,xhrSettings:k})},onProcess:function(){this.state=m.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()}});
d.register("html",function(c,l,f){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,c[l]));else this.addFile(new h(this,c,l,f));return this});r.exports=h},14643:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,k,n,q){void 0===k&&(k=512);void 0===n&&(n=512);var t="html";if(e(l)){var v=l;l=b(v,"key");f=b(v,"url");q=b(v,"xhrSettings");t=b(v,"extension",t);k=b(v,"width",k);n=b(v,"height",n)}g.call(this,c,{type:"html",
cache:c.textureManager,extension:t,responseType:"text",key:l,url:f,xhrSettings:q,config:{width:k,height:n}})},onProcess:function(){this.state=m.FILE_PROCESSING;var c=this.config.width,l=this.config.height,f=[];f.push('\x3csvg width\x3d"'+c+'px" height\x3d"'+l+'px" viewBox\x3d"0 0 '+c+" "+l+'" xmlns\x3d"http://www.w3.org/2000/svg"\x3e');f.push('\x3cforeignObject width\x3d"100%" height\x3d"100%"\x3e');f.push('\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e');f.push(this.xhrLoader.responseText);
f.push("\x3c/body\x3e");f.push("\x3c/foreignObject\x3e");f.push("\x3c/svg\x3e");c=[f.join("\n")];var k=this;try{var n=new window.Blob(c,{type:"image/svg+xml;charset\x3dutf-8"})}catch(q){k.state=m.FILE_ERRORED;k.onProcessComplete();return}this.data=new Image;this.data.crossOrigin=this.crossOrigin;this.data.onload=function(){g.revokeObjectURL(k.data);k.onProcessComplete()};this.data.onerror=function(){g.revokeObjectURL(k.data);k.onProcessError()};g.createObjectURL(this.data,n,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,
this.data)}});d.register("htmlTexture",function(c,l,f,k,n){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,c[l]));else this.addFile(new h(this,c,l,f,k,n));return this});r.exports=h},19550:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=a(98356),c=new p({Extends:g,initialize:function v(f,k,n,q,t){var u="png";if(e(k)){t=k;k=b(t,"key");n=b(t,"url");var x=b(t,"normalMap");q=b(t,"xhrSettings");u=b(t,"extension",u);t=b(t,"frameConfig")}Array.isArray(n)&&
(x=n[1],n=n[0]);g.call(this,f,{type:"image",cache:f.textureManager,extension:u,responseType:"blob",key:k,url:n,xhrSettings:q,config:t});x&&(k=new v(f,this.key,x,q,t),k.type="normalMap",this.setLink(k),f.addFile(k));if(this.useImageElementLoad="HTMLImageElement"===f.imageLoadType||this.base64)this.load=this.loadImage,this.onProcess=this.onProcessImage},onProcess:function(){this.state=m.FILE_PROCESSING;this.data=new Image;this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){g.revokeObjectURL(f.data);
f.onProcessComplete()};this.data.onerror=function(){g.revokeObjectURL(f.data);f.onProcessError()};g.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var f=this.state;this.state=m.FILE_PROCESSING;if(f===m.FILE_LOADED)this.onProcessComplete();else this.onProcessError()},loadImage:function(){this.state=m.FILE_LOADING;this.src=h(this,this.loader.baseURL);this.data=new Image;this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){f.state=m.FILE_LOADED;
f.loader.nextFile(f,!0)};this.data.onerror=function(){f.loader.nextFile(f,!1)};this.data.src=this.src},addToCache:function(){var f=this.linkFile;f?f.state>=m.FILE_COMPLETE&&("spritesheet"===f.type?f.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,f.data,this.data):this.cache.addImage(this.key,this.data,f.data)):this.cache.addImage(this.key,this.data)}});d.register("image",function(f,k,n){if(Array.isArray(f))for(k=0;k<f.length;k++)this.addFile(new c(this,f[k]));else this.addFile(new c(this,
f,k,n));return this});r.exports=c},518:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(35154),h=a(41212),c=new p({Extends:g,initialize:function(l,f,k,n,q){var t="json";if(h(f)){var v=f;f=b(v,"key");k=b(v,"url");n=b(v,"xhrSettings");t=b(v,"extension",t);q=b(v,"dataKey",q)}g.call(this,l,{type:"json",cache:l.cacheManager.json,extension:t,responseType:"text",key:f,url:k,xhrSettings:n,config:q});h(k)&&(this.data=q?e(k,q):k,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==
m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var l=JSON.parse(this.xhrLoader.responseText)}catch(k){throw this.onProcessError(),k;}var f=this.config;this.data="string"===typeof f?e(l,f,l):l}this.onProcessComplete()}});d.register("json",function(l,f,k,n){if(Array.isArray(l))for(f=0;f<l.length;f++)this.addFile(new c(this,l[f]));else this.addFile(new c(this,l,f,n,k));return this});r.exports=c},59327:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(95540),d=a(19550),b=a(41212),e=a(518),h=a(26430),c=new p({Extends:h,
initialize:function(l,f,k,n,q,t,v){b(f)&&(v=f,f=g(v,"key"),k=g(v,"url",!1)?g(v,"url"):g(v,"atlasURL"),t=g(v,"xhrSettings"),n=g(v,"path"),q=g(v,"baseURL"),v=g(v,"textureXhrSettings"));k=new e(l,f,k,t);h.call(this,l,"multiatlas",f,[k]);this.config.path=n;this.config.baseURL=q;this.config.textureXhrSettings=v},onFileComplete:function(l){if(-1!==this.files.indexOf(l)&&(this.pending--,"json"===l.type&&l.data.hasOwnProperty("textures"))){l=l.data.textures;var f=this.config,k=this.loader,n=k.baseURL,q=k.path,
t=k.prefix,v=g(f,"baseURL",this.baseURL),u=g(f,"path",this.path),x=g(f,"prefix",this.prefix);f=g(f,"textureXhrSettings");k.setBaseURL(v);k.setPath(u);k.setPrefix(x);for(v=0;v<l.length;v++)x=l[v].image,u="MA"+this.multiKeyIndex+"_"+x,x=new d(k,u,x,f),this.addToMultiFile(x),k.addFile(x),l[v].normalMap&&(u=new d(k,u,l[v].normalMap,f),u.type="normalMap",x.setLink(u),this.addToMultiFile(u),k.addFile(u));k.setBaseURL(n);k.setPath(q);k.setPrefix(t)}},addToCache:function(){if(this.isReadyToProcess()){for(var l=
this.files[0],f=[],k=[],n=[],q=1;q<this.files.length;q++){var t=this.files[q];if("normalMap"!==t.type){var v=t.key.indexOf("_");v=t.key.substr(v+1);for(var u=t.data,x=0;x<l.data.textures.length;x++){var w=l.data.textures[x];if(w.image===v){k.push(u);f.push(w);t.linkFile&&n.push(t.linkFile.data);break}}}}0===n.length&&(n=void 0);this.loader.textureManager.addAtlasJSONArray(this.key,k,f,n);this.complete=!0}}});m.register("multiatlas",function(l,f,k,n,q){if(Array.isArray(l))for(k=0;k<l.length;k++)f=
new c(this,l[k]),this.addFile(f.files);else f=new c(this,l,f,k,n,q),this.addFile(f.files);return this});r.exports=c},99297:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(95540),d=a(41212),b=a(26430),e=a(34328),h=new p({Extends:b,initialize:function(c,l,f,k){var n="js",q=[];if(d(l)){var t=l;l=g(t,"key");f=g(t,"url");k=g(t,"xhrSettings");n=g(t,"extension",n)}Array.isArray(f)||(f=[f]);for(t=0;t<f.length;t++){var v=new e(c,{key:l+"_"+t.toString(),url:f[t],extension:n,xhrSettings:k});v.onProcess=function(){this.onProcessComplete()};
q.push(v)}b.call(this,c,"scripts",l,q)},addToCache:function(){if(this.isReadyToProcess()){for(var c=0;c<this.files.length;c++){var l=this.files[c];l.data=document.createElement("script");l.data.language="javascript";l.data.type="text/javascript";l.data.defer=!1;l.data.text=l.xhrLoader.responseText;document.head.appendChild(l.data)}this.complete=!0}}});m.register("scripts",function(c,l,f){if(Array.isArray(c))for(f=0;f<c.length;f++)l=new h(this,c[f]),this.addFile(l.files);else l=new h(this,c,l,f),this.addFile(l.files);
return this});r.exports=h},41846:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(95540),d=a(41212),b=a(26430),e=a(85048),h=a(61485),c=a(78776),l=new p({Extends:b,initialize:function(f,k,n,q,t,v){var u,x=f.cacheManager.obj;d(k)?(v=k,k=g(v,"key"),t=new c(f,{key:k,type:"obj",cache:x,url:g(v,"url"),extension:g(v,"extension","obj"),xhrSettings:g(v,"xhrSettings"),config:{flipUV:g(v,"flipUV",t)}}),(q=g(v,"matURL"))&&(u=new c(f,{key:k,type:"mat",cache:x,url:q,extension:g(v,"matExtension","mat"),xhrSettings:g(v,"xhrSettings")}))):
(t=new c(f,{key:k,url:n,type:"obj",cache:x,extension:"obj",xhrSettings:v,config:{flipUV:t}}),q&&(u=new c(f,{key:k,url:q,type:"mat",cache:x,extension:"mat",xhrSettings:v})));b.call(this,f,"obj",k,[t,u])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],k=this.files[1],n=e(f.data,f.config.flipUV);k&&(n.materials=h(k.data));f.cache.add(f.key,n);this.complete=!0}}});m.register("obj",function(f,k,n,q,t){if(Array.isArray(f))for(n=0;n<f.length;n++)k=new l(this,f[n]),this.addFile(k.files);
else k=new l(this,f,k,n,q,t),this.addFile(k.files);return this});r.exports=l},58610:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(74099),d=a(518),b=new p({Extends:d,initialize:function(e,h,c,l,f){d.call(this,e,h,c,l,f);this.type="packfile"},onProcess:function(){this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText));if(this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data;this.data=e}this.loader.addPack(this.data,this.config);
this.onProcessComplete()}});g.register("pack",function(e,h,c,l){if(Array.isArray(e))for(h=0;h<e.length;h++)this.addFile(new b(this,e[h]));else this.addFile(new b(this,e,h,l,c));return this});r.exports=b},48988:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,k,n,q){var t="js";e(l)&&(n=l,l=b(n,"key"),f=b(n,"url"),q=b(n,"xhrSettings"),t=b(n,"extension",t),k=b(n,"start"),n=b(n,"mapping"));g.call(this,c,{type:"plugin",cache:!1,
extension:t,responseType:"text",key:l,url:f,xhrSettings:q,config:{start:k,mapping:n}});"function"===typeof f&&(this.data=f,this.state=m.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,l=this.config,f=b(l,"start",!1);l=b(l,"mapping",null);if(this.state===m.FILE_POPULATED)c.install(this.key,this.data,f,l);else if(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=
this.xhrLoader.responseText,document.head.appendChild(this.data),c=c.install(this.key,window[this.key],f,l),f||l)this.loader.systems[l]=c,this.loader.scene[l]=c;this.onProcessComplete()}});d.register("plugin",function(c,l,f,k,n){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,c[l]));else this.addFile(new h(this,c,l,f,k,n));return this});r.exports=h},67397:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,
k,n){var q="svg";if(e(l)){var t=l;l=b(t,"key");f=b(t,"url");k=b(t,"svgConfig",{});n=b(t,"xhrSettings");q=b(t,"extension",q)}l={type:"svg",cache:c.textureManager,extension:q,responseType:"text",key:l,url:f,xhrSettings:n,config:{width:b(k,"width"),height:b(k,"height"),scale:b(k,"scale")}};g.call(this,c,l)},onProcess:function(){this.state=m.FILE_PROCESSING;var c=this.xhrLoader.responseText,l=[c],f=this.config.width,k=this.config.height,n=this.config.scale;a:if(f&&k||n){var q=null;q=(new DOMParser).parseFromString(c,
"text/xml");c=q.getElementsByTagName("svg")[0];var t=c.hasAttribute("viewBox");q=parseFloat(c.getAttribute("width"));var v=parseFloat(c.getAttribute("height"));!t&&q&&v?c.setAttribute("viewBox","0  0 "+q+" "+v):!t||q||v||(t=c.getAttribute("viewBox").split(/\s+|,/),q=t[2],v=t[3]);if(n)if(q&&v)f=q*n,k=v*n;else break a;c.setAttribute("width",f.toString()+"px");c.setAttribute("height",k.toString()+"px");l=[(new XMLSerializer).serializeToString(c)]}try{var u=new window.Blob(l,{type:"image/svg+xml;charset\x3dutf-8"})}catch(y){this.onProcessError();
return}this.data=new Image;this.data.crossOrigin=this.crossOrigin;var x=this,w=!1;this.data.onload=function(){w||g.revokeObjectURL(x.data);x.onProcessComplete()};this.data.onerror=function(){if(w)x.onProcessError();else w=!0,g.revokeObjectURL(x.data),x.data.src="data:image/svg+xml,"+encodeURIComponent(l.join(""))};g.createObjectURL(this.data,u,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});d.register("svg",function(c,l,f,k){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,
c[l]));else this.addFile(new h(this,c,l,f,k));return this});r.exports=h},88423:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,k){var n="js";if(e(l)){var q=l;l=b(q,"key");f=b(q,"url");k=b(q,"xhrSettings");n=b(q,"extension",n)}g.call(this,c,{type:"text",extension:n,responseType:"text",key:l,url:f,xhrSettings:k})},onProcess:function(){this.state=m.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()},
addToCache:function(){var c=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);");this.loader.sceneManager.add(this.key,(0,eval)(c));this.complete=!0}});d.register("sceneFile",function(c,l,f){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,c[l]));else this.addFile(new h(this,c,l,f));return this});r.exports=h},56812:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,k,n,q){var t="js";
e(l)&&(n=l,l=b(n,"key"),f=b(n,"url"),q=b(n,"xhrSettings"),t=b(n,"extension",t),k=b(n,"systemKey"),n=b(n,"sceneKey"));g.call(this,c,{type:"scenePlugin",cache:!1,extension:t,responseType:"text",key:l,url:f,xhrSettings:q,config:{systemKey:k,sceneKey:n}});"function"===typeof f&&(this.data=f,this.state=m.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,l=this.config,f=this.key,k=b(l,"systemKey",f);l=b(l,"sceneKey",f);this.state===m.FILE_POPULATED?c.installScenePlugin(k,this.data,
l,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),c.installScenePlugin(k,window[this.key],l,this.loader.scene,!0));this.onProcessComplete()}});d.register("scenePlugin",function(c,l,f,k,n){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,c[l]));else this.addFile(new h(this,
c,l,f,k,n));return this});r.exports=h},34328:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,k,n){var q="js";if(e(l)){var t=l;l=b(t,"key");f=b(t,"url");k=b(t,"type","script");n=b(t,"xhrSettings");q=b(t,"extension",q)}else void 0===k&&(k="script");g.call(this,c,{type:k,cache:!1,extension:q,responseType:"text",key:l,url:f,xhrSettings:n})},onProcess:function(){this.state=m.FILE_PROCESSING;this.data=document.createElement("script");
this.data.language="javascript";this.data.type="text/javascript";this.data.defer=!1;this.data.text=this.xhrLoader.responseText;document.head.appendChild(this.data);this.onProcessComplete()}});d.register("script",function(c,l,f,k){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,c[l]));else this.addFile(new h(this,c,l,f,k));return this});r.exports=h},85035:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(74099),d=a(19550),b=new p({Extends:d,initialize:function(e,h,c,l,f){d.call(this,e,h,c,
f,l);this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=m.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});g.register("spritesheet",function(e,h,c,l){if(Array.isArray(e))for(h=0;h<e.length;h++)this.addFile(new b(this,e[h]));else this.addFile(new b(this,e,h,c,l));return this});r.exports=b},78776:(r,
p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=new p({Extends:g,initialize:function(c,l,f,k){var n="text",q="txt",t=c.cacheManager.text;if(e(l)){var v=l;l=b(v,"key");f=b(v,"url");k=b(v,"xhrSettings");q=b(v,"extension",q);n=b(v,"type",n);t=b(v,"cache",t)}g.call(this,c,{type:n,cache:t,extension:q,responseType:"text",key:l,url:f,xhrSettings:k})},onProcess:function(){this.state=m.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()}});d.register("text",
function(c,l,f){if(Array.isArray(c))for(l=0;l<c.length;l++)this.addFile(new h(this,c[l]));else this.addFile(new h(this,c,l,f));return this});r.exports=h},49477:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=a(80341),c=new p({Extends:g,initialize:function(l,f,k,n){var q="csv";if(e(f)){var t=f;f=b(t,"key");k=b(t,"url");n=b(t,"xhrSettings");q=b(t,"extension",q)}g.call(this,l,{type:"tilemapCSV",cache:l.cacheManager.tilemap,extension:q,responseType:"text",key:f,url:k,
xhrSettings:n});this.tilemapFormat=h.CSV},onProcess:function(){this.state=m.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onProcessComplete()},addToCache:function(){this.cache.add(this.key,{format:this.tilemapFormat,data:this.data})}});d.register("tilemapCSV",function(l,f,k){if(Array.isArray(l))for(f=0;f<l.length;f++)this.addFile(new c(this,l[f]));else this.addFile(new c(this,l,f,k));return this});r.exports=c},40807:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(518),d=a(80341),b=new p({Extends:g,
initialize:function(e,h,c,l){g.call(this,e,h,c,l);this.type="tilemapJSON";this.cache=e.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:d.WELTMEISTER,data:this.data})}});m.register("tilemapImpact",function(e,h,c){if(Array.isArray(e))for(h=0;h<e.length;h++)this.addFile(new b(this,e[h]));else this.addFile(new b(this,e,h,c));return this});r.exports=b},56775:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(518),d=a(80341),b=new p({Extends:g,initialize:function(e,h,c,l){g.call(this,e,
h,c,l);this.type="tilemapJSON";this.cache=e.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:d.TILED_JSON,data:this.data})}});m.register("tilemapTiledJSON",function(e,h,c){if(Array.isArray(e))for(h=0;h<e.length;h++)this.addFile(new b(this,e[h]));else this.addFile(new b(this,e,h,c));return this});r.exports=b},25771:(r,p,a)=>{p=a(83419);var m=a(74099),g=a(95540),d=a(19550),b=a(41212),e=a(26430),h=a(78776),c=new p({Extends:e,initialize:function(l,f,k,n,q,t){b(f)?(n=f,f=g(n,
"key"),k=new d(l,{key:f,url:g(n,"textureURL"),extension:g(n,"textureExtension","png"),normalMap:g(n,"normalMap"),xhrSettings:g(n,"textureXhrSettings")}),n=new h(l,{key:f,url:g(n,"atlasURL"),extension:g(n,"atlasExtension","txt"),xhrSettings:g(n,"atlasXhrSettings")})):(k=new d(l,f,k,q),n=new h(l,f,n,t));k.linkFile?e.call(this,l,"unityatlas",f,[k,n,k.linkFile]):e.call(this,l,"unityatlas",f,[k,n])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0];this.loader.textureManager.addUnityAtlas(l.key,
l.data,this.files[1].data,this.files[2]?this.files[2].data:null);this.complete=!0}}});m.register("unityAtlas",function(l,f,k,n,q){if(Array.isArray(l))for(k=0;k<l.length;k++)f=new c(this,l[k]),this.addFile(f.files);else f=new c(this,l,f,k,n,q),this.addFile(f.files);return this});r.exports=c},33720:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(98356),e=a(95540),h=a(41212),c=new p({Extends:g,initialize:function(l,f,k,n){void 0===n&&(n=!1);h(f)&&(n=f,f=e(n,"key"),k=e(n,"url",[]),n=e(n,
"noAudio",!1));(k=l.systems.game.device.video.getVideoURL(k))||console.warn("VideoFile: No supported format for "+f);g.call(this,l,{type:"video",cache:l.cacheManager.video,extension:k.type,key:f,url:k.url,config:{noAudio:n}})},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin};this.onProcessComplete()},load:function(){this.src=b(this,this.loader.baseURL);this.state=m.FILE_LOADED;this.loader.nextFile(this,!0)}});d.register("video",function(l,f,k){if(Array.isArray(l))for(f=
0;f<l.length;f++)this.addFile(new c(this,l[f]));else this.addFile(new c(this,l,f,k));return this});r.exports=c},57318:(r,p,a)=>{p=a(83419);var m=a(23906),g=a(41299),d=a(74099),b=a(95540),e=a(41212),h=a(56836),c=new p({Extends:g,initialize:function(l,f,k,n){var q="xml";if(e(f)){var t=f;f=b(t,"key");k=b(t,"url");n=b(t,"xhrSettings");q=b(t,"extension",q)}g.call(this,l,{type:"xml",cache:l.cacheManager.xml,extension:q,responseType:"text",key:f,url:k,xhrSettings:n})},onProcess:function(){this.state=m.FILE_PROCESSING;
if(this.data=h(this.xhrLoader.responseText))this.onProcessComplete();else this.onProcessError()}});d.register("xml",function(l,f,k){if(Array.isArray(l))for(f=0;f<l.length;f++)this.addFile(new c(this,l[f]));else this.addFile(new c(this,l,f,k));return this});r.exports=c},64589:(r,p,a)=>{r.exports={AnimationJSONFile:a(14135),AsepriteFile:a(76272),AtlasJSONFile:a(38734),AtlasXMLFile:a(74599),AudioFile:a(21097),AudioSpriteFile:a(89524),BinaryFile:a(85722),BitmapFontFile:a(97025),CompressedTextureFile:a(69559),
CSSFile:a(16024),GLSLFile:a(47931),HTML5AudioFile:a(89749),HTMLFile:a(88470),HTMLTextureFile:a(14643),ImageFile:a(19550),JSONFile:a(518),MultiAtlasFile:a(59327),MultiScriptFile:a(99297),OBJFile:a(41846),PackFile:a(58610),PluginFile:a(48988),SceneFile:a(88423),ScenePluginFile:a(56812),ScriptFile:a(34328),SpriteSheetFile:a(85035),SVGFile:a(67397),TextFile:a(78776),TilemapCSVFile:a(49477),TilemapImpactFile:a(40807),TilemapJSONFile:a(56775),UnityAtlasFile:a(25771),VideoFile:a(33720),XMLFile:a(57318)}},
57777:(r,p,a)=>{p=a(23906);var m=a(79291);a={Events:a(54899),FileTypes:a(64589),File:a(41299),FileTypesManager:a(74099),GetURL:a(98356),LoaderPlugin:a(74261),MergeXHRSettings:a(3374),MultiFile:a(26430),XHRLoader:a(84376),XHRSettings:a(92638)};a=m(!1,a,p);r.exports=a},53307:r=>{r.exports=function(p){for(var a=0,m=0;m<p.length;m++)a+=+p[m];return a/p.length}},85710:(r,p,a)=>{var m=a(6411);r.exports=function(g,d){return m(g)/m(d)/m(g-d)}},30976:r=>{r.exports=function(p,a){return Math.floor(Math.random()*
(a-p+1)+p)}},87842:r=>{r.exports=function(p,a,m,g,d){a=.5*(g-a);d=.5*(d-m);var b=p*p;return(2*m-2*g+a+d)*p*b+(-3*m+3*g-2*a-d)*b+a*p+m}},26302:r=>{r.exports=function(p,a,m){void 0===a&&(a=0);void 0===m&&(m=10);a=Math.pow(m,-a);return Math.ceil(p*a)/a}},45319:r=>{r.exports=function(p,a,m){return Math.max(a,Math.min(m,p))}},39506:(r,p,a)=>{var m=a(36383);r.exports=function(g){return g*m.DEG_TO_RAD}},61241:r=>{r.exports=function(p,a){return Math.abs(p-a)}},38857:(r,p,a)=>{var m=a(45319);p=a(83419);var g=
a(37867),d=a(29747),b=new g;a=new p({initialize:function k(h,c,l,f){void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=0);void 0===f&&(f=k.DefaultOrder);this._x=h;this._y=c;this._z=l;this._order=f;this.onChangeCallback=d},x:{get:function(){return this._x},set:function(h){this._x=h;this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(h){this._y=h;this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(h){this._z=h;this.onChangeCallback(this)}},order:{get:function(){return this._order},
set:function(h){this._order=h;this.onChangeCallback(this)}},set:function(h,c,l,f){void 0===f&&(f=this._order);this._x=h;this._y=c;this._z=l;this._order=f;this.onChangeCallback(this);return this},copy:function(h){return this.set(h.x,h.y,h.z,h.order)},setFromQuaternion:function(h,c,l){void 0===c&&(c=this._order);void 0===l&&(l=!1);b.fromQuat(h);return this.setFromRotationMatrix(b,c,l)},setFromRotationMatrix:function(h,c,l){void 0===c&&(c=this._order);void 0===l&&(l=!1);var f=h.val;h=f[0];var k=f[4],
n=f[8],q=f[1],t=f[5],v=f[9],u=f[2],x=f[6];f=f[10];var w=0,y=0,z=0;switch(c){case "XYZ":y=Math.asin(m(n,-1,1));.99999>Math.abs(n)?(w=Math.atan2(-v,f),z=Math.atan2(-k,h)):w=Math.atan2(x,t);break;case "YXZ":w=Math.asin(-m(v,-1,1));.99999>Math.abs(v)?(y=Math.atan2(n,f),z=Math.atan2(q,t)):y=Math.atan2(-u,h);break;case "ZXY":w=Math.asin(m(x,-1,1));.99999>Math.abs(x)?(y=Math.atan2(-u,f),z=Math.atan2(-k,t)):z=Math.atan2(q,h);break;case "ZYX":y=Math.asin(-m(u,-1,1));.99999>Math.abs(u)?(w=Math.atan2(x,f),z=
Math.atan2(q,h)):z=Math.atan2(-k,t);break;case "YZX":z=Math.asin(m(q,-1,1));.99999>Math.abs(q)?(w=Math.atan2(-v,t),y=Math.atan2(-u,h)):y=Math.atan2(n,f);break;case "XZY":z=Math.asin(-m(k,-1,1)),.99999>Math.abs(k)?(w=Math.atan2(x,t),y=Math.atan2(n,h)):w=Math.atan2(-v,f)}this._x=w;this._y=y;this._z=z;this._order=c;if(l)this.onChangeCallback(this);return this}});a.RotationOrders="XYZ YXZ ZXY ZYX YZX XZY".split(" ");a.DefaultOrder="XYZ";r.exports=a},6411:r=>{r.exports=function(p){if(0===p)return 1;for(var a=
p;--p;)a*=p;return a}},99472:r=>{r.exports=function(p,a){return Math.random()*(a-p)+p}},77623:r=>{r.exports=function(p,a,m){void 0===a&&(a=0);void 0===m&&(m=10);a=Math.pow(m,-a);return Math.floor(p*a)/a}},62945:(r,p,a)=>{var m=a(45319);r.exports=function(g,d,b){g=m(g,0,1);return(b-d)*g+d}},38265:r=>{r.exports=function(p,a){return p/a/1E3}},78702:r=>{r.exports=function(p){return p==parseFloat(p)?!(p%2):void 0}},94883:r=>{r.exports=function(p){return p===parseFloat(p)?!(p%2):void 0}},28915:r=>{r.exports=
function(p,a,m){return(a-p)*m+p}},94908:r=>{r.exports=function(p,a,m){void 0===m&&(m=0);return p.clone().lerp(a,m)}},94434:(r,p,a)=>{var m=new (a(83419))({initialize:function(g){this.val=new Float32Array(9);g?this.copy(g):this.identity()},clone:function(){return new m(this)},set:function(g){return this.copy(g)},copy:function(g){var d=this.val;g=g.val;d[0]=g[0];d[1]=g[1];d[2]=g[2];d[3]=g[3];d[4]=g[4];d[5]=g[5];d[6]=g[6];d[7]=g[7];d[8]=g[8];return this},fromMat4:function(g){g=g.val;var d=this.val;d[0]=
g[0];d[1]=g[1];d[2]=g[2];d[3]=g[4];d[4]=g[5];d[5]=g[6];d[6]=g[8];d[7]=g[9];d[8]=g[10];return this},fromArray:function(g){var d=this.val;d[0]=g[0];d[1]=g[1];d[2]=g[2];d[3]=g[3];d[4]=g[4];d[5]=g[5];d[6]=g[6];d[7]=g[7];d[8]=g[8];return this},identity:function(){var g=this.val;g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return this},transpose:function(){var g=this.val,d=g[1],b=g[2],e=g[5];g[1]=g[3];g[2]=g[6];g[3]=d;g[5]=g[7];g[6]=b;g[7]=e;return this},invert:function(){var g=this.val,
d=g[0],b=g[1],e=g[2],h=g[3],c=g[4],l=g[5],f=g[6],k=g[7],n=g[8],q=n*c-l*k,t=-n*h+l*f,v=k*h-c*f,u=d*q+b*t+e*v;if(!u)return null;u=1/u;g[0]=q*u;g[1]=(-n*b+e*k)*u;g[2]=(l*b-e*c)*u;g[3]=t*u;g[4]=(n*d-e*f)*u;g[5]=(-l*d+e*h)*u;g[6]=v*u;g[7]=(-k*d+b*f)*u;g[8]=(c*d-b*h)*u;return this},adjoint:function(){var g=this.val,d=g[0],b=g[1],e=g[2],h=g[3],c=g[4],l=g[5],f=g[6],k=g[7],n=g[8];g[0]=c*n-l*k;g[1]=e*k-b*n;g[2]=b*l-e*c;g[3]=l*f-h*n;g[4]=d*n-e*f;g[5]=e*h-d*l;g[6]=h*k-c*f;g[7]=b*f-d*k;g[8]=d*c-b*h;return this},
determinant:function(){var g=this.val,d=g[3],b=g[4],e=g[5],h=g[6],c=g[7],l=g[8];return g[0]*(l*b-e*c)+g[1]*(-l*d+e*h)+g[2]*(c*d-b*h)},multiply:function(g){var d=this.val,b=d[0],e=d[1],h=d[2],c=d[3],l=d[4],f=d[5],k=d[6],n=d[7],q=d[8],t=g.val;g=t[0];var v=t[1],u=t[2],x=t[3],w=t[4],y=t[5],z=t[6],C=t[7];t=t[8];d[0]=g*b+v*c+u*k;d[1]=g*e+v*l+u*n;d[2]=g*h+v*f+u*q;d[3]=x*b+w*c+y*k;d[4]=x*e+w*l+y*n;d[5]=x*h+w*f+y*q;d[6]=z*b+C*c+t*k;d[7]=z*e+C*l+t*n;d[8]=z*h+C*f+t*q;return this},translate:function(g){var d=
this.val,b=g.x;g=g.y;d[6]=b*d[0]+g*d[3]+d[6];d[7]=b*d[1]+g*d[4]+d[7];d[8]=b*d[2]+g*d[5]+d[8];return this},rotate:function(g){var d=this.val,b=d[0],e=d[1],h=d[2],c=d[3],l=d[4],f=d[5],k=Math.sin(g);g=Math.cos(g);d[0]=g*b+k*c;d[1]=g*e+k*l;d[2]=g*h+k*f;d[3]=g*c-k*b;d[4]=g*l-k*e;d[5]=g*f-k*h;return this},scale:function(g){var d=this.val,b=g.x;g=g.y;d[0]*=b;d[1]*=b;d[2]*=b;d[3]*=g;d[4]*=g;d[5]*=g;return this},fromQuat:function(g){var d=g.x,b=g.y,e=g.z,h=g.w,c=d+d,l=b+b,f=e+e;g=d*c;var k=d*l;d*=f;var n=
b*l;b*=f;e*=f;c*=h;l*=h;h*=f;f=this.val;f[0]=1-(n+e);f[3]=k+h;f[6]=d-l;f[1]=k-h;f[4]=1-(g+e);f[7]=b+c;f[2]=d+l;f[5]=b-c;f[8]=1-(g+n);return this},normalFromMat4:function(g){var d=g.val;g=this.val;var b=d[0],e=d[1],h=d[2],c=d[3],l=d[4],f=d[5],k=d[6],n=d[7],q=d[8],t=d[9],v=d[10],u=d[11],x=d[12],w=d[13],y=d[14];d=d[15];var z=b*f-e*l,C=b*k-h*l,A=b*n-c*l,B=e*k-h*f,E=e*n-c*f,G=h*n-c*k,I=q*w-t*x,H=q*y-v*x;q=q*d-u*x;var K=t*y-v*w;t=t*d-u*w;v=v*d-u*y;u=z*v-C*t+A*K+B*q-E*H+G*I;if(!u)return null;u=1/u;g[0]=
(f*v-k*t+n*K)*u;g[1]=(k*q-l*v-n*H)*u;g[2]=(l*t-f*q+n*I)*u;g[3]=(h*t-e*v-c*K)*u;g[4]=(b*v-h*q+c*H)*u;g[5]=(e*q-b*t-c*I)*u;g[6]=(w*G-y*E+d*B)*u;g[7]=(y*A-x*G-d*C)*u;g[8]=(x*E-w*A+d*z)*u;return this}});r.exports=m},37867:(r,p,a)=>{p=a(83419);a=a(25836);var m=new p({initialize:function(c){this.val=new Float32Array(16);c?this.copy(c):this.identity()},clone:function(){return new m(this)},set:function(c){return this.copy(c)},setValues:function(c,l,f,k,n,q,t,v,u,x,w,y,z,C,A,B){var E=this.val;E[0]=c;E[1]=
l;E[2]=f;E[3]=k;E[4]=n;E[5]=q;E[6]=t;E[7]=v;E[8]=u;E[9]=x;E[10]=w;E[11]=y;E[12]=z;E[13]=C;E[14]=A;E[15]=B;return this},copy:function(c){c=c.val;return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,l,f){f=g.fromQuat(f).val;
var k=l.x,n=l.y;l=l.z;return this.setValues(f[0]*k,f[1]*k,f[2]*k,0,f[4]*n,f[5]*n,f[6]*n,0,f[8]*l,f[9]*l,f[10]*l,0,c.x,c.y,c.z,1)},xyz:function(c,l,f){this.identity();var k=this.val;k[12]=c;k[13]=l;k[14]=f;return this},scaling:function(c,l,f){this.zero();var k=this.val;k[0]=c;k[5]=l;k[10]=f;k[15]=1;return this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,l=c[1],f=c[2],k=c[3],n=c[6],q=c[7],t=c[11];c[1]=c[4];c[2]=c[8];c[3]=c[12];c[4]=
l;c[6]=c[9];c[7]=c[13];c[8]=f;c[9]=n;c[11]=c[14];c[12]=k;c[13]=q;c[14]=t;return this},getInverse:function(c){this.copy(c);return this.invert()},invert:function(){var c=this.val,l=c[0],f=c[1],k=c[2],n=c[3],q=c[4],t=c[5],v=c[6],u=c[7],x=c[8],w=c[9],y=c[10],z=c[11],C=c[12],A=c[13],B=c[14];c=c[15];var E=l*t-f*q,G=l*v-k*q,I=l*u-n*q,H=f*v-k*t,K=f*u-n*t,L=k*u-n*v,M=x*A-w*C,P=x*B-y*C,D=x*c-z*C,F=w*B-y*A,J=w*c-z*A,N=y*c-z*B,O=E*N-G*J+I*F+H*D-K*P+L*M;if(!O)return this;O=1/O;return this.setValues((t*N-v*J+u*
F)*O,(k*J-f*N-n*F)*O,(A*L-B*K+c*H)*O,(y*K-w*L-z*H)*O,(v*D-q*N-u*P)*O,(l*N-k*D+n*P)*O,(B*I-C*L-c*G)*O,(x*L-y*I+z*G)*O,(q*J-t*D+u*M)*O,(f*D-l*J-n*M)*O,(C*K-A*I+c*E)*O,(w*I-x*K-z*E)*O,(t*P-q*F-v*M)*O,(l*F-f*P+k*M)*O,(A*G-C*H-B*E)*O,(x*H-w*G+y*E)*O)},adjoint:function(){var c=this.val,l=c[0],f=c[1],k=c[2],n=c[3],q=c[4],t=c[5],v=c[6],u=c[7],x=c[8],w=c[9],y=c[10],z=c[11],C=c[12],A=c[13],B=c[14];c=c[15];return this.setValues(t*(y*c-z*B)-w*(v*c-u*B)+A*(v*z-u*y),-(f*(y*c-z*B)-w*(k*c-n*B)+A*(k*z-n*y)),f*(v*
c-u*B)-t*(k*c-n*B)+A*(k*u-n*v),-(f*(v*z-u*y)-t*(k*z-n*y)+w*(k*u-n*v)),-(q*(y*c-z*B)-x*(v*c-u*B)+C*(v*z-u*y)),l*(y*c-z*B)-x*(k*c-n*B)+C*(k*z-n*y),-(l*(v*c-u*B)-q*(k*c-n*B)+C*(k*u-n*v)),l*(v*z-u*y)-q*(k*z-n*y)+x*(k*u-n*v),q*(w*c-z*A)-x*(t*c-u*A)+C*(t*z-u*w),-(l*(w*c-z*A)-x*(f*c-n*A)+C*(f*z-n*w)),l*(t*c-u*A)-q*(f*c-n*A)+C*(f*u-n*t),-(l*(t*z-u*w)-q*(f*z-n*w)+x*(f*u-n*t)),-(q*(w*B-y*A)-x*(t*B-v*A)+C*(t*y-v*w)),l*(w*B-y*A)-x*(f*B-k*A)+C*(f*y-k*w),-(l*(t*B-v*A)-q*(f*B-k*A)+C*(f*v-k*t)),l*(t*y-v*w)-q*(f*
y-k*w)+x*(f*v-k*t))},determinant:function(){var c=this.val,l=c[0],f=c[1],k=c[2],n=c[3],q=c[4],t=c[5],v=c[6],u=c[7],x=c[8],w=c[9],y=c[10],z=c[11],C=c[12],A=c[13],B=c[14];c=c[15];return(l*t-f*q)*(y*c-z*B)-(l*v-k*q)*(w*c-z*A)+(l*u-n*q)*(w*B-y*A)+(f*v-k*t)*(x*c-z*C)-(f*u-n*t)*(x*B-y*C)+(k*u-n*v)*(x*A-w*C)},multiply:function(c){var l=this.val,f=l[0],k=l[1],n=l[2],q=l[3],t=l[4],v=l[5],u=l[6],x=l[7],w=l[8],y=l[9],z=l[10],C=l[11],A=l[12],B=l[13],E=l[14],G=l[15];c=c.val;var I=c[0],H=c[1],K=c[2],L=c[3];l[0]=
I*f+H*t+K*w+L*A;l[1]=I*k+H*v+K*y+L*B;l[2]=I*n+H*u+K*z+L*E;l[3]=I*q+H*x+K*C+L*G;I=c[4];H=c[5];K=c[6];L=c[7];l[4]=I*f+H*t+K*w+L*A;l[5]=I*k+H*v+K*y+L*B;l[6]=I*n+H*u+K*z+L*E;l[7]=I*q+H*x+K*C+L*G;I=c[8];H=c[9];K=c[10];L=c[11];l[8]=I*f+H*t+K*w+L*A;l[9]=I*k+H*v+K*y+L*B;l[10]=I*n+H*u+K*z+L*E;l[11]=I*q+H*x+K*C+L*G;I=c[12];H=c[13];K=c[14];L=c[15];l[12]=I*f+H*t+K*w+L*A;l[13]=I*k+H*v+K*y+L*B;l[14]=I*n+H*u+K*z+L*E;l[15]=I*q+H*x+K*C+L*G;return this},multiplyLocal:function(c){var l=this.val;c=c.val;return this.setValues(l[0]*
c[0]+l[1]*c[4]+l[2]*c[8]+l[3]*c[12],l[0]*c[1]+l[1]*c[5]+l[2]*c[9]+l[3]*c[13],l[0]*c[2]+l[1]*c[6]+l[2]*c[10]+l[3]*c[14],l[0]*c[3]+l[1]*c[7]+l[2]*c[11]+l[3]*c[15],l[4]*c[0]+l[5]*c[4]+l[6]*c[8]+l[7]*c[12],l[4]*c[1]+l[5]*c[5]+l[6]*c[9]+l[7]*c[13],l[4]*c[2]+l[5]*c[6]+l[6]*c[10]+l[7]*c[14],l[4]*c[3]+l[5]*c[7]+l[6]*c[11]+l[7]*c[15],l[8]*c[0]+l[9]*c[4]+l[10]*c[8]+l[11]*c[12],l[8]*c[1]+l[9]*c[5]+l[10]*c[9]+l[11]*c[13],l[8]*c[2]+l[9]*c[6]+l[10]*c[10]+l[11]*c[14],l[8]*c[3]+l[9]*c[7]+l[10]*c[11]+l[11]*c[15],
l[12]*c[0]+l[13]*c[4]+l[14]*c[8]+l[15]*c[12],l[12]*c[1]+l[13]*c[5]+l[14]*c[9]+l[15]*c[13],l[12]*c[2]+l[13]*c[6]+l[14]*c[10]+l[15]*c[14],l[12]*c[3]+l[13]*c[7]+l[14]*c[11]+l[15]*c[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,l){var f=c.val,k=l.val;l=f[0];c=f[4];var n=f[8],q=f[12],t=f[1],v=f[5],u=f[9],x=f[13],w=f[2],y=f[6],z=f[10],C=f[14],A=f[3],B=f[7],E=f[11];f=f[15];var G=k[0],I=k[4],H=k[8],K=k[12],L=k[1],M=k[5],P=k[9],D=k[13],F=k[2],J=k[6],N=k[10],
O=k[14],R=k[3],Q=k[7],S=k[11];k=k[15];return this.setValues(l*G+c*L+n*F+q*R,t*G+v*L+u*F+x*R,w*G+y*L+z*F+C*R,A*G+B*L+E*F+f*R,l*I+c*M+n*J+q*Q,t*I+v*M+u*J+x*Q,w*I+y*M+z*J+C*Q,A*I+B*M+E*J+f*Q,l*H+c*P+n*N+q*S,t*H+v*P+u*N+x*S,w*H+y*P+z*N+C*S,A*H+B*P+E*N+f*S,l*K+c*D+n*O+q*k,t*K+v*D+u*O+x*k,w*K+y*D+z*O+C*k,A*K+B*D+E*O+f*k)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,l,f){var k=this.val;k[12]=k[0]*c+k[4]*l+k[8]*f+k[12];k[13]=k[1]*c+k[5]*l+k[9]*f+k[13];k[14]=k[2]*c+
k[6]*l+k[10]*f+k[14];k[15]=k[3]*c+k[7]*l+k[11]*f+k[15];return this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,l,f){var k=this.val;k[0]*=c;k[1]*=c;k[2]*=c;k[3]*=c;k[4]*=l;k[5]*=l;k[6]*=l;k[7]*=l;k[8]*=f;k[9]*=f;k[10]*=f;k[11]*=f;return this},makeRotationAxis:function(c,l){var f=Math.cos(l);l=Math.sin(l);var k=1-f,n=c.x,q=c.y;c=c.z;var t=k*n,v=k*q;return this.setValues(t*n+f,t*q-l*c,t*c+l*q,0,t*q+l*c,v*q+f,v*c-l*n,0,t*c-l*q,v*c+l*n,k*c*c+f,0,0,0,0,1)},rotate:function(c,
l){var f=this.val,k=l.x,n=l.y;l=l.z;var q=Math.sqrt(k*k+n*n+l*l);if(1E-6>Math.abs(q))return this;q=1/q;k*=q;n*=q;l*=q;var t=Math.sin(c),v=Math.cos(c),u=1-v;c=f[0];q=f[1];var x=f[2],w=f[3],y=f[4],z=f[5],C=f[6],A=f[7],B=f[8],E=f[9],G=f[10],I=f[11],H=k*k*u+v,K=n*k*u+l*t,L=l*k*u-n*t,M=k*n*u-l*t,P=n*n*u+v,D=l*n*u+k*t,F=k*l*u+n*t;k=n*l*u-k*t;n=l*l*u+v;return this.setValues(c*H+y*K+B*L,q*H+z*K+E*L,x*H+C*K+G*L,w*H+A*K+I*L,c*M+y*P+B*D,q*M+z*P+E*D,x*M+C*P+G*D,w*M+A*P+I*D,c*F+y*k+B*n,q*F+z*k+E*n,x*F+C*k+G*n,
w*F+A*k+I*n,f[12],f[13],f[14],f[15])},rotateX:function(c){var l=this.val,f=Math.sin(c);c=Math.cos(c);var k=l[4],n=l[5],q=l[6],t=l[7],v=l[8],u=l[9],x=l[10],w=l[11];l[4]=k*c+v*f;l[5]=n*c+u*f;l[6]=q*c+x*f;l[7]=t*c+w*f;l[8]=v*c-k*f;l[9]=u*c-n*f;l[10]=x*c-q*f;l[11]=w*c-t*f;return this},rotateY:function(c){var l=this.val,f=Math.sin(c);c=Math.cos(c);var k=l[0],n=l[1],q=l[2],t=l[3],v=l[8],u=l[9],x=l[10],w=l[11];l[0]=k*c-v*f;l[1]=n*c-u*f;l[2]=q*c-x*f;l[3]=t*c-w*f;l[8]=k*f+v*c;l[9]=n*f+u*c;l[10]=q*f+x*c;l[11]=
t*f+w*c;return this},rotateZ:function(c){var l=this.val,f=Math.sin(c);c=Math.cos(c);var k=l[0],n=l[1],q=l[2],t=l[3],v=l[4],u=l[5],x=l[6],w=l[7];l[0]=k*c+v*f;l[1]=n*c+u*f;l[2]=q*c+x*f;l[3]=t*c+w*f;l[4]=v*c-k*f;l[5]=u*c-n*f;l[6]=x*c-q*f;l[7]=w*c-t*f;return this},fromRotationTranslation:function(c,l){var f=c.x,k=c.y,n=c.z,q=c.w,t=f+f,v=k+k,u=n+n;c=f*t;var x=f*v;f*=u;var w=k*v;k*=u;n*=u;t*=q;v*=q;q*=u;return this.setValues(1-(w+n),x+q,f-v,0,x-q,1-(c+n),k+t,0,f+v,k-t,1-(c+w),0,l.x,l.y,l.z,1)},fromQuat:function(c){var l=
c.x,f=c.y,k=c.z,n=c.w,q=l+l,t=f+f,v=k+k;c=l*q;var u=l*t;l*=v;var x=f*t;f*=v;k*=v;q*=n;t*=n;n*=v;return this.setValues(1-(x+k),u+n,l-t,0,u-n,1-(c+k),f+q,0,l+t,f-q,1-(c+x),0,0,0,0,1)},frustum:function(c,l,f,k,n,q){var t=1/(l-c),v=1/(k-f),u=1/(n-q);return this.setValues(2*n*t,0,0,0,0,2*n*v,0,0,(l+c)*t,(k+f)*v,(q+n)*u,-1,0,0,q*n*2*u,0)},perspective:function(c,l,f,k){c=1/Math.tan(c/2);var n=1/(f-k);return this.setValues(c/l,0,0,0,0,c,0,0,0,0,(k+f)*n,-1,0,0,2*k*f*n,0)},perspectiveLH:function(c,l,f,k){return this.setValues(2*
f/c,0,0,0,0,2*f/l,0,0,0,0,-k/(f-k),1,0,0,f*k/(f-k),0)},ortho:function(c,l,f,k,n,q){var t=c-l,v=f-k,u=n-q;t=0===t?t:1/t;v=0===v?v:1/v;u=0===u?u:1/u;return this.setValues(-2*t,0,0,0,0,-2*v,0,0,0,0,2*u,0,(c+l)*t,(k+f)*v,(q+n)*u,1)},lookAtRH:function(c,l,f){var k=this.val;h.subVectors(c,l);0===h.getLengthSquared()&&(h.z=1);h.normalize();b.crossVectors(f,h);0===b.getLengthSquared()&&(1===Math.abs(f.z)?h.x+=1E-4:h.z+=1E-4,h.normalize(),b.crossVectors(f,h));b.normalize();e.crossVectors(h,b);k[0]=b.x;k[1]=
b.y;k[2]=b.z;k[4]=e.x;k[5]=e.y;k[6]=e.z;k[8]=h.x;k[9]=h.y;k[10]=h.z;return this},lookAt:function(c,l,f){var k=c.x,n=c.y;c=c.z;var q=f.x,t=f.y,v=f.z,u=l.x;f=l.y;var x=l.z;if(1E-6>Math.abs(k-u)&&1E-6>Math.abs(n-f)&&1E-6>Math.abs(c-x))return this.identity();l=k-u;f=n-f;x=c-x;u=1/Math.sqrt(l*l+f*f+x*x);l*=u;f*=u;x*=u;var w=t*x-v*f;v=v*l-q*x;q=q*f-t*l;(u=Math.sqrt(w*w+v*v+q*q))?(u=1/u,w*=u,v*=u,q*=u):q=v=w=0;t=f*q-x*v;var y=x*w-l*q,z=l*v-f*w;(u=Math.sqrt(t*t+y*y+z*z))?(u=1/u,t*=u,y*=u,z*=u):z=y=t=0;return this.setValues(w,
t,l,0,v,y,f,0,q,z,x,0,-(w*k+v*n+q*c),-(t*k+y*n+z*c),-(l*k+f*n+x*c),1)},yawPitchRoll:function(c,l,f){this.zero();g.zero();d.zero();var k=this.val,n=g.val,q=d.val,t=Math.sin(f);f=Math.cos(f);k[10]=1;k[15]=1;k[0]=f;k[1]=t;k[4]=-t;k[5]=f;t=Math.sin(l);f=Math.cos(l);n[0]=1;n[15]=1;n[5]=f;n[10]=f;n[9]=-t;n[6]=t;t=Math.sin(c);f=Math.cos(c);q[5]=1;q[15]=1;q[0]=f;q[2]=-t;q[8]=t;q[10]=f;this.multiplyLocal(g);this.multiplyLocal(d);return this},setWorldMatrix:function(c,l,f,k,n){this.yawPitchRoll(c.y,c.x,c.z);
g.scaling(f.x,f.y,f.z);d.xyz(l.x,l.y,l.z);this.multiplyLocal(g);this.multiplyLocal(d);k&&this.multiplyLocal(k);n&&this.multiplyLocal(n);return this},multiplyToMat4:function(c,l){var f=this.val;c=c.val;var k=f[0],n=f[1],q=f[2],t=f[3],v=f[4],u=f[5],x=f[6],w=f[7],y=f[8],z=f[9],C=f[10],A=f[11],B=f[12],E=f[13],G=f[14];f=f[15];var I=c[1],H=c[2],K=c[3],L=c[4],M=c[5],P=c[6],D=c[7],F=c[8],J=c[9],N=c[10],O=c[11],R=c[12],Q=c[13],S=c[14],T=c[15];return l.setValues(c[0]*k+I*v+H*y+K*B,I*n+I*u+H*z+K*E,H*q+I*x+H*
C+K*G,K*t+I*w+H*A+K*f,L*k+M*v+P*y+D*B,L*n+M*u+P*z+D*E,L*q+M*x+P*C+D*G,L*t+M*w+P*A+D*f,F*k+J*v+N*y+O*B,F*n+J*u+N*z+O*E,F*q+J*x+N*C+O*G,F*t+J*w+N*A+O*f,R*k+Q*v+S*y+T*B,R*n+Q*u+S*z+T*E,R*q+Q*x+S*C+T*G,R*t+Q*w+S*A+T*f)},fromRotationXYTranslation:function(c,l,f){var k=l.x,n=l.y;l=l.z;var q=Math.sin(c.x),t=Math.cos(c.x),v=Math.sin(c.y);c=Math.cos(c.y);var u=k,x=n,w=l,y=-q,z=-(y*v),C=-(t*v);y*=c;var A=t*c;f||(u=c*k+v*l,x=z*k+t*n+y*l,w=C*k+q*n+A*l);return this.setValues(c,z,C,0,0,t,q,0,v,y,A,0,u,x,w,1)},
getMaxScaleOnAxis:function(){var c=this.val;return Math.sqrt(Math.max(c[0]*c[0]+c[1]*c[1]+c[2]*c[2],c[4]*c[4]+c[5]*c[5]+c[6]*c[6],c[8]*c[8]+c[9]*c[9]+c[10]*c[10]))}}),g=new m,d=new m,b=new a,e=new a,h=new a;r.exports=m},86883:r=>{r.exports=function(p,a,m){return Math.min(p+a,m)}},50040:r=>{r.exports=function(p){var a=p.length;if(0===a)return 0;p.sort(function(g,d){return g-d});var m=Math.floor(a/2);return 0===a%2?(p[m]+p[m-1])/2:p[m]}},37204:r=>{r.exports=function(p,a,m){return Math.max(p-a,m)}},
65201:r=>{r.exports=function(p,a,m,g){void 0===m&&(m=a+1);a=(p-a)/(m-a);1<a?void 0!==g?(a=(g-p)/(g-m),0>a&&(a=0)):a=1:0>a&&(a=0);return a}},15746:(r,p,a)=>{p=a(83419);var m=a(94434),g=a(29747);a=a(25836);var d=new Int8Array([1,2,0]),b=new Float32Array([0,0,0]),e=new a(1,0,0),h=new a(0,1,0),c=new a,l=new m;a=new p({initialize:function(f,k,n,q){this.onChangeCallback=g;this.set(f,k,n,q)},x:{get:function(){return this._x},set:function(f){this._x=f;this.onChangeCallback(this)}},y:{get:function(){return this._y},
set:function(f){this._y=f;this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f;this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(f){this._w=f;this.onChangeCallback(this)}},copy:function(f){return this.set(f)},set:function(f,k,n,q,t){void 0===t&&(t=!0);"object"===typeof f?(this._x=f.x||0,this._y=f.y||0,this._z=f.z||0,this._w=f.w||0):(this._x=f||0,this._y=k||0,this._z=n||0,this._w=q||0);if(t)this.onChangeCallback(this);return this},add:function(f){this._x+=
f.x;this._y+=f.y;this._z+=f.z;this._w+=f.w;this.onChangeCallback(this);return this},subtract:function(f){this._x-=f.x;this._y-=f.y;this._z-=f.z;this._w-=f.w;this.onChangeCallback(this);return this},scale:function(f){this._x*=f;this._y*=f;this._z*=f;this._w*=f;this.onChangeCallback(this);return this},length:function(){var f=this.x,k=this.y,n=this.z,q=this.w;return Math.sqrt(f*f+k*k+n*n+q*q)},lengthSq:function(){var f=this.x,k=this.y,n=this.z,q=this.w;return f*f+k*k+n*n+q*q},normalize:function(){var f=
this.x,k=this.y,n=this.z,q=this.w,t=f*f+k*k+n*n+q*q;0<t&&(t=1/Math.sqrt(t),this._x=f*t,this._y=k*t,this._z=n*t,this._w=q*t);this.onChangeCallback(this);return this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,k){void 0===k&&(k=0);var n=this.x,q=this.y,t=this.z,v=this.w;return this.set(n+k*(f.x-n),q+k*(f.y-q),t+k*(f.z-t),v+k*(f.w-v))},rotationTo:function(f,k){var n=f.x*k.x+f.y*k.y+f.z*k.z;if(-.999999>n)return 1E-6>c.copy(e).cross(f).length()&&c.copy(h).cross(f),
c.normalize(),this.setAxisAngle(c,Math.PI);if(.999999<n)return this.set(0,0,0,1);c.copy(f).cross(k);this._x=c.x;this._y=c.y;this._z=c.z;this._w=1+n;return this.normalize()},setAxes:function(f,k,n){var q=l.val;q[0]=k.x;q[3]=k.y;q[6]=k.z;q[1]=n.x;q[4]=n.y;q[7]=n.z;q[2]=-f.x;q[5]=-f.y;q[8]=-f.z;return this.fromMat3(l).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(f,k){k*=.5;var n=Math.sin(k);return this.set(n*f.x,n*f.y,n*f.z,Math.cos(k))},multiply:function(f){var k=
this.x,n=this.y,q=this.z,t=this.w,v=f.x,u=f.y,x=f.z;f=f.w;return this.set(k*f+t*v+n*x-q*u,n*f+t*u+q*v-k*x,q*f+t*x+k*u-n*v,t*f-k*v-n*u-q*x)},slerp:function(f,k){var n=this.x,q=this.y,t=this.z,v=this.w,u=f.x,x=f.y,w=f.z;f=f.w;var y=n*u+q*x+t*w+v*f;0>y&&(y=-y,u=-u,x=-x,w=-w,f=-f);var z=1-k,C=k;1E-6<1-y&&(y=Math.acos(y),C=Math.sin(y),z=Math.sin((1-k)*y)/C,C=Math.sin(k*y)/C);return this.set(z*n+C*u,z*q+C*x,z*t+C*w,z*v+C*f)},invert:function(){var f=this.x,k=this.y,n=this.z,q=this.w,t=f*f+k*k+n*n+q*q;t=
t?1/t:0;return this.set(-f*t,-k*t,-n*t,q*t)},conjugate:function(){this._x=-this.x;this._y=-this.y;this._z=-this.z;this.onChangeCallback(this);return this},rotateX:function(f){f*=.5;var k=this.x,n=this.y,q=this.z,t=this.w,v=Math.sin(f);f=Math.cos(f);return this.set(k*f+t*v,n*f+q*v,q*f-n*v,t*f-k*v)},rotateY:function(f){f*=.5;var k=this.x,n=this.y,q=this.z,t=this.w,v=Math.sin(f);f=Math.cos(f);return this.set(k*f-q*v,n*f+t*v,q*f+k*v,t*f-n*v)},rotateZ:function(f){f*=.5;var k=this.x,n=this.y,q=this.z,t=
this.w,v=Math.sin(f);f=Math.cos(f);return this.set(k*f+n*v,n*f-k*v,q*f+t*v,t*f-q*v)},calculateW:function(){var f=this.x,k=this.y,n=this.z;this.w=-Math.sqrt(1-f*f-k*k-n*n);return this},setFromEuler:function(f,k){var n=f.x/2,q=f.y/2,t=f.z/2,v=Math.cos(n),u=Math.cos(q),x=Math.cos(t);n=Math.sin(n);q=Math.sin(q);t=Math.sin(t);switch(f.order){case "XYZ":this.set(n*u*x+v*q*t,v*q*x-n*u*t,v*u*t+n*q*x,v*u*x-n*q*t,k);break;case "YXZ":this.set(n*u*x+v*q*t,v*q*x-n*u*t,v*u*t-n*q*x,v*u*x+n*q*t,k);break;case "ZXY":this.set(n*
u*x-v*q*t,v*q*x+n*u*t,v*u*t+n*q*x,v*u*x-n*q*t,k);break;case "ZYX":this.set(n*u*x-v*q*t,v*q*x+n*u*t,v*u*t-n*q*x,v*u*x+n*q*t,k);break;case "YZX":this.set(n*u*x+v*q*t,v*q*x+n*u*t,v*u*t-n*q*x,v*u*x-n*q*t,k);break;case "XZY":this.set(n*u*x-v*q*t,v*q*x-n*u*t,v*u*t+n*q*x,v*u*x+n*q*t,k)}return this},setFromRotationMatrix:function(f){var k=f.val,n=k[0];f=k[4];var q=k[8],t=k[1],v=k[5],u=k[9],x=k[2],w=k[6];k=k[10];var y=n+v+k;0<y?(n=.5/Math.sqrt(y+1),this.set((w-u)*n,(q-x)*n,(t-f)*n,.25/n)):n>v&&n>k?(n=2*Math.sqrt(1+
n-v-k),this.set(.25*n,(f+t)/n,(q+x)/n,(w-u)/n)):v>k?(n=2*Math.sqrt(1+v-n-k),this.set((f+t)/n,.25*n,(u+w)/n,(q-x)/n)):(n=2*Math.sqrt(1+k-n-v),this.set((q+x)/n,(u+w)/n,.25*n,(t-f)/n));return this},fromMat3:function(f){f=f.val;var k=f[0]+f[4]+f[8];if(0<k)k=Math.sqrt(k+1),this.w=.5*k,k=.5/k,this._x=(f[7]-f[5])*k,this._y=(f[2]-f[6])*k,this._z=(f[3]-f[1])*k;else{var n=0;f[4]>f[0]&&(n=1);f[8]>f[3*n+n]&&(n=2);var q=d[n],t=d[q];k=Math.sqrt(f[3*n+n]-f[3*q+q]-f[3*t+t]+1);b[n]=.5*k;k=.5/k;b[q]=(f[3*q+n]+f[3*
n+q])*k;b[t]=(f[3*t+n]+f[3*n+t])*k;this._x=b[0];this._y=b[1];this._z=b[2];this._w=(f[3*t+q]-f[3*q+t])*k}this.onChangeCallback(this);return this}});r.exports=a},43396:(r,p,a)=>{var m=a(36383);r.exports=function(g){return g*m.RAD_TO_DEG}},74362:r=>{r.exports=function(p,a){void 0===a&&(a=1);var m=2*Math.random()*Math.PI;p.x=Math.cos(m)*a;p.y=Math.sin(m)*a;return p}},60706:r=>{r.exports=function(p,a){void 0===a&&(a=1);var m=2*Math.random()*Math.PI,g=2*Math.random()-1,d=Math.sqrt(1-g*g)*a;p.x=Math.cos(m)*
d;p.y=Math.sin(m)*d;p.z=g*a;return p}},67421:r=>{r.exports=function(p,a){void 0===a&&(a=1);p.x=(2*Math.random()-1)*a;p.y=(2*Math.random()-1)*a;p.z=(2*Math.random()-1)*a;p.w=(2*Math.random()-1)*a;return p}},36305:r=>{r.exports=function(p,a){var m=p.x,g=p.y;p.x=m*Math.cos(a)-g*Math.sin(a);p.y=m*Math.sin(a)+g*Math.cos(a);return p}},11520:r=>{r.exports=function(p,a,m,g){var d=Math.cos(g);g=Math.sin(g);var b=p.x-a,e=p.y-m;p.x=b*d-e*g+a;p.y=b*g+e*d+m;return p}},1163:r=>{r.exports=function(p,a,m,g,d){g+=
Math.atan2(p.y-m,p.x-a);p.x=a+d*Math.cos(g);p.y=m+d*Math.sin(g);return p}},70336:r=>{r.exports=function(p,a,m,g,d){p.x=a+d*Math.cos(g);p.y=m+d*Math.sin(g);return p}},72678:(r,p,a)=>{p=a(25836);var m=a(37867);a=a(15746);var g=new m,d=new a,b=new p;r.exports=function(e,h,c){d.setAxisAngle(h,c);g.fromRotationTranslation(d,b.set(0,0,0));return e.transformMat4(g)}},2284:r=>{r.exports=function(p){return 0<p?Math.ceil(p):Math.floor(p)}},41013:r=>{r.exports=function(p,a,m){void 0===a&&(a=0);void 0===m&&(m=
10);a=Math.pow(m,-a);return Math.round(p*a)/a}},16922:r=>{r.exports=function(p,a,m,g){void 0===a&&(a=1);void 0===m&&(m=1);void 0===g&&(g=1);g*=Math.PI/p;for(var d=[],b=[],e=0;e<p;e++)m-=a*g,a+=m*g,d[e]=m,b[e]=a;return{sin:b,cos:d,length:p}}},7602:r=>{r.exports=function(p,a,m){if(p<=a)return 0;if(p>=m)return 1;p=(p-a)/(m-a);return p*p*(3-2*p)}},54261:r=>{r.exports=function(p,a,m){p=Math.max(0,Math.min(1,(p-a)/(m-a)));return p*p*p*(p*(6*p-15)+10)}},44408:(r,p,a)=>{var m=a(26099);r.exports=function(g,
d,b,e){void 0===e&&(e=new m);var h=0,c=0;0<g&&g<=d*b&&(g>d-1?(c=Math.floor(g/d),h=g-c*d):h=g);return e.set(h,c)}},85955:(r,p,a)=>{var m=a(26099);r.exports=function(g,d,b,e,h,c,l,f){void 0===f&&(f=new m);var k=Math.sin(h),n=Math.cos(h);h=n*c;c*=k;k=-k*l;l*=n;n=1/(h*l+k*-c);f.x=l*n*g+-k*n*d+(e*k-b*l)*n;f.y=h*n*d+-c*n*g+(-e*h+b*c)*n;return f}},26099:(r,p,a)=>{p=a(83419);var m=a(43855),g=new p({initialize:function(d,b){this.y=this.x=0;"object"===typeof d?(this.x=d.x||0,this.y=d.y||0):(void 0===b&&(b=
d),this.x=d||0,this.y=b||0)},clone:function(){return new g(this.x,this.y)},copy:function(d){this.x=d.x||0;this.y=d.y||0;return this},setFromObject:function(d){this.x=d.x||0;this.y=d.y||0;return this},set:function(d,b){void 0===b&&(b=d);this.x=d;this.y=b;return this},setTo:function(d,b){return this.set(d,b)},setToPolar:function(d,b){null==b&&(b=1);this.x=Math.cos(d)*b;this.y=Math.sin(d)*b;return this},equals:function(d){return this.x===d.x&&this.y===d.y},fuzzyEquals:function(d,b){return m(this.x,d.x,
b)&&m(this.y,d.y,b)},angle:function(){var d=Math.atan2(this.y,this.x);0>d&&(d+=2*Math.PI);return d},setAngle:function(d){return this.setToPolar(d,this.length())},add:function(d){this.x+=d.x;this.y+=d.y;return this},subtract:function(d){this.x-=d.x;this.y-=d.y;return this},multiply:function(d){this.x*=d.x;this.y*=d.y;return this},scale:function(d){isFinite(d)?(this.x*=d,this.y*=d):this.y=this.x=0;return this},divide:function(d){this.x/=d.x;this.y/=d.y;return this},negate:function(){this.x=-this.x;
this.y=-this.y;return this},distance:function(d){var b=d.x-this.x;d=d.y-this.y;return Math.sqrt(b*b+d*d)},distanceSq:function(d){var b=d.x-this.x;d=d.y-this.y;return b*b+d*d},length:function(){var d=this.x,b=this.y;return Math.sqrt(d*d+b*b)},setLength:function(d){return this.normalize().scale(d)},lengthSq:function(){var d=this.x,b=this.y;return d*d+b*b},normalize:function(){var d=this.x,b=this.y,e=d*d+b*b;0<e&&(e=1/Math.sqrt(e),this.x=d*e,this.y=b*e);return this},normalizeRightHand:function(){var d=
this.x;this.x=-1*this.y;this.y=d;return this},normalizeLeftHand:function(){var d=this.x;this.x=this.y;this.y=-1*d;return this},dot:function(d){return this.x*d.x+this.y*d.y},cross:function(d){return this.x*d.y-this.y*d.x},lerp:function(d,b){void 0===b&&(b=0);var e=this.x,h=this.y;this.x=e+b*(d.x-e);this.y=h+b*(d.y-h);return this},transformMat3:function(d){var b=this.x,e=this.y;d=d.val;this.x=d[0]*b+d[3]*e+d[6];this.y=d[1]*b+d[4]*e+d[7];return this},transformMat4:function(d){var b=this.x,e=this.y;d=
d.val;this.x=d[0]*b+d[4]*e+d[12];this.y=d[1]*b+d[5]*e+d[13];return this},reset:function(){this.y=this.x=0;return this},limit:function(d){var b=this.length();b&&b>d&&this.scale(d/b);return this},reflect:function(d){d=d.clone().normalize();return this.subtract(d.scale(2*this.dot(d)))},mirror:function(d){return this.reflect(d).negate()},rotate:function(d){var b=Math.cos(d);d=Math.sin(d);return this.set(b*this.x-d*this.y,d*this.x+b*this.y)},project:function(d){var b=this.dot(d)/d.dot(d);return this.copy(d).scale(b)}});
g.ZERO=new g;g.RIGHT=new g(1,0);g.LEFT=new g(-1,0);g.UP=new g(0,-1);g.DOWN=new g(0,1);g.ONE=new g(1,1);r.exports=g},25836:(r,p,a)=>{var m=new (a(83419))({initialize:function(g,d,b){this.z=this.y=this.x=0;"object"===typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):(this.x=g||0,this.y=d||0,this.z=b||0)},up:function(){this.x=0;this.y=1;this.z=0;return this},min:function(g){this.x=Math.min(this.x,g.x);this.y=Math.min(this.y,g.y);this.z=Math.min(this.z,g.z);return this},max:function(g){this.x=Math.max(this.x,
g.x);this.y=Math.max(this.y,g.y);this.z=Math.max(this.z,g.z);return this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(g,d){this.x=g.x+d.x;this.y=g.y+d.y;this.z=g.z+d.z;return this},crossVectors:function(g,d){var b=g.x,e=g.y;g=g.z;var h=d.x,c=d.y;d=d.z;this.x=e*d-g*c;this.y=g*h-b*d;this.z=b*c-e*h;return this},equals:function(g){return this.x===g.x&&this.y===g.y&&this.z===g.z},copy:function(g){this.x=g.x;this.y=g.y;this.z=g.z||0;return this},set:function(g,d,b){"object"===
typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):(this.x=g||0,this.y=d||0,this.z=b||0);return this},setFromMatrixPosition:function(g){return this.fromArray(g.val,12)},setFromMatrixColumn:function(g,d){return this.fromArray(g.val,4*d)},fromArray:function(g,d){void 0===d&&(d=0);this.x=g[d];this.y=g[d+1];this.z=g[d+2];return this},add:function(g){this.x+=g.x;this.y+=g.y;this.z+=g.z||0;return this},addScalar:function(g){this.x+=g;this.y+=g;this.z+=g;return this},addScale:function(g,d){this.x+=g.x*
d;this.y+=g.y*d;this.z+=g.z*d||0;return this},subtract:function(g){this.x-=g.x;this.y-=g.y;this.z-=g.z||0;return this},multiply:function(g){this.x*=g.x;this.y*=g.y;this.z*=g.z||1;return this},scale:function(g){isFinite(g)?(this.x*=g,this.y*=g,this.z*=g):this.z=this.y=this.x=0;return this},divide:function(g){this.x/=g.x;this.y/=g.y;this.z/=g.z||1;return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},distance:function(g){var d=g.x-this.x,b=g.y-this.y;g=g.z-this.z||
0;return Math.sqrt(d*d+b*b+g*g)},distanceSq:function(g){var d=g.x-this.x,b=g.y-this.y;g=g.z-this.z||0;return d*d+b*b+g*g},length:function(){var g=this.x,d=this.y,b=this.z;return Math.sqrt(g*g+d*d+b*b)},lengthSq:function(){var g=this.x,d=this.y,b=this.z;return g*g+d*d+b*b},normalize:function(){var g=this.x,d=this.y,b=this.z,e=g*g+d*d+b*b;0<e&&(e=1/Math.sqrt(e),this.x=g*e,this.y=d*e,this.z=b*e);return this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z},cross:function(g){var d=this.x,b=this.y,
e=this.z,h=g.x,c=g.y;g=g.z;this.x=b*g-e*c;this.y=e*h-d*g;this.z=d*c-b*h;return this},lerp:function(g,d){void 0===d&&(d=0);var b=this.x,e=this.y,h=this.z;this.x=b+d*(g.x-b);this.y=e+d*(g.y-e);this.z=h+d*(g.z-h);return this},applyMatrix3:function(g){var d=this.x,b=this.y,e=this.z;g=g.val;this.x=g[0]*d+g[3]*b+g[6]*e;this.y=g[1]*d+g[4]*b+g[7]*e;this.z=g[2]*d+g[5]*b+g[8]*e;return this},applyMatrix4:function(g){var d=this.x,b=this.y,e=this.z;g=g.val;var h=1/(g[3]*d+g[7]*b+g[11]*e+g[15]);this.x=(g[0]*d+
g[4]*b+g[8]*e+g[12])*h;this.y=(g[1]*d+g[5]*b+g[9]*e+g[13])*h;this.z=(g[2]*d+g[6]*b+g[10]*e+g[14])*h;return this},transformMat3:function(g){var d=this.x,b=this.y,e=this.z;g=g.val;this.x=d*g[0]+b*g[3]+e*g[6];this.y=d*g[1]+b*g[4]+e*g[7];this.z=d*g[2]+b*g[5]+e*g[8];return this},transformMat4:function(g){var d=this.x,b=this.y,e=this.z;g=g.val;this.x=g[0]*d+g[4]*b+g[8]*e+g[12];this.y=g[1]*d+g[5]*b+g[9]*e+g[13];this.z=g[2]*d+g[6]*b+g[10]*e+g[14];return this},transformCoordinates:function(g){var d=this.x,
b=this.y,e=this.z;g=g.val;var h=d*g[1]+b*g[5]+e*g[9]+g[13],c=d*g[2]+b*g[6]+e*g[10]+g[14],l=d*g[3]+b*g[7]+e*g[11]+g[15];this.x=(d*g[0]+b*g[4]+e*g[8]+g[12])/l;this.y=h/l;this.z=c/l;return this},transformQuat:function(g){var d=this.x,b=this.y,e=this.z,h=g.x,c=g.y,l=g.z;g=g.w;var f=g*d+c*e-l*b,k=g*b+l*d-h*e,n=g*e+h*b-c*d;d=-h*d-c*b-l*e;this.x=f*g+d*-h+k*-l-n*-c;this.y=k*g+d*-c+n*-h-f*-l;this.z=n*g+d*-l+f*-c-k*-h;return this},project:function(g){var d=this.x,b=this.y,e=this.z;g=g.val;var h=g[1],c=g[2],
l=g[5],f=g[6],k=g[9],n=g[10],q=g[13],t=g[14],v=1/(d*g[3]+b*g[7]+e*g[11]+g[15]);this.x=(d*g[0]+b*g[4]+e*g[8]+g[12])*v;this.y=(d*h+b*l+e*k+q)*v;this.z=(d*c+b*f+e*n+t)*v;return this},projectViewMatrix:function(g,d){return this.applyMatrix4(g).applyMatrix4(d)},unprojectViewMatrix:function(g,d){return this.applyMatrix4(g).applyMatrix4(d)},unproject:function(g,d){var b=g.w,e=b-this.y-1-g.y,h=this.z;this.x=2*(this.x-g.x)/g.z-1;this.y=2*e/b-1;this.z=2*h-1;return this.project(d)},reset:function(){this.z=this.y=
this.x=0;return this}});m.ZERO=new m;m.RIGHT=new m(1,0,0);m.LEFT=new m(-1,0,0);m.UP=new m(0,-1,0);m.DOWN=new m(0,1,0);m.FORWARD=new m(0,0,1);m.BACK=new m(0,0,-1);m.ONE=new m(1,1,1);r.exports=m},61369:(r,p,a)=>{var m=new (a(83419))({initialize:function(g,d,b,e){this.w=this.z=this.y=this.x=0;"object"===typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0,this.w=g.w||0):(this.x=g||0,this.y=d||0,this.z=b||0,this.w=e||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(g){this.x=
g.x;this.y=g.y;this.z=g.z||0;this.w=g.w||0;return this},equals:function(g){return this.x===g.x&&this.y===g.y&&this.z===g.z&&this.w===g.w},set:function(g,d,b,e){"object"===typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0,this.w=g.w||0):(this.x=g||0,this.y=d||0,this.z=b||0,this.w=e||0);return this},add:function(g){this.x+=g.x;this.y+=g.y;this.z+=g.z||0;this.w+=g.w||0;return this},subtract:function(g){this.x-=g.x;this.y-=g.y;this.z-=g.z||0;this.w-=g.w||0;return this},scale:function(g){this.x*=g;this.y*=
g;this.z*=g;this.w*=g;return this},length:function(){var g=this.x,d=this.y,b=this.z,e=this.w;return Math.sqrt(g*g+d*d+b*b+e*e)},lengthSq:function(){var g=this.x,d=this.y,b=this.z,e=this.w;return g*g+d*d+b*b+e*e},normalize:function(){var g=this.x,d=this.y,b=this.z,e=this.w,h=g*g+d*d+b*b+e*e;0<h&&(h=1/Math.sqrt(h),this.x=g*h,this.y=d*h,this.z=b*h,this.w=e*h);return this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w},lerp:function(g,d){void 0===d&&(d=0);var b=this.x,e=this.y,h=
this.z,c=this.w;this.x=b+d*(g.x-b);this.y=e+d*(g.y-e);this.z=h+d*(g.z-h);this.w=c+d*(g.w-c);return this},multiply:function(g){this.x*=g.x;this.y*=g.y;this.z*=g.z||1;this.w*=g.w||1;return this},divide:function(g){this.x/=g.x;this.y/=g.y;this.z/=g.z||1;this.w/=g.w||1;return this},distance:function(g){var d=g.x-this.x,b=g.y-this.y,e=g.z-this.z||0;g=g.w-this.w||0;return Math.sqrt(d*d+b*b+e*e+g*g)},distanceSq:function(g){var d=g.x-this.x,b=g.y-this.y,e=g.z-this.z||0;g=g.w-this.w||0;return d*d+b*b+e*e+
g*g},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},transformMat4:function(g){var d=this.x,b=this.y,e=this.z,h=this.w;g=g.val;this.x=g[0]*d+g[4]*b+g[8]*e+g[12]*h;this.y=g[1]*d+g[5]*b+g[9]*e+g[13]*h;this.z=g[2]*d+g[6]*b+g[10]*e+g[14]*h;this.w=g[3]*d+g[7]*b+g[11]*e+g[15]*h;return this},transformQuat:function(g){var d=this.x,b=this.y,e=this.z,h=g.x,c=g.y,l=g.z;g=g.w;var f=g*d+c*e-l*b,k=g*b+l*d-h*e,n=g*e+h*b-c*d;d=-h*d-c*b-l*e;this.x=f*g+d*-h+k*-l-n*-c;this.y=
k*g+d*-c+n*-h-f*-l;this.z=n*g+d*-l+f*-c-k*-h;return this},reset:function(){this.w=this.z=this.y=this.x=0;return this}});m.prototype.sub=m.prototype.subtract;m.prototype.mul=m.prototype.multiply;m.prototype.div=m.prototype.divide;m.prototype.dist=m.prototype.distance;m.prototype.distSq=m.prototype.distanceSq;m.prototype.len=m.prototype.length;m.prototype.lenSq=m.prototype.lengthSq;r.exports=m},60417:r=>{r.exports=function(p,a,m){return Math.abs(p-a)<=m}},15994:r=>{r.exports=function(p,a,m){m-=a;return a+
((p-a)%m+m)%m}},31040:r=>{r.exports=function(p,a,m,g){return Math.atan2(g-a,m-p)}},55495:r=>{r.exports=function(p,a){return Math.atan2(a.y-p.y,a.x-p.x)}},128:r=>{r.exports=function(p,a){return Math.atan2(a.x-p.x,a.y-p.y)}},41273:r=>{r.exports=function(p,a,m,g){return Math.atan2(m-p,g-a)}},1432:(r,p,a)=>{var m=a(36383);r.exports=function(g){g>Math.PI&&(g-=m.PI2);return Math.abs(((g+m.TAU)%m.PI2-m.PI2)%m.PI2)}},12407:r=>{r.exports=function(p){p%=2*Math.PI;return 0<=p?p:p+2*Math.PI}},53993:(r,p,a)=>
{var m=a(99472);r.exports=function(){return m(-Math.PI,Math.PI)}},86564:(r,p,a)=>{var m=a(99472);r.exports=function(){return m(-180,180)}},90154:(r,p,a)=>{var m=a(12407);r.exports=function(g){return m(g+Math.PI)}},48736:(r,p,a)=>{var m=a(36383);r.exports=function(g,d,b){void 0===b&&(b=.05);if(g===d)return g;Math.abs(d-g)<=b||Math.abs(d-g)>=m.PI2-b?g=d:(Math.abs(d-g)>Math.PI&&(d=d<g?d+m.PI2:d-m.PI2),d>g?g+=b:d<g&&(g-=b));return g}},61430:r=>{r.exports=function(p,a){p=a-p;return 0===p?0:p-360*Math.floor((p-
-180)/360)}},86554:(r,p,a)=>{var m=a(15994);r.exports=function(g){return m(g,-Math.PI,Math.PI)}},30954:(r,p,a)=>{var m=a(15994);r.exports=function(g){return m(g,-180,180)}},25588:(r,p,a)=>{r.exports={Between:a(31040),BetweenPoints:a(55495),BetweenPointsY:a(128),BetweenY:a(41273),CounterClockwise:a(1432),Normalize:a(12407),Random:a(53993),RandomDegrees:a(86564),Reverse:a(90154),RotateTo:a(48736),ShortestBetween:a(61430),Wrap:a(86554),WrapDegrees:a(30954)}},36383:r=>{r.exports={PI2:2*Math.PI,TAU:.5*
Math.PI,EPSILON:1E-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991}},20339:r=>{r.exports=function(p,a,m,g){p-=m;a-=g;return Math.sqrt(p*p+a*a)}},52816:r=>{r.exports=function(p,a){var m=p.x-a.x;p=p.y-a.y;return Math.sqrt(m*m+p*p)}},64559:r=>{r.exports=function(p,a){var m=p.x-a.x;p=p.y-a.y;return m*m+p*p}},82340:r=>{r.exports=function(p,a,m,g){return Math.max(Math.abs(p-m),
Math.abs(a-g))}},14390:r=>{r.exports=function(p,a,m,g,d){void 0===d&&(d=2);return Math.sqrt(Math.pow(m-p,d)+Math.pow(g-a,d))}},2243:r=>{r.exports=function(p,a,m,g){return Math.abs(p-m)+Math.abs(a-g)}},89774:r=>{r.exports=function(p,a,m,g){p-=m;a-=g;return p*p+a*a}},50994:(r,p,a)=>{r.exports={Between:a(20339),BetweenPoints:a(52816),BetweenPointsSquared:a(64559),Chebyshev:a(82340),Power:a(14390),Snake:a(2243),Squared:a(89774)}},62640:(r,p,a)=>{p=a(54178);var m=a(41521),g=a(79980),d=a(85433),b=a(99140),
e=a(48857),h=a(81596),c=a(59133),l=a(98516),f=a(35248),k=a(82500);a=a(49752);r.exports={Power0:h,Power1:c.Out,Power2:d.Out,Power3:l.Out,Power4:f.Out,Linear:h,Quad:c.Out,Cubic:d.Out,Quart:l.Out,Quint:f.Out,Sine:k.Out,Expo:e.Out,Circ:g.Out,Elastic:b.Out,Back:p.Out,Bounce:m.Out,Stepped:a,"Quad.easeIn":c.In,"Cubic.easeIn":d.In,"Quart.easeIn":l.In,"Quint.easeIn":f.In,"Sine.easeIn":k.In,"Expo.easeIn":e.In,"Circ.easeIn":g.In,"Elastic.easeIn":b.In,"Back.easeIn":p.In,"Bounce.easeIn":m.In,"Quad.easeOut":c.Out,
"Cubic.easeOut":d.Out,"Quart.easeOut":l.Out,"Quint.easeOut":f.Out,"Sine.easeOut":k.Out,"Expo.easeOut":e.Out,"Circ.easeOut":g.Out,"Elastic.easeOut":b.Out,"Back.easeOut":p.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":d.InOut,"Quart.easeInOut":l.InOut,"Quint.easeInOut":f.InOut,"Sine.easeInOut":k.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":g.InOut,"Elastic.easeInOut":b.InOut,"Back.easeInOut":p.InOut,"Bounce.easeInOut":m.InOut}},1639:r=>{r.exports=function(p,a){void 0===a&&
(a=1.70158);return p*p*((a+1)*p-a)}},50099:r=>{r.exports=function(p,a){void 0===a&&(a=1.70158);a*=1.525;return 1>(p*=2)?.5*p*p*((a+1)*p-a):.5*((p-=2)*p*((a+1)*p+a)+2)}},41286:r=>{r.exports=function(p,a){void 0===a&&(a=1.70158);return--p*p*((a+1)*p+a)+1}},54178:(r,p,a)=>{r.exports={In:a(1639),Out:a(41286),InOut:a(50099)}},59590:r=>{r.exports=function(p){p=1-p;return p<1/2.75?1-7.5625*p*p:p<2/2.75?1-(7.5625*(p-=1.5/2.75)*p+.75):p<2.5/2.75?1-(7.5625*(p-=2.25/2.75)*p+.9375):1-(7.5625*(p-=2.625/2.75)*
p+.984375)}},41788:r=>{r.exports=function(p){var a=!1;.5>p?(p=1-2*p,a=!0):p=2*p-1;p=p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375;return a?.5*(1-p):.5*p+.5}},69905:r=>{r.exports=function(p){return p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375}},41521:(r,p,a)=>{r.exports={In:a(59590),Out:a(69905),InOut:a(41788)}},91861:r=>{r.exports=
function(p){return 1-Math.sqrt(1-p*p)}},4177:r=>{r.exports=function(p){return 1>(p*=2)?-.5*(Math.sqrt(1-p*p)-1):.5*(Math.sqrt(1-(p-=2)*p)+1)}},57512:r=>{r.exports=function(p){return Math.sqrt(1- --p*p)}},79980:(r,p,a)=>{r.exports={In:a(91861),Out:a(57512),InOut:a(4177)}},51150:r=>{r.exports=function(p){return p*p*p}},82820:r=>{r.exports=function(p){return 1>(p*=2)?.5*p*p*p:.5*((p-=2)*p*p+2)}},35033:r=>{r.exports=function(p){return--p*p*p+1}},85433:(r,p,a)=>{r.exports={In:a(51150),Out:a(35033),InOut:a(82820)}},
69965:r=>{r.exports=function(p,a,m){void 0===a&&(a=.1);void 0===m&&(m=.1);if(0===p)return 0;if(1===p)return 1;var g=m/4;1>a?a=1:g=m*Math.asin(1/a)/(2*Math.PI);return-(a*Math.pow(2,10*--p)*Math.sin(2*(p-g)*Math.PI/m))}},50665:r=>{r.exports=function(p,a,m){void 0===a&&(a=.1);void 0===m&&(m=.1);if(0===p)return 0;if(1===p)return 1;var g=m/4;1>a?a=1:g=m*Math.asin(1/a)/(2*Math.PI);return 1>(p*=2)?-.5*a*Math.pow(2,10*--p)*Math.sin(2*(p-g)*Math.PI/m):a*Math.pow(2,-10*--p)*Math.sin(2*(p-g)*Math.PI/m)*.5+1}},
7744:r=>{r.exports=function(p,a,m){void 0===a&&(a=.1);void 0===m&&(m=.1);if(0===p)return 0;if(1===p)return 1;var g=m/4;1>a?a=1:g=m*Math.asin(1/a)/(2*Math.PI);return a*Math.pow(2,-10*p)*Math.sin(2*(p-g)*Math.PI/m)+1}},99140:(r,p,a)=>{r.exports={In:a(69965),Out:a(7744),InOut:a(50665)}},24590:r=>{r.exports=function(p){return Math.pow(2,10*(p-1))-.001}},87844:r=>{r.exports=function(p){return 1>(p*=2)?.5*Math.pow(2,10*(p-1)):.5*(2-Math.pow(2,-10*(p-1)))}},89433:r=>{r.exports=function(p){return 1-Math.pow(2,
-10*p)}},48857:(r,p,a)=>{r.exports={In:a(24590),Out:a(89433),InOut:a(87844)}},48820:(r,p,a)=>{r.exports={Back:a(54178),Bounce:a(41521),Circular:a(79980),Cubic:a(85433),Elastic:a(99140),Expo:a(48857),Linear:a(81596),Quadratic:a(59133),Quartic:a(98516),Quintic:a(35248),Sine:a(82500),Stepped:a(49752)}},7147:r=>{r.exports=function(p){return p}},81596:(r,p,a)=>{r.exports=a(7147)},34826:r=>{r.exports=function(p){return p*p}},20544:r=>{r.exports=function(p){return 1>(p*=2)?.5*p*p:-.5*(--p*(p-2)-1)}},92029:r=>
{r.exports=function(p){return p*(2-p)}},59133:(r,p,a)=>{r.exports={In:a(34826),Out:a(92029),InOut:a(20544)}},64413:r=>{r.exports=function(p){return p*p*p*p}},78137:r=>{r.exports=function(p){return 1>(p*=2)?.5*p*p*p*p:-.5*((p-=2)*p*p*p-2)}},45840:r=>{r.exports=function(p){return 1- --p*p*p*p}},98516:(r,p,a)=>{r.exports={In:a(64413),Out:a(45840),InOut:a(78137)}},87745:r=>{r.exports=function(p){return p*p*p*p*p}},16509:r=>{r.exports=function(p){return 1>(p*=2)?.5*p*p*p*p*p:.5*((p-=2)*p*p*p*p+2)}},17868:r=>
{r.exports=function(p){return--p*p*p*p*p+1}},35248:(r,p,a)=>{r.exports={In:a(87745),Out:a(17868),InOut:a(16509)}},80461:r=>{r.exports=function(p){return 0===p?0:1===p?1:1-Math.cos(p*Math.PI/2)}},34025:r=>{r.exports=function(p){return 0===p?0:1===p?1:.5*(1-Math.cos(Math.PI*p))}},52768:r=>{r.exports=function(p){return 0===p?0:1===p?1:Math.sin(p*Math.PI/2)}},82500:(r,p,a)=>{r.exports={In:a(80461),Out:a(52768),InOut:a(34025)}},72251:r=>{r.exports=function(p,a){void 0===a&&(a=1);return 0>=p?0:1<=p?1:1/
a*((a*p|0)+1)}},49752:(r,p,a)=>{r.exports=a(72251)},75698:r=>{r.exports=function(p,a){void 0===a&&(a=1E-4);return Math.ceil(p-a)}},43855:r=>{r.exports=function(p,a,m){void 0===m&&(m=1E-4);return Math.abs(p-a)<m}},25777:r=>{r.exports=function(p,a){void 0===a&&(a=1E-4);return Math.floor(p+a)}},5470:r=>{r.exports=function(p,a,m){void 0===m&&(m=1E-4);return p>a-m}},94977:r=>{r.exports=function(p,a,m){void 0===m&&(m=1E-4);return p<a+m}},48379:(r,p,a)=>{r.exports={Ceil:a(75698),Equal:a(43855),Floor:a(25777),
GreaterThan:a(5470),LessThan:a(94977)}},75508:(r,p,a)=>{p=a(36383);var m=a(79291);a={Angle:a(25588),Distance:a(50994),Easing:a(48820),Fuzzy:a(48379),Interpolation:a(38289),Pow2:a(49001),Snap:a(73697),RandomDataGenerator:a(28453),Average:a(53307),Bernstein:a(85710),Between:a(30976),CatmullRom:a(87842),CeilTo:a(26302),Clamp:a(45319),DegToRad:a(39506),Difference:a(61241),Euler:a(38857),Factorial:a(6411),FloatBetween:a(99472),FloorTo:a(77623),FromPercent:a(62945),GetSpeed:a(38265),IsEven:a(78702),IsEvenStrict:a(94883),
Linear:a(28915),LinearXY:a(94908),MaxAdd:a(86883),Median:a(50040),MinSub:a(37204),Percent:a(65201),RadToDeg:a(43396),RandomXY:a(74362),RandomXYZ:a(60706),RandomXYZW:a(67421),Rotate:a(36305),RotateAround:a(11520),RotateAroundDistance:a(1163),RotateTo:a(70336),RoundAwayFromZero:a(2284),RoundTo:a(41013),SinCosTableGenerator:a(16922),SmootherStep:a(54261),SmoothStep:a(7602),ToXY:a(44408),TransformXY:a(85955),Within:a(60417),Wrap:a(15994),Vector2:a(26099),Vector3:a(25836),Vector4:a(61369),Matrix3:a(94434),
Matrix4:a(37867),Quaternion:a(15746),RotateVec3:a(72678)};a=m(!1,a,p);r.exports=a},89318:(r,p,a)=>{var m=a(85710);r.exports=function(g,d){for(var b=0,e=g.length-1,h=0;h<=e;h++)b+=Math.pow(1-d,e-h)*Math.pow(d,h)*g[h]*m(e,h);return b}},77259:(r,p,a)=>{var m=a(87842);r.exports=function(g,d){var b=g.length-1,e=b*d,h=Math.floor(e);return g[0]===g[b]?(0>d&&(h=Math.floor(e=b*(1+d))),m(e-h,g[(h-1+b)%b],g[h],g[(h+1)%b],g[(h+2)%b])):0>d?g[0]-(m(-e,g[0],g[0],g[1],g[1])-g[0]):1<d?g[b]-(m(e-b,g[b],g[b],g[b-1],
g[b-1])-g[b]):m(e-h,g[h?h-1:0],g[h],g[b<h+1?b:h+1],g[b<h+2?b:h+2])}},36316:r=>{r.exports=function(p,a,m,g,d){var b=1-p,e=1-p;return b*b*b*a+3*e*e*p*m+3*(1-p)*p*p*g+p*p*p*d}},28392:(r,p,a)=>{var m=a(28915);r.exports=function(g,d){var b=g.length-1,e=b*d,h=Math.floor(e);return 0>d?m(g[0],g[1],e):1<d?m(g[b],g[b-1],b-e):m(g[h],g[h+1>b?b:h+1],e-h)}},32112:r=>{r.exports=function(p,a,m,g){var d=1-p;return d*d*a+2*(1-p)*p*m+p*p*g}},47235:(r,p,a)=>{var m=a(7602);r.exports=function(g,d,b){return d+(b-d)*m(g,
0,1)}},50178:(r,p,a)=>{var m=a(54261);r.exports=function(g,d,b){return d+(b-d)*m(g,0,1)}},38289:(r,p,a)=>{r.exports={Bezier:a(89318),CatmullRom:a(77259),CubicBezier:a(36316),Linear:a(28392),QuadraticBezier:a(32112),SmoothStep:a(47235),SmootherStep:a(50178)}},98439:r=>{r.exports=function(p){return 1<<Math.ceil(Math.log(p)/.6931471805599453)}},50030:r=>{r.exports=function(p,a){return 0<p&&0===(p&p-1)&&0<a&&0===(a&a-1)}},81230:r=>{r.exports=function(p){return 0<p&&0===(p&p-1)}},49001:(r,p,a)=>{r.exports=
{GetNext:a(98439),IsSize:a(50030),IsValue:a(81230)}},28453:(r,p,a)=>{p=new (a(83419))({initialize:function(m){void 0===m&&(m=[(Date.now()*Math.random()).toString()]);this.c=1;this.n=this.s2=this.s1=this.s0=0;this.signs=[-1,1];m&&this.init(m)},rnd:function(){var m=2091639*this.s0+2.3283064365386963E-10*this.c;this.c=m|0;this.s0=this.s1;this.s1=this.s2;return this.s2=m-this.c},hash:function(m){var g=this.n;m=m.toString();for(var d=0;d<m.length;d++){g+=m.charCodeAt(d);var b=.02519603282416938*g;g=b>>>
0;b-=g;b*=g;g=b>>>0;b-=g;g+=4294967296*b}this.n=g;return 2.3283064365386963E-10*(g>>>0)},init:function(m){"string"===typeof m?this.state(m):this.sow(m)},sow:function(m){this.n=4022871197;this.s0=this.hash(" ");this.s1=this.hash(" ");this.s2=this.hash(" ");this.c=1;if(m)for(var g=0;g<m.length&&null!=m[g];g++){var d=m[g];this.s0-=this.hash(d);this.s0+=~~(0>this.s0);this.s1-=this.hash(d);this.s1+=~~(0>this.s1);this.s2-=this.hash(d);this.s2+=~~(0>this.s2)}},integer:function(){return 4294967296*this.rnd()},
frac:function(){return this.rnd()+1.1102230246251565E-16*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(m,g){return Math.floor(this.realInRange(0,g-m+1)+m)},between:function(m,g){return Math.floor(this.realInRange(0,g-m+1)+m)},realInRange:function(m,g){return this.frac()*(g-m)+m},normal:function(){return 1-2*this.frac()},uuid:function(){var m,g;for(g=m="";36>m++;g+=~m%5|3*m&4?(m^15?8^this.frac()*(m^20?16:4):4).toString(16):"-");return g},pick:function(m){return m[this.integerInRange(0,
m.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(m){return m[~~(Math.pow(this.frac(),2)*(m.length-.5)+.5)]},timestamp:function(m,g){return this.realInRange(m||9466848E5,g||1577862E6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(m){"string"===typeof m&&m.match(/^!rnd/)&&(m=m.split(","),this.c=parseFloat(m[1]),this.s0=parseFloat(m[2]),this.s1=parseFloat(m[3]),this.s2=parseFloat(m[4]));
return["!rnd",this.c,this.s0,this.s1,this.s2].join()},shuffle:function(m){for(var g=m.length-1;0<g;g--){var d=Math.floor(this.frac()*(g+1)),b=m[d];m[d]=m[g];m[g]=b}return m}});r.exports=p},63448:r=>{r.exports=function(p,a,m,g){void 0===m&&(m=0);if(0===a)return p;p=a*Math.ceil((p-m)/a);return g?(m+p)/a:m+p}},56583:r=>{r.exports=function(p,a,m,g){void 0===m&&(m=0);if(0===a)return p;p=a*Math.floor((p-m)/a);return g?(m+p)/a:m+p}},77720:r=>{r.exports=function(p,a,m,g){void 0===m&&(m=0);if(0===a)return p;
p=a*Math.round((p-m)/a);return g?(m+p)/a:m+p}},73697:(r,p,a)=>{r.exports={Ceil:a(63448),Floor:a(56583),To:a(77720)}},85454:(r,p,a)=>{a(63595);p=a(8054);var m=a(79291),g={Actions:a(61061),Animations:a(60421),BlendModes:a(10312),Cache:a(83388),Cameras:a(26638),Core:a(42857),Class:a(83419),Create:a(15822),Curves:a(25410),Data:a(44965),Display:a(27460),DOM:a(84902),Events:a(93055),FX:a(66064),Game:a(50127),GameObjects:a(77856),Geom:a(55738),Input:a(14350),Loader:a(57777),Math:a(75508),Physics:a(44563),
Plugins:a(18922),Renderer:a(36909),Scale:a(93364),ScaleModes:a(29795),Scene:a(97482),Scenes:a(62194),Structs:a(41392),Textures:a(27458),Tilemaps:a(62501),Time:a(90291),Tweens:a(43066),Utils:a(91799)};g.Sound=a(23717);g=m(!1,g,p);r.exports=g;a.g.Phaser=g},71289:(r,p,a)=>{p=a(83419);var m=a(92209),g=a(88571);a=new p({Extends:g,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(d,b,e,
h,c){g.call(this,d,b,e,h,c);this.body=null}});r.exports=a},86689:(r,p,a)=>{var m=a(83419),g=a(39506),d=a(20339),b=a(89774),e=a(66022),h=a(95540),c=a(46975),l=a(72441),f=a(47956);p=a(37277);var k=a(44594),n=a(26099),q=a(82248);a=new m({initialize:function(t){this.scene=t;this.systems=t.sys;this.config=this.getConfig();this._category=1;t.sys.events.once(k.BOOT,this.boot,this);t.sys.events.on(k.START,this.start,this)},boot:function(){this.world=new q(this.scene,this.config);this.add=new e(this.world);
this.systems.events.once(k.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new q(this.scene,this.config),this.add=new e(this.world));var t=this.systems.events;if(!h(this.config,"customUpdate",!1))t.on(k.UPDATE,this.world.update,this.world);t.on(k.POST_UPDATE,this.world.postUpdate,this.world);t.once(k.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(k.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(k.UPDATE,this.world.update,
this.world)},getConfig:function(){var t=this.systems.game.config.physics;return c(h(this.systems.settings.physics,"arcade",{}),h(t,"arcade",{}))},nextCategory:function(){return this._category<<=1},overlap:function(t,v,u,x,w){void 0===u&&(u=null);void 0===x&&(x=null);void 0===w&&(w=u);return this.world.collideObjects(t,v,u,x,w,!0)},collide:function(t,v,u,x,w){void 0===u&&(u=null);void 0===x&&(x=null);void 0===w&&(w=u);return this.world.collideObjects(t,v,u,x,w,!1)},collideTiles:function(t,v,u,x,w){return this.world.collideTiles(t,
v,u,x,w)},overlapTiles:function(t,v,u,x,w){return this.world.overlapTiles(t,v,u,x,w)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,v,u,x,w,y){void 0===x&&(x=60);v=Math.atan2(u-t.y,v-t.x);t.body.acceleration.setToPolar(v,x);void 0!==w&&void 0!==y&&t.body.maxVelocity.set(w,y);return v},accelerateToObject:function(t,v,u,x,w){return this.accelerateTo(t,v.x,v.y,u,x,w)},closest:function(t,v){v||(v=this.world.bodies.entries);for(var u=
Number.MAX_VALUE,x=null,w=t.x,y=t.y,z=v.length,C=0;C<z;C++){var A=v[C],B=A.body||A;t!==A&&t!==B&&t!==B.gameObject&&t!==B.center&&(B=b(w,y,B.center.x,B.center.y),B<u&&(x=A,u=B))}return x},furthest:function(t,v){v||(v=this.world.bodies.entries);for(var u=-1,x=null,w=t.x,y=t.y,z=v.length,C=0;C<z;C++){var A=v[C],B=A.body||A;t!==A&&t!==B&&t!==B.gameObject&&t!==B.center&&(B=b(w,y,B.center.x,B.center.y),B>u&&(x=A,u=B))}return x},moveTo:function(t,v,u,x,w){void 0===x&&(x=60);void 0===w&&(w=0);var y=Math.atan2(u-
t.y,v-t.x);0<w&&(x=d(t.x,t.y,v,u)/(w/1E3));t.body.velocity.setToPolar(y,x);return y},moveToObject:function(t,v,u,x){return this.moveTo(t,v.x,v.y,u,x)},velocityFromAngle:function(t,v,u){void 0===v&&(v=60);void 0===u&&(u=new n);return u.setToPolar(g(t),v)},velocityFromRotation:function(t,v,u){void 0===v&&(v=60);void 0===u&&(u=new n);return u.setToPolar(t,v)},overlapRect:function(t,v,u,x,w,y){return f(this.world,t,v,u,x,w,y)},overlapCirc:function(t,v,u,x,w){return l(this.world,t,v,u,x,w)},shutdown:function(){if(this.world){var t=
this.systems.events;t.off(k.UPDATE,this.world.update,this.world);t.off(k.POST_UPDATE,this.world.postUpdate,this.world);t.off(k.SHUTDOWN,this.shutdown,this);this.add.destroy();this.world.destroy();this.world=this.add=null;this._category=1}},destroy:function(){this.shutdown();this.scene.sys.events.off(k.START,this.start,this);this.systems=this.scene=null}});p.register("ArcadePhysics",a,"arcadePhysics");r.exports=a},13759:(r,p,a)=>{p=a(83419);var m=a(92209),g=a(68287);a=new p({Extends:g,Mixins:[m.Acceleration,
m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(d,b,e,h,c){g.call(this,d,b,e,h,c);this.body=null}});r.exports=a},37742:(r,p,a)=>{p=a(83419);var m=a(78389),g=a(37747),d=a(63012),b=a(43396),e=a(87841),h=a(37303),c=a(95829),l=a(26099);a=new p({Mixins:[m],initialize:function(f,k){var n=64,q=64,t={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},v=void 0!==k;v&&k.displayWidth&&
(n=k.displayWidth,q=k.displayHeight);v||(k=t);this.world=f;this.gameObject=v?k:void 0;this.isBody=!0;this.transform={x:k.x,y:k.y,rotation:k.angle,scaleX:k.scaleX,scaleY:k.scaleY,displayOriginX:k.displayOriginX,displayOriginY:k.displayOriginY};this.debugShowBody=f.defaults.debugShowBody;this.debugShowVelocity=f.defaults.debugShowVelocity;this.debugBodyColor=f.defaults.bodyDebugColor;this.enable=!0;this.isCircle=!1;this.radius=0;this.offset=new l;this.position=new l(k.x-k.scaleX*k.displayOriginX,k.y-
k.scaleY*k.displayOriginY);this.prev=this.position.clone();this.prevFrame=this.position.clone();this.allowRotation=!0;this.preRotation=this.rotation=k.angle;this.width=n;this.height=q;this.sourceWidth=n;this.sourceHeight=q;k.frame&&(this.sourceWidth=k.frame.realWidth,this.sourceHeight=k.frame.realHeight);this.halfWidth=Math.abs(n/2);this.halfHeight=Math.abs(q/2);this.center=new l(this.position.x+this.halfWidth,this.position.y+this.halfHeight);this.velocity=new l;this.newVelocity=new l;this.deltaMax=
new l;this.acceleration=new l;this.allowDrag=!0;this.drag=new l;this.allowGravity=!0;this.gravity=new l;this.bounce=new l;this.worldBounce=null;this.customBoundsRectangle=f.bounds;this.onOverlap=this.onCollide=this.onWorldBounds=!1;this.maxVelocity=new l(1E4,1E4);this.maxSpeed=-1;this.friction=new l(1,0);this.useDamping=!1;this.angularDrag=this.angularAcceleration=this.angularVelocity=0;this.maxAngular=1E3;this.mass=1;this.speed=this.angle=0;this.facing=g.FACING_NONE;this.immovable=!1;this.pushable=
!0;this.slideFactor=new l(1,1);this.moves=!0;this.customSeparateY=this.customSeparateX=!1;this.overlapR=this.overlapY=this.overlapX=0;this.collideWorldBounds=this.embedded=!1;this.checkCollision=c(!1);this.touching=c(!0);this.wasTouching=c(!0);this.blocked=c(!0);this.syncBounds=!1;this.physicsType=g.DYNAMIC_BODY;this.collisionMask=this.collisionCategory=1;this._sx=k.scaleX;this._sy=k.scaleY;this._ty=this._tx=this._dy=this._dx=0;this._bounds=new e;this.directControl=!1;this.autoFrame=this.position.clone()},
updateBounds:function(){var f=this.gameObject,k=this.transform;if(f.parentContainer){var n=f.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);k.x=n.tx;k.y=n.ty;k.rotation=b(n.rotation);k.scaleX=n.scaleX;k.scaleY=n.scaleY}else k.x=f.x,k.y=f.y,k.rotation=f.angle,k.scaleX=f.scaleX,k.scaleY=f.scaleY;k.displayOriginX=f.displayOriginX;k.displayOriginY=f.displayOriginY;n=!1;if(this.syncBounds)k=f.getBounds(this._bounds),this.width=k.width,this.height=k.height,n=!0;else if(f=Math.abs(k.scaleX),
k=Math.abs(k.scaleY),this._sx!==f||this._sy!==k)this.width=this.sourceWidth*f,this.height=this.sourceHeight*k,this._sx=f,this._sy=k,n=!0;n&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var f=this.transform;this.position.x=f.x+f.scaleX*(this.offset.x-f.displayOriginX);this.position.y=
f.y+f.scaleY*(this.offset.y-f.displayOriginY);this.updateCenter()},resetFlags:function(f){void 0===f&&(f=!1);var k=this.wasTouching,n=this.touching,q=this.blocked;f?c(!0,k):(k.none=n.none,k.up=n.up,k.down=n.down,k.left=n.left,k.right=n.right);c(!0,n);c(!0,q);this.overlapY=this.overlapX=this.overlapR=0;this.embedded=!1},preUpdate:function(f,k){f&&this.resetFlags();this.gameObject&&this.updateFromGameObject();this.preRotation=this.rotation=this.transform.rotation;if(this.moves){var n=this.position;
this.prev.x=n.x;this.prev.y=n.y;this.prevFrame.x=n.x;this.prevFrame.y=n.y}f&&this.update(k)},update:function(f){var k=this.prev,n=this.position,q=this.velocity;k.set(n.x,n.y);this.moves?(this.directControl?(k=this.autoFrame,q.set((n.x-k.x)/f,(n.y-k.y)/f),this.world.updateMotion(this,f),this._dx=n.x-k.x,this._dy=n.y-k.y):(this.world.updateMotion(this,f),this.newVelocity.set(q.x*f,q.y*f),n.add(this.newVelocity),this._dx=n.x-k.x,this._dy=n.y-k.y),f=q.x,q=q.y,this.updateCenter(),this.angle=Math.atan2(q,
f),this.speed=Math.sqrt(f*f+q*q),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&(q=this.blocked,this.world.emit(d.WORLD_BOUNDS,this,q.up,q.down,q.left,q.right))):(this._dx=n.x-k.x,this._dy=n.y-k.y)},postUpdate:function(){var f=this.position,k=f.x-this.prevFrame.x,n=f.y-this.prevFrame.y,q=this.gameObject;if(this.moves){var t=this.deltaMax.x,v=this.deltaMax.y;0!==t&&0!==k&&(0>k&&k<-t?k=-t:0<k&&k>t&&(k=t));0!==v&&0!==n&&(0>n&&n<-v?n=-v:0<n&&n>v&&(n=v));q&&(q.x+=k,q.y+=n)}0>k?this.facing=
g.FACING_LEFT:0<k&&(this.facing=g.FACING_RIGHT);0>n?this.facing=g.FACING_UP:0<n&&(this.facing=g.FACING_DOWN);this.allowRotation&&q&&(q.angle+=this.deltaZ());this._tx=k;this._ty=n;this.autoFrame.set(f.x,f.y)},setBoundsRectangle:function(f){this.customBoundsRectangle=f?f:this.world.bounds;return this},checkWorldBounds:function(){var f=this.position,k=this.velocity,n=this.blocked,q=this.customBoundsRectangle,t=this.world.checkCollision,v=this.worldBounce?-this.worldBounce.x:-this.bounce.x,u=this.worldBounce?
-this.worldBounce.y:-this.bounce.y,x=!1;f.x<q.x&&t.left?(f.x=q.x,k.x*=v,x=n.left=!0):this.right>q.right&&t.right&&(f.x=q.right-this.width,k.x*=v,x=n.right=!0);f.y<q.y&&t.up?(f.y=q.y,k.y*=u,x=n.up=!0):this.bottom>q.bottom&&t.down&&(f.y=q.bottom-this.height,k.y*=u,x=n.down=!0);x&&(this.blocked.none=!1,this.updateCenter());return x},setOffset:function(f,k){void 0===k&&(k=f);this.offset.set(f,k);return this},setGameObject:function(f,k){void 0===k&&(k=!0);this.world.remove(this);this.gameObject&&this.gameObject.body&&
(this.gameObject.body=null);this.gameObject=f;f.body&&(f.body=this);this.setSize();this.world.add(this);this.enable=k;return this},setSize:function(f,k,n){void 0===n&&(n=!0);var q=this.gameObject;q&&(!f&&q.frame&&(f=q.frame.realWidth),!k&&q.frame&&(k=q.frame.realHeight));this.sourceWidth=f;this.sourceHeight=k;this.width=this.sourceWidth*this._sx;this.height=this.sourceHeight*this._sy;this.halfWidth=Math.floor(this.width/2);this.halfHeight=Math.floor(this.height/2);this.updateCenter();n&&q&&q.getCenter&&
this.offset.set((q.width-f)/2,(q.height-k)/2);this.isCircle=!1;this.radius=0;return this},setCircle:function(f,k,n){void 0===k&&(k=this.offset.x);void 0===n&&(n=this.offset.y);0<f?(this.isCircle=!0,this.radius=f,this.sourceWidth=2*f,this.sourceHeight=2*f,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(k,n),this.updateCenter()):this.isCircle=!1;return this},reset:function(f,
k){this.stop();var n=this.gameObject;n&&(n.setPosition(f,k),this.preRotation=this.rotation=n.angle);var q=this.position;n&&n.getTopLeft?n.getTopLeft(q):q.set(f,k);this.prev.copy(q);this.prevFrame.copy(q);this.autoFrame.copy(q);n&&this.updateBounds();this.updateCenter();this.collideWorldBounds&&this.checkWorldBounds();this.resetFlags(!0)},stop:function(){this.velocity.set(0);this.acceleration.set(0);this.angularAcceleration=this.angularVelocity=this.speed=0;return this},getBounds:function(f){f.x=this.x;
f.y=this.y;f.right=this.right;f.bottom=this.bottom;return f},hitTest:function(f,k){return this.isCircle?0<this.radius&&f>=this.left&&f<=this.right&&k>=this.top&&k<=this.bottom?(this.center.x-f)*(this.center.x-f)+(this.center.y-k)*(this.center.y-k)<=this.radius*this.radius:!1:h(this,f,k)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return 0<this._dx?this._dx:-this._dx},
deltaAbsY:function(){return 0<this._dy?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1;this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(f){var k=this.position,n=k.x+this.halfWidth,q=k.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor),
this.isCircle?f.strokeCircle(n,q,this.width/2):(this.checkCollision.up&&f.lineBetween(k.x,k.y,k.x+this.width,k.y),this.checkCollision.right&&f.lineBetween(k.x+this.width,k.y,k.x+this.width,k.y+this.height),this.checkCollision.down&&f.lineBetween(k.x,k.y+this.height,k.x+this.width,k.y+this.height),this.checkCollision.left&&f.lineBetween(k.x,k.y,k.x,k.y+this.height)));this.debugShowVelocity&&(f.lineStyle(f.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),f.lineBetween(n,q,n+this.velocity.x/
2,q+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(f){void 0===f&&(f=!0);this.directControl=f;return this},setCollideWorldBounds:function(f,k,n,q){void 0===f&&(f=!0);this.collideWorldBounds=f;f=void 0!==k;var t=void 0!==n;if(f||t)this.worldBounce||(this.worldBounce=new l),f&&(this.worldBounce.x=k),t&&(this.worldBounce.y=n);void 0!==q&&(this.onWorldBounds=q);return this},setVelocity:function(f,k){this.velocity.set(f,k);f=this.velocity.x;
k=this.velocity.y;this.speed=Math.sqrt(f*f+k*k);return this},setVelocityX:function(f){return this.setVelocity(f,this.velocity.y)},setVelocityY:function(f){return this.setVelocity(this.velocity.x,f)},setMaxVelocity:function(f,k){this.maxVelocity.set(f,k);return this},setMaxVelocityX:function(f){this.maxVelocity.x=f;return this},setMaxVelocityY:function(f){this.maxVelocity.y=f;return this},setMaxSpeed:function(f){this.maxSpeed=f;return this},setSlideFactor:function(f,k){this.slideFactor.set(f,k);return this},
setBounce:function(f,k){this.bounce.set(f,k);return this},setBounceX:function(f){this.bounce.x=f;return this},setBounceY:function(f){this.bounce.y=f;return this},setAcceleration:function(f,k){this.acceleration.set(f,k);return this},setAccelerationX:function(f){this.acceleration.x=f;return this},setAccelerationY:function(f){this.acceleration.y=f;return this},setAllowDrag:function(f){void 0===f&&(f=!0);this.allowDrag=f;return this},setAllowGravity:function(f){void 0===f&&(f=!0);this.allowGravity=f;
return this},setAllowRotation:function(f){void 0===f&&(f=!0);this.allowRotation=f;return this},setDrag:function(f,k){this.drag.set(f,k);return this},setDamping:function(f){this.useDamping=f;return this},setDragX:function(f){this.drag.x=f;return this},setDragY:function(f){this.drag.y=f;return this},setGravity:function(f,k){this.gravity.set(f,k);return this},setGravityX:function(f){this.gravity.x=f;return this},setGravityY:function(f){this.gravity.y=f;return this},setFriction:function(f,k){this.friction.set(f,
k);return this},setFrictionX:function(f){this.friction.x=f;return this},setFrictionY:function(f){this.friction.y=f;return this},setAngularVelocity:function(f){this.angularVelocity=f;return this},setAngularAcceleration:function(f){this.angularAcceleration=f;return this},setAngularDrag:function(f){this.angularDrag=f;return this},setMass:function(f){this.mass=f;return this},setImmovable:function(f){void 0===f&&(f=!0);this.immovable=f;return this},setEnable:function(f){void 0===f&&(f=!0);this.enable=
f;return this},processX:function(f,k,n,q){this.x+=f;this.updateCenter();null!==k&&(this.velocity.x=k*this.slideFactor.x);f=this.blocked;n&&(f.left=!0,f.none=!1);q&&(f.right=!0,f.none=!1)},processY:function(f,k,n,q){this.y+=f;this.updateCenter();null!==k&&(this.velocity.y=k*this.slideFactor.y);f=this.blocked;n&&(f.up=!0,f.none=!1);q&&(f.down=!0,f.none=!1)},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=
f}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=a},79342:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g,d,b,e,h,c){this.world=m;this.name="";this.active=!0;this.overlapOnly=g;this.object1=d;this.object2=b;this.collideCallback=e;this.processCallback=h;this.callbackContext=c},setName:function(m){this.name=m;return this},
update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this);this.active=!1;this.callbackContext=this.processCallback=this.collideCallback=this.object2=this.object1=this.world=null}});r.exports=p},66022:(r,p,a)=>{var m=a(71289),g=a(13759),d=a(37742);p=a(83419);var b=a(37747),e=a(60758),h=a(72624),c=a(71464);a=new p({initialize:function(l){this.world=l;this.scene=
l.scene;this.sys=l.scene.sys},collider:function(l,f,k,n,q){return this.world.addCollider(l,f,k,n,q)},overlap:function(l,f,k,n,q){return this.world.addOverlap(l,f,k,n,q)},existing:function(l,f){this.world.enableBody(l,f?b.STATIC_BODY:b.DYNAMIC_BODY);return l},staticImage:function(l,f,k,n){l=new m(this.scene,l,f,k,n);this.sys.displayList.add(l);this.world.enableBody(l,b.STATIC_BODY);return l},image:function(l,f,k,n){l=new m(this.scene,l,f,k,n);this.sys.displayList.add(l);this.world.enableBody(l,b.DYNAMIC_BODY);
return l},staticSprite:function(l,f,k,n){l=new g(this.scene,l,f,k,n);this.sys.displayList.add(l);this.sys.updateList.add(l);this.world.enableBody(l,b.STATIC_BODY);return l},sprite:function(l,f,k,n){l=new g(this.scene,l,f,k,n);this.sys.displayList.add(l);this.sys.updateList.add(l);this.world.enableBody(l,b.DYNAMIC_BODY);return l},staticGroup:function(l,f){return this.sys.updateList.add(new c(this.world,this.world.scene,l,f))},group:function(l,f){return this.sys.updateList.add(new e(this.world,this.world.scene,
l,f))},body:function(l,f,k,n){var q=new d(this.world);q.position.set(l,f);k&&n&&q.setSize(k,n);this.world.add(q,b.DYNAMIC_BODY);return q},staticBody:function(l,f,k,n){var q=new h(this.world);q.position.set(l,f);k&&n&&q.setSize(k,n);this.world.add(q,b.STATIC_BODY);return q},destroy:function(){this.sys=this.scene=this.world=null}});r.exports=a},79599:r=>{r.exports=function(p){var a=0;if(Array.isArray(p))for(var m=0;m<p.length;m++)a|=p[m];else a=p;return a}},64897:(r,p,a)=>{var m=a(37747);r.exports=
function(g,d,b,e){var h=0;e=g.deltaAbsX()+d.deltaAbsX()+e;0===g._dx&&0===d._dx?(g.embedded=!0,d.embedded=!0):g._dx>d._dx?(h=g.right-d.x,h>e&&!b||!1===g.checkCollision.right||!1===d.checkCollision.left?h=0:(g.touching.none=!1,g.touching.right=!0,d.touching.none=!1,d.touching.left=!0,d.physicsType!==m.STATIC_BODY||b||(g.blocked.none=!1,g.blocked.right=!0),g.physicsType!==m.STATIC_BODY||b||(d.blocked.none=!1,d.blocked.left=!0))):g._dx<d._dx&&(h=g.x-d.width-d.x,-h>e&&!b||!1===g.checkCollision.left||!1===
d.checkCollision.right?h=0:(g.touching.none=!1,g.touching.left=!0,d.touching.none=!1,d.touching.right=!0,d.physicsType!==m.STATIC_BODY||b||(g.blocked.none=!1,g.blocked.left=!0),g.physicsType!==m.STATIC_BODY||b||(d.blocked.none=!1,d.blocked.right=!0)));g.overlapX=h;return d.overlapX=h}},45170:(r,p,a)=>{var m=a(37747);r.exports=function(g,d,b,e){var h=0;e=g.deltaAbsY()+d.deltaAbsY()+e;0===g._dy&&0===d._dy?(g.embedded=!0,d.embedded=!0):g._dy>d._dy?(h=g.bottom-d.y,h>e&&!b||!1===g.checkCollision.down||
!1===d.checkCollision.up?h=0:(g.touching.none=!1,g.touching.down=!0,d.touching.none=!1,d.touching.up=!0,d.physicsType!==m.STATIC_BODY||b||(g.blocked.none=!1,g.blocked.down=!0),g.physicsType!==m.STATIC_BODY||b||(d.blocked.none=!1,d.blocked.up=!0))):g._dy<d._dy&&(h=g.y-d.bottom,-h>e&&!b||!1===g.checkCollision.up||!1===d.checkCollision.down?h=0:(g.touching.none=!1,g.touching.up=!0,d.touching.none=!1,d.touching.down=!0,d.physicsType!==m.STATIC_BODY||b||(g.blocked.none=!1,g.blocked.up=!0),g.physicsType!==
m.STATIC_BODY||b||(d.blocked.none=!1,d.blocked.down=!0)));g.overlapY=h;return d.overlapY=h}},60758:(r,p,a)=>{var m=a(13759);p=a(83419);var g=a(78389),d=a(37747),b=a(95540),e=a(26479),h=a(41212);a=new p({Extends:e,Mixins:[g],initialize:function(c,l,f,k){if(f||k)if(h(f))k=f,f=null,k.internalCreateCallback=this.createCallbackHandler,k.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&h(f[0])){var n=this;f.forEach(function(q){q.internalCreateCallback=n.createCallbackHandler;
q.internalRemoveCallback=n.removeCallbackHandler;q.classType=b(q,"classType",m)});k=null}else k={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else k={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=c;k&&(k.classType=b(k,"classType",m));this.physicsType=d.DYNAMIC_BODY;this.collisionMask=this.collisionCategory=1;this.defaults={setCollideWorldBounds:b(k,"collideWorldBounds",!1),setBoundsRectangle:b(k,
"customBoundsRectangle",null),setAccelerationX:b(k,"accelerationX",0),setAccelerationY:b(k,"accelerationY",0),setAllowDrag:b(k,"allowDrag",!0),setAllowGravity:b(k,"allowGravity",!0),setAllowRotation:b(k,"allowRotation",!0),setDamping:b(k,"useDamping",!1),setBounceX:b(k,"bounceX",0),setBounceY:b(k,"bounceY",0),setDragX:b(k,"dragX",0),setDragY:b(k,"dragY",0),setEnable:b(k,"enable",!0),setGravityX:b(k,"gravityX",0),setGravityY:b(k,"gravityY",0),setFrictionX:b(k,"frictionX",0),setFrictionY:b(k,"frictionY",
0),setMaxSpeed:b(k,"maxSpeed",-1),setMaxVelocityX:b(k,"maxVelocityX",1E4),setMaxVelocityY:b(k,"maxVelocityY",1E4),setVelocityX:b(k,"velocityX",0),setVelocityY:b(k,"velocityY",0),setAngularVelocity:b(k,"angularVelocity",0),setAngularAcceleration:b(k,"angularAcceleration",0),setAngularDrag:b(k,"angularDrag",0),setMass:b(k,"mass",1),setImmovable:b(k,"immovable",!1)};e.call(this,l,f,k);this.type="PhysicsGroup"},createCallbackHandler:function(c){c.body||this.world.enableBody(c,d.DYNAMIC_BODY);c=c.body;
for(var l in this.defaults)c[l](this.defaults[l])},removeCallbackHandler:function(c){c.body&&this.world.disableBody(c)},setVelocity:function(c,l,f){void 0===f&&(f=0);for(var k=this.getChildren(),n=0;n<k.length;n++)k[n].body.velocity.set(c+n*f,l+n*f);return this},setVelocityX:function(c,l){void 0===l&&(l=0);for(var f=this.getChildren(),k=0;k<f.length;k++)f[k].body.velocity.x=c+k*l;return this},setVelocityY:function(c,l){void 0===l&&(l=0);for(var f=this.getChildren(),k=0;k<f.length;k++)f[k].body.velocity.y=
c+k*l;return this}});r.exports=a},3017:r=>{var p,a,m,g,d,b,e,h,c,l,f,k,n,q,t,v,u,x=function(){return l&&t&&a.blocked.right?(p.processX(-u,e,!1,!0),1):c&&v&&a.blocked.left?(p.processX(u,e,!0),1):n&&v&&p.blocked.right?(a.processX(-u,h,!1,!0),2):k&&t&&p.blocked.left?(a.processX(u,h,!0),2):0},w=function(y){if(m&&g)u*=.5,0===y||3===y?(p.processX(u,d),a.processX(-u,b)):(p.processX(-u,d),a.processX(u,b));else if(m&&!g)0===y||3===y?p.processX(u,e,!0):p.processX(-u,e,!1,!0);else if(!m&&g)0===y||3===y?a.processX(-u,
h,!1,!0):a.processX(u,h,!0);else{var z=.5*u;0===y?q?(p.processX(u,0,!0),a.processX(0,null,!1,!0)):n?(p.processX(z,0,!0),a.processX(-z,0,!1,!0)):(p.processX(z,a.velocity.x,!0),a.processX(-z,null,!1,!0)):1===y?f?(p.processX(0,null,!1,!0),a.processX(u,0,!0)):l?(p.processX(-z,0,!1,!0),a.processX(z,0,!0)):(p.processX(-z,null,!1,!0),a.processX(z,p.velocity.x,!0)):2===y?q?(p.processX(-u,0,!1,!0),a.processX(0,null,!0)):k?(p.processX(-z,0,!1,!0),a.processX(z,0,!0)):(p.processX(-z,a.velocity.x,!1,!0),a.processX(z,
null,!0)):3===y&&(f?(p.processX(0,null,!0),a.processX(-u,0,!1,!0)):c?(p.processX(z,0,!0),a.processX(-z,0,!1,!0)):(p.processX(z,a.velocity.y,!0),a.processX(-z,null,!1,!0)))}return!0};r.exports={BlockCheck:x,Check:function(){var y=p.velocity.x,z=a.velocity.x;z=Math.sqrt(z*z*a.mass/p.mass)*(0<z?1:-1);y=Math.sqrt(y*y*p.mass/a.mass)*(0<y?1:-1);var C=.5*(z+y);d=C+(z-C)*p.bounce.x;b=C+(y-C)*a.bounce.x;return c&&v?w(0):k&&t?w(1):l&&t?w(2):n&&v?w(3):!1},Set:function(y,z,C){p=y;a=z;y=p.velocity.x;z=a.velocity.x;
m=p.pushable;c=0>p._dx;l=0<p._dx;f=0===p._dx;t=Math.abs(p.right-a.x)<=Math.abs(a.right-p.x);e=z-y*p.bounce.x;g=a.pushable;k=0>a._dx;n=0<a._dx;q=0===a._dx;v=!t;h=y-z*a.bounce.x;u=Math.abs(C);return x()},Run:w,RunImmovableBody1:function(y){1===y?a.velocity.x=0:t?a.processX(u,h,!0):a.processX(-u,h,!1,!0);p.moves&&(a.y+=(p.y-p.prev.y)*p.friction.y,a._dy=a.y-a.prev.y)},RunImmovableBody2:function(y){2===y?p.velocity.x=0:v?p.processX(u,e,!0):p.processX(-u,e,!1,!0);a.moves&&(p.y+=(a.y-a.prev.y)*a.friction.y,
p._dy=p.y-p.prev.y)}}},47962:r=>{var p,a,m,g,d,b,e,h,c,l,f,k,n,q,t,v,u,x=function(){return l&&t&&a.blocked.down?(p.processY(-u,e,!1,!0),1):c&&v&&a.blocked.up?(p.processY(u,e,!0),1):n&&v&&p.blocked.down?(a.processY(-u,h,!1,!0),2):k&&t&&p.blocked.up?(a.processY(u,h,!0),2):0},w=function(y){if(m&&g)u*=.5,0===y||3===y?(p.processY(u,d),a.processY(-u,b)):(p.processY(-u,d),a.processY(u,b));else if(m&&!g)0===y||3===y?p.processY(u,e,!0):p.processY(-u,e,!1,!0);else if(!m&&g)0===y||3===y?a.processY(-u,h,!1,!0):
a.processY(u,h,!0);else{var z=.5*u;0===y?q?(p.processY(u,0,!0),a.processY(0,null,!1,!0)):n?(p.processY(z,0,!0),a.processY(-z,0,!1,!0)):(p.processY(z,a.velocity.y,!0),a.processY(-z,null,!1,!0)):1===y?f?(p.processY(0,null,!1,!0),a.processY(u,0,!0)):l?(p.processY(-z,0,!1,!0),a.processY(z,0,!0)):(p.processY(-z,null,!1,!0),a.processY(z,p.velocity.y,!0)):2===y?q?(p.processY(-u,0,!1,!0),a.processY(0,null,!0)):k?(p.processY(-z,0,!1,!0),a.processY(z,0,!0)):(p.processY(-z,a.velocity.y,!1,!0),a.processY(z,null,
!0)):3===y&&(f?(p.processY(0,null,!0),a.processY(-u,0,!1,!0)):c?(p.processY(z,0,!0),a.processY(-z,0,!1,!0)):(p.processY(z,a.velocity.y,!0),a.processY(-z,null,!1,!0)))}return!0};r.exports={BlockCheck:x,Check:function(){var y=p.velocity.y,z=a.velocity.y;z=Math.sqrt(z*z*a.mass/p.mass)*(0<z?1:-1);y=Math.sqrt(y*y*p.mass/a.mass)*(0<y?1:-1);var C=.5*(z+y);d=C+(z-C)*p.bounce.y;b=C+(y-C)*a.bounce.y;return c&&v?w(0):k&&t?w(1):l&&t?w(2):n&&v?w(3):!1},Set:function(y,z,C){p=y;a=z;y=p.velocity.y;z=a.velocity.y;
m=p.pushable;c=0>p._dy;l=0<p._dy;f=0===p._dy;t=Math.abs(p.bottom-a.y)<=Math.abs(a.bottom-p.y);e=z-y*p.bounce.y;g=a.pushable;k=0>a._dy;n=0<a._dy;q=0===a._dy;v=!t;h=y-z*a.bounce.y;u=Math.abs(C);return x()},Run:w,RunImmovableBody1:function(y){1===y?a.velocity.y=0:t?a.processY(u,h,!0):a.processY(-u,h,!1,!0);p.moves&&(a.x+=(p.x-p.prev.x)*p.friction.x,a._dx=a.x-a.prev.x)},RunImmovableBody2:function(y){2===y?p.velocity.y=0:v?p.processY(u,e,!0):p.processY(-u,e,!1,!0);a.moves&&(p.x+=(a.x-a.prev.x)*a.friction.x,
p._dx=p.x-p.prev.x)}}},14087:(r,p,a)=>{var m=a(64897),g=a(3017);r.exports=function(d,b,e,h,c){void 0===c&&(c=m(d,b,e,h));h=d.immovable;var l=b.immovable;if(e||0===c||h&&l||d.customSeparateX||b.customSeparateX)return 0!==c||d.embedded&&b.embedded;d=g.Set(d,b,c);if(h||l)h?g.RunImmovableBody1(d):l&&g.RunImmovableBody2(d);else return 0<d?!0:g.Check();return!0}},89936:(r,p,a)=>{var m=a(45170),g=a(47962);r.exports=function(d,b,e,h,c){void 0===c&&(c=m(d,b,e,h));h=d.immovable;var l=b.immovable;if(e||0===
c||h&&l||d.customSeparateY||b.customSeparateY)return 0!==c||d.embedded&&b.embedded;d=g.Set(d,b,c);if(h||l)h?g.RunImmovableBody1(d):l&&g.RunImmovableBody2(d);else return 0<d?!0:g.Check();return!0}},95829:r=>{r.exports=function(p,a){void 0===a&&(a={});a.none=p;a.up=!1;a.down=!1;a.left=!1;a.right=!1;p||(a.up=!0,a.down=!0,a.left=!0,a.right=!0);return a}},72624:(r,p,a)=>{var m=a(87902);p=a(83419);var g=a(78389),d=a(37747),b=a(37303),e=a(95829),h=a(26099);a=new p({Mixins:[g],initialize:function(c,l){var f=
64,k=64,n={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},q=void 0!==l;q&&l.displayWidth&&(f=l.displayWidth,k=l.displayHeight);q||(l=n);this.world=c;this.gameObject=q?l:void 0;this.isBody=!0;this.debugShowBody=c.defaults.debugShowStaticBody;this.debugBodyColor=c.defaults.staticBodyDebugColor;this.enable=!0;this.isCircle=!1;this.radius=0;this.offset=new h;this.position=new h(l.x-f*l.originX,l.y-k*l.originY);this.width=f;this.height=k;this.halfWidth=Math.abs(this.width/
2);this.halfHeight=Math.abs(this.height/2);this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight);this.velocity=h.ZERO;this.allowGravity=!1;this.bounce=this.gravity=h.ZERO;this.onOverlap=this.onCollide=this.onWorldBounds=!1;this.mass=1;this.immovable=!0;this.customSeparateY=this.customSeparateX=this.pushable=!1;this.overlapR=this.overlapY=this.overlapX=0;this.collideWorldBounds=this.embedded=!1;this.checkCollision=e(!1);this.touching=e(!0);this.wasTouching=e(!0);this.blocked=
e(!0);this.physicsType=d.STATIC_BODY;this.collisionMask=this.collisionCategory=1;this._dy=this._dx=0},setGameObject:function(c,l){c&&c!==this.gameObject&&(this.gameObject.body=null,c.body=this,this.gameObject=c);l&&this.updateFromGameObject();return this},updateFromGameObject:function(){this.world.staticTree.remove(this);var c=this.gameObject;c.getTopLeft(this.position);this.width=c.displayWidth;this.height=c.displayHeight;this.halfWidth=Math.abs(this.width/2);this.halfHeight=Math.abs(this.height/
2);this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight);this.world.staticTree.insert(this);return this},setOffset:function(c,l){void 0===l&&(l=c);this.world.staticTree.remove(this);this.position.x-=this.offset.x;this.position.y-=this.offset.y;this.offset.set(c,l);this.position.x+=this.offset.x;this.position.y+=this.offset.y;this.updateCenter();this.world.staticTree.insert(this);return this},setSize:function(c,l,f){void 0===f&&(f=!0);var k=this.gameObject;k&&k.frame&&(c||
(c=k.frame.realWidth),l||(l=k.frame.realHeight));this.world.staticTree.remove(this);this.width=c;this.height=l;this.halfWidth=Math.floor(c/2);this.halfHeight=Math.floor(l/2);f&&k&&k.getCenter&&(c=k.displayWidth/2,k=k.displayHeight/2,this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(c-this.halfWidth,k-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y);this.updateCenter();this.isCircle=!1;this.radius=0;this.world.staticTree.insert(this);return this},
setCircle:function(c,l,f){void 0===l&&(l=this.offset.x);void 0===f&&(f=this.offset.y);0<c?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=c,this.width=2*c,this.height=2*c,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,f),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1;return this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(c,l){var f=
this.gameObject;void 0===c&&(c=f.x);void 0===l&&(l=f.y);this.world.staticTree.remove(this);f.setPosition(c,l);f.getTopLeft(this.position);this.position.x+=this.offset.x;this.position.y+=this.offset.y;this.updateCenter();this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(c){c.x=this.x;c.y=this.y;c.right=this.right;c.bottom=this.bottom;return c},hitTest:function(c,l){return this.isCircle?m(this,c,l):b(this,c,l)},postUpdate:function(){},deltaAbsX:function(){return 0},
deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1;this.world.pendingDestroy.set(this)},drawDebug:function(c){var l=this.position,f=l.x+this.halfWidth,k=l.y+this.halfHeight;this.debugShowBody&&(c.lineStyle(c.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?c.strokeCircle(f,k,this.width/2):c.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(c){0>=
c&&(c=.1);this.mass=c;return this},x:{get:function(){return this.position.x},set:function(c){this.world.staticTree.remove(this);this.position.x=c;this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(c){this.world.staticTree.remove(this);this.position.y=c;this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+
this.height}}});r.exports=a},71464:(r,p,a)=>{var m=a(13759);p=a(83419);var g=a(78389),d=a(37747),b=a(95540),e=a(26479),h=a(41212);a=new p({Extends:e,Mixins:[g],initialize:function(c,l,f,k){f||k?h(f)?(k=f,f=null,k.internalCreateCallback=this.createCallbackHandler,k.internalRemoveCallback=this.removeCallbackHandler,k.createMultipleCallback=this.createMultipleCallbackHandler,k.classType=b(k,"classType",m)):Array.isArray(f)&&h(f[0])?(k=f,f=null,k.forEach(function(n){n.internalCreateCallback=this.createCallbackHandler;
n.internalRemoveCallback=this.removeCallbackHandler;n.createMultipleCallback=this.createMultipleCallbackHandler;n.classType=b(n,"classType",m)})):k={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:k={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:m};this.world=c;this.physicsType=d.STATIC_BODY;this.collisionMask=this.collisionCategory=
1;e.call(this,l,f,k);this.type="StaticPhysicsGroup"},createCallbackHandler:function(c){c.body||this.world.enableBody(c,d.STATIC_BODY)},removeCallbackHandler:function(c){c.body&&this.world.disableBody(c)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var c=this.children.entries,l=0;l<c.length;l++)c[l].body.reset();return this}});r.exports=a},82248:(r,p,a)=>{var m=a(55495),g=a(37742),d=a(45319);p=a(83419);var b=a(79342),e=a(37747),h=a(20339),c=a(52816),l=a(50792),f=
a(63012),k=a(43855),n=a(5470),q=a(94977),t=a(64897),v=a(45170),u=a(96523),x=a(35154),w=a(36383),y=a(25774),z=a(96602),C=a(87841),A=a(59542),B=a(40012),E=a(14087),G=a(89936),I=a(35072),H=a(72624),K=a(2483),L=a(61340),M=a(26099),P=a(15994);a=new p({Extends:l,initialize:function(D,F){l.call(this);this.scene=D;this.bodies=new I;this.staticBodies=new I;this.pendingDestroy=new I;this.colliders=new y;this.gravity=new M(x(F,"gravity.x",0),x(F,"gravity.y",0));this.bounds=new C(x(F,"x",0),x(F,"y",0),x(F,"width",
D.sys.scale.width),x(F,"height",D.sys.scale.height));this.checkCollision={up:x(F,"checkCollision.up",!0),down:x(F,"checkCollision.down",!0),left:x(F,"checkCollision.left",!0),right:x(F,"checkCollision.right",!0)};this.fps=x(F,"fps",60);this.fixedStep=x(F,"fixedStep",!0);this._elapsed=0;this._frameTime=1/this.fps;this._frameTimeMS=1E3*this._frameTime;this.stepsLastFrame=0;this.timeScale=x(F,"timeScale",1);this.OVERLAP_BIAS=x(F,"overlapBias",4);this.TILE_BIAS=x(F,"tileBias",16);this.forceX=x(F,"forceX",
!1);this.isPaused=x(F,"isPaused",!1);this._total=0;this.drawDebug=x(F,"debug",!1);this.defaults={debugShowBody:x(F,"debugShowBody",!0),debugShowStaticBody:x(F,"debugShowStaticBody",!0),debugShowVelocity:x(F,"debugShowVelocity",!0),bodyDebugColor:x(F,"debugBodyColor",16711935),staticBodyDebugColor:x(F,"debugStaticBodyColor",255),velocityDebugColor:x(F,"debugVelocityColor",65280)};this.maxEntries=x(F,"maxEntries",16);this.useTree=x(F,"useTree",!0);this.tree=new A(this.maxEntries);this.staticTree=new A(this.maxEntries);
this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0};this._tempMatrix=new L;this._tempMatrix2=new L;this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0};this.drawDebug&&this.createDebugGraphic()},enable:function(D,F){void 0===F&&(F=e.DYNAMIC_BODY);Array.isArray(D)||(D=[D]);for(var J=0;J<D.length;J++){var N=D[J];if(N.isParent){N=N.getChildren();for(var O=0;O<N.length;O++){var R=N[O];R.isParent?this.enable(R,F):this.enableBody(R,F)}}else this.enableBody(N,F)}},enableBody:function(D,
F){void 0===F&&(F=e.DYNAMIC_BODY);D.hasTransformComponent&&(D.body||(F===e.DYNAMIC_BODY?D.body=new g(this,D):F===e.STATIC_BODY&&(D.body=new H(this,D))),this.add(D.body));return D},add:function(D){D.physicsType===e.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===e.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D));D.enable=!0;return D},disable:function(D){Array.isArray(D)||(D=[D]);for(var F=0;F<D.length;F++){var J=D[F];if(J.isParent){J=J.getChildren();for(var N=0;N<J.length;N++){var O=
J[N];O.isParent?this.disable(O):this.disableBody(O.body)}}else this.disableBody(J.body)}},disableBody:function(D){this.remove(D);D.enable=!1},remove:function(D){D.physicsType===e.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});D.setDepth(Number.MAX_VALUE);this.debugGraphic=D;this.drawDebug=!0;return D},setBounds:function(D,F,J,
N,O,R,Q,S){this.bounds.setTo(D,F,J,N);void 0!==O&&this.setBoundsCollision(O,R,Q,S);return this},setBoundsCollision:function(D,F,J,N){void 0===D&&(D=!0);void 0===F&&(F=!0);void 0===J&&(J=!0);void 0===N&&(N=!0);this.checkCollision.left=D;this.checkCollision.right=F;this.checkCollision.up=J;this.checkCollision.down=N;return this},pause:function(){this.isPaused=!0;this.emit(f.PAUSE);return this},resume:function(){this.isPaused=!1;this.emit(f.RESUME);return this},addCollider:function(D,F,J,N,O){void 0===
J&&(J=null);void 0===N&&(N=null);void 0===O&&(O=J);D=new b(this,!1,D,F,J,N,O);this.colliders.add(D);return D},addOverlap:function(D,F,J,N,O){void 0===J&&(J=null);void 0===N&&(N=null);void 0===O&&(O=J);D=new b(this,!0,D,F,J,N,O);this.colliders.add(D);return D},removeCollider:function(D){this.colliders.remove(D);return this},setFPS:function(D){this.fps=D;this._frameTime=1/this.fps;this._frameTimeMS=1E3*this._frameTime;return this},update:function(D,F){if(!this.isPaused&&0!==this.bodies.size){D=this._frameTime;
var J=this._frameTimeMS*this.timeScale;this._elapsed+=F;var N=this.bodies.entries,O=this._elapsed>=J;this.fixedStep||(D=.001*F,O=!0,this._elapsed=0);for(F=0;F<N.length;F++){var R=N[F];R.enable&&R.preUpdate(O,D)}if(O){this._elapsed-=J;this.stepsLastFrame=1;this.useTree&&(this.tree.clear(),this.tree.load(N));N=this.colliders.update();for(F=0;F<N.length;F++)O=N[F],O.active&&O.update();this.emit(f.WORLD_STEP,D)}for(;this._elapsed>=J;)this._elapsed-=J,this.step(D)}},step:function(D){var F,J=this.bodies.entries,
N=J.length;for(F=0;F<N;F++){var O=J[F];O.enable&&O.update(D)}this.useTree&&(this.tree.clear(),this.tree.load(J));O=this.colliders.update();for(F=0;F<O.length;F++)J=O[F],J.active&&J.update();this.emit(f.WORLD_STEP,D);this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS);this.postUpdate()},postUpdate:function(){var D,F=this.bodies.entries,J=F.length,N=this.bodies,O=this.staticBodies;if(this.stepsLastFrame)for(D=this.stepsLastFrame=0;D<J;D++){var R=F[D];R.enable&&R.postUpdate()}if(this.drawDebug){var Q=
this.debugGraphic;Q.clear();for(D=0;D<J;D++)R=F[D],R.willDrawDebug()&&R.drawDebug(Q);F=O.entries;J=F.length;for(D=0;D<J;D++)R=F[D],R.willDrawDebug()&&R.drawDebug(Q)}Q=this.pendingDestroy;if(0<Q.size){var S=this.tree,T=this.staticTree;F=Q.entries;J=F.length;for(D=0;D<J;D++)R=F[D],R.physicsType===e.DYNAMIC_BODY?(S.remove(R),N.delete(R)):R.physicsType===e.STATIC_BODY&&(T.remove(R),O.delete(R)),R.world=void 0,R.gameObject=void 0;Q.clear()}},updateMotion:function(D,F){D.allowRotation&&this.computeAngularVelocity(D,
F);this.computeVelocity(D,F)},computeAngularVelocity:function(D,F){var J=D.angularVelocity,N=D.angularAcceleration,O=D.angularDrag,R=D.maxAngular;N?J+=N*F:D.allowDrag&&O&&(O*=F,J=n(J-O,0,.1)?J-O:q(J+O,0,.1)?J+O:0);J=d(J,-R,R);D.angularVelocity+=J-D.angularVelocity;D.rotation+=D.angularVelocity*F},computeVelocity:function(D,F){var J=D.velocity.x,N=D.acceleration.x,O=D.drag.x,R=D.maxVelocity.x,Q=D.velocity.y,S=D.acceleration.y,T=D.drag.y,U=D.maxVelocity.y,W=D.speed,Y=D.maxSpeed,V=D.allowDrag,X=D.useDamping;
D.allowGravity&&(J+=(this.gravity.x+D.gravity.x)*F,Q+=(this.gravity.y+D.gravity.y)*F);N?J+=N*F:V&&O&&(X?(O=Math.pow(O,F),J*=O,W=Math.sqrt(J*J+Q*Q),k(W,0,.001)&&(J=0)):(O*=F,J=n(J-O,0,.01)?J-O:q(J+O,0,.01)?J+O:0));S?Q+=S*F:V&&T&&(X?(T=Math.pow(T,F),Q*=T,W=Math.sqrt(J*J+Q*Q),k(W,0,.001)&&(Q=0)):(T*=F,Q=n(Q-T,0,.01)?Q-T:q(Q+T,0,.01)?Q+T:0));J=d(J,-R,R);Q=d(Q,-U,U);D.velocity.set(J,Q);-1<Y&&D.velocity.length()>Y&&(D.velocity.normalize().scale(Y),W=Y);D.speed=W},separate:function(D,F,J,N,O){var R=!1,Q=
!0;if(!D.enable||!F.enable||D.checkCollision.none||F.checkCollision.none||!this.intersects(D,F)||J&&!1===J.call(N,D.gameObject,F.gameObject))return R;if(D.isCircle||F.isCircle)if(J=this.separateCircle(D,F,O),J.result)R=!0,Q=!1;else{var S=J.x;var T=J.y;Q=!0}Q&&(J=R=!1,N=this.OVERLAP_BIAS,O?(R=E(D,F,O,N,S),J=G(D,F,O,N,T)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(R=E(D,F,O,N,S),this.intersects(D,F)&&(J=G(D,F,O,N,T))):(J=G(D,F,O,N,T),this.intersects(D,F)&&
(R=E(D,F,O,N,S))),R=R||J);R&&(O?(D.onOverlap||F.onOverlap)&&this.emit(f.OVERLAP,D.gameObject,F.gameObject,D,F):(D.onCollide||F.onCollide)&&this.emit(f.COLLIDE,D.gameObject,F.gameObject,D,F));return R},separateCircle:function(D,F,J){t(D,F,!1,0);v(D,F,!1,0);var N=F.isCircle,O=D.center,R=F.center,Q=D.immovable,S=F.immovable,T=D.velocity,U=F.velocity,W=0,Y=!0;if(D.isCircle!==N){Y=!1;var V=O.x,X=O.y,Z=D.halfWidth,da=F.position.x,ca=F.position.y,ba=F.right,ia=F.bottom;N&&(V=R.x,X=R.y,Z=F.halfWidth,da=D.position.x,
ca=D.position.y,ba=D.right,ia=D.bottom);X<ca?V<da?W=h(V,X,da,ca)-Z:V>ba&&(W=h(V,X,ba,ca)-Z):X>ia&&(V<da?W=h(V,X,da,ia)-Z:V>ba&&(W=h(V,X,ba,ia)-Z));W*=-1}else W=D.halfWidth+F.halfWidth-c(O,R);D.overlapR=W;F.overlapR=W;V=m(O,R);N=(W+w.EPSILON)*Math.cos(V);V=(W+w.EPSILON)*Math.sin(V);X={overlap:W,result:!1,x:N,y:V};if(J&&(!Y||Y&&0!==W))return X.result=!0,X;if(!Y&&0===W||Q&&S||D.customSeparateX||F.customSeparateX)return X.x=void 0,X.y=void 0,X;J=!D.pushable&&!F.pushable;if(Y){J=Math.sqrt(Math.pow(O.x-
R.x,2)+Math.pow(O.y-R.y,2));Y=(R.x-O.x)/J||0;O=(R.y-O.y)/J||0;R=2*(T.x*Y+T.y*O-U.x*Y-U.y*O)/(D.mass+F.mass);if(Q||S)R*=2;Q||(T.x-=R/D.mass*Y,T.y-=R/D.mass*O,T.multiply(D.bounce));S||(U.x+=R/F.mass*Y,U.y+=R/F.mass*O,U.multiply(F.bounce));Q||S||(N*=.5,V*=.5);Q||(D.x-=N,D.y-=V,D.updateCenter());S||(F.x+=N,F.y+=V,F.updateCenter());X.result=!0}else{if(!Q||D.pushable||J)D.x-=N,D.y-=V,D.updateCenter();else if(!S||F.pushable||J)F.x+=N,F.y+=V,F.updateCenter();X.x=void 0;X.y=void 0}return X},intersects:function(D,
F){return D===F?!1:D.isCircle||F.isCircle?D.isCircle?F.isCircle?c(D.center,F.center)<=D.halfWidth+F.halfWidth:this.circleBodyIntersects(D,F):this.circleBodyIntersects(F,D):!(D.right<=F.left||D.bottom<=F.top||D.left>=F.right||D.top>=F.bottom)},circleBodyIntersects:function(D,F){var J=d(D.center.x,F.left,F.right);F=d(D.center.y,F.top,F.bottom);return(D.center.x-J)*(D.center.x-J)+(D.center.y-F)*(D.center.y-F)<=D.halfWidth*D.halfWidth},overlap:function(D,F,J,N,O){void 0===J&&(J=null);void 0===N&&(N=null);
void 0===O&&(O=J);return this.collideObjects(D,F,J,N,O,!0)},collide:function(D,F,J,N,O){void 0===J&&(J=null);void 0===N&&(N=null);void 0===O&&(O=J);return this.collideObjects(D,F,J,N,O,!1)},collideObjects:function(D,F,J,N,O,R){!D.isParent||void 0!==D.physicsType&&void 0!==F&&D!==F||(D=D.children.entries);F&&F.isParent&&void 0===F.physicsType&&(F=F.children.entries);var Q=Array.isArray(D);var S=Array.isArray(F);this._total=0;if(Q||S)if(!Q&&S)for(Q=0;Q<F.length;Q++)this.collideHandler(D,F[Q],J,N,O,
R);else if(Q&&!S)if(F)for(Q=0;Q<D.length;Q++)this.collideHandler(D[Q],F,J,N,O,R);else for(Q=0;Q<D.length;Q++)for(F=D[Q],S=Q+1;S<D.length;S++)Q!==S&&this.collideHandler(F,D[S],J,N,O,R);else for(Q=0;Q<D.length;Q++)for(S=0;S<F.length;S++)this.collideHandler(D[Q],F[S],J,N,O,R);else this.collideHandler(D,F,J,N,O,R);return 0<this._total},collideHandler:function(D,F,J,N,O,R){if(void 0===F&&D.isParent)return this.collideGroupVsGroup(D,D,J,N,O,R);if(!D||!F)return!1;if(D.body||D.isBody){if(F.body||F.isBody)return this.collideSpriteVsSprite(D,
F,J,N,O,R);if(F.isParent)return this.collideSpriteVsGroup(D,F,J,N,O,R);if(F.isTilemap)return this.collideSpriteVsTilemapLayer(D,F,J,N,O,R)}else if(D.isParent){if(F.body||F.isBody)return this.collideSpriteVsGroup(F,D,J,N,O,R);if(F.isParent)return this.collideGroupVsGroup(D,F,J,N,O,R);if(F.isTilemap)return this.collideGroupVsTilemapLayer(D,F,J,N,O,R)}else if(D.isTilemap){if(F.body||F.isBody)return this.collideSpriteVsTilemapLayer(F,D,J,N,O,R);if(F.isParent)return this.collideGroupVsTilemapLayer(F,D,
J,N,O,R)}},canCollide:function(D,F){return D&&F&&0!==(D.collisionMask&F.collisionCategory)&&0!==(F.collisionMask&D.collisionCategory)},collideSpriteVsSprite:function(D,F,J,N,O,R){var Q=D.isBody?D:D.body,S=F.isBody?F:F.body;if(!this.canCollide(Q,S))return!1;this.separate(Q,S,N,O,R)&&(J&&J.call(O,D,F),this._total++);return!0},collideSpriteVsGroup:function(D,F,J,N,O,R){var Q=D.isBody?D:D.body;if(0!==F.length&&Q&&Q.enable&&!Q.checkCollision.none&&this.canCollide(Q,F))if(this.useTree||F.physicsType===
e.STATIC_BODY){D=this.treeMinMax;D.minX=Q.left;D.minY=Q.top;D.maxX=Q.right;D.maxY=Q.bottom;var S=F.physicsType===e.DYNAMIC_BODY?this.tree.search(D):this.staticTree.search(D);var T=S.length;for(D=0;D<T;D++){var U=S[D];Q!==U&&U.enable&&!U.checkCollision.none&&F.contains(U.gameObject)&&this.separate(Q,U,N,O,R)&&(J&&J.call(O,Q.gameObject,U.gameObject),this._total++)}}else for(S=F.getChildren(),F=F.children.entries.indexOf(D),T=S.length,D=0;D<T;D++)(U=S[D].body)&&D!==F&&U.enable&&this.separate(Q,U,N,O,
R)&&(J&&J.call(O,Q.gameObject,U.gameObject),this._total++)},collideGroupVsTilemapLayer:function(D,F,J,N,O,R){if(!this.canCollide(D,F))return!1;D=D.getChildren();if(0===D.length)return!1;for(var Q=!1,S=0;S<D.length;S++)(D[S].body||D[S].isBody)&&this.collideSpriteVsTilemapLayer(D[S],F,J,N,O,R)&&(Q=!0);return Q},collideTiles:function(D,F,J,N,O){return 0===F.length||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,F,J,N,O,!1,!1)},overlapTiles:function(D,F,J,N,O){return 0===
F.length||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,F,J,N,O,!0,!1)},collideSpriteVsTilemapLayer:function(D,F,J,N,O,R){var Q=D.isBody?D:D.body;if(!Q.enable||Q.checkCollision.none||!this.canCollide(Q,F))return!1;var S=F.layer;F=u(Q.x-S.tileWidth*F.scaleX,Q.y-S.tileHeight*F.scaleY,Q.width+S.tileWidth*F.scaleX,Q.height+S.tileHeight*F.scaleY,R?null:this.tileFilterOptions,F.scene.cameras.main,F.layer);return 0===F.length?!1:this.collideSpriteVsTilesHandler(D,F,J,
N,O,R,!0)},collideSpriteVsTilesHandler:function(D,F,J,N,O,R,Q){for(var S=D.isBody?D:D.body,T,U={left:0,right:0,top:0,bottom:0},W,Y=!1,V=0;V<F.length;V++){T=F[V];W=T.tilemapLayer;var X=W.tileToWorldXY(T.x,T.y);U.left=X.x;U.top=X.y;U.right=U.left+T.width*W.scaleX;U.bottom=U.top+T.height*W.scaleY;K(U,S)&&(!N||N.call(O,D,T))&&z(T,D)&&(R||B(V,S,T,U,W,this.TILE_BIAS,Q))&&(this._total++,Y=!0,J&&J.call(O,D,T),R&&S.onOverlap?this.emit(f.TILE_OVERLAP,D,T,S):S.onCollide&&this.emit(f.TILE_COLLIDE,D,T,S))}return Y},
collideGroupVsGroup:function(D,F,J,N,O,R){if(0!==D.length&&0!==F.length&&this.canCollide(D,F)){D=D.getChildren();for(var Q=0;Q<D.length;Q++)this.collideSpriteVsGroup(D[Q],F,J,N,O,R)}},wrap:function(D,F){D.body?this.wrapObject(D,F):D.getChildren?this.wrapArray(D.getChildren(),F):Array.isArray(D)?this.wrapArray(D,F):this.wrapObject(D,F)},wrapArray:function(D,F){for(var J=0;J<D.length;J++)this.wrapObject(D[J],F)},wrapObject:function(D,F){void 0===F&&(F=0);D.x=P(D.x,this.bounds.left-F,this.bounds.right+
F);D.y=P(D.y,this.bounds.top-F,this.bounds.bottom+F)},shutdown:function(){this.tree.clear();this.staticTree.clear();this.bodies.clear();this.staticBodies.clear();this.colliders.destroy();this.removeAllListeners()},destroy:function(){this.shutdown();this.scene=null;this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});r.exports=a},1093:r=>{r.exports={setAcceleration:function(p,a){this.body.acceleration.set(p,a);return this},setAccelerationX:function(p){this.body.acceleration.x=
p;return this},setAccelerationY:function(p){this.body.acceleration.y=p;return this}}},59023:r=>{r.exports={setAngularVelocity:function(p){this.body.angularVelocity=p;return this},setAngularAcceleration:function(p){this.body.angularAcceleration=p;return this},setAngularDrag:function(p){this.body.angularDrag=p;return this}}},62069:r=>{r.exports={setBounce:function(p,a){this.body.bounce.set(p,a);return this},setBounceX:function(p){this.body.bounce.x=p;return this},setBounceY:function(p){this.body.bounce.y=
p;return this},setCollideWorldBounds:function(p,a,m,g){this.body.setCollideWorldBounds(p,a,m,g);return this}}},78389:(r,p,a)=>{var m=a(79599);r.exports={setCollisionCategory:function(g){(this.body?this.body:this).collisionCategory=g;return this},willCollideWith:function(g){return 0!==((this.body?this.body:this).collisionMask&g)},addCollidesWith:function(g){var d=this.body?this.body:this;d.collisionMask|=g;return this},removeCollidesWith:function(g){var d=this.body?this.body:this;d.collisionMask&=
~g;return this},setCollidesWith:function(g){(this.body?this.body:this).collisionMask=m(g);return this},resetCollisionCategory:function(){var g=this.body?this.body:this;g.collisionCategory=1;g.collisionMask=1;return this}}},87118:r=>{r.exports={setDebug:function(p,a,m){this.debugShowBody=p;this.debugShowVelocity=a;this.debugBodyColor=m;return this},setDebugBodyColor:function(p){this.body.debugBodyColor=p;return this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(p){this.body.debugShowBody=
p}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(p){this.body.debugShowVelocity=p}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(p){this.body.debugBodyColor=p}}}},52819:r=>{r.exports={setDrag:function(p,a){this.body.drag.set(p,a);return this},setDragX:function(p){this.body.drag.x=p;return this},setDragY:function(p){this.body.drag.y=p;return this},setDamping:function(p){this.body.useDamping=p;return this}}},4074:r=>{r.exports={setDirectControl:function(p){this.body.setDirectControl(p);
return this},enableBody:function(p,a,m,g,d){p&&this.body.reset(a,m);g&&(this.body.gameObject.active=!0);d&&(this.body.gameObject.visible=!0);this.body.enable=!0;return this},disableBody:function(p,a){void 0===p&&(p=!1);void 0===a&&(a=!1);this.body.stop();this.body.enable=!1;p&&(this.body.gameObject.active=!1);a&&(this.body.gameObject.visible=!1);return this},refreshBody:function(){this.body.updateFromGameObject();return this}}},40831:r=>{r.exports={setFriction:function(p,a){this.body.friction.set(p,
a);return this},setFrictionX:function(p){this.body.friction.x=p;return this},setFrictionY:function(p){this.body.friction.y=p;return this}}},26775:r=>{r.exports={setGravity:function(p,a){this.body.gravity.set(p,a);return this},setGravityX:function(p){this.body.gravity.x=p;return this},setGravityY:function(p){this.body.gravity.y=p;return this}}},9437:r=>{r.exports={setImmovable:function(p){void 0===p&&(p=!0);this.body.immovable=p;return this}}},30621:r=>{r.exports={setMass:function(p){this.body.mass=
p;return this}}},72441:(r,p,a)=>{var m=a(47956),g=a(96503),d=a(2044),b=a(81491);r.exports=function(e,h,c,l,f,k){e=m(e,h-l,c-l,2*l,2*l,f,k);if(0===e.length)return e;h=new g(h,c,l);c=new g;l=[];for(f=0;f<e.length;f++)k=e[f],k.isCircle?(c.setTo(k.center.x,k.center.y,k.halfWidth),d(h,c)&&l.push(k)):b(h,k)&&l.push(k);return l}},47956:r=>{r.exports=function(p,a,m,g,d,b,e){void 0===b&&(b=!0);void 0===e&&(e=!1);var h=[],c=[],l=p.treeMinMax;l.minX=a;l.minY=m;l.maxX=a+g;l.maxY=m+d;e&&(c=p.staticTree.search(l));
if(b&&p.useTree)h=p.tree.search(l);else if(b){var f={position:{x:a,y:m},left:a,top:m,right:a+g,bottom:m+d,isCircle:!1},k=p.intersects;p.bodies.iterate(function(n){k(n,f)&&h.push(n)})}return c.concat(h)}},62121:r=>{r.exports={setPushable:function(p){void 0===p&&(p=!0);this.body.pushable=p;return this}}},29384:r=>{r.exports={setOffset:function(p,a){this.body.setOffset(p,a);return this},setSize:function(p,a,m){this.body.setSize(p,a,m);return this},setBodySize:function(p,a,m){this.body.setSize(p,a,m);
return this},setCircle:function(p,a,m){this.body.setCircle(p,a,m);return this}}},15098:r=>{r.exports={setVelocity:function(p,a){this.body.setVelocity(p,a);return this},setVelocityX:function(p){this.body.setVelocityX(p);return this},setVelocityY:function(p){this.body.setVelocityY(p);return this},setMaxVelocity:function(p,a){this.body.maxVelocity.set(p,a);return this}}},92209:(r,p,a)=>{r.exports={Acceleration:a(1093),Angular:a(59023),Bounce:a(62069),Collision:a(78389),Debug:a(87118),Drag:a(52819),Enable:a(4074),
Friction:a(40831),Gravity:a(26775),Immovable:a(9437),Mass:a(30621),OverlapCirc:a(72441),OverlapRect:a(47956),Pushable:a(62121),Size:a(29384),Velocity:a(15098)}},37747:r=>{r.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:r=>{r.exports="collide"},36768:r=>{r.exports="overlap"},60473:r=>{r.exports="pause"},89954:r=>{r.exports="resume"},61804:r=>{r.exports="tilecollide"},7161:r=>{r.exports="tileoverlap"},34689:r=>
{r.exports="worldbounds"},16006:r=>{r.exports="worldstep"},63012:(r,p,a)=>{r.exports={COLLIDE:a(20009),OVERLAP:a(36768),PAUSE:a(60473),RESUME:a(89954),TILE_COLLIDE:a(61804),TILE_OVERLAP:a(7161),WORLD_BOUNDS:a(34689),WORLD_STEP:a(16006)}},27064:(r,p,a)=>{p=a(37747);var m=a(79291);a={ArcadePhysics:a(86689),Body:a(37742),Collider:a(79342),Components:a(92209),Events:a(63012),Factory:a(66022),GetCollidesWith:a(79599),GetOverlapX:a(64897),GetOverlapY:a(45170),SeparateX:a(14087),SeparateY:a(89936),Group:a(60758),
Image:a(71289),Sprite:a(13759),StaticBody:a(72624),StaticGroup:a(71464),Tilemap:a(55173),World:a(82248)};a=m(!1,a,p);r.exports=a},96602:r=>{r.exports=function(p,a){return p.collisionCallback?!p.collisionCallback.call(p.collisionCallbackContext,a,p):p.layer.callbacks[p.index]?!p.layer.callbacks[p.index].callback.call(p.layer.callbacks[p.index].callbackContext,a,p):!0}},36294:r=>{r.exports=function(p,a){0>a?(p.blocked.none=!1,p.blocked.left=!0):0<a&&(p.blocked.none=!1,p.blocked.right=!0);p.position.x-=
a;p.updateCenter();p.velocity.x=0===p.bounce.x?0:-p.velocity.x*p.bounce.x}},67013:r=>{r.exports=function(p,a){0>a?(p.blocked.none=!1,p.blocked.up=!0):0<a&&(p.blocked.none=!1,p.blocked.down=!0);p.position.y-=a;p.updateCenter();p.velocity.y=0===p.bounce.y?0:-p.velocity.y*p.bounce.y}},40012:(r,p,a)=>{var m=a(21329),g=a(53442),d=a(2483);r.exports=function(b,e,h,c,l,f,k){b=c.left;l=c.top;var n=c.right,q=c.bottom,t=h.faceLeft||h.faceRight,v=h.faceTop||h.faceBottom;k||(v=t=!0);if(!t&&!v)return!1;var u=0,
x=0,w=0,y=1;e.deltaAbsX()>e.deltaAbsY()?w=-1:e.deltaAbsX()<e.deltaAbsY()&&(y=-1);0!==e.deltaX()&&0!==e.deltaY()&&t&&v&&(w=Math.min(Math.abs(e.position.x-n),Math.abs(e.right-b)),y=Math.min(Math.abs(e.position.y-q),Math.abs(e.bottom-l)));if(w<y){if(t&&(u=m(e,h,b,n,f,k),0!==u&&!d(c,e)))return!0;v&&(x=g(e,h,l,q,f,k))}else{if(v&&(x=g(e,h,l,q,f,k),0!==x&&!d(c,e)))return!0;t&&(u=m(e,h,b,n,f,k))}return 0!==u||0!==x}},21329:(r,p,a)=>{var m=a(36294);r.exports=function(g,d,b,e,h,c){var l=0,f=d.faceLeft,k=d.faceRight,
n=d.collideLeft;d=d.collideRight;c||(d=n=k=f=!0);0>g.deltaX()&&d&&g.checkCollision.left?k&&g.x<e&&(l=g.x-e,l<-h&&(l=0)):0<g.deltaX()&&n&&g.checkCollision.right&&f&&g.right>b&&(l=g.right-b,l>h&&(l=0));0!==l&&(g.customSeparateX?g.overlapX=l:m(g,l));return l}},53442:(r,p,a)=>{var m=a(67013);r.exports=function(g,d,b,e,h,c){var l=0,f=d.faceTop,k=d.faceBottom,n=d.collideUp;d=d.collideDown;c||(d=n=k=f=!0);0>g.deltaY()&&d&&g.checkCollision.up?k&&g.y<e&&(l=g.y-e,l<-h&&(l=0)):0<g.deltaY()&&n&&g.checkCollision.down&&
f&&g.bottom>b&&(l=g.bottom-b,l>h&&(l=0));0!==l&&(g.customSeparateY?g.overlapY=l:m(g,l));return l}},2483:r=>{r.exports=function(p,a){return!(a.right<=p.left||a.bottom<=p.top||a.position.x>=p.right||a.position.y>=p.bottom)}},55173:(r,p,a)=>{p={ProcessTileCallbacks:a(96602),ProcessTileSeparationX:a(36294),ProcessTileSeparationY:a(67013),SeparateTile:a(40012),TileCheckX:a(21329),TileCheckY:a(53442),TileIntersectsBody:a(2483)};r.exports=p},44563:(r,p,a)=>{r.exports={Arcade:a(27064),Matter:a(3875)}},68174:(r,
p,a)=>{p=a(83419);var m=a(26099);a=new p({initialize:function(){this.boundsCenter=new m;this.centerDiff=new m},parseBody:function(g){g=g.hasOwnProperty("body")?g.body:g;if(!g.hasOwnProperty("bounds")||!g.hasOwnProperty("centerOfMass"))return!1;var d=this.boundsCenter,b=this.centerDiff,e=g.bounds.max.x-g.bounds.min.x,h=g.bounds.max.y-g.bounds.min.y,c=e*g.centerOfMass.x;g=h*g.centerOfMass.y;d.set(e/2,h/2);b.set(c-d.x,g-d.y);return!0},getTopLeft:function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=0);if(this.parseBody(g)){g=
this.boundsCenter;var e=this.centerDiff;return new m(d+g.x+e.x,b+g.y+e.y)}return!1},getTopCenter:function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=0);return this.parseBody(g)?(g=this.centerDiff,new m(d+g.x,b+this.boundsCenter.y+g.y)):!1},getTopRight:function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=0);if(this.parseBody(g)){g=this.boundsCenter;var e=this.centerDiff;return new m(d-(g.x-e.x),b+g.y+e.y)}return!1},getLeftCenter:function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=0);return this.parseBody(g)?
(g=this.centerDiff,new m(d+this.boundsCenter.x+g.x,b+g.y)):!1},getCenter:function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=0);return this.parseBody(g)?(g=this.centerDiff,new m(d+g.x,b+g.y)):!1},getRightCenter:function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=0);return this.parseBody(g)?(g=this.centerDiff,new m(d-(this.boundsCenter.x-g.x),b+g.y)):!1},getBottomLeft:function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=0);if(this.parseBody(g)){g=this.boundsCenter;var e=this.centerDiff;return new m(d+g.x+e.x,
b-(g.y-e.y))}return!1},getBottomCenter:function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=0);return this.parseBody(g)?(g=this.centerDiff,new m(d+g.x,b-(this.boundsCenter.y-g.y))):!1},getBottomRight:function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=0);if(this.parseBody(g)){g=this.boundsCenter;var e=this.centerDiff;return new m(d-(g.x-e.x),b-(g.y-e.y))}return!1}});r.exports=a},19933:(r,p,a)=>{p=a(6790);p.Body=a(22562);p.Composite=a(69351);p.World=a(4372);p.Collision=a(52284);p.Detector=a(81388);p.Pairs=
a(99561);p.Pair=a(4506);p.Query=a(73296);p.Resolver=a(66272);p.Constraint=a(48140);p.Common=a(53402);p.Engine=a(48413);p.Events=a(35810);p.Sleeping=a(53614);p.Plugin=a(73832);p.Bodies=a(66280);p.Composites=a(74116);p.Axes=a(66615);p.Bounds=a(15647);p.Svg=a(74058);p.Vector=a(31725);p.Vertices=a(41598);p.World.add=p.Composite.add;p.World.remove=p.Composite.remove;p.World.addComposite=p.Composite.addComposite;p.World.addBody=p.Composite.addBody;p.World.addConstraint=p.Composite.addConstraint;p.World.clear=
p.Composite.clear;r.exports=p},28137:(r,p,a)=>{var m=a(66280);p=a(83419);var g=a(74116),d=a(48140),b=a(74058),e=a(75803),h=a(23181),c=a(34803),l=a(73834),f=a(19496),k=a(85791),n=a(98713),q=a(41598);a=new p({initialize:function(t){this.world=t;this.scene=t.scene;this.sys=t.scene.sys},rectangle:function(t,v,u,x,w){t=m.rectangle(t,v,u,x,w);this.world.add(t);return t},trapezoid:function(t,v,u,x,w,y){t=m.trapezoid(t,v,u,x,w,y);this.world.add(t);return t},circle:function(t,v,u,x,w){t=m.circle(t,v,u,x,w);
this.world.add(t);return t},polygon:function(t,v,u,x,w){t=m.polygon(t,v,u,x,w);this.world.add(t);return t},fromVertices:function(t,v,u,x,w,y,z){"string"===typeof u&&(u=q.fromPath(u));t=m.fromVertices(t,v,u,x,w,y,z);this.world.add(t);return t},fromPhysicsEditor:function(t,v,u,x,w){void 0===w&&(w=!0);t=f.parseBody(t,v,u,x);w&&!this.world.has(t)&&this.world.add(t);return t},fromSVG:function(t,v,u,x,w,y){void 0===x&&(x=1);void 0===w&&(w={});void 0===y&&(y=!0);u=u.getElementsByTagName("path");for(var z=
[],C=0;C<u.length;C++){var A=b.pathToVertices(u[C],30);1!==x&&q.scale(A,x,x);z.push(A)}t=m.fromVertices(t,v,z,w);y&&this.world.add(t);return t},fromJSON:function(t,v,u,x,w){void 0===x&&(x={});void 0===w&&(w=!0);(t=k.parseBody(t,v,u,x))&&w&&this.world.add(t);return t},imageStack:function(t,v,u,x,w,y,z,C,A){void 0===z&&(z=0);void 0===C&&(C=0);void 0===A&&(A={});var B=this.world,E=this.sys.displayList;A.addToWorld=!1;u=g.stack(u,x,w,y,z,C,function(G,I){G=new h(B,G,I,t,v,A);E.add(G);return G.body});B.add(u);
return u},stack:function(t,v,u,x,w,y,z){t=g.stack(t,v,u,x,w,y,z);this.world.add(t);return t},pyramid:function(t,v,u,x,w,y,z){t=g.pyramid(t,v,u,x,w,y,z);this.world.add(t);return t},chain:function(t,v,u,x,w,y){return g.chain(t,v,u,x,w,y)},mesh:function(t,v,u,x,w){return g.mesh(t,v,u,x,w)},newtonsCradle:function(t,v,u,x,w){t=g.newtonsCradle(t,v,u,x,w);this.world.add(t);return t},car:function(t,v,u,x,w){t=g.car(t,v,u,x,w);this.world.add(t);return t},softBody:function(t,v,u,x,w,y,z,C,A,B){t=g.softBody(t,
v,u,x,w,y,z,C,A,B);this.world.add(t);return t},joint:function(t,v,u,x,w){return this.constraint(t,v,u,x,w)},spring:function(t,v,u,x,w){return this.constraint(t,v,u,x,w)},constraint:function(t,v,u,x,w){void 0===x&&(x=1);void 0===w&&(w={});w.bodyA="body"===t.type?t:t.body;w.bodyB="body"===v.type?v:v.body;isNaN(u)||(w.length=u);w.stiffness=x;t=d.create(w);this.world.add(t);return t},worldConstraint:function(t,v,u,x){void 0===u&&(u=1);void 0===x&&(x={});x.bodyB="body"===t.type?t:t.body;isNaN(v)||(x.length=
v);x.stiffness=u;t=d.create(x);this.world.add(t);return t},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){void 0===t&&(t={});t.hasOwnProperty("render")||(t.render={visible:!1});t=new n(this.scene,this.world,t);this.world.add(t.constraint);return t},image:function(t,v,u,x,w){t=new h(this.world,t,v,u,x,w);this.sys.displayList.add(t);return t},tileBody:function(t,v){return new l(this.world,t,v)},sprite:function(t,v,u,x,w){t=new c(this.world,t,v,u,x,w);this.sys.displayList.add(t);
this.sys.updateList.add(t);return t},gameObject:function(t,v,u){return e(this.world,t,v,u)},destroy:function(){this.sys=this.scene=this.world=null}});r.exports=a},75803:(r,p,a)=>{var m=a(31884),g=a(95540),d=a(26099);r.exports=function(b,e,h,c){void 0===h&&(h={});void 0===c&&(c=!0);var l=e.x,f=e.y;e.body={temp:!0,position:{x:l,y:f}};[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity].forEach(function(k){for(var n in k){var q=k[n];q.get&&
"function"===typeof q.get||q.set&&"function"===typeof q.set?Object.defineProperty(e,n,{get:k[n].get,set:k[n].set}):Object.defineProperty(e,n,{value:k[n]})}});e.world=b;e._tempVec2=new d(l,f);h.hasOwnProperty("type")&&"body"===h.type?e.setExistingBody(h,c):((b=g(h,"shape",null))||(b="rectangle"),h.addToWorld=c,e.setBody(b,h));return e}},23181:(r,p,a)=>{p=a(83419);var m=a(31884),g=a(95643),d=a(95540),b=a(88571),e=a(72699),h=a(26099);a=new p({Extends:b,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,
m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,e],initialize:function(c,l,f,k,n,q){g.call(this,c.scene,"Image");this._crop=this.resetCropObject();this.setTexture(k,n);this.setSizeToFrame();this.setOrigin();this.world=c;this._tempVec2=new h(l,f);(c=d(q,"shape",null))?this.setBody(c,q):this.setRectangle(this.width,this.height,q);this.setPosition(l,f);this.initPipeline();this.initPostPipeline(!0)}});r.exports=a},42045:(r,p,a)=>{var m=a(60461),g=a(66615),d=a(66280),b=a(22562),
e=a(68174),h=a(15647),c=a(83419),l=a(52284),f=a(53402),k=a(69351),n=a(74116),q=a(48140),t=a(81388),v=a(20339),u=a(28137),x=a(95540),w=a(35154),y=a(18210),z=a(40178),C=a(6790),A=a(74507),B=a(46975),E=a(4506),G=a(99561),I=a(73832);p=a(37277);var H=a(73296),K=a(66272),L=a(44594),M=a(74058),P=a(31725),D=a(41598),F=a(68243);f.setDecomp(a(55973));a=new c({initialize:function(J){this.scene=J;this.systems=J.sys;this.config=this.getConfig();this.body=b;this.composite=k;this.collision=l;this.detector=t;this.pair=
E;this.pairs=G;this.query=H;this.resolver=K;this.constraint=q;this.bodies=d;this.composites=n;this.axes=g;this.bounds=h;this.svg=M;this.vector=P;this.verts=this.vertices=D;this._tempVec2=P.create();w(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin();w(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin();w(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin();K._restingThresh=w(this.config,"restingThresh",4);K._restingThreshTangent=w(this.config,"restingThreshTangent",
6);K._positionDampen=w(this.config,"positionDampen",.9);K._positionWarming=w(this.config,"positionWarming",.8);K._frictionNormalMultiplier=w(this.config,"frictionNormalMultiplier",5);J.sys.events.once(L.BOOT,this.boot,this);J.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new F(this.scene,this.config);this.add=new u(this.world);this.bodyBounds=new e;this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new F(this.scene,this.config),this.add=
new u(this.world));var J=this.systems.events;J.on(L.UPDATE,this.world.update,this.world);J.on(L.POST_UPDATE,this.world.postUpdate,this.world);J.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var J=this.systems.game.config.physics;return B(x(this.systems.settings.physics,"matter",{}),x(J,"matter",{}))},enableAttractorPlugin:function(){I.register(y);I.use(C,y);return this},enableWrapPlugin:function(){I.register(A);I.use(C,A);return this},enableCollisionEventsPlugin:function(){I.register(z);
I.use(C,z);return this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){this.world.getDelta=this.world.update60Hz;this.world.autoUpdate=!0;return this},set30Hz:function(){this.world.getDelta=this.world.update30Hz;this.world.autoUpdate=!0;return this},step:function(J,N){this.world.step(J,N)},containsPoint:function(J,N,O){J=this.getMatterBodies(J);N=P.create(N,O);return 0<H.point(J,N).length?!0:!1},intersectPoint:function(J,N,O){O=this.getMatterBodies(O);
J=P.create(J,N);var R=[];H.point(O,J).forEach(function(Q){-1===R.indexOf(Q)&&R.push(Q)});return R},intersectRect:function(J,N,O,R,Q,S){void 0===Q&&(Q=!1);S=this.getMatterBodies(S);var T=[];H.region(S,{min:{x:J,y:N},max:{x:J+O,y:N+R}},Q).forEach(function(U){-1===T.indexOf(U)&&T.push(U)});return T},intersectRay:function(J,N,O,R,Q,S){void 0===Q&&(Q=1);S=this.getMatterBodies(S);var T=[];J=H.ray(S,P.create(J,N),P.create(O,R),Q);for(N=0;N<J.length;N++)T.push(J[N].body);return T},intersectBody:function(J,
N){N=this.getMatterBodies(N);var O=[];N=H.collides(J,N);for(var R=0;R<N.length;R++){var Q=N[R];Q.bodyA===J?O.push(Q.bodyB):O.push(Q.bodyA)}return O},overlap:function(J,N,O,R,Q){void 0===O&&(O=null);void 0===R&&(R=null);void 0===Q&&(Q=O);Array.isArray(J)||(J=[J]);J=this.getMatterBodies(J);N=this.getMatterBodies(N);for(var S=!1,T=0;T<J.length;T++)for(var U=J[T],W=H.collides(U,N),Y=0;Y<W.length;Y++){var V=W[Y],X=V.bodyA.id===U.id?V.bodyB:V.bodyA;if(!R||R.call(Q,U,X,V))if(S=!0,O)O.call(Q,U,X,V);else if(!R)return!0}return S},
setCollisionCategory:function(J,N){J=this.getMatterBodies(J);J.forEach(function(O){O.collisionFilter.category=N});return this},setCollisionGroup:function(J,N){J=this.getMatterBodies(J);J.forEach(function(O){O.collisionFilter.group=N});return this},setCollidesWith:function(J,N){J=this.getMatterBodies(J);var O=0;if(Array.isArray(N))for(var R=0;R<N.length;R++)O|=N[R];else O=N;J.forEach(function(Q){Q.collisionFilter.mask=O});return this},getMatterBodies:function(J){if(!J)return this.world.getAllBodies();
Array.isArray(J)||(J=[J]);for(var N=[],O=0;O<J.length;O++){var R=J[O].hasOwnProperty("body")?J[O].body:J[O];N.push(R)}return N},setVelocity:function(J,N,O){J=this.getMatterBodies(J);var R=this._tempVec2;R.x=N;R.y=O;J.forEach(function(Q){b.setVelocity(Q,R)});return this},setVelocityX:function(J,N){J=this.getMatterBodies(J);var O=this._tempVec2;O.x=N;J.forEach(function(R){O.y=R.velocity.y;b.setVelocity(R,O)});return this},setVelocityY:function(J,N){J=this.getMatterBodies(J);var O=this._tempVec2;O.y=
N;J.forEach(function(R){O.x=R.velocity.x;b.setVelocity(R,O)});return this},setAngularVelocity:function(J,N){J=this.getMatterBodies(J);J.forEach(function(O){b.setAngularVelocity(O,N)});return this},applyForce:function(J,N){J=this.getMatterBodies(J);var O=this._tempVec2;J.forEach(function(R){O.x=R.position.x;O.y=R.position.y;b.applyForce(R,O,N)});return this},applyForceFromPosition:function(J,N,O,R){J=this.getMatterBodies(J);var Q=this._tempVec2;J.forEach(function(S){void 0===R&&(R=S.angle);Q.x=O*Math.cos(R);
Q.y=O*Math.sin(R);b.applyForce(S,N,Q)});return this},applyForceFromAngle:function(J,N,O){J=this.getMatterBodies(J);var R=this._tempVec2;J.forEach(function(Q){void 0===O&&(O=Q.angle);R.x=N*Math.cos(O);R.y=N*Math.sin(O);b.applyForce(Q,{x:Q.position.x,y:Q.position.y},R)});return this},getConstraintLength:function(J){var N=J.pointA.x,O=J.pointA.y,R=J.pointB.x,Q=J.pointB.y;J.bodyA&&(N+=J.bodyA.position.x,O+=J.bodyA.position.y);J.bodyB&&(R+=J.bodyB.position.x,Q+=J.bodyB.position.y);return v(N,O,R,Q)},alignBody:function(J,
N,O,R){J=J.hasOwnProperty("body")?J.body:J;switch(R){case m.TOP_LEFT:case m.LEFT_TOP:var Q=this.bodyBounds.getTopLeft(J,N,O);break;case m.TOP_CENTER:Q=this.bodyBounds.getTopCenter(J,N,O);break;case m.TOP_RIGHT:case m.RIGHT_TOP:Q=this.bodyBounds.getTopRight(J,N,O);break;case m.LEFT_CENTER:Q=this.bodyBounds.getLeftCenter(J,N,O);break;case m.CENTER:Q=this.bodyBounds.getCenter(J,N,O);break;case m.RIGHT_CENTER:Q=this.bodyBounds.getRightCenter(J,N,O);break;case m.LEFT_BOTTOM:case m.BOTTOM_LEFT:Q=this.bodyBounds.getBottomLeft(J,
N,O);break;case m.BOTTOM_CENTER:Q=this.bodyBounds.getBottomCenter(J,N,O);break;case m.BOTTOM_RIGHT:case m.RIGHT_BOTTOM:Q=this.bodyBounds.getBottomRight(J,N,O)}Q&&b.setPosition(J,Q);return this},shutdown:function(){var J=this.systems.events;this.world&&(J.off(L.UPDATE,this.world.update,this.world),J.off(L.POST_UPDATE,this.world.postUpdate,this.world));J.off(L.SHUTDOWN,this.shutdown,this);this.add&&this.add.destroy();this.world&&this.world.destroy();this.world=this.add=null},destroy:function(){this.shutdown();
this.scene.sys.events.off(L.START,this.start,this);this.systems=this.scene=null}});p.register("MatterPhysics",a,"matterPhysics");r.exports=a},34803:(r,p,a)=>{var m=a(9674);p=a(83419);var g=a(31884),d=a(95643),b=a(95540),e=a(72699),h=a(68287),c=a(26099);a=new p({Extends:h,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,e],initialize:function(l,f,k,n,q,t){d.call(this,l.scene,"Sprite");this._crop=this.resetCropObject();this.anims=
new m(this);this.setTexture(n,q);this.setSizeToFrame();this.setOrigin();this.world=l;this._tempVec2=new c(f,k);(l=b(t,"shape",null))?this.setBody(l,t):this.setRectangle(this.width,this.height,t);this.setPosition(f,k);this.initPipeline();this.initPostPipeline(!0)}});r.exports=a},73834:(r,p,a)=>{var m=a(66280),g=a(22562);p=a(83419);var d=a(31884),b=a(62644),e=a(50792),h=a(95540),c=a(97022),l=a(41598);a=new p({Extends:e,Mixins:[d.Bounce,d.Collision,d.Friction,d.Gravity,d.Mass,d.Sensor,d.Sleep,d.Static],
initialize:function(f,k,n){e.call(this);this.tile=k;this.world=f;k.physics.matterBody&&k.physics.matterBody.destroy();k.physics.matterBody=this;f=h(n,"body",null);var q=h(n,"addToWorld",!0);f?this.setBody(f,q):(q=k.getCollisionGroup(),0<h(q,"objects",[]).length?this.setFromTileCollision(n):this.setFromTileRectangle(n));if(k.flipX||k.flipY)n={x:k.getCenterX(),y:k.getCenterY()},g.scale(f,k.flipX?-1:1,k.flipY?-1:1,n)},setFromTileRectangle:function(f){void 0===f&&(f={});c(f,"isStatic")||(f.isStatic=!0);
c(f,"addToWorld")||(f.addToWorld=!0);var k=this.tile.getBounds();k=m.rectangle(k.x+k.width/2,k.y+k.height/2,k.width,k.height,f);this.setBody(k,f.addToWorld);return this},setFromTileCollision:function(f){void 0===f&&(f={});c(f,"isStatic")||(f.isStatic=!0);c(f,"addToWorld")||(f.addToWorld=!0);var k=this.tile.tilemapLayer.scaleX,n=this.tile.tilemapLayer.scaleY,q=this.tile.getLeft(),t=this.tile.getTop(),v=this.tile.getCollisionGroup(),u=h(v,"objects",[]);v=[];for(var x=0;x<u.length;x++){var w=u[x],y=
q+w.x*k,z=t+w.y*n,C=w.width*k,A=w.height*n,B=null;if(w.rectangle)B=m.rectangle(y+C/2,z+A/2,C,A,f);else if(w.ellipse)B=m.circle(y+C/2,z+A/2,C/2,f);else if(w.polygon||w.polyline)w=(w.polygon?w.polygon:w.polyline).map(function(E){return{x:E.x*k,y:E.y*n}}),w=l.create(w),C=l.centre(w),y+=C.x,z+=C.y,B=m.fromVertices(y,z,w,f);B&&v.push(B)}1===v.length?this.setBody(v[0],f.addToWorld):1<v.length&&(f=b(f),f.parts=v,this.setBody(g.create(f),f.addToWorld));return this},setBody:function(f,k){void 0===k&&(k=!0);
this.body&&this.removeBody();this.body=f;this.body.gameObject=this;k&&this.world.add(this.body);return this},removeBody:function(){this.body&&(this.world.remove(this.body),this.body=this.body.gameObject=void 0);return this},destroy:function(){this.removeBody();this.tile.physics.matterBody=void 0;this.removeAllListeners()}});r.exports=a},19496:(r,p,a)=>{var m=a(66280),g=a(22562),d=a(53402),b=a(95540),e=a(41598);r.exports={parseBody:function(h,c,l,f){void 0===f&&(f={});for(var k=b(l,"fixtures",[]),
n=[],q=0;q<k.length;q++)for(var t=this.parseFixture(k[q]),v=0;v<t.length;v++)n.push(t[v]);l=d.clone(l,!0);d.extend(l,f,!0);delete l.fixtures;delete l.type;f=g.create(l);g.setParts(f,n);g.setPosition(f,{x:h,y:c});return f},parseFixture:function(h){var c=d.extend({},!1,h);delete c.circle;delete c.vertices;if(h.circle){var l=b(h.circle,"x");var f=b(h.circle,"y");h=b(h.circle,"radius");l=[m.circle(l,f,h,c)]}else h.vertices&&(l=this.parseVertices(h.vertices,c));return l},parseVertices:function(h,c){void 0===
c&&(c={});for(var l=[],f=0;f<h.length;f++)e.clockwiseSort(h[f]),l.push(g.create(d.extend({position:e.centre(h[f]),vertices:h[f]},c)));return m.flagCoincidentParts(l)}}},85791:(r,p,a)=>{var m=a(66280),g=a(22562);r.exports={parseBody:function(d,b,e,h){void 0===h&&(h={});var c=e.vertices;if(1===c.length)h.vertices=c[0],h=g.create(h),m.flagCoincidentParts(h.parts);else{for(var l=[],f=0;f<c.length;f++){var k=g.create({vertices:c[f]});l.push(k)}m.flagCoincidentParts(l);h.parts=l;h=g.create(h)}h.label=e.label;
g.setPosition(h,{x:d,y:b});return h}}},98713:(r,p,a)=>{var m=a(15647);p=a(83419);var g=a(69351),d=a(48140),b=a(81388),e=a(1121),h=a(8214),c=a(46975),l=a(53614),f=a(26099),k=a(41598);a=new p({initialize:function(n,q,t){void 0===t&&(t={});this.scene=n;this.world=q;this.pointer=this.camera=null;this.active=!0;this.position=new f;this.part=this.body=null;this.constraint=d.create(c(t,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,
mask:4294967295,group:0}}));this.world.on(e.BEFORE_UPDATE,this.update,this);n.sys.input.on(h.POINTER_DOWN,this.onDown,this);n.sys.input.on(h.POINTER_UP,this.onUp,this)},onDown:function(n){this.pointer||(this.pointer=n,this.camera=n.camera)},onUp:function(n){n===this.pointer&&(this.pointer=null)},getBody:function(n){var q=this.position,t=this.constraint;this.camera.getWorldPoint(n.x,n.y,q);n=g.allBodies(this.world.localWorld);for(var v=0;v<n.length;v++){var u=n[v];if(!u.ignorePointer&&m.contains(u.bounds,
q)&&b.canCollide(u.collisionFilter,t.collisionFilter)&&this.hitTestBody(u,q))return this.world.emit(e.DRAG_START,u,this.part,this),!0}return!1},hitTestBody:function(n,q){for(var t=this.constraint,v=n.parts.length,u=1<v?1:0;u<v;u++){var x=n.parts[u];if(k.contains(x.vertices,q))return t.pointA=q,t.pointB={x:q.x-n.position.x,y:q.y-n.position.y},t.bodyB=n,t.angleB=n.angle,l.set(n,!1),this.part=x,this.body=n,!0}return!1},update:function(){var n=this.pointer,q=this.body;if(!this.active||!n)q&&this.stopDrag();
else if(!n.isDown&&q)this.stopDrag();else if(n.isDown&&this.camera&&(q||this.getBody(n))){q=this.body;var t=this.position,v=this.constraint;this.camera.getWorldPoint(n.x,n.y,t);v.pointA.x=t.x;v.pointA.y=t.y;l.set(q,!1);this.world.emit(e.DRAG,q,this)}},stopDrag:function(){var n=this.body,q=this.constraint;q.bodyB=null;this.part=this.body=this.pointer=q.pointB=null;n&&this.world.emit(e.DRAG_END,n,this)},destroy:function(){this.world.removeConstraint(this.constraint);this.part=this.body=this.constraint=
this.pointer=null;this.world.off(e.BEFORE_UPDATE,this.update);this.scene.sys.input.off(h.POINTER_DOWN,this.onDown,this);this.scene.sys.input.off(h.POINTER_UP,this.onUp,this)}});r.exports=a},68243:(r,p,a)=>{var m=a(66280),g=a(22562);p=a(83419);var d=a(53402),b=a(69351),e=a(48413),h=a(50792),c=a(1121),l=a(95540),f=a(35154),k=a(22562),n=a(35810),q=a(73834),t=a(4372),v=a(31725);a=new p({Extends:h,initialize:function(u,x){h.call(this);this.scene=u;this.engine=e.create(x);this.localWorld=this.engine.world;
var w=f(x,"gravity",null);w?this.setGravity(w.x,w.y,w.scale):!1===w&&this.setGravity(0,0,0);this.walls={left:null,right:null,top:null,bottom:null};this.enabled=f(x,"enabled",!0);this.getDelta=f(x,"getDelta",this.update60Hz);w=l(x,"runner",{});var y=l(w,"fps",!1),z=l(w,"fps",60),C=l(w,"delta",1E3/z),A=l(w,"deltaMin",1E3/z),B=l(w,"deltaMax",1E3/(.5*z));y||(z=1E3/C);this.runner={fps:z,deltaSampleSize:l(w,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,
frameRequestId:null,isFixed:l(w,"isFixed",!1),delta:C,deltaMin:A,deltaMax:B};this.autoUpdate=f(x,"autoUpdate",!0);w=f(x,"debug",!1);this.drawDebug="object"===typeof w?!0:w;this.debugConfig={showAxes:l(w,"showAxes",!1),showAngleIndicator:l(w,"showAngleIndicator",!1),angleColor:l(w,"angleColor",15208787),showBroadphase:l(w,"showBroadphase",!1),broadphaseColor:l(w,"broadphaseColor",16757760),showBounds:l(w,"showBounds",!1),boundsColor:l(w,"boundsColor",16777215),showVelocity:l(w,"showVelocity",!1),velocityColor:l(w,
"velocityColor",44783),showCollisions:l(w,"showCollisions",!1),collisionColor:l(w,"collisionColor",16094476),showSeparations:l(w,"showSeparations",!1),separationColor:l(w,"separationColor",16753920),showBody:l(w,"showBody",!0),showStaticBody:l(w,"showStaticBody",!0),showInternalEdges:l(w,"showInternalEdges",!1),renderFill:l(w,"renderFill",!1),renderLine:l(w,"renderLine",!0),fillColor:l(w,"fillColor",1075465),fillOpacity:l(w,"fillOpacity",1),lineColor:l(w,"lineColor",2678297),lineOpacity:l(w,"lineOpacity",
1),lineThickness:l(w,"lineThickness",1),staticFillColor:l(w,"staticFillColor",857979),staticLineColor:l(w,"staticLineColor",1255396),showSleeping:l(w,"showSleeping",!1),staticBodySleepOpacity:l(w,"staticBodySleepOpacity",.7),sleepFillColor:l(w,"sleepFillColor",4605510),sleepLineColor:l(w,"sleepLineColor",10066585),showSensors:l(w,"showSensors",!0),sensorFillColor:l(w,"sensorFillColor",857979),sensorLineColor:l(w,"sensorLineColor",1255396),showPositions:l(w,"showPositions",!0),positionSize:l(w,"positionSize",
4),positionColor:l(w,"positionColor",14697178),showJoint:l(w,"showJoint",!0),jointColor:l(w,"jointColor",14737474),jointLineOpacity:l(w,"jointLineOpacity",1),jointLineThickness:l(w,"jointLineThickness",2),pinSize:l(w,"pinSize",4),pinColor:l(w,"pinColor",4382944),springColor:l(w,"springColor",14697184),anchorColor:l(w,"anchorColor",15724527),anchorSize:l(w,"anchorSize",4),showConvexHulls:l(w,"showConvexHulls",!1),hullColor:l(w,"hullColor",14091216)};this.drawDebug&&this.createDebugGraphic();this.setEventsProxy();
if(l(x,"setBounds",!1))if(z=x.setBounds,"boolean"===typeof z)this.setBounds();else{x=l(z,"x",0);w=l(z,"y",0);y=l(z,"width",u.sys.scale.width);u=l(z,"height",u.sys.scale.height);C=l(z,"thickness",64);A=l(z,"left",!0);B=l(z,"right",!0);var E=l(z,"top",!0);z=l(z,"bottom",!0);this.setBounds(x,w,y,u,C,A,B,E,z)}},setCompositeRenderStyle:function(u){var x=u.bodies,w=u.constraints;u=u.composites;var y;for(y=0;y<x.length;y++){var z=x[y];var C=z.render;this.setBodyRenderStyle(z,C.lineColor,C.lineOpacity,C.lineThickness,
C.fillColor,C.fillOpacity)}for(y=0;y<w.length;y++)z=w[y],C=z.render,this.setConstraintRenderStyle(z,C.lineColor,C.lineOpacity,C.lineThickness,C.pinSize,C.anchorColor,C.anchorSize);for(y=0;y<u.length;y++)z=u[y],this.setCompositeRenderStyle(z);return this},setBodyRenderStyle:function(u,x,w,y,z,C){var A=u.render,B=this.debugConfig;if(!A)return this;if(void 0===x||null===x)x=u.isStatic?B.staticLineColor:B.lineColor;if(void 0===w||null===w)w=B.lineOpacity;if(void 0===y||null===y)y=B.lineThickness;if(void 0===
z||null===z)z=u.isStatic?B.staticFillColor:B.fillColor;if(void 0===C||null===C)C=B.fillOpacity;!1!==x&&(A.lineColor=x);!1!==w&&(A.lineOpacity=w);!1!==y&&(A.lineThickness=y);!1!==z&&(A.fillColor=z);!1!==C&&(A.fillOpacity=C);return this},setConstraintRenderStyle:function(u,x,w,y,z,C,A){u=u.render;var B=this.debugConfig;if(!u)return this;if(void 0===x||null===x){var E=u.type;"line"===E?x=B.jointColor:"pin"===E?x=B.pinColor:"spring"===E&&(x=B.springColor)}if(void 0===w||null===w)w=B.jointLineOpacity;
if(void 0===y||null===y)y=B.jointLineThickness;if(void 0===z||null===z)z=B.pinSize;if(void 0===C||null===C)C=B.anchorColor;if(void 0===A||null===A)A=B.anchorSize;!1!==x&&(u.lineColor=x);!1!==w&&(u.lineOpacity=w);!1!==y&&(u.lineThickness=y);!1!==z&&(u.pinSize=z);!1!==C&&(u.anchorColor=C);!1!==A&&(u.anchorSize=A);return this},setEventsProxy:function(){var u=this,x=this.engine,w=this.localWorld;this.drawDebug&&(n.on(w,"compositeModified",function(y){u.setCompositeRenderStyle(y)}),n.on(w,"beforeAdd",
function(y){y=[].concat(y.object);for(var z=0;z<y.length;z++){var C=y[z],A=C.render;"body"===C.type?u.setBodyRenderStyle(C,A.lineColor,A.lineOpacity,A.lineThickness,A.fillColor,A.fillOpacity):"composite"===C.type?u.setCompositeRenderStyle(C):"constraint"===C.type&&u.setConstraintRenderStyle(C,A.lineColor,A.lineOpacity,A.lineThickness,A.pinSize,A.anchorColor,A.anchorSize)}}));n.on(w,"beforeAdd",function(y){u.emit(c.BEFORE_ADD,y)});n.on(w,"afterAdd",function(y){u.emit(c.AFTER_ADD,y)});n.on(w,"beforeRemove",
function(y){u.emit(c.BEFORE_REMOVE,y)});n.on(w,"afterRemove",function(y){u.emit(c.AFTER_REMOVE,y)});n.on(x,"beforeUpdate",function(y){u.emit(c.BEFORE_UPDATE,y)});n.on(x,"afterUpdate",function(y){u.emit(c.AFTER_UPDATE,y)});n.on(x,"collisionStart",function(y){var z=y.pairs;if(0<z.length){var C=z[0].bodyA;var A=z[0].bodyB}u.emit(c.COLLISION_START,y,C,A)});n.on(x,"collisionActive",function(y){var z=y.pairs;if(0<z.length){var C=z[0].bodyA;var A=z[0].bodyB}u.emit(c.COLLISION_ACTIVE,y,C,A)});n.on(x,"collisionEnd",
function(y){var z=y.pairs;if(0<z.length){var C=z[0].bodyA;var A=z[0].bodyB}u.emit(c.COLLISION_END,y,C,A)})},setBounds:function(u,x,w,y,z,C,A,B,E){void 0===u&&(u=0);void 0===x&&(x=0);void 0===w&&(w=this.scene.sys.scale.width);void 0===y&&(y=this.scene.sys.scale.height);void 0===z&&(z=64);void 0===C&&(C=!0);void 0===A&&(A=!0);void 0===B&&(B=!0);void 0===E&&(E=!0);this.updateWall(C,"left",u-z,x-z,z,y+2*z);this.updateWall(A,"right",u+w,x-z,z,y+2*z);this.updateWall(B,"top",u,x-z,w,z);this.updateWall(E,
"bottom",u,x+y,w,z);return this},updateWall:function(u,x,w,y,z,C){var A=this.walls[x];u?(A&&t.remove(this.localWorld,A),this.walls[x]=this.create(w+z/2,y+C/2,z,C,{isStatic:!0,friction:0,frictionStatic:0})):(A&&t.remove(this.localWorld,A),this.walls[x]=null)},createDebugGraphic:function(){var u=this.scene.sys.add.graphics({x:0,y:0});u.setDepth(Number.MAX_VALUE);this.debugGraphic=u;this.drawDebug=!0;return u},disableGravity:function(){this.localWorld.gravity.x=0;this.localWorld.gravity.y=0;this.localWorld.gravity.scale=
0;return this},setGravity:function(u,x,w){void 0===u&&(u=0);void 0===x&&(x=1);void 0===w&&(w=.001);this.localWorld.gravity.x=u;this.localWorld.gravity.y=x;this.localWorld.gravity.scale=w;return this},create:function(u,x,w,y,z){u=m.rectangle(u,x,w,y,z);t.add(this.localWorld,u);return u},add:function(u){t.add(this.localWorld,u);return this},remove:function(u,x){Array.isArray(u)||(u=[u]);for(var w=0;w<u.length;w++){var y=u[w];b.remove(this.localWorld,y.body?y.body:y,x)}return this},removeConstraint:function(u,
x){b.remove(this.localWorld,u,x);return this},convertTilemapLayer:function(u,x){var w=u.layer;u=u.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});this.convertTiles(u,x);return this},convertTiles:function(u,x){if(0===u.length)return this;for(var w=0;w<u.length;w++)new q(this,u[w],x);return this},nextGroup:function(u){return k.nextGroup(u)},nextCategory:function(){return k.nextCategory()},pause:function(){this.enabled=!1;this.emit(c.PAUSE);return this},resume:function(){this.enabled=!0;this.emit(c.RESUME);
return this},update:function(u,x){if(this.enabled&&this.autoUpdate){var w=this.engine,y=this.runner,z=w.timing;y.isFixed?x=this.getDelta(u,x):(x=u-y.timePrev||y.delta,y.timePrev=u,y.deltaHistory.push(x),y.deltaHistory=y.deltaHistory.slice(-y.deltaSampleSize),x=Math.min.apply(null,y.deltaHistory),x=x<y.deltaMin?y.deltaMin:x,x=x>y.deltaMax?y.deltaMax:x,y.delta=x);y.timeScalePrev=z.timeScale;y.frameCounter+=1;1E3<=u-y.counterTimestamp&&(y.fps=(u-y.counterTimestamp)/1E3*y.frameCounter,y.counterTimestamp=
u,y.frameCounter=0);e.update(w,x)}},step:function(u){e.update(this.engine,u)},update60Hz:function(){return 1E3/60},update30Hz:function(){return 1E3/30},has:function(u){u=u.hasOwnProperty("body")?u.body:u;return null!==b.get(this.localWorld,u.id,u.type)},getAllBodies:function(){return b.allBodies(this.localWorld)},getAllConstraints:function(){return b.allConstraints(this.localWorld)},getAllComposites:function(){return b.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var u=
this.debugConfig,x=this.engine,w=this.debugGraphic,y=b.allBodies(this.localWorld);this.debugGraphic.clear();u.showBroadphase&&x.broadphase.controller&&this.renderGrid(x.broadphase,w,u.broadphaseColor,.5);u.showBounds&&this.renderBodyBounds(y,w,u.boundsColor,.5);(u.showBody||u.showStaticBody)&&this.renderBodies(y);u.showJoint&&this.renderJoints();(u.showAxes||u.showAngleIndicator)&&this.renderBodyAxes(y,w,u.showAxes,u.angleColor,.5);u.showVelocity&&this.renderBodyVelocity(y,w,u.velocityColor,1,2);
u.showSeparations&&this.renderSeparations(x.pairs.list,w,u.separationColor);u.showCollisions&&this.renderCollisions(x.pairs.list,w,u.collisionColor)}},renderGrid:function(u,x,w,y){x.lineStyle(1,w,y);w=d.keys(u.buckets);for(y=0;y<w.length;y++){var z=w[y];2>u.buckets[z].length||(z=z.split(/C|R/),x.strokeRect(parseInt(z[1],10)*u.bucketWidth,parseInt(z[2],10)*u.bucketHeight,u.bucketWidth,u.bucketHeight))}return this},renderSeparations:function(u,x,w){x.lineStyle(1,w,1);for(w=0;w<u.length;w++){var y=u[w];
if(y.isActive){var z=y.collision;y=z.bodyA;var C=z.bodyB,A=y.position,B=C.position;z=z.penetration;var E=y.isStatic||C.isStatic?1:4;C.isStatic&&(E=0);x.lineBetween(B.x,B.y,B.x-z.x*E,B.y-z.y*E);E=y.isStatic||C.isStatic?1:4;y.isStatic&&(E=0);x.lineBetween(A.x,A.y,A.x-z.x*E,A.y-z.y*E)}}return this},renderCollisions:function(u,x,w){x.lineStyle(1,w,.5);x.fillStyle(w,1);for(w=0;w<u.length;w++){var y=u[w];if(y.isActive)for(var z=0;z<y.activeContacts.length;z++){var C=y.activeContacts[z].vertex;x.fillRect(C.x-
2,C.y-2,5,5)}}for(w=0;w<u.length;w++)if(y=u[w],y.isActive&&(z=y.collision,y=y.activeContacts,0<y.length)){C=y[0].vertex.x;var A=y[0].vertex.y;2===y.length&&(C=(y[0].vertex.x+y[1].vertex.x)/2,A=(y[0].vertex.y+y[1].vertex.y)/2);z.bodyB===z.supports[0].body||z.bodyA.isStatic?x.lineBetween(C-8*z.normal.x,A-8*z.normal.y,C,A):x.lineBetween(C+8*z.normal.x,A+8*z.normal.y,C,A)}return this},renderBodyBounds:function(u,x,w,y){x.lineStyle(1,w,y);for(w=0;w<u.length;w++)if(y=u[w],y.render.visible){var z=y.bounds;
if(z)x.strokeRect(z.min.x,z.min.y,z.max.x-z.min.x,z.max.y-z.min.y);else for(y=y.parts,z=1<y.length?1:0;z<y.length;z++){var C=y[z];x.strokeRect(C.bounds.min.x,C.bounds.min.y,C.bounds.max.x-C.bounds.min.x,C.bounds.max.y-C.bounds.min.y)}}return this},renderBodyAxes:function(u,x,w,y,z){x.lineStyle(1,y,z);for(y=0;y<u.length;y++){var C=u[y];z=C.parts;if(C.render.visible){var A,B;if(w)for(A=1<z.length?1:0;A<z.length;A++)for(C=z[A],B=0;B<C.axes.length;B++){var E=C.axes[B];x.lineBetween(C.position.x,C.position.y,
C.position.x+20*E.x,C.position.y+20*E.y)}else for(A=1<z.length?1:0;A<z.length;A++)for(C=z[A],B=0;B<C.axes.length;B++)x.lineBetween(C.position.x,C.position.y,(C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(u,x,w,y,z){x.lineStyle(z,w,y);for(w=0;w<u.length;w++)y=u[w],y.render.visible&&x.lineBetween(y.position.x,y.position.y,y.position.x+2*(y.position.x-y.positionPrev.x),y.position.y+2*(y.position.y-
y.positionPrev.y));return this},renderBodies:function(u){var x=this.debugGraphic,w=this.debugConfig,y=w.showBody,z=w.showStaticBody,C=w.showSleeping,A=w.showInternalEdges,B=w.showConvexHulls,E=w.renderFill,G=w.renderLine,I=w.staticBodySleepOpacity,H=w.sleepFillColor,K=w.sleepLineColor;w=w.hullColor;for(var L=0;L<u.length;L++){var M=u[L];if(M.render.visible&&(z||!M.isStatic)&&(y||M.isStatic)){var P=M.render.lineColor,D=M.render.lineOpacity,F=M.render.lineThickness,J=M.render.fillColor,N=M.render.fillOpacity;
C&&M.isSleeping&&(M.isStatic?(D*=I,N*=I):(P=K,J=H));E||(J=null);G||(P=null);this.renderBody(M,x,A,P,D,F,J,N);P=M.parts.length;B&&1<P&&this.renderConvexHull(M,x,w,F)}}},renderBody:function(u,x,w,y,z,C,A,B){void 0===y&&(y=null);void 0===z&&(z=null);void 0===C&&(C=1);void 0===A&&(A=null);void 0===B&&(B=null);for(var E=this.debugConfig,G=E.sensorFillColor,I=E.sensorLineColor,H=u.parts,K=H.length,L=1<K?1:0;L<K;L++){var M=H[L],P=M.render,D=P.opacity;if(P.visible&&0!==D&&(!M.isSensor||E.showSensors)){P=
M.circleRadius;x.beginPath();M.isSensor?(null!==A&&x.fillStyle(G,B*D),null!==y&&x.lineStyle(C,I,z*D)):(null!==A&&x.fillStyle(A,B*D),null!==y&&x.lineStyle(C,y,z*D));if(P)x.arc(M.position.x,M.position.y,P,0,2*Math.PI);else{M=M.vertices;D=M.length;x.moveTo(M[0].x,M[0].y);for(P=1;P<D;P++){var F=M[P];!M[P-1].isInternal||w?x.lineTo(F.x,F.y):x.moveTo(F.x,F.y);P<D&&F.isInternal&&!w&&(F=(P+1)%D,x.moveTo(M[F].x,M[F].y))}x.closePath()}null!==A&&x.fillPath();null!==y&&x.strokePath()}}E.showPositions&&!u.isStatic&&
(w=u.position.x,u=u.position.y,y=Math.ceil(E.positionSize/2),x.fillStyle(E.positionColor,1),x.fillRect(w-y,u-y,E.positionSize,E.positionSize));return this},renderConvexHull:function(u,x,w,y){void 0===y&&(y=1);if(1<u.parts.length){u=u.vertices;x.lineStyle(y,w);x.beginPath();x.moveTo(u[0].x,u[0].y);for(w=1;w<u.length;w++)x.lineTo(u[w].x,u[w].y);x.lineTo(u[0].x,u[0].y);x.strokePath()}return this},renderJoints:function(){for(var u=this.debugGraphic,x=b.allConstraints(this.localWorld),w=0;w<x.length;w++){var y=
x[w].render;this.renderConstraint(x[w],u,y.lineColor,y.lineOpacity,y.lineThickness,y.pinSize,y.anchorColor,y.anchorSize)}},renderConstraint:function(u,x,w,y,z,C,A,B){var E=u.render;if(!E.visible||!u.pointA||!u.pointB)return this;x.lineStyle(z,w,y);w=u.bodyA;y=u.bodyB;w=w?v.add(w.position,u.pointA):u.pointA;if("pin"===E.type)x.strokeCircle(w.x,w.y,C);else{var G=y?v.add(y.position,u.pointB):u.pointB;x.beginPath();x.moveTo(w.x,w.y);if("spring"===E.type){C=v.sub(G,w);y=v.perp(v.normalise(C));u=Math.ceil(d.clamp(u.length/
5,12,20));for(var I=1;I<u;I+=1)z=0===I%2?1:-1,x.lineTo(w.x+I/u*C.x+y.x*z*4,w.y+I/u*C.y+y.y*z*4)}x.lineTo(G.x,G.y)}x.strokePath();E.anchors&&0<B&&(x.fillStyle(A),x.fillCircle(w.x,w.y,B),x.fillCircle(G.x,G.y,B));return this},resetCollisionIDs:function(){g._nextCollidingGroupId=1;g._nextNonCollidingGroupId=-1;g._nextCategory=1;return this},shutdown:function(){n.off(this.engine);this.removeAllListeners();t.clear(this.localWorld,!1);e.clear(this.engine);this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});
r.exports=a},70410:r=>{r.exports={setBounce:function(p){this.body.restitution=p;return this}}},66968:r=>{r.exports={setCollisionCategory:function(p){this.body.collisionFilter.category=p;return this},setCollisionGroup:function(p){this.body.collisionFilter.group=p;return this},setCollidesWith:function(p){var a=0;if(Array.isArray(p))for(var m=0;m<p.length;m++)a|=p[m];else a=p;this.body.collisionFilter.mask=a;return this},setOnCollide:function(p){this.body.onCollideCallback=p;return this},setOnCollideEnd:function(p){this.body.onCollideEndCallback=
p;return this},setOnCollideActive:function(p){this.body.onCollideActiveCallback=p;return this},setOnCollideWith:function(p,a){Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var g=p[m].hasOwnProperty("body")?p[m].body:p[m];this.body.setOnCollideWith(g,a)}return this}}},51607:(r,p,a)=>{var m=a(22562);r.exports={applyForce:function(g){this._tempVec2.set(this.body.position.x,this.body.position.y);m.applyForce(this.body,this._tempVec2,g);return this},applyForceFrom:function(g,d){m.applyForce(this.body,
g,d);return this},thrust:function(g){var d=this.body.angle;this._tempVec2.set(g*Math.cos(d),g*Math.sin(d));m.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this},thrustLeft:function(g){var d=this.body.angle-Math.PI/2;this._tempVec2.set(g*Math.cos(d),g*Math.sin(d));m.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this},thrustRight:function(g){var d=this.body.angle+Math.PI/2;this._tempVec2.set(g*Math.cos(d),g*
Math.sin(d));m.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this},thrustBack:function(g){var d=this.body.angle-Math.PI;this._tempVec2.set(g*Math.cos(d),g*Math.sin(d));m.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2);return this}}},5436:r=>{r.exports={setFriction:function(p,a,m){this.body.friction=p;void 0!==a&&(this.body.frictionAir=a);void 0!==m&&(this.body.frictionStatic=m);return this},setFrictionAir:function(p){this.body.frictionAir=
p;return this},setFrictionStatic:function(p){this.body.frictionStatic=p;return this}}},39858:r=>{r.exports={setIgnoreGravity:function(p){this.body.ignoreGravity=p;return this}}},37302:(r,p,a)=>{var m=a(22562),g=a(26099);r.exports={setMass:function(d){m.setMass(this.body,d);return this},setDensity:function(d){m.setDensity(this.body,d);return this},centerOfMass:{get:function(){return new g(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},39132:r=>{r.exports={setSensor:function(p){this.body.isSensor=
p;return this},isSensor:function(){return this.body.isSensor}}},57772:(r,p,a)=>{var m=a(66280),g=a(22562),d=a(43855),b=a(95540),e=a(19496),h=a(85791),c=a(41598);r.exports={setRectangle:function(l,f,k){return this.setBody({type:"rectangle",width:l,height:f},k)},setCircle:function(l,f){return this.setBody({type:"circle",radius:l},f)},setPolygon:function(l,f,k){return this.setBody({type:"polygon",sides:f,radius:l},k)},setTrapezoid:function(l,f,k,n){return this.setBody({type:"trapezoid",width:l,height:f,
slope:k},n)},setExistingBody:function(l,f){void 0===f&&(f=!0);this.body&&this.world.remove(this.body,!0);this.body=l;for(var k=0;k<l.parts.length;k++)l.parts[k].gameObject=this;var n=this;l.destroy=function(){n.world.remove(n.body,!0);n.body.gameObject=null};f&&(this.world.has(l)&&this.world.remove(l,!0),this.world.add(l));if(this._originComponent){f=l.render.sprite.xOffset;k=l.render.sprite.yOffset;var q=l.centerOfMass.y;d(l.centerOfMass.x,.5)&&d(q,.5)?this.setOrigin(f+.5,k+.5):this.setOrigin(f+
l.centerOffset.x/this.displayWidth,k+l.centerOffset.y/this.displayHeight)}return this},setBody:function(l,f){if(!l)return this;"string"===typeof l&&(l={type:l});var k=b(l,"type","rectangle"),n=b(l,"x",this._tempVec2.x),q=b(l,"y",this._tempVec2.y),t=b(l,"width",this.width),v=b(l,"height",this.height);switch(k){case "rectangle":var u=m.rectangle(n,q,t,v,f);break;case "circle":t=b(l,"radius",Math.max(t,v)/2);v=b(l,"maxSides",25);u=m.circle(n,q,t,f,v);break;case "trapezoid":u=b(l,"slope",.5);u=m.trapezoid(n,
q,t,v,u,f);break;case "polygon":u=b(l,"sides",5);t=b(l,"radius",Math.max(t,v)/2);u=m.polygon(n,q,u,t,f);break;case "fromVertices":case "fromVerts":if(t=b(l,"verts",null))"string"===typeof t&&(t=c.fromPath(t)),this.body&&!this.body.hasOwnProperty("temp")?(g.setVertices(this.body,t),u=this.body):(v=b(l,"flagInternal",!1),u=b(l,"removeCollinear",.01),k=b(l,"minimumArea",10),u=m.fromVertices(n,q,t,f,v,u,k));break;case "fromPhysicsEditor":u=e.parseBody(n,q,l,f);break;case "fromPhysicsTracer":u=h.parseBody(n,
q,l,f)}u&&this.setExistingBody(u,l.addToWorld);return this}}},38083:(r,p,a)=>{var m=a(1121),g=a(53614),d=a(35810);r.exports={setToSleep:function(){g.set(this.body,!0);return this},setAwake:function(){g.set(this.body,!1);return this},setSleepThreshold:function(b){void 0===b&&(b=60);this.body.sleepThreshold=b;return this},setSleepEvents:function(b,e){this.setSleepStartEvent(b);this.setSleepEndEvent(e);return this},setSleepStartEvent:function(b){if(b){var e=this.world;d.on(this.body,"sleepStart",function(h){e.emit(m.SLEEP_START,
h,this)})}else d.off(this.body,"sleepStart");return this},setSleepEndEvent:function(b){if(b){var e=this.world;d.on(this.body,"sleepEnd",function(h){e.emit(m.SLEEP_END,h,this)})}else d.off(this.body,"sleepEnd");return this}}},90556:(r,p,a)=>{var m=a(22562);r.exports={setStatic:function(g){m.setStatic(this.body,g);return this},isStatic:function(){return this.body.isStatic}}},85436:(r,p,a)=>{var m=a(22562),g=a(36383),d=a(86554),b=a(30954);r.exports={x:{get:function(){return this.body.position.x},set:function(e){this._tempVec2.set(e,
this.y);m.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(e){this._tempVec2.set(this.x,e);m.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(e){var h=1/this._scaleX,c=1/this._scaleY;this._scaleX=e;this.renderFlags=0===this._scaleX?this.renderFlags&-5:this.renderFlags|4;m.scale(this.body,h,c);m.scale(this.body,e,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(e){var h=1/this._scaleX,
c=1/this._scaleY;this._scaleY=e;this.renderFlags=0===this._scaleY?this.renderFlags&-5:this.renderFlags|4;m.scale(this.body,h,c);m.scale(this.body,this._scaleX,e)}},angle:{get:function(){return b(this.body.angle*g.RAD_TO_DEG)},set:function(e){this.rotation=b(e)*g.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(e){this._rotation=d(e);m.setAngle(this.body,this._rotation)}},setPosition:function(e,h){void 0===e&&(e=0);void 0===h&&(h=e);this._tempVec2.set(e,h);m.setPosition(this.body,
this._tempVec2);return this},setRotation:function(e){void 0===e&&(e=0);this._rotation=d(e);m.setAngle(this.body,e);return this},setFixedRotation:function(){m.setInertia(this.body,Infinity);return this},setAngle:function(e){void 0===e&&(e=0);this.angle=e;m.setAngle(this.body,this.rotation);return this},setScale:function(e,h,c){void 0===e&&(e=1);void 0===h&&(h=e);var l=1/this._scaleX,f=1/this._scaleY;this._scaleX=e;this._scaleY=h;m.scale(this.body,l,f,c);m.scale(this.body,e,h,c);return this}}},42081:(r,
p,a)=>{var m=a(22562);r.exports={setVelocityX:function(g){this._tempVec2.set(g,this.body.velocity.y);m.setVelocity(this.body,this._tempVec2);return this},setVelocityY:function(g){this._tempVec2.set(this.body.velocity.x,g);m.setVelocity(this.body,this._tempVec2);return this},setVelocity:function(g,d){this._tempVec2.set(g,d);m.setVelocity(this.body,this._tempVec2);return this},getVelocity:function(){return m.getVelocity(this.body)},setAngularVelocity:function(g){m.setAngularVelocity(this.body,g);return this},
getAngularVelocity:function(){return m.getAngularVelocity(this.body)},setAngularSpeed:function(g){m.setAngularSpeed(this.body,g);return this},getAngularSpeed:function(){return m.getAngularSpeed(this.body)}}},31884:(r,p,a)=>{r.exports={Bounce:a(70410),Collision:a(66968),Force:a(51607),Friction:a(5436),Gravity:a(39858),Mass:a(37302),Sensor:a(39132),SetBody:a(57772),Sleep:a(38083),Static:a(90556),Transform:a(85436),Velocity:a(42081)}},85608:r=>{r.exports="afteradd"},1213:r=>{r.exports="afterremove"},
25968:r=>{r.exports="afterupdate"},67205:r=>{r.exports="beforeadd"},39438:r=>{r.exports="beforeremove"},44823:r=>{r.exports="beforeupdate"},92593:r=>{r.exports="collisionactive"},60128:r=>{r.exports="collisionend"},76861:r=>{r.exports="collisionstart"},92362:r=>{r.exports="dragend"},76408:r=>{r.exports="drag"},93971:r=>{r.exports="dragstart"},5656:r=>{r.exports="pause"},47861:r=>{r.exports="resume"},79099:r=>{r.exports="sleepend"},35906:r=>{r.exports="sleepstart"},1121:(r,p,a)=>{r.exports={AFTER_ADD:a(85608),
AFTER_REMOVE:a(1213),AFTER_UPDATE:a(25968),BEFORE_ADD:a(67205),BEFORE_REMOVE:a(39438),BEFORE_UPDATE:a(44823),COLLISION_ACTIVE:a(92593),COLLISION_END:a(60128),COLLISION_START:a(76861),DRAG_END:a(92362),DRAG:a(76408),DRAG_START:a(93971),PAUSE:a(5656),RESUME:a(47861),SLEEP_END:a(79099),SLEEP_START:a(35906)}},3875:(r,p,a)=>{r.exports={BodyBounds:a(68174),Components:a(31884),Events:a(1121),Factory:a(28137),MatterGameObject:a(75803),Image:a(23181),Matter:a(19933),MatterPhysics:a(42045),PolyDecomp:a(55973),
Sprite:a(34803),TileBody:a(73834),PhysicsEditorParser:a(19496),PhysicsJSONParser:a(85791),PointerConstraint:a(98713),World:a(68243)}},22562:(r,p,a)=>{var m={};r.exports=m;var g=a(41598),d=a(31725),b=a(53614),e=a(53402),h=a(15647),c=a(66615);(function(){m._timeCorrection=!0;m._inertiaScale=4;m._nextCollidingGroupId=1;m._nextNonCollidingGroupId=-1;m._nextCategory=1;m._baseDelta=1E3/60;m.create=function(f){var k={id:e.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,
y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,
inertia:0,deltaTime:1E3/60,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!f.hasOwnProperty("position")&&f.hasOwnProperty("vertices")?f.position=
g.centre(f.vertices):f.hasOwnProperty("vertices")||(k.vertices=g.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));k=e.extend(k,f);l(k,f);k.setOnCollideWith=function(n,q){q?this.onCollideWith[n.id]=q:delete this.onCollideWith[n.id];return this};return k};m.nextGroup=function(f){return f?m._nextNonCollidingGroupId--:m._nextCollidingGroupId++};m.nextCategory=function(){m._nextCategory<<=1;return m._nextCategory};var l=function(f,k){k=k||{};m.set(f,{bounds:f.bounds||h.create(f.vertices),positionPrev:f.positionPrev||
d.clone(f.position),anglePrev:f.anglePrev||f.angle,vertices:f.vertices,parts:f.parts||[f],isStatic:f.isStatic,isSleeping:f.isSleeping,parent:f.parent||f});g.rotate(f.vertices,f.angle,f.position);c.rotate(f.axes,f.angle);h.update(f.bounds,f.vertices,f.velocity);m.set(f,{axes:k.axes||f.axes,area:k.area||f.area,mass:k.mass||f.mass,inertia:k.inertia||f.inertia});if(1===f.parts.length){k=f.bounds;var n=f.centerOfMass,q=f.centerOffset,t=k.max.x-k.min.x,v=k.max.y-k.min.y;n.x=-(k.min.x-f.position.x)/t;n.y=
-(k.min.y-f.position.y)/v;q.x=t*n.x;q.y=v*n.y}};m.set=function(f,k,n){if("string"===typeof k){var q=k;k={};k[q]=n}for(q in k)if(Object.prototype.hasOwnProperty.call(k,q))switch(n=k[q],q){case "isStatic":m.setStatic(f,n);break;case "isSleeping":b.set(f,n);break;case "mass":m.setMass(f,n);break;case "density":m.setDensity(f,n);break;case "inertia":m.setInertia(f,n);break;case "vertices":m.setVertices(f,n);break;case "position":m.setPosition(f,n);break;case "angle":m.setAngle(f,n);break;case "velocity":m.setVelocity(f,
n);break;case "angularVelocity":m.setAngularVelocity(f,n);break;case "speed":m.setSpeed(f,n);break;case "angularSpeed":m.setAngularSpeed(f,n);break;case "parts":m.setParts(f,n);break;case "centre":m.setCentre(f,n);break;default:f[q]=n}};m.setStatic=function(f,k){for(var n=0;n<f.parts.length;n++){var q=f.parts[n];k?(q.isStatic||(q._original={restitution:q.restitution,friction:q.friction,mass:q.mass,inertia:q.inertia,density:q.density,inverseMass:q.inverseMass,inverseInertia:q.inverseInertia}),q.restitution=
0,q.friction=1,q.mass=q.inertia=q.density=Infinity,q.inverseMass=q.inverseInertia=0,q.positionPrev.x=q.position.x,q.positionPrev.y=q.position.y,q.anglePrev=q.angle,q.angularVelocity=0,q.speed=0,q.angularSpeed=0,q.motion=0):q._original&&(q.restitution=q._original.restitution,q.friction=q._original.friction,q.mass=q._original.mass,q.inertia=q._original.inertia,q.density=q._original.density,q.inverseMass=q._original.inverseMass,q.inverseInertia=q._original.inverseInertia,q._original=null);q.isStatic=
k}};m.setMass=function(f,k){f.inertia=f.inertia/(f.mass/6)*(k/6);f.inverseInertia=1/f.inertia;f.mass=k;f.inverseMass=1/f.mass;f.density=f.mass/f.area};m.setDensity=function(f,k){m.setMass(f,k*f.area);f.density=k};m.setInertia=function(f,k){f.inertia=k;f.inverseInertia=1/f.inertia};m.setVertices=function(f,k){f.vertices=k[0].body===f?k:g.create(k,f);f.axes=c.fromVertices(f.vertices);f.area=g.area(f.vertices);m.setMass(f,f.density*f.area);k=g.centre(f.vertices);g.translate(f.vertices,k,-1);m.setInertia(f,
m._inertiaScale*g.inertia(f.vertices,f.mass));g.translate(f.vertices,f.position);h.update(f.bounds,f.vertices,f.velocity)};m.setParts=function(f,k,n){var q;k=k.slice(0);f.parts.length=0;f.parts.push(f);f.parent=f;for(q=0;q<k.length;q++){var t=k[q];t!==f&&(t.parent=f,f.parts.push(t))}if(1!==f.parts.length){if("undefined"!==typeof n?n:1){n=[];for(q=0;q<k.length;q++)n=n.concat(k[q].vertices);g.clockwiseSort(n);k=g.hull(n);q=g.centre(k);m.setVertices(f,k);g.translate(f.vertices,q)}k=m._totalProperties(f);
q=k.centre.x;n=k.centre.y;t=f.bounds;var v=f.centerOfMass,u=f.centerOffset;h.update(t,f.vertices,f.velocity);v.x=-(t.min.x-q)/(t.max.x-t.min.x);v.y=-(t.min.y-n)/(t.max.y-t.min.y);u.x=q;u.y=n;f.area=k.area;f.parent=f;f.position.x=q;f.position.y=n;f.positionPrev.x=q;f.positionPrev.y=n;m.setMass(f,k.mass);m.setInertia(f,k.inertia);m.setPosition(f,k.centre)}};m.setCentre=function(f,k,n){n?(f.positionPrev.x+=k.x,f.positionPrev.y+=k.y,f.position.x+=k.x,f.position.y+=k.y):(f.positionPrev.x=k.x-(f.position.x-
f.positionPrev.x),f.positionPrev.y=k.y-(f.position.y-f.positionPrev.y),f.position.x=k.x,f.position.y=k.y)};m.setPosition=function(f,k,n){k=d.sub(k,f.position);n?(f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.velocity.x=k.x,f.velocity.y=k.y,f.speed=d.magnitude(k)):(f.positionPrev.x+=k.x,f.positionPrev.y+=k.y);for(n=0;n<f.parts.length;n++){var q=f.parts[n];q.position.x+=k.x;q.position.y+=k.y;g.translate(q.vertices,k);h.update(q.bounds,q.vertices,f.velocity)}};m.setAngle=function(f,k,
n){k-=f.angle;n?(f.anglePrev=f.angle,f.angularVelocity=k,f.angularSpeed=Math.abs(k)):f.anglePrev+=k;for(n=0;n<f.parts.length;n++){var q=f.parts[n];q.angle+=k;g.rotate(q.vertices,k,f.position);c.rotate(q.axes,k);h.update(q.bounds,q.vertices,f.velocity);0<n&&d.rotateAbout(q.position,k,f.position,q.position)}};m.setVelocity=function(f,k){var n=f.deltaTime/m._baseDelta;f.positionPrev.x=f.position.x-k.x*n;f.positionPrev.y=f.position.y-k.y*n;f.velocity.x=(f.position.x-f.positionPrev.x)/n;f.velocity.y=(f.position.y-
f.positionPrev.y)/n;f.speed=d.magnitude(f.velocity)};m.getVelocity=function(f){var k=m._baseDelta/f.deltaTime;return{x:(f.position.x-f.positionPrev.x)*k,y:(f.position.y-f.positionPrev.y)*k}};m.getSpeed=function(f){return d.magnitude(m.getVelocity(f))};m.setSpeed=function(f,k){m.setVelocity(f,d.mult(d.normalise(m.getVelocity(f)),k))};m.setAngularVelocity=function(f,k){var n=f.deltaTime/m._baseDelta;f.anglePrev=f.angle-k*n;f.angularVelocity=(f.angle-f.anglePrev)/n;f.angularSpeed=Math.abs(f.angularVelocity)};
m.getAngularVelocity=function(f){return(f.angle-f.anglePrev)*m._baseDelta/f.deltaTime};m.getAngularSpeed=function(f){return Math.abs(m.getAngularVelocity(f))};m.setAngularSpeed=function(f,k){m.setAngularVelocity(f,e.sign(m.getAngularVelocity(f))*k)};m.translate=function(f,k,n){m.setPosition(f,d.add(f.position,k),n)};m.rotate=function(f,k,n,q){if(n){var t=Math.cos(k),v=Math.sin(k),u=f.position.x-n.x,x=f.position.y-n.y;m.setPosition(f,{x:n.x+(u*t-x*v),y:n.y+(u*v+x*t)},q)}m.setAngle(f,f.angle+k,q)};
m.scale=function(f,k,n,q){var t=0,v=0;q=q||f.position;for(var u=Infinity===f.inertia?!0:!1,x=0;x<f.parts.length;x++){var w=f.parts[x];w.scale.x=k;w.scale.y=n;g.scale(w.vertices,k,n,q);w.axes=c.fromVertices(w.vertices);w.area=g.area(w.vertices);m.setMass(w,f.density*w.area);g.translate(w.vertices,{x:-w.position.x,y:-w.position.y});m.setInertia(w,m._inertiaScale*g.inertia(w.vertices,w.mass));g.translate(w.vertices,{x:w.position.x,y:w.position.y});0<x&&(t+=w.area,v+=w.inertia);w.position.x=q.x+(w.position.x-
q.x)*k;w.position.y=q.y+(w.position.y-q.y)*n;h.update(w.bounds,w.vertices,f.velocity)}1<f.parts.length&&(f.area=t,f.isStatic||(m.setMass(f,f.density*t),m.setInertia(f,v)));f.circleRadius&&(f.circleRadius=k===n?f.circleRadius*k:null);u&&m.setInertia(f,Infinity)};m.update=function(f,k){k=("undefined"!==typeof k?k:1E3/60)*f.timeScale;var n=k*k,q=m._timeCorrection?k/(f.deltaTime||k):1,t=1-k/e._baseDelta*f.frictionAir,v=(f.position.y-f.positionPrev.y)*q;f.velocity.x=(f.position.x-f.positionPrev.x)*q*t+
f.force.x/f.mass*n;f.velocity.y=v*t+f.force.y/f.mass*n;f.positionPrev.x=f.position.x;f.positionPrev.y=f.position.y;f.position.x+=f.velocity.x;f.position.y+=f.velocity.y;f.deltaTime=k;f.angularVelocity=(f.angle-f.anglePrev)*t*q+f.torque/f.inertia*n;f.anglePrev=f.angle;f.angle+=f.angularVelocity;f.speed=d.magnitude(f.velocity);f.angularSpeed=Math.abs(f.angularVelocity);for(k=0;k<f.parts.length;k++)n=f.parts[k],g.translate(n.vertices,f.velocity),0<k&&(n.position.x+=f.velocity.x,n.position.y+=f.velocity.y),
0!==f.angularVelocity&&(g.rotate(n.vertices,f.angularVelocity,f.position),c.rotate(n.axes,f.angularVelocity),0<k&&d.rotateAbout(n.position,f.angularVelocity,f.position,n.position)),h.update(n.bounds,n.vertices,f.velocity)};m.updateVelocities=function(f){var k=m._baseDelta/f.deltaTime,n=f.velocity;n.x=(f.position.x-f.positionPrev.x)*k;n.y=(f.position.y-f.positionPrev.y)*k;f.speed=Math.sqrt(n.x*n.x+n.y*n.y);f.angularVelocity=(f.angle-f.anglePrev)*k;f.angularSpeed=Math.abs(f.angularVelocity)};m.applyForce=
function(f,k,n){var q=k.x-f.position.x;k=k.y-f.position.y;f.force.x+=n.x;f.force.y+=n.y;f.torque+=q*n.y-k*n.x};m._totalProperties=function(f){for(var k={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===f.parts.length?0:1;n<f.parts.length;n++){var q=f.parts[n],t=Infinity!==q.mass?q.mass:1;k.mass+=t;k.area+=q.area;k.inertia+=q.inertia;k.centre=d.add(k.centre,d.mult(q.position,t))}k.centre=d.div(k.centre,k.mass);return k}})()},69351:(r,p,a)=>{var m={};r.exports=m;var g=a(35810),d=a(53402),b=a(15647),
e=a(22562);(function(){m.create=function(h){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},h)};m.setModified=function(h,c,l,f){g.trigger(h,"compositeModified",h);(h.isModified=c)&&h.cache&&(h.cache.allBodies=null,h.cache.allConstraints=null,h.cache.allComposites=null);l&&h.parent&&m.setModified(h.parent,c,l,f);if(f)for(var k=0;k<h.composites.length;k++)m.setModified(h.composites[k],
c,l,f)};m.add=function(h,c){var l=[].concat(c);g.trigger(h,"beforeAdd",{object:c});for(var f=0;f<l.length;f++){var k=l[f];switch(k.type){case "body":if(k.parent!==k){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}m.addBody(h,k);break;case "constraint":m.addConstraint(h,k);break;case "composite":m.addComposite(h,k);break;case "mouseConstraint":m.addConstraint(h,k.constraint)}}g.trigger(h,"afterAdd",{object:c});return h};m.remove=function(h,c,l){var f=
[].concat(c);g.trigger(h,"beforeRemove",{object:c});for(var k=0;k<f.length;k++){var n=f[k];switch(n.type){case "body":m.removeBody(h,n,l);break;case "constraint":m.removeConstraint(h,n,l);break;case "composite":m.removeComposite(h,n,l);break;case "mouseConstraint":m.removeConstraint(h,n.constraint)}}g.trigger(h,"afterRemove",{object:c});return h};m.addComposite=function(h,c){h.composites.push(c);c.parent=h;m.setModified(h,!0,!0,!1);return h};m.removeComposite=function(h,c,l){var f=d.indexOf(h.composites,
c);-1!==f&&m.removeCompositeAt(h,f);if(l)for(l=0;l<h.composites.length;l++)m.removeComposite(h.composites[l],c,!0);return h};m.removeCompositeAt=function(h,c){h.composites.splice(c,1);m.setModified(h,!0,!0,!1);return h};m.addBody=function(h,c){h.bodies.push(c);m.setModified(h,!0,!0,!1);return h};m.removeBody=function(h,c,l){var f=d.indexOf(h.bodies,c);-1!==f&&m.removeBodyAt(h,f);if(l)for(l=0;l<h.composites.length;l++)m.removeBody(h.composites[l],c,!0);return h};m.removeBodyAt=function(h,c){h.bodies.splice(c,
1);m.setModified(h,!0,!0,!1);return h};m.addConstraint=function(h,c){h.constraints.push(c);m.setModified(h,!0,!0,!1);return h};m.removeConstraint=function(h,c,l){var f=d.indexOf(h.constraints,c);-1!==f&&m.removeConstraintAt(h,f);if(l)for(l=0;l<h.composites.length;l++)m.removeConstraint(h.composites[l],c,!0);return h};m.removeConstraintAt=function(h,c){h.constraints.splice(c,1);m.setModified(h,!0,!0,!1);return h};m.clear=function(h,c,l){if(l)for(l=0;l<h.composites.length;l++)m.clear(h.composites[l],
c,!0);c?h.bodies=h.bodies.filter(function(f){return f.isStatic}):h.bodies.length=0;h.constraints.length=0;h.composites.length=0;m.setModified(h,!0,!0,!1);return h};m.allBodies=function(h){if(h.cache&&h.cache.allBodies)return h.cache.allBodies;for(var c=[].concat(h.bodies),l=0;l<h.composites.length;l++)c=c.concat(m.allBodies(h.composites[l]));h.cache&&(h.cache.allBodies=c);return c};m.allConstraints=function(h){if(h.cache&&h.cache.allConstraints)return h.cache.allConstraints;for(var c=[].concat(h.constraints),
l=0;l<h.composites.length;l++)c=c.concat(m.allConstraints(h.composites[l]));h.cache&&(h.cache.allConstraints=c);return c};m.allComposites=function(h){if(h.cache&&h.cache.allComposites)return h.cache.allComposites;for(var c=[].concat(h.composites),l=0;l<h.composites.length;l++)c=c.concat(m.allComposites(h.composites[l]));h.cache&&(h.cache.allComposites=c);return c};m.get=function(h,c,l){switch(l){case "body":var f=m.allBodies(h);break;case "constraint":f=m.allConstraints(h);break;case "composite":f=
m.allComposites(h).concat(h)}if(!f)return null;h=f.filter(function(k){return k.id.toString()===c.toString()});return 0===h.length?null:h[0]};m.move=function(h,c,l){m.remove(h,c);m.add(l,c);return h};m.rebase=function(h){for(var c=m.allBodies(h).concat(m.allConstraints(h)).concat(m.allComposites(h)),l=0;l<c.length;l++)c[l].id=d.nextId();return h};m.translate=function(h,c,l){l=l?m.allBodies(h):h.bodies;for(var f=0;f<l.length;f++)e.translate(l[f],c);return h};m.rotate=function(h,c,l,f){var k=Math.cos(c),
n=Math.sin(c);f=f?m.allBodies(h):h.bodies;for(var q=0;q<f.length;q++){var t=f[q],v=t.position.x-l.x,u=t.position.y-l.y;e.setPosition(t,{x:l.x+(v*k-u*n),y:l.y+(v*n+u*k)});e.rotate(t,c)}return h};m.scale=function(h,c,l,f,k){k=k?m.allBodies(h):h.bodies;for(var n=0;n<k.length;n++){var q=k[n];e.setPosition(q,{x:f.x+(q.position.x-f.x)*c,y:f.y+(q.position.y-f.y)*l});e.scale(q,c,l)}return h};m.bounds=function(h){h=m.allBodies(h);for(var c=[],l=0;l<h.length;l+=1){var f=h[l];c.push(f.bounds.min,f.bounds.max)}return b.create(c)}})()},
4372:(r,p,a)=>{p={};r.exports=p;r=a(69351);p.create=r.create;p.add=r.add;p.remove=r.remove;p.clear=r.clear;p.addComposite=r.addComposite;p.addBody=r.addBody;p.addConstraint=r.addConstraint},52284:(r,p,a)=>{var m={};r.exports=m;var g=a(41598),d=a(4506);(function(){var b=[],e={overlap:0,axis:null},h={overlap:0,axis:null};m.create=function(c,l){return{pair:null,collided:!1,bodyA:c,bodyB:l,parentA:c.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}};
m.collides=function(c,l,f){m._overlapAxes(e,c.vertices,l.vertices,c.axes);if(0>=e.overlap)return null;m._overlapAxes(h,l.vertices,c.vertices,l.axes);if(0>=h.overlap)return null;(f=f&&f.table[d.id(c,l)])?f=f.collision:(f=m.create(c,l),f.collided=!0,f.bodyA=c.id<l.id?c:l,f.bodyB=c.id<l.id?l:c,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent);c=f.bodyA;l=f.bodyB;var k=e.overlap<h.overlap?e:h;var n=f.normal,q=f.supports,t=k.axis,v=t.x;t=t.y;0>v*(l.position.x-c.position.x)+t*(l.position.y-c.position.y)?
(n.x=v,n.y=t):(n.x=-v,n.y=-t);f.tangent.x=-n.y;f.tangent.y=n.x;f.depth=k.overlap;f.penetration.x=n.x*f.depth;f.penetration.y=n.y*f.depth;k=m._findSupports(c,l,n,1);v=0;g.contains(c.vertices,k[0])&&(q[v++]=k[0]);g.contains(c.vertices,k[1])&&(q[v++]=k[1]);2>v&&(c=m._findSupports(l,c,n,-1),g.contains(l.vertices,c[0])&&(q[v++]=c[0]),2>v&&g.contains(l.vertices,c[1])&&(q[v++]=c[1]));0===v&&(q[v++]=k[0]);q.length=v;return f};m._overlapAxes=function(c,l,f,k){var n=l.length,q=f.length,t=l[0].x,v=l[0].y,u=
f[0].x,x=f[0].y,w=k.length,y=Number.MAX_VALUE,z=0,C,A;for(C=0;C<w;C++){var B=k[C];var E=B.x;var G=B.y;B=t*E+v*G;var I=u*E+x*G,H=B,K=I;for(A=1;A<n;A+=1){var L=l[A].x*E+l[A].y*G;L>H?H=L:L<B&&(B=L)}for(A=1;A<q;A+=1)L=f[A].x*E+f[A].y*G,L>K?K=L:L<I&&(I=L);E=H-I;B=K-B;E=E<B?E:B;if(E<y&&(y=E,z=C,0>=E))break}c.axis=k[z];c.overlap=y};m._projectToAxis=function(c,l,f){for(var k=l[0].x*f.x+l[0].y*f.y,n=k,q=1;q<l.length;q+=1){var t=l[q].x*f.x+l[q].y*f.y;t>n?n=t:t<k&&(k=t)}c.min=k;c.max=n};m._findSupports=function(c,
l,f,k){l=l.vertices;var n=l.length,q=c.position.x;c=c.position.y;var t=f.x*k;f=f.y*k;k=Number.MAX_VALUE;var v;for(v=0;v<n;v+=1){var u=l[v];var x=t*(q-u.x)+f*(c-u.y);if(x<k){k=x;var w=u}}x=l[(n+w.index-1)%n];k=t*(q-x.x)+f*(c-x.y);u=l[(w.index+1)%n];if(t*(q-u.x)+f*(c-u.y)<k)return b[0]=w,b[1]=u,b;b[0]=w;b[1]=x;return b}})()},43424:r=>{var p={};r.exports=p;(function(){p.create=function(a){return{vertex:a,normalImpulse:0,tangentImpulse:0}}})()},81388:(r,p,a)=>{var m={};r.exports=m;var g=a(53402),d=a(52284);
(function(){m.create=function(b){return g.extend({bodies:[],pairs:null},b)};m.setBodies=function(b,e){b.bodies=e.slice(0)};m.clear=function(b){b.bodies=[]};m.collisions=function(b){var e=[],h=b.pairs;b=b.bodies;var c=b.length,l=m.canCollide,f=d.collides,k,n;b.sort(m._compareBoundsX);for(k=0;k<c;k++){var q=b[k],t=q.bounds.max.x,v=q.bounds.max.y,u=q.bounds.min.y,x=q.isStatic||q.isSleeping,w=q.parts.length,y=1===w;for(n=k+1;n<c;n++){var z=b[n],C=z.bounds;if(C.min.x>t)break;if(!(v<C.min.y||u>C.max.y||
x&&(z.isStatic||z.isSleeping))&&l(q.collisionFilter,z.collisionFilter)){var A=z.parts.length;if(y&&1===A)(C=f(q,z,h))&&e.push(C);else for(var B=1<A?1:0,E=1<w?1:0;E<w;E++){var G=q.parts[E];var I=G.bounds;for(var H=B;H<A;H++){var K=z.parts[H];C=K.bounds;I.min.x>C.max.x||I.max.x<C.min.x||I.max.y<C.min.y||I.min.y>C.max.y||(C=f(G,K,h))&&e.push(C)}}}}}return e};m.canCollide=function(b,e){return b.group===e.group&&0!==b.group?0<b.group:0!==(b.mask&e.category)&&0!==(e.mask&b.category)};m._compareBoundsX=
function(b,e){return b.bounds.min.x-e.bounds.min.x}})()},4506:(r,p,a)=>{var m={};r.exports=m;var g=a(43424);(function(){m.create=function(d,b){var e=d.bodyA,h=d.bodyB;e={id:m.id(e,h),bodyA:e,bodyB:h,collision:d,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:e.isSensor||h.isSensor,timeCreated:b,timeUpdated:b,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};m.update(e,d,b);return e};m.update=function(d,b,e){var h=d.contacts,c=b.supports,l=d.activeContacts,
f=b.parentA,k=b.parentB,n=f.vertices.length;d.isActive=!0;d.timeUpdated=e;d.collision=b;d.separation=b.depth;d.inverseMass=f.inverseMass+k.inverseMass;d.friction=f.friction<k.friction?f.friction:k.friction;d.frictionStatic=f.frictionStatic>k.frictionStatic?f.frictionStatic:k.frictionStatic;d.restitution=f.restitution>k.restitution?f.restitution:k.restitution;d.slop=f.slop>k.slop?f.slop:k.slop;b.pair=d;for(d=l.length=0;d<c.length;d++)b=c[d],e=b.body===f?b.index:n+b.index,(k=h[e])?l.push(k):l.push(h[e]=
g.create(b))};m.setActive=function(d,b,e){b?(d.isActive=!0,d.timeUpdated=e):(d.isActive=!1,d.activeContacts.length=0)};m.id=function(d,b){return d.id<b.id?"A"+d.id+"B"+b.id:"A"+b.id+"B"+d.id}})()},99561:(r,p,a)=>{var m={};r.exports=m;var g=a(4506),d=a(53402);(function(){m.create=function(b){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},b)};m.update=function(b,e,h){var c=b.list,l=c.length,f=b.table,k=e.length,n=b.collisionStart,q=b.collisionEnd,t=b.collisionActive,
v;n.length=0;q.length=0;for(v=t.length=0;v<l;v++)c[v].confirmedActive=!1;for(v=0;v<k;v++)l=e[v],(b=l.pair)?(b.isActive?t.push(b):n.push(b),g.update(b,l,h),b.confirmedActive=!0):(b=g.create(l,h),f[b.id]=b,n.push(b),c.push(b));e=[];l=c.length;for(v=0;v<l;v++)b=c[v],b.confirmedActive||(g.setActive(b,!1,h),q.push(b),b.collision.bodyA.isSleeping||b.collision.bodyB.isSleeping||e.push(v));for(v=0;v<e.length;v++)h=e[v]-v,b=c[h],c.splice(h,1),delete f[b.id]};m.clear=function(b){b.table={};b.list.length=0;
b.collisionStart.length=0;b.collisionActive.length=0;b.collisionEnd.length=0;return b}})()},73296:(r,p,a)=>{var m={};r.exports=m;var g=a(31725),d=a(52284),b=a(15647),e=a(66280),h=a(41598);(function(){m.collides=function(c,l){for(var f=[],k=l.length,n=c.bounds,q=d.collides,t=b.overlaps,v=0;v<k;v++){var u=l[v],x=u.parts.length,w=1===x?0:1;if(c!==u&&t(u.bounds,n))for(;w<x;w++){var y=u.parts[w];if(t(y.bounds,n)&&(y=q(y,c))){f.push(y);break}}}return f};m.ray=function(c,l,f,k){k=k||1E-100;var n=g.angle(l,
f),q=g.magnitude(g.sub(l,f));l=e.rectangle(.5*(f.x+l.x),.5*(f.y+l.y),q,k,{angle:n});c=m.collides(l,c);for(l=0;l<c.length;l+=1)f=c[l],f.body=f.bodyB=f.bodyA;return c};m.region=function(c,l,f){for(var k=[],n=0;n<c.length;n++){var q=c[n],t=b.overlaps(q.bounds,l);(t&&!f||!t&&f)&&k.push(q)}return k};m.point=function(c,l){for(var f=[],k=0;k<c.length;k++){var n=c[k];if(b.contains(n.bounds,l))for(var q=1===n.parts.length?0:1;q<n.parts.length;q++){var t=n.parts[q];if(b.contains(t.bounds,l)&&h.contains(t.vertices,
l)){f.push(n);break}}}return f}})()},66272:(r,p,a)=>{var m={};r.exports=m;var g=a(41598),d=a(53402),b=a(15647);(function(){m._restingThresh=2;m._restingThreshTangent=Math.sqrt(6);m._positionDampen=.9;m._positionWarming=.8;m._frictionNormalMultiplier=5;m._frictionMaxStatic=Number.MAX_VALUE;m.preSolvePosition=function(e){var h,c=e.length;for(h=0;h<c;h++){var l=e[h];if(l.isActive){var f=l.activeContacts.length;l.collision.parentA.totalContacts+=f;l.collision.parentB.totalContacts+=f}}};m.solvePosition=
function(e,h,c){c=m._positionDampen*(c||1);var l=d.clamp(h/d._baseDelta,0,1),f=e.length;for(h=0;h<f;h++){var k=e[h];if(k.isActive&&!k.isSensor){var n=k.collision;var q=n.parentA;var t=n.parentB;var v=n.normal;k.separation=v.x*(t.positionImpulse.x+n.penetration.x-q.positionImpulse.x)+v.y*(t.positionImpulse.y+n.penetration.y-q.positionImpulse.y)}}for(h=0;h<f;h++)if(k=e[h],k.isActive&&!k.isSensor){n=k.collision;q=n.parentA;t=n.parentB;v=n.normal;n=k.separation-k.slop*l;if(q.isStatic||t.isStatic)n*=2;
q.isStatic||q.isSleeping||(k=c/q.totalContacts,q.positionImpulse.x+=v.x*n*k,q.positionImpulse.y+=v.y*n*k);t.isStatic||t.isSleeping||(k=c/t.totalContacts,t.positionImpulse.x-=v.x*n*k,t.positionImpulse.y-=v.y*n*k)}};m.postSolvePosition=function(e){for(var h=m._positionWarming,c=e.length,l=g.translate,f=b.update,k=0;k<c;k++){var n=e[k],q=n.positionImpulse,t=q.x,v=q.y,u=n.velocity;n.totalContacts=0;if(0!==t||0!==v){for(var x=0;x<n.parts.length;x++){var w=n.parts[x];l(w.vertices,q);f(w.bounds,w.vertices,
u);w.position.x+=t;w.position.y+=v}n.positionPrev.x+=t;n.positionPrev.y+=v;0>t*u.x+v*u.y?(q.x=0,q.y=0):(q.x*=h,q.y*=h)}}};m.preSolveVelocity=function(e){var h=e.length,c;for(c=0;c<h;c++){var l=e[c];if(l.isActive&&!l.isSensor){var f=l.activeContacts,k=f.length;var n=l.collision;l=n.parentA;var q=n.parentB,t=n.normal,v=n.tangent;for(n=0;n<k;n++){var u=f[n],x=u.vertex,w=u.normalImpulse,y=u.tangentImpulse;if(0!==w||0!==y)u=t.x*w+v.x*y,w=t.y*w+v.y*y,l.isStatic||l.isSleeping||(l.positionPrev.x+=u*l.inverseMass,
l.positionPrev.y+=w*l.inverseMass,l.anglePrev+=l.inverseInertia*((x.x-l.position.x)*w-(x.y-l.position.y)*u)),q.isStatic||q.isSleeping||(q.positionPrev.x-=u*q.inverseMass,q.positionPrev.y-=w*q.inverseMass,q.anglePrev-=q.inverseInertia*((x.x-q.position.x)*w-(x.y-q.position.y)*u))}}}};m.solveVelocity=function(e,h){var c=h/d._baseDelta;h=c*c*c;var l=-m._restingThresh*c,f=m._restingThreshTangent;c*=m._frictionNormalMultiplier;var k=m._frictionMaxStatic,n=e.length,q;for(q=0;q<n;q++){var t=e[q];if(t.isActive&&
!t.isSensor){var v=t.collision;var u=v.parentA,x=v.parentB,w=u.velocity,y=x.velocity,z=v.normal.x,C=v.normal.y,A=v.tangent.x,B=v.tangent.y,E=t.activeContacts,G=E.length,I=1/G,H=u.inverseMass+x.inverseMass,K=t.friction*t.frictionStatic*c;w.x=u.position.x-u.positionPrev.x;w.y=u.position.y-u.positionPrev.y;y.x=x.position.x-x.positionPrev.x;y.y=x.position.y-x.positionPrev.y;u.angularVelocity=u.angle-u.anglePrev;x.angularVelocity=x.angle-x.anglePrev;for(v=0;v<G;v++){var L=E[v],M=L.vertex,P=M.x-u.position.x,
D=M.y-u.position.y,F=M.x-x.position.x;M=M.y-x.position.y;var J=w.x-D*u.angularVelocity-(y.x-M*x.angularVelocity);var N=w.y+P*u.angularVelocity-(y.y+F*x.angularVelocity);var O=z*J+C*N;J=A*J+B*N;N=t.separation+O;var R=Math.min(N,1);R=0>N?0:R;N=R*K;J<-N||J>N?(R=0<J?J:-J,N=t.friction*(0<J?1:-1)*h,N<-R?N=-R:N>R&&(N=R)):(N=J,R=k);var Q=P*C-D*z,S=F*C-M*z;S=I/(H+u.inverseInertia*Q*Q+x.inverseInertia*S*S);Q=(1+t.restitution)*O*S;N*=S;O<l?L.normalImpulse=0:(O=L.normalImpulse,L.normalImpulse+=Q,0<L.normalImpulse&&
(L.normalImpulse=0),Q=L.normalImpulse-O);J<-f||J>f?L.tangentImpulse=0:(O=L.tangentImpulse,L.tangentImpulse+=N,L.tangentImpulse<-R&&(L.tangentImpulse=-R),L.tangentImpulse>R&&(L.tangentImpulse=R),N=L.tangentImpulse-O);L=z*Q+A*N;O=C*Q+B*N;u.isStatic||u.isSleeping||(u.positionPrev.x+=L*u.inverseMass,u.positionPrev.y+=O*u.inverseMass,u.anglePrev+=(P*O-D*L)*u.inverseInertia);x.isStatic||x.isSleeping||(x.positionPrev.x-=L*x.inverseMass,x.positionPrev.y-=O*x.inverseMass,x.anglePrev-=(F*O-M*L)*x.inverseInertia)}}}}})()},
48140:(r,p,a)=>{var m={};r.exports=m;var g=a(41598),d=a(31725),b=a(53614),e=a(15647),h=a(66615),c=a(53402);(function(){m._warming=.4;m._torqueDampen=1;m._minLength=1E-6;m.create=function(l){l.bodyA&&!l.pointA&&(l.pointA={x:0,y:0});l.bodyB&&!l.pointB&&(l.pointB={x:0,y:0});var f=l.bodyA?d.add(l.bodyA.position,l.pointA):l.pointA,k=l.bodyB?d.add(l.bodyB.position,l.pointB):l.pointB;f=d.magnitude(d.sub(f,k));l.length="undefined"!==typeof l.length?l.length:f;l.id=l.id||c.nextId();l.label=l.label||"Constraint";
l.type="constraint";l.stiffness=l.stiffness||(0<l.length?1:.7);l.damping=l.damping||0;l.angularStiffness=l.angularStiffness||0;l.angleA=l.bodyA?l.bodyA.angle:l.angleA;l.angleB=l.bodyB?l.bodyB.angle:l.angleB;l.plugin={};f={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};0===l.length&&.1<l.stiffness?(f.type="pin",f.anchors=!1):.9>l.stiffness&&(f.type="spring");l.render=c.extend(f,l.render);return l};m.preSolveAll=function(l){for(var f=
0;f<l.length;f+=1){var k=l[f],n=k.constraintImpulse;k.isStatic||0===n.x&&0===n.y&&0===n.angle||(k.position.x+=n.x,k.position.y+=n.y,k.angle+=n.angle)}};m.solveAll=function(l,f){f=c.clamp(f/c._baseDelta,0,1);for(var k=0;k<l.length;k+=1){var n=l[k],q=!n.bodyA||n.bodyA&&n.bodyA.isStatic;n=!n.bodyB||n.bodyB&&n.bodyB.isStatic;(q||n)&&m.solve(l[k],f)}for(k=0;k<l.length;k+=1)n=l[k],q=!n.bodyA||n.bodyA&&n.bodyA.isStatic,n=!n.bodyB||n.bodyB&&n.bodyB.isStatic,q||n||m.solve(l[k],f)};m.solve=function(l,f){var k=
l.bodyA,n=l.bodyB,q=l.pointA,t=l.pointB;if(k||n){k&&!k.isStatic&&(d.rotate(q,k.angle-l.angleA,q),l.angleA=k.angle);n&&!n.isStatic&&(d.rotate(t,n.angle-l.angleB,t),l.angleB=n.angle);var v=q,u=t;k&&(v=d.add(k.position,q));n&&(u=d.add(n.position,t));if(v&&u){var x=d.sub(v,u),w=d.magnitude(x);w<m._minLength&&(w=m._minLength);v=l.damping*f;f=d.mult(x,(w-l.length)/w*(1<=l.stiffness||0===l.length?l.stiffness*f:l.stiffness*f*f));u=(k?k.inverseMass:0)+(n?n.inverseMass:0);var y=u+((k?k.inverseInertia:0)+(n?
n.inverseInertia:0));if(0<v){var z=d.create();var C=d.div(x,w);z=d.sub(n&&d.sub(n.position,n.positionPrev)||z,k&&d.sub(k.position,k.positionPrev)||z);z=d.dot(C,z)}k&&!k.isStatic&&(x=k.inverseMass/u,k.constraintImpulse.x-=f.x*x,k.constraintImpulse.y-=f.y*x,k.position.x-=f.x*x,k.position.y-=f.y*x,0<v&&(k.positionPrev.x-=v*C.x*z*x,k.positionPrev.y-=v*C.y*z*x),q=d.cross(q,f)/y*m._torqueDampen*k.inverseInertia*(1-l.angularStiffness),k.constraintImpulse.angle-=q,k.angle-=q);n&&!n.isStatic&&(x=n.inverseMass/
u,n.constraintImpulse.x+=f.x*x,n.constraintImpulse.y+=f.y*x,n.position.x+=f.x*x,n.position.y+=f.y*x,0<v&&(n.positionPrev.x+=v*C.x*z*x,n.positionPrev.y+=v*C.y*z*x),q=d.cross(t,f)/y*m._torqueDampen*n.inverseInertia*(1-l.angularStiffness),n.constraintImpulse.angle+=q,n.angle+=q)}}};m.postSolveAll=function(l){for(var f=0;f<l.length;f++){var k=l[f],n=k.constraintImpulse;if(!(k.isStatic||0===n.x&&0===n.y&&0===n.angle)){b.set(k,!1);for(var q=0;q<k.parts.length;q++){var t=k.parts[q];g.translate(t.vertices,
n);0<q&&(t.position.x+=n.x,t.position.y+=n.y);0!==n.angle&&(g.rotate(t.vertices,n.angle,k.position),h.rotate(t.axes,n.angle),0<q&&d.rotateAbout(t.position,n.angle,k.position,t.position));e.update(t.bounds,t.vertices,k.velocity)}n.angle*=m._warming;n.x*=m._warming;n.y*=m._warming}}};m.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}};m.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?
l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}};m.currentLength=function(l){var f=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0)-((l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0));l=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)-((l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0));return Math.sqrt(f*f+l*l)}})()},53402:(r,p,a)=>{var m={};r.exports=m;(function(){m._baseDelta=1E3/60;m._nextId=0;m._seed=0;m._nowStartTime=+new Date;m._warnedOnce={};m._decomp=
null;m.extend=function(g,d){if("boolean"===typeof d){var b=2;var e=d}else b=1,e=!0;for(;b<arguments.length;b++){var h=arguments[b];if(h)for(var c in h)e&&h[c]&&h[c].constructor===Object?g[c]&&g[c].constructor!==Object?g[c]=h[c]:(g[c]=g[c]||{},m.extend(g[c],e,h[c])):g[c]=h[c]}return g};m.clone=function(g,d){return m.extend({},d,g)};m.keys=function(g){if(Object.keys)return Object.keys(g);var d=[],b;for(b in g)d.push(b);return d};m.values=function(g){var d=[];if(Object.keys){for(var b=Object.keys(g),
e=0;e<b.length;e++)d.push(g[b[e]]);return d}for(b in g)d.push(g[b]);return d};m.get=function(g,d,b,e){d=d.split(".").slice(b,e);for(b=0;b<d.length;b+=1)g=g[d[b]];return g};m.set=function(g,d,b,e,h){e=d.split(".").slice(e,h);return m.get(g,d,0,-1)[e[e.length-1]]=b};m.shuffle=function(g){for(var d=g.length-1;0<d;d--){var b=Math.floor(m.random()*(d+1)),e=g[d];g[d]=g[b];g[b]=e}return g};m.choose=function(g){return g[Math.floor(m.random()*g.length)]};m.isElement=function(g){return"undefined"!==typeof HTMLElement?
g instanceof HTMLElement:!!(g&&g.nodeType&&g.nodeName)};m.isArray=function(g){return"[object Array]"===Object.prototype.toString.call(g)};m.isFunction=function(g){return"function"===typeof g};m.isPlainObject=function(g){return"object"===typeof g&&g.constructor===Object};m.isString=function(g){return"[object String]"===toString.call(g)};m.clamp=function(g,d,b){return g<d?d:g>b?b:g};m.sign=function(g){return 0>g?-1:1};m.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();
if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-m._nowStartTime};m.random=function(g,d){g="undefined"!==typeof g?g:0;m._seed=(9301*m._seed+49297)%233280;return g+m._seed/233280*(("undefined"!==typeof d?d:1)-g)};m.colorToNumber=function(g){g=g.replace("#","");3==g.length&&(g=g.charAt(0)+g.charAt(0)+g.charAt(1)+g.charAt(1)+g.charAt(2)+g.charAt(2));return parseInt(g,16)};m.logLevel=1;m.log=function(){console&&0<m.logLevel&&3>=m.logLevel&&console.log.apply(console,
["matter-js:"].concat(Array.prototype.slice.call(arguments)))};m.info=function(){console&&0<m.logLevel&&2>=m.logLevel&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};m.warn=function(){console&&0<m.logLevel&&3>=m.logLevel&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))};m.warnOnce=function(){var g=Array.prototype.slice.call(arguments).join(" ");m._warnedOnce[g]||(m.warn(g),m._warnedOnce[g]=!0)};m.deprecated=function(g,
d,b){g[d]=m.chain(function(){m.warnOnce("\ud83d\udd05 deprecated \ud83d\udd05",b)},g[d])};m.nextId=function(){return m._nextId++};m.indexOf=function(g,d){if(g.indexOf)return g.indexOf(d);for(var b=0;b<g.length;b++)if(g[b]===d)return b;return-1};m.map=function(g,d){if(g.map)return g.map(d);for(var b=[],e=0;e<g.length;e+=1)b.push(d(g[e]));return b};m.topologicalSort=function(g){var d=[],b=[],e=[],h;for(h in g)b[h]||e[h]||m._topologicalSort(h,b,e,g,d);return d};m._topologicalSort=function(g,d,b,e,h){var c=
e[g]||[];b[g]=!0;for(var l=0;l<c.length;l+=1){var f=c[l];b[f]||d[f]||m._topologicalSort(f,d,b,e,h)}b[g]=!1;d[g]=!0;h.push(g)};m.chain=function(){for(var g=[],d=0;d<arguments.length;d+=1){var b=arguments[d];b._chained?g.push.apply(g,b._chained):g.push(b)}d=function(){for(var e,h=Array(arguments.length),c=0,l=arguments.length;c<l;c++)h[c]=arguments[c];for(c=0;c<g.length;c+=1)l=g[c].apply(e,h),"undefined"!==typeof l&&(e=l);return e};d._chained=g;return d};m.chainPathBefore=function(g,d,b){return m.set(g,
d,m.chain(b,m.get(g,d)))};m.chainPathAfter=function(g,d,b){return m.set(g,d,m.chain(m.get(g,d),b))};m.setDecomp=function(g){m._decomp=g};m.getDecomp=function(){var g=m._decomp;try{g||"undefined"===typeof window||(g=window.decomp),g||"undefined"===typeof a.g||(g=a.g.decomp)}catch(d){g=null}return g}})()},48413:(r,p,a)=>{var m={};r.exports=m;var g=a(53614),d=a(66272),b=a(81388),e=a(99561),h=a(35810),c=a(69351),l=a(48140),f=a(53402),k=a(22562);(function(){m.create=function(n){n=n||{};var q=f.extend({positionIterations:6,
velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},n);q.world=n.world||c.create({label:"World"});q.pairs=n.pairs||e.create();q.detector=n.detector||b.create();q.grid={buckets:[]};q.world.gravity=q.gravity;q.broadphase=q.grid;q.metrics={};return q};m.update=function(n,q){var t=f.now(),v=n.world,u=n.detector,x=n.pairs,w=n.timing,y=w.timestamp;q="undefined"!==typeof q?q:f._baseDelta;
q*=w.timeScale;w.timestamp+=q;w.lastDelta=q;var z={timestamp:w.timestamp,delta:q};h.trigger(n,"beforeUpdate",z);var C=c.allBodies(v),A=c.allConstraints(v);v.isModified&&(b.setBodies(u,C),c.setModified(v,!1,!1,!0));n.enableSleeping&&g.update(C,q);m._bodiesApplyGravity(C,n.gravity);0<q&&m._bodiesUpdate(C,q);h.trigger(n,"beforeSolve",z);l.preSolveAll(C);for(v=0;v<n.constraintIterations;v++)l.solveAll(A,q);l.postSolveAll(C);u.pairs=n.pairs;u=b.collisions(u);e.update(x,u,y);n.enableSleeping&&g.afterCollisions(x.list);
0<x.collisionStart.length&&h.trigger(n,"collisionStart",{pairs:x.collisionStart,timestamp:w.timestamp,delta:q});y=f.clamp(20/n.positionIterations,0,1);d.preSolvePosition(x.list);for(v=0;v<n.positionIterations;v++)d.solvePosition(x.list,q,y);d.postSolvePosition(C);l.preSolveAll(C);for(v=0;v<n.constraintIterations;v++)l.solveAll(A,q);l.postSolveAll(C);d.preSolveVelocity(x.list);for(v=0;v<n.velocityIterations;v++)d.solveVelocity(x.list,q);m._bodiesUpdateVelocities(C);0<x.collisionActive.length&&h.trigger(n,
"collisionActive",{pairs:x.collisionActive,timestamp:w.timestamp,delta:q});0<x.collisionEnd.length&&h.trigger(n,"collisionEnd",{pairs:x.collisionEnd,timestamp:w.timestamp,delta:q});m._bodiesClearForces(C);h.trigger(n,"afterUpdate",z);n.timing.lastElapsed=f.now()-t;return n};m.merge=function(n,q){f.extend(n,q);if(q.world)for(n.world=q.world,m.clear(n),n=c.allBodies(n.world),q=0;q<n.length;q++){var t=n[q];g.set(t,!1);t.id=f.nextId()}};m.clear=function(n){e.clear(n.pairs);b.clear(n.detector)};m._bodiesClearForces=
function(n){for(var q=n.length,t=0;t<q;t++){var v=n[t];v.force.x=0;v.force.y=0;v.torque=0}};m._bodiesApplyGravity=function(n,q){var t="undefined"!==typeof q.scale?q.scale:.001,v=n.length;if((0!==q.x||0!==q.y)&&0!==t)for(var u=0;u<v;u++){var x=n[u];x.ignoreGravity||x.isStatic||x.isSleeping||(x.force.y+=x.mass*q.y*t,x.force.x+=x.mass*q.x*t)}};m._bodiesUpdate=function(n,q){for(var t=n.length,v=0;v<t;v++){var u=n[v];u.isStatic||u.isSleeping||k.update(u,q)}};m._bodiesUpdateVelocities=function(n){for(var q=
n.length,t=0;t<q;t++)k.updateVelocities(n[t])}})()},35810:(r,p,a)=>{var m={};r.exports=m;var g=a(53402);(function(){m.on=function(d,b,e){b=b.split(" ");for(var h,c=0;c<b.length;c++)h=b[c],d.events=d.events||{},d.events[h]=d.events[h]||[],d.events[h].push(e);return e};m.off=function(d,b,e){if(b){"function"===typeof b&&(e=b,b=g.keys(d.events).join(" "));b=b.split(" ");for(var h=0;h<b.length;h++){var c=d.events[b[h]],l=[];if(e&&c)for(var f=0;f<c.length;f++)c[f]!==e&&l.push(c[f]);d.events[b[h]]=l}}else d.events=
{}};m.trigger=function(d,b,e){var h,c=d.events;if(c&&0<g.keys(c).length){e||(e={});b=b.split(" ");for(var l=0;l<b.length;l++){var f=b[l];if(h=c[f]){var k=g.clone(e,!1);k.name=f;k.source=d;for(f=0;f<h.length;f++)h[f].apply(d,[k])}}}}})()},6790:(r,p,a)=>{var m={};r.exports=m;var g=a(73832),d=a(53402);(function(){m.name="matter-js";m.version="0.19.0";m.uses=[];m.used=[];m.use=function(){g.use(m,Array.prototype.slice.call(arguments))};m.before=function(b,e){b=b.replace(/^Matter./,"");return d.chainPathBefore(m,
b,e)};m.after=function(b,e){b=b.replace(/^Matter./,"");return d.chainPathAfter(m,b,e)}})()},73832:(r,p,a)=>{var m={};r.exports=m;var g=a(53402);(function(){m._registry={};m.register=function(d){m.isPlugin(d)||g.warn("Plugin.register:",m.toString(d),"does not implement all required fields.");if(d.name in m._registry){var b=m._registry[d.name],e=m.versionParse(d.version).number,h=m.versionParse(b.version).number;e>h?(g.warn("Plugin.register:",m.toString(b),"was upgraded to",m.toString(d)),m._registry[d.name]=
d):e<h?g.warn("Plugin.register:",m.toString(b),"can not be downgraded to",m.toString(d)):d!==b&&g.warn("Plugin.register:",m.toString(d),"is already registered to different plugin object")}else m._registry[d.name]=d;return d};m.resolve=function(d){return m._registry[m.dependencyParse(d).name]};m.toString=function(d){return"string"===typeof d?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")};m.isPlugin=function(d){return d&&d.name&&d.version&&d.install};m.isUsed=function(d,b){return-1<d.used.indexOf(b)};
m.isFor=function(d,b){var e=d.for&&m.dependencyParse(d.for);return!d.for||b.name===e.name&&m.versionSatisfies(b.version,e.range)};m.use=function(d,b){d.uses=(d.uses||[]).concat(b||[]);if(0===d.uses.length)g.warn("Plugin.use:",m.toString(d),"does not specify any dependencies to install.");else{b=m.dependencies(d);b=g.topologicalSort(b);for(var e=[],h=0;h<b.length;h+=1)if(b[h]!==d.name){var c=m.resolve(b[h]);c?m.isUsed(d,c.name)||(m.isFor(c,d)||(g.warn("Plugin.use:",m.toString(c),"is for",c.for,"but installed on",
m.toString(d)+"."),c._warned=!0),c.install?c.install(d):(g.warn("Plugin.use:",m.toString(c),"does not specify an install function."),c._warned=!0),c._warned?(e.push("\ud83d\udd36 "+m.toString(c)),delete c._warned):e.push("✅ "+m.toString(c)),d.used.push(c.name)):e.push("❌ "+b[h])}0<e.length&&!c.silent&&g.info(e.join("  "))}};m.dependencies=function(d,b){var e=m.dependencyParse(d),h=e.name;b=b||{};if(!(h in b)){d=m.resolve(d)||d;b[h]=g.map(d.uses||[],function(l){m.isPlugin(l)&&m.register(l);var f=m.dependencyParse(l),
k=m.resolve(l);k&&!m.versionSatisfies(k.version,f.range)?(g.warn("Plugin.dependencies:",m.toString(k),"does not satisfy",m.toString(f),"used by",m.toString(e)+"."),k._warned=!0,d._warned=!0):k||(g.warn("Plugin.dependencies:",m.toString(l),"used by",m.toString(e),"could not be resolved."),d._warned=!0);return f.name});for(var c=0;c<b[h].length;c+=1)m.dependencies(b[h][c],b);return b}};m.dependencyParse=function(d){return g.isString(d)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(d)||
g.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}):{name:d.name,range:d.range||d.version}};m.versionParse=function(d){var b=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;b.test(d)||g.warn("Plugin.versionParse:",d,"is not a valid version or range.");b=b.exec(d);var e=Number(b[4]),h=Number(b[5]),c=Number(b[6]);return{isRange:!(!b[1]&&!b[2]),version:b[3],range:d,operator:b[1]||b[2]||"",major:e,minor:h,patch:c,parts:[e,
h,c],prerelease:b[7],number:1E8*e+1E4*h+c}};m.versionSatisfies=function(d,b){b=b||"*";var e=m.versionParse(b),h=m.versionParse(d);if(e.isRange){if("*"===e.operator||"*"===d)return!0;if("\x3e"===e.operator)return h.number>e.number;if("\x3e\x3d"===e.operator)return h.number>=e.number;if("~"===e.operator)return h.major===e.major&&h.minor===e.minor&&h.patch>=e.patch;if("^"===e.operator)return 0<e.major?h.major===e.major&&h.number>=e.number:0<e.minor?h.minor===e.minor&&h.patch>=e.patch:h.patch===e.patch}return d===
b||"*"===d}})()},53614:(r,p,a)=>{var m={};r.exports=m;var g=a(22562),d=a(35810),b=a(53402);(function(){m._motionWakeThreshold=.18;m._motionSleepThreshold=.08;m._minBias=.9;m.update=function(e,h){h/=b._baseDelta;for(var c=m._motionSleepThreshold,l=0;l<e.length;l++){var f=e[l],k=g.getSpeed(f),n=g.getAngularSpeed(f);k=k*k+n*n;0!==f.force.x||0!==f.force.y?m.set(f,!1):(f.motion=m._minBias*Math.min(f.motion,k)+(1-m._minBias)*Math.max(f.motion,k),0<f.sleepThreshold&&f.motion<c?(f.sleepCounter+=1,f.sleepCounter>=
f.sleepThreshold/h&&m.set(f,!0)):0<f.sleepCounter&&--f.sleepCounter)}};m.afterCollisions=function(e){for(var h=m._motionSleepThreshold,c=0;c<e.length;c++){var l=e[c];if(l.isActive){var f=l.collision;l=f.bodyA.parent;var k=f.bodyB.parent;l.isSleeping&&k.isSleeping||l.isStatic||k.isStatic||!l.isSleeping&&!k.isSleeping||(f=l.isSleeping&&!l.isStatic?l:k,l=f===l?k:l,!f.isStatic&&l.motion>h&&m.set(f,!1))}}};m.set=function(e,h){var c=e.isSleeping;h?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=
0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,c||d.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,c&&d.trigger(e,"sleepEnd"))}})()},66280:(r,p,a)=>{var m={};r.exports=m;var g=a(41598),d=a(53402),b=a(22562),e=a(15647),h=a(31725);(function(){m.rectangle=function(c,l,f,k,n){n=n||{};c={label:"Rectangle Body",position:{x:c,y:l},vertices:g.fromPath("L 0 0 L "+f+" 0 L "+f+" "+k+" L 0 "+k)};n.chamfer&&
(l=n.chamfer,c.vertices=g.chamfer(c.vertices,l.radius,l.quality,l.qualityMin,l.qualityMax),delete n.chamfer);return b.create(d.extend({},c,n))};m.trapezoid=function(c,l,f,k,n,q){q=q||{};n*=.5;var t=f*n;f=t+(1-2*n)*f;var v=f+t;c={label:"Trapezoid Body",position:{x:c,y:l},vertices:g.fromPath(.5>n?"L 0 0 L "+t+" "+-k+" L "+f+" "+-k+" L "+v+" 0":"L 0 0 L "+f+" "+-k+" L "+v+" 0")};q.chamfer&&(l=q.chamfer,c.vertices=g.chamfer(c.vertices,l.radius,l.quality,l.qualityMin,l.qualityMax),delete q.chamfer);return b.create(d.extend({},
c,q))};m.circle=function(c,l,f,k,n){k=k||{};var q={label:"Circle Body",circleRadius:f};n=Math.ceil(Math.max(10,Math.min(n||25,f)));1===n%2&&(n+=1);return m.polygon(c,l,n,f,d.extend({},q,k))};m.polygon=function(c,l,f,k,n){n=n||{};if(3>f)return m.circle(c,l,k,n);for(var q=2*Math.PI/f,t="",v=.5*q,u=0;u<f;u+=1){var x=v+u*q,w=Math.sin(x)*k;t+="L "+(Math.cos(x)*k).toFixed(3)+" "+w.toFixed(3)+" "}c={label:"Polygon Body",position:{x:c,y:l},vertices:g.fromPath(t)};n.chamfer&&(l=n.chamfer,c.vertices=g.chamfer(c.vertices,
l.radius,l.quality,l.qualityMin,l.qualityMax),delete n.chamfer);return b.create(d.extend({},c,n))};m.fromVertices=function(c,l,f,k,n,q,t,v){var u=d.getDecomp(),x,w;var y=!(!u||!u.quickDecomp);k=k||{};var z=[];n="undefined"!==typeof n?n:!1;q="undefined"!==typeof q?q:.01;t="undefined"!==typeof t?t:10;v="undefined"!==typeof v?v:.01;d.isArray(f[0])||(f=[f]);for(w=0;w<f.length;w+=1){var C=f[w];var A=g.isConvex(C);(x=!A)&&!y&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices.");
if(A||!y)C=A?g.clockwiseSort(C):g.hull(C),z.push({position:{x:c,y:l},vertices:C});else for(A=C.map(function(B){return[B.x,B.y]}),u.makeCCW(A),!1!==q&&u.removeCollinearPoints(A,q),!1!==v&&u.removeDuplicatePoints&&u.removeDuplicatePoints(A,v),x=u.quickDecomp(A),A=0;A<x.length;A++)C=x[A].map(function(B){return{x:B[0],y:B[1]}}),0<t&&g.area(C)<t||z.push({position:g.centre(C),vertices:C})}for(A=0;A<z.length;A++)z[A]=b.create(d.extend(z[A],k));if(n)for(A=0;A<z.length;A++)for(t=z[A],f=A+1;f<z.length;f++)if(v=
z[f],e.overlaps(t.bounds,v.bounds))for(u=t.vertices,y=v.vertices,n=0;n<t.vertices.length;n++)for(q=0;q<v.vertices.length;q++)w=h.magnitudeSquared(h.sub(u[(n+1)%u.length],y[q])),x=h.magnitudeSquared(h.sub(u[n],y[(q+1)%y.length])),5>w&&5>x&&(u[n].isInternal=!0,y[q].isInternal=!0);return 1<z.length?(k=b.create(d.extend({parts:z.slice(0)},k)),b.setPosition(k,{x:c,y:l}),k):z[0]};m.flagCoincidentParts=function(c,l){void 0===l&&(l=5);for(var f=0;f<c.length;f++)for(var k=c[f],n=f+1;n<c.length;n++){var q=
c[n];if(e.overlaps(k.bounds,q.bounds))for(var t=k.vertices,v=q.vertices,u=0;u<k.vertices.length;u++)for(var x=0;x<q.vertices.length;x++){var w=h.magnitudeSquared(h.sub(t[(u+1)%t.length],v[x])),y=h.magnitudeSquared(h.sub(t[u],v[(x+1)%v.length]));w<l&&y<l&&(t[u].isInternal=!0,v[x].isInternal=!0)}}return c}})()},74116:(r,p,a)=>{var m={};r.exports=m;var g=a(69351),d=a(48140),b=a(53402),e=a(22562),h=a(66280);(function(){m.stack=function(c,l,f,k,n,q,t){for(var v=g.create({label:"Stack"}),u=c,x,w=0,y=0;y<
k;y++){for(var z=0,C=0;C<f;C++){var A=t(u,l,C,y,x,w);A?(u=A.bounds.max.y-A.bounds.min.y,x=A.bounds.max.x-A.bounds.min.x,u>z&&(z=u),e.translate(A,{x:.5*x,y:.5*u}),u=A.bounds.max.x+n,g.addBody(v,A),x=A,w+=1):u+=n}l+=z+q;u=c}return v};m.chain=function(c,l,f,k,n,q){for(var t=c.bodies,v=1;v<t.length;v++){var u=t[v-1],x=t[v];u=b.extend({bodyA:u,pointA:{x:(u.bounds.max.x-u.bounds.min.x)*l,y:(u.bounds.max.y-u.bounds.min.y)*f},bodyB:x,pointB:{x:(x.bounds.max.x-x.bounds.min.x)*k,y:(x.bounds.max.y-x.bounds.min.y)*
n}},q);g.addConstraint(c,d.create(u))}c.label+=" Chain";return c};m.mesh=function(c,l,f,k,n){var q=c.bodies,t,v;for(t=0;t<f;t++){for(v=1;v<l;v++){var u=q[v-1+t*l];var x=q[v+t*l];g.addConstraint(c,d.create(b.extend({bodyA:u,bodyB:x},n)))}if(0<t)for(v=0;v<l;v++)u=q[v+(t-1)*l],x=q[v+t*l],g.addConstraint(c,d.create(b.extend({bodyA:u,bodyB:x},n))),k&&0<v&&(u=q[v-1+(t-1)*l],g.addConstraint(c,d.create(b.extend({bodyA:u,bodyB:x},n)))),k&&v<l-1&&(u=q[v+1+(t-1)*l],g.addConstraint(c,d.create(b.extend({bodyA:u,
bodyB:x},n))))}c.label+=" Mesh";return c};m.pyramid=function(c,l,f,k,n,q,t){return m.stack(c,l,f,k,n,q,function(v,u,x,w,y,z){var C=Math.min(k,Math.ceil(f/2));v=y?y.bounds.max.x-y.bounds.min.x:0;if(!(w>C||(w=C-w,C=f-1-w,x<w||x>C)))return 1===z&&e.translate(y,{x:(x+(1===f%2?1:-1))*v,y:0}),t(c+(y?x*v:0)+x*n,u,x,w,y,z)})};m.newtonsCradle=function(c,l,f,k,n){for(var q=g.create({label:"Newtons Cradle"}),t=0;t<f;t++){var v=h.circle(c+1.9*t*k,l+n,k,{inertia:Infinity,restitution:1,friction:0,frictionAir:1E-4,
slop:1}),u=d.create({pointA:{x:c+1.9*t*k,y:l},bodyB:v});g.addBody(q,v);g.addConstraint(q,u)}return q};m.car=function(c,l,f,k,n){var q=e.nextGroup(!0),t=.5*-f+20,v=.5*f-20,u=g.create({label:"Car"});f=h.rectangle(c,l,f,k,{collisionFilter:{group:q},chamfer:{radius:.5*k},density:2E-4});k=h.circle(c+t,l+0,n,{collisionFilter:{group:q},friction:.8});c=h.circle(c+v,l+0,n,{collisionFilter:{group:q},friction:.8});t=d.create({bodyB:f,pointB:{x:t,y:0},bodyA:k,stiffness:1,length:0});v=d.create({bodyB:f,pointB:{x:v,
y:0},bodyA:c,stiffness:1,length:0});g.addBody(u,f);g.addBody(u,k);g.addBody(u,c);g.addConstraint(u,t);g.addConstraint(u,v);return u};m.softBody=function(c,l,f,k,n,q,t,v,u,x){u=b.extend({inertia:Infinity},u);x=b.extend({stiffness:.2,render:{type:"line",anchors:!1}},x);c=m.stack(c,l,f,k,n,q,function(w,y){return h.circle(w,y,v,u)});m.mesh(c,f,k,t,x);c.label="Soft Body";return c}})()},66615:(r,p,a)=>{var m={};r.exports=m;var g=a(31725),d=a(53402);(function(){m.fromVertices=function(b){for(var e={},h=
0;h<b.length;h++){var c=(h+1)%b.length;c=g.normalise({x:b[c].y-b[h].y,y:b[h].x-b[c].x});var l=0===c.y?Infinity:c.x/c.y;l=l.toFixed(3).toString();e[l]=c}return d.values(e)};m.rotate=function(b,e){if(0!==e){var h=Math.cos(e);e=Math.sin(e);for(var c=0;c<b.length;c++){var l=b[c];var f=l.x*h-l.y*e;l.y=l.x*e+l.y*h;l.x=f}}}})()},15647:r=>{var p={};r.exports=p;(function(){p.create=function(a){var m={min:{x:0,y:0},max:{x:0,y:0}};a&&p.update(m,a);return m};p.update=function(a,m,g){a.min.x=Infinity;a.max.x=
-Infinity;a.min.y=Infinity;a.max.y=-Infinity;for(var d=0;d<m.length;d++){var b=m[d];b.x>a.max.x&&(a.max.x=b.x);b.x<a.min.x&&(a.min.x=b.x);b.y>a.max.y&&(a.max.y=b.y);b.y<a.min.y&&(a.min.y=b.y)}g&&(0<g.x?a.max.x+=g.x:a.min.x+=g.x,0<g.y?a.max.y+=g.y:a.min.y+=g.y)};p.contains=function(a,m){return m.x>=a.min.x&&m.x<=a.max.x&&m.y>=a.min.y&&m.y<=a.max.y};p.overlaps=function(a,m){return a.min.x<=m.max.x&&a.max.x>=m.min.x&&a.max.y>=m.min.y&&a.min.y<=m.max.y};p.translate=function(a,m){a.min.x+=m.x;a.max.x+=
m.x;a.min.y+=m.y;a.max.y+=m.y};p.shift=function(a,m){var g=a.max.x-a.min.x,d=a.max.y-a.min.y;a.min.x=m.x;a.max.x=m.x+g;a.min.y=m.y;a.max.y=m.y+d}})()},74058:(r,p,a)=>{var m={};r.exports=m;a(15647);var g=a(53402);(function(){m.pathToVertices=function(d,b){"undefined"===typeof window||"SVGPathSeg"in window||g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var e,h,c,l=[],f,k,n=0,q=0,t=0;b=b||15;var v=function(z,C,A){A=1===A%2&&1<A;if(!c||z!=c.x||C!=c.y){c&&A?(f=c.x,k=c.y):
k=f=0;var B={x:f+z,y:k+C};if(A||!c)c=B;l.push(B);q=f+z;t=k+C}},u=function(z){var C=z.pathSegTypeAsLetter.toUpperCase();if("Z"!==C){switch(C){case "M":case "L":case "T":case "C":case "S":case "Q":q=z.x;t=z.y;break;case "H":q=z.x;break;case "V":t=z.y}v(q,t,z.pathSegType)}};m._svgPathToAbsolute(d);var x=d.getTotalLength();var w=[];for(e=0;e<d.pathSegList.numberOfItems;e+=1)w.push(d.pathSegList.getItem(e));for(h=w.concat();n<x;){e=d.getPathSegAtLength(n);e=w[e];if(e!=y){for(;h.length&&h[0]!=e;)u(h.shift());
var y=e}switch(e.pathSegTypeAsLetter.toUpperCase()){case "C":case "T":case "S":case "Q":case "A":e=d.getPointAtLength(n),v(e.x,e.y,0)}n+=b}e=0;for(d=h.length;e<d;++e)u(h[e]);return l};m._svgPathToAbsolute=function(d){for(var b,e,h,c,l,f,k=d.pathSegList,n=0,q=0,t=k.numberOfItems,v=0;v<t;++v){var u=k.getItem(v),x=u.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in u&&(n=u.x),"y"in u&&(q=u.y);else switch("x1"in u&&(h=n+u.x1),"x2"in u&&(l=n+u.x2),"y1"in u&&(c=q+u.y1),"y2"in u&&(f=q+u.y2),"x"in u&&(n+=
u.x),"y"in u&&(q+=u.y),x){case "m":k.replaceItem(d.createSVGPathSegMovetoAbs(n,q),v);break;case "l":k.replaceItem(d.createSVGPathSegLinetoAbs(n,q),v);break;case "h":k.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(n),v);break;case "v":k.replaceItem(d.createSVGPathSegLinetoVerticalAbs(q),v);break;case "c":k.replaceItem(d.createSVGPathSegCurvetoCubicAbs(n,q,h,c,l,f),v);break;case "s":k.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(n,q,l,f),v);break;case "q":k.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(n,
q,h,c),v);break;case "t":k.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(n,q),v);break;case "a":k.replaceItem(d.createSVGPathSegArcAbs(n,q,u.r1,u.r2,u.angle,u.largeArcFlag,u.sweepFlag),v);break;case "z":case "Z":n=b,q=e}if("M"==x||"m"==x)b=n,e=q}}})()},31725:r=>{var p={};r.exports=p;(function(){p.create=function(a,m){return{x:a||0,y:m||0}};p.clone=function(a){return{x:a.x,y:a.y}};p.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};p.magnitudeSquared=function(a){return a.x*a.x+a.y*
a.y};p.rotate=function(a,m,g){var d=Math.cos(m);m=Math.sin(m);g||(g={});var b=a.x*d-a.y*m;g.y=a.x*m+a.y*d;g.x=b;return g};p.rotateAbout=function(a,m,g,d){var b=Math.cos(m);m=Math.sin(m);d||(d={});var e=g.x+((a.x-g.x)*b-(a.y-g.y)*m);d.y=g.y+((a.x-g.x)*m+(a.y-g.y)*b);d.x=e;return d};p.normalise=function(a){var m=p.magnitude(a);return 0===m?{x:0,y:0}:{x:a.x/m,y:a.y/m}};p.dot=function(a,m){return a.x*m.x+a.y*m.y};p.cross=function(a,m){return a.x*m.y-a.y*m.x};p.cross3=function(a,m,g){return(m.x-a.x)*(g.y-
a.y)-(m.y-a.y)*(g.x-a.x)};p.add=function(a,m,g){g||(g={});g.x=a.x+m.x;g.y=a.y+m.y;return g};p.sub=function(a,m,g){g||(g={});g.x=a.x-m.x;g.y=a.y-m.y;return g};p.mult=function(a,m){return{x:a.x*m,y:a.y*m}};p.div=function(a,m){return{x:a.x/m,y:a.y/m}};p.perp=function(a,m){m=!0===m?-1:1;return{x:m*-a.y,y:m*a.x}};p.neg=function(a){return{x:-a.x,y:-a.y}};p.angle=function(a,m){return Math.atan2(m.y-a.y,m.x-a.x)};p._temp=[p.create(),p.create(),p.create(),p.create(),p.create(),p.create()]})()},41598:(r,p,
a)=>{var m={};r.exports=m;var g=a(31725),d=a(53402);(function(){m.create=function(b,e){for(var h=[],c=0;c<b.length;c++){var l=b[c];h.push({x:l.x,y:l.y,index:c,body:e,isInternal:!1})}return h};m.fromPath=function(b,e){var h=[];b.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,function(c,l,f){h.push({x:parseFloat(l),y:parseFloat(f)})});return m.create(h,e)};m.centre=function(b){for(var e=m.area(b,!0),h={x:0,y:0},c,l,f=0;f<b.length;f++)l=(f+1)%b.length,c=g.cross(b[f],b[l]),c=g.mult(g.add(b[f],b[l]),c),
h=g.add(h,c);return g.div(h,6*e)};m.mean=function(b){for(var e={x:0,y:0},h=0;h<b.length;h++)e.x+=b[h].x,e.y+=b[h].y;return g.div(e,b.length)};m.area=function(b,e){for(var h=0,c=b.length-1,l=0;l<b.length;l++)h+=(b[c].x-b[l].x)*(b[c].y+b[l].y),c=l;return e?h/2:Math.abs(h)/2};m.inertia=function(b,e){for(var h=0,c=0,l,f,k=0;k<b.length;k++)f=(k+1)%b.length,l=Math.abs(g.cross(b[f],b[k])),h+=l*(g.dot(b[f],b[f])+g.dot(b[f],b[k])+g.dot(b[k],b[k])),c+=l;return e/6*(h/c)};m.translate=function(b,e,h){h="undefined"!==
typeof h?h:1;var c=b.length,l=e.x*h;e=e.y*h;for(h=0;h<c;h++)b[h].x+=l,b[h].y+=e;return b};m.rotate=function(b,e,h){if(0!==e){var c=Math.cos(e);e=Math.sin(e);var l=h.x;h=h.y;var f=b.length,k;for(k=0;k<f;k++){var n=b[k];var q=n.x-l;var t=n.y-h;n.x=l+(q*c-t*e);n.y=h+(q*e+t*c)}return b}};m.contains=function(b,e){var h=e.x;e=e.y;for(var c=b.length,l=b[c-1],f,k=0;k<c;k++){f=b[k];if(0<(h-l.x)*(f.y-l.y)+(e-l.y)*(l.x-f.x))return!1;l=f}return!0};m.scale=function(b,e,h,c){if(1===e&&1===h)return b;c=c||m.centre(b);
for(var l,f=0;f<b.length;f++)l=b[f],l=g.sub(l,c),b[f].x=c.x+l.x*e,b[f].y=c.y+l.y*h;return b};m.chamfer=function(b,e,h,c,l){e="number"===typeof e?[e]:e||[8];h="undefined"!==typeof h?h:-1;c=c||2;l=l||14;for(var f=[],k=0;k<b.length;k++){var n=b[0<=k-1?k-1:b.length-1],q=b[k],t=b[(k+1)%b.length],v=e[k<e.length?k:e.length-1];if(0===v)f.push(q);else{n=g.normalise({x:q.y-n.y,y:n.x-q.x});var u=g.normalise({x:t.y-q.y,y:q.x-t.x}),x=Math.sqrt(2*Math.pow(v,2));t=g.mult(d.clone(n),v);var w=g.normalise(g.mult(g.add(n,
u),.5));q=g.sub(q,g.mult(w,x));x=h;-1===h&&(x=1.75*Math.pow(v,.32));x=d.clamp(x,c,l);1===x%2&&(x+=1);v=Math.acos(g.dot(n,u))/x;for(n=0;n<x;n++)f.push(g.add(g.rotate(t,v*n),q))}}return f};m.clockwiseSort=function(b){var e=m.mean(b);b.sort(function(h,c){return g.angle(e,h)-g.angle(e,c)});return b};m.isConvex=function(b){var e=0,h=b.length,c;if(3>h)return null;for(c=0;c<h;c++){var l=(c+1)%h;var f=(c+2)%h;var k=(b[l].x-b[c].x)*(b[f].y-b[l].y);k-=(b[l].y-b[c].y)*(b[f].x-b[l].x);0>k?e|=1:0<k&&(e|=2);if(3===
e)return!1}return 0!==e?!0:null};m.hull=function(b){var e=[],h=[],c,l;b=b.slice(0);b.sort(function(f,k){var n=f.x-k.x;return 0!==n?n:f.y-k.y});for(l=0;l<b.length;l+=1){for(c=b[l];2<=h.length&&0>=g.cross3(h[h.length-2],h[h.length-1],c);)h.pop();h.push(c)}for(l=b.length-1;0<=l;--l){for(c=b[l];2<=e.length&&0>=g.cross3(e[e.length-2],e[e.length-1],c);)e.pop();e.push(c)}e.pop();h.pop();return e.concat(h)}})()},18210:(r,p,a)=>{var m=a(19933),g={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",
silent:!0,install:function(d){d.after("Body.create",function(){g.Body.init(this)});d.before("Engine.update",function(b){g.Engine.update(b)})},Body:{init:function(d){d.plugin.attractors=d.plugin.attractors||[]}},Engine:{update:function(d){d=m.Composite.allBodies(d.world);for(var b=0;b<d.length;b++){var e=d[b],h=e.plugin.attractors;if(h&&0<h.length)for(var c=0;c<d.length;c++){var l=d[c];if(b!==c)for(var f=0;f<h.length;f++){var k=h[f],n=k;m.Common.isFunction(k)&&(n=k(e,l));n&&m.Body.applyForce(l,l.position,
n)}}}}},Attractors:{gravityConstant:.001,gravity:function(d,b){var e=m.Vector.sub(b.position,d.position),h=m.Vector.magnitudeSquared(e)||1E-4;e=m.Vector.normalise(e);h=m.Vector.mult(e,d.mass*b.mass/h*-g.Attractors.gravityConstant);m.Body.applyForce(d,d.position,m.Vector.neg(h));m.Body.applyForce(b,b.position,h)}}};r.exports=g},40178:r=>{r.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(p){p.after("Engine.create",function(){p.Events.on(this,
"collisionStart",function(a){a.pairs.map(function(m){var g=m.bodyA,d=m.bodyB;g.gameObject&&g.gameObject.emit("collide",g,d,m);d.gameObject&&d.gameObject.emit("collide",d,g,m);p.Events.trigger(g,"onCollide",{pair:m});p.Events.trigger(d,"onCollide",{pair:m});if(g.onCollideCallback)g.onCollideCallback(m);if(d.onCollideCallback)d.onCollideCallback(m);if(g.onCollideWith[d.id])g.onCollideWith[d.id](d,m);if(d.onCollideWith[g.id])d.onCollideWith[g.id](g,m)})});p.Events.on(this,"collisionActive",function(a){a.pairs.map(function(m){var g=
m.bodyA,d=m.bodyB;g.gameObject&&g.gameObject.emit("collideActive",g,d,m);d.gameObject&&d.gameObject.emit("collideActive",d,g,m);p.Events.trigger(g,"onCollideActive",{pair:m});p.Events.trigger(d,"onCollideActive",{pair:m});if(g.onCollideActiveCallback)g.onCollideActiveCallback(m);if(d.onCollideActiveCallback)d.onCollideActiveCallback(m)})});p.Events.on(this,"collisionEnd",function(a){a.pairs.map(function(m){var g=m.bodyA,d=m.bodyB;g.gameObject&&g.gameObject.emit("collideEnd",g,d,m);d.gameObject&&d.gameObject.emit("collideEnd",
d,g,m);p.Events.trigger(g,"onCollideEnd",{pair:m});p.Events.trigger(d,"onCollideEnd",{pair:m});if(g.onCollideEndCallback)g.onCollideEndCallback(m);if(d.onCollideEndCallback)d.onCollideEndCallback(m)})})})}}},74507:(r,p,a)=>{var m=a(19933),g={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(d){d.after("Engine.update",function(){g.Engine.update(this)})},Engine:{update:function(d){var b=d.world;d=m.Composite.allBodies(b);b=m.Composite.allComposites(b);for(var e=0;e<
d.length;e+=1){var h=d[e];h.plugin.wrap&&g.Body.wrap(h,h.plugin.wrap)}for(e=0;e<b.length;e+=1)d=b[e],d.plugin.wrap&&g.Composite.wrap(d,d.plugin.wrap)}},Bounds:{wrap:function(d,b){var e=null,h=null;"undefined"!==typeof b.min.x&&"undefined"!==typeof b.max.x&&(d.min.x>b.max.x?e=b.min.x-d.max.x:d.max.x<b.min.x&&(e=b.max.x-d.min.x));"undefined"!==typeof b.min.y&&"undefined"!==typeof b.max.y&&(d.min.y>b.max.y?h=b.min.y-d.max.y:d.max.y<b.min.y&&(h=b.max.y-d.min.y));if(null!==e||null!==h)return{x:e||0,y:h||
0}}},Body:{wrap:function(d,b){(b=g.Bounds.wrap(d.bounds,b))&&m.Body.translate(d,b);return b}},Composite:{bounds:function(d){d=m.Composite.allBodies(d);for(var b=[],e=0;e<d.length;e+=1){var h=d[e];b.push(h.bounds.min,h.bounds.max)}return m.Bounds.create(b)},wrap:function(d,b){(b=g.Bounds.wrap(g.Composite.bounds(d),b))&&m.Composite.translate(d,b);return b}}};r.exports=g},55973:r=>{function p(w,y,z,C){var A=y[0]-w[0];y=y[1]-w[1];var B=C[0]-z[0],E=C[1]-z[1];if(0===B*y-E*A)return!1;C=(A*(z[1]-w[1])+y*
(w[0]-z[0]))/(B*y-E*A);w=(B*(w[1]-z[1])+E*(z[0]-w[0]))/(E*A-B*y);return 0<=C&&1>=C&&0<=w&&1>=w}function a(w,y,z){return(y[0]-w[0])*(z[1]-w[1])-(z[0]-w[0])*(y[1]-w[1])}function m(w,y,z){return 0<a(w,y,z)}function g(w,y,z){return 0<=a(w,y,z)}function d(w,y,z){return 0>=a(w,y,z)}function b(w,y){var z=y[0]-w[0];w=y[1]-w[1];return z*z+w*w}function e(w,y){var z=w.length;return w[0>y?y%z+z:y%z]}function h(w,y,z,C){for(;z<C;z++)w.push(y[z])}function c(w,y){var z=e(w,y-1),C=e(w,y);w=e(w,y+1);return 0>a(z,
C,w)}function l(w,y,z,C){C=C||[];C.length=0;if(y<z)for(var A=y;A<=z;A++)C.push(w[A]);else{for(A=0;A<=z;A++)C.push(w[A]);for(A=y;A<w.length;A++)C.push(w[A])}return C}function f(w){for(var y=[],z,C,A=[],B=Number.MAX_VALUE,E=0;E<w.length;++E)if(c(w,E))for(var G=0;G<w.length;++G){a:{C=w;var I=E,H=G,K=u,L=x;if(g(e(C,I+1),e(C,I),e(C,H))&&d(e(C,I-1),e(C,I),e(C,H)))z=!1;else{z=b(e(C,I),e(C,H));for(var M=0;M!==C.length;++M)if((M+1)%C.length!==I&&M!==I&&g(e(C,I),e(C,H),e(C,M+1))&&d(e(C,I),e(C,H),e(C,M))){K[0]=
e(C,I);K[1]=e(C,H);L[0]=e(C,M);L[1]=e(C,M+1);var P=[0,0];var D=K[1][1]-K[0][1];var F=K[0][0]-K[1][0];var J=D*K[0][0]+F*K[0][1];var N=L[1][1]-L[0][1];var O=L[0][0]-L[1][0];var R=N*L[0][0]+O*L[0][1];var Q=D*O-N*F;0>=Math.abs(Q-0)||(P[0]=(O*J-F*R)/Q,P[1]=(D*R-N*J)/Q);Q=P;if(b(e(C,I),Q)<z){z=!1;break a}}z=!0}}if(z){z=f(l(w,E,G,A));C=f(l(w,G,E,A));for(I=0;I<C.length;I++)z.push(C[I]);z.length<B&&(y=z,B=z.length,y.push([e(w,E),e(w,G)]))}}return y}function k(w,y){if(0===y.length)return[w];if(y instanceof
Array&&y.length&&y[0]instanceof Array&&2===y[0].length&&y[0][0]instanceof Array){w=[w];for(var z=0;z<y.length;z++)for(var C=y[z],A=0;A<w.length;A++){var B=k(w[A],C);if(B){w.splice(A,1);w.push(B[0],B[1]);break}}return w}C=y;z=w.indexOf(C[0]);A=w.indexOf(C[1]);return-1!==z&&-1!==A?[l(w,z,A),l(w,A,z)]:!1}function n(w,y,z,C,A){var B=y[1]-w[1];y=w[0]-y[0];w=B*w[0]+y*w[1];var E=C[1]-z[1];C=z[0]-C[0];z=E*z[0]+C*z[1];var G=B*C-E*y;return Math.abs(G-0)<=(A||0)?[0,0]:[(C*w-y*z)/G,(B*z-E*w)/G]}function q(w,
y,z,C,A,B,E){B=B||100;E=E||0;A=A||25;y="undefined"!==typeof y?y:[];z=z||[];C=C||[];var G=[0,0],I=[0,0],H=[0,0],K,L=0,M=0,P=0,D=[],F=[];if(3>w.length)return y;E++;if(E>B)return console.warn("quickDecomp: max level ("+B+") reached."),y;for(var J=0;J<w.length;++J)if(c(w,J)){z.push(w[J]);var N=K=Number.MAX_VALUE;for(var O=0;O<w.length;++O){if(m(e(w,J-1),e(w,J),e(w,O))&&d(e(w,J-1),e(w,J),e(w,O-1))){H=n(e(w,J-1),e(w,J),e(w,O),e(w,O-1));var R=e(w,J+1);var Q=e(w,J);0>a(R,Q,H)&&(R=b(w[J],H),R<K&&(K=R,I=H,
M=O))}m(e(w,J+1),e(w,J),e(w,O+1))&&d(e(w,J+1),e(w,J),e(w,O))&&(H=n(e(w,J+1),e(w,J),e(w,O),e(w,O+1)),m(e(w,J-1),e(w,J),H)&&(R=b(w[J],H),R<N&&(N=R,G=H,L=O)))}if(M===(L+1)%w.length)H[0]=(I[0]+G[0])/2,H[1]=(I[1]+G[1])/2,C.push(H),J<L?(h(D,w,J,L+1),D.push(H),F.push(H),0!==M&&h(F,w,M,w.length),h(F,w,0,J+1)):(0!==J&&h(D,w,J,w.length),h(D,w,0,L+1),D.push(H),F.push(H),h(F,w,M,J+1));else{M>L&&(L+=w.length);G=Number.MAX_VALUE;if(L<M)return y;for(O=M;O<=L;++O)if(g(e(w,J-1),e(w,J),e(w,O))&&d(e(w,J+1),e(w,J),e(w,
O))){R=b(e(w,J),e(w,O));if(M=R<G)a:{M=w;I=J;H=O;for(N=0;N!==M.length;++N)if(N!==I&&N!==H&&(N+1)%M.length!==I&&(N+1)%M.length!==H&&p(e(M,I),e(M,H),e(M,N),e(M,N+1))){M=!1;break a}M=!0}M&&(G=R,P=O%w.length)}J<P?(h(D,w,J,P+1),0!==P&&h(F,w,P,w.length),h(F,w,0,J+1)):(0!==J&&h(D,w,J,w.length),h(D,w,0,P+1),h(F,w,P,J+1))}D.length<F.length?(q(D,y,z,C,A,B,E),q(F,y,z,C,A,B,E)):(q(F,y,z,C,A,B,E),q(D,y,z,C,A,B,E));return y}y.push(w);return y}r.exports={decomp:function(w){var y=f(w);return 0<y.length?k(w,y):[w]},
quickDecomp:q,isSimple:function(w){var y;for(y=0;y<w.length-1;y++)for(var z=0;z<y-1;z++)if(p(w[y],w[y+1],w[z],w[z+1]))return!1;for(y=1;y<w.length-2;y++)if(p(w[0],w[w.length-1],w[y],w[y+1]))return!1;return!0},removeCollinearPoints:function(w,y){for(var z=0,C=w.length-1;3<w.length&&0<=C;--C){var A=e(w,C-1);var B=e(w,C),E=e(w,C+1),G=y;if(G){var I=t,H=v;I[0]=B[0]-A[0];I[1]=B[1]-A[1];H[0]=E[0]-B[0];H[1]=E[1]-B[1];A=Math.acos((I[0]*H[0]+I[1]*H[1])/(Math.sqrt(I[0]*I[0]+I[1]*I[1])*Math.sqrt(H[0]*H[0]+H[1]*
H[1])))<G}else A=0===a(A,B,E);A&&(w.splice(C%w.length,1),z++)}return z},removeDuplicatePoints:function(w,y){for(var z=w.length-1;1<=z;--z)for(var C=w[z],A=z-1;0<=A;--A){var B=C,E=w[A],G=y;Math.abs(B[0]-E[0])<=(G||0)&&Math.abs(B[1]-E[1])<=(G||0)&&w.splice(z,1)}},makeCCW:function(w){for(var y=0,z=1;z<w.length;++z)if(w[z][1]<w[y][1]||w[z][1]===w[y][1]&&w[z][0]>w[y][0])y=z;if(m(e(w,y-1),e(w,y),e(w,y+1)))return!1;y=[];z=w.length;for(var C=0;C!==z;C++)y.push(w.pop());for(C=0;C!==z;C++)w[C]=y[C];return!0}};
var t=[],v=[],u=[],x=[]},52018:(r,p,a)=>{p=new (a(83419))({initialize:function(m){this.pluginManager=m;this.game=m.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.systems=this.scene=this.game=this.pluginManager=null}});r.exports=p},42363:r=>{r.exports={Global:"game anims cache plugins registry scale sound textures renderer".split(" "),CoreScene:"EventEmitter CameraManager GameObjectCreator GameObjectFactory ScenePlugin DisplayList UpdateList".split(" "),DefaultScene:"Clock DataManagerPlugin InputPlugin Loader TweenManager LightsPlugin".split(" ")}},
37277:r=>{var p={},a={};r.exports={register:function(m,g,d,b){void 0===b&&(b=!1);p[m]={plugin:g,mapping:d,custom:b}},registerCustom:function(m,g,d,b){a[m]={plugin:g,mapping:d,data:b}},hasCore:function(m){return p.hasOwnProperty(m)},hasCustom:function(m){return a.hasOwnProperty(m)},getCore:function(m){return p[m]},getCustom:function(m){return a[m]},getCustomClass:function(m){return a.hasOwnProperty(m)?a[m].plugin:null},remove:function(m){p.hasOwnProperty(m)&&delete p[m]},removeCustom:function(m){a.hasOwnProperty(m)&&
delete a[m]},destroyCorePlugins:function(){for(var m in p)p.hasOwnProperty(m)&&delete p[m]},destroyCustomPlugins:function(){for(var m in a)a.hasOwnProperty(m)&&delete a[m]}}},77332:(r,p,a)=>{p=a(83419);var m=a(8443),g=a(50792),d=a(74099),b=a(44603),e=a(39429),h=a(95540),c=a(37277),l=a(72905);a=new p({Extends:g,initialize:function(f){g.call(this);this.game=f;this.plugins=[];this.scenePlugins=[];this._pendingGlobal=[];this._pendingScene=[];if(f.isBooted)this.boot();else f.events.once(m.BOOT,this.boot,
this)},boot:function(){var f,k=this.game.config,n=k.installGlobalPlugins;n=n.concat(this._pendingGlobal);for(f=0;f<n.length;f++){var q=n[f];var t=h(q,"key",null);var v=h(q,"plugin",null);var u=h(q,"start",!1);var x=h(q,"mapping",null);q=h(q,"data",null);t&&(v?this.install(t,v,u,x,q):console.warn("Missing `plugin` for key: "+t))}n=k.installScenePlugins;n=n.concat(this._pendingScene);for(f=0;f<n.length;f++)q=n[f],t=h(q,"key",null),v=h(q,"plugin",null),x=h(q,"mapping",null),t&&(v?this.installScenePlugin(t,
v,x):console.warn("Missing `plugin` for key: "+t));this._pendingGlobal=[];this._pendingScene=[];this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(f,k,n){var q,t=this.game,v=f.scene,u=f.settings.map,x=f.settings.isBooted;for(q=0;q<k.length;q++){var w=k[q];t[w]?(f[w]=t[w],u.hasOwnProperty(w)&&(v[u[w]]=f[w])):"game"===w&&u.hasOwnProperty(w)&&(v[u[w]]=t)}for(t=0;t<n.length;t++)for(k=n[t],q=0;q<k.length;q++)if(w=k[q],c.hasCore(w)){w=c.getCore(w);var y=w.mapping,z=new w.plugin(v,this,
y);f[y]=z;w.custom?v[y]=z:u.hasOwnProperty(y)&&(v[u[y]]=z);x&&z.boot()}k=this.plugins;for(q=0;q<k.length;q++)f=k[q],f.mapping&&(v[f.mapping]=f.plugin)},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins)},installScenePlugin:function(f,k,n,q,t){void 0===t&&(t=!1);if("function"!==typeof k)console.warn("Invalid Scene Plugin: "+f);else{c.hasCore(f)||c.register(f,k,n,!0);if(-1===this.scenePlugins.indexOf(f))this.scenePlugins.push(f);else if(!t&&
c.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}q&&(k=new k(q,this,f),q.sys[f]=k,n&&""!==n&&(q[n]=k),k.boot())}},install:function(f,k,n,q,t){void 0===n&&(n=!1);void 0===q&&(q=null);void 0===t&&(t=null);if("function"!==typeof k)return console.warn("Invalid Plugin: "+f),null;if(c.hasCustom(f))return console.warn("Plugin key in use: "+f),null;null!==q&&(n=!0);if(this.game.isBooted){if(c.registerCustom(f,k,q,t),n)return this.start(f)}else this._pendingGlobal.push({key:f,plugin:k,start:n,
mapping:q,data:t});return null},getIndex:function(f){for(var k=this.plugins,n=0;n<k.length;n++)if(k[n].key===f)return n;return-1},getEntry:function(f){f=this.getIndex(f);if(-1!==f)return this.plugins[f]},isActive:function(f){return(f=this.getEntry(f))&&f.active},start:function(f,k){void 0===k&&(k=f);var n=this.getEntry(k);n&&!n.active?(n.active=!0,n.plugin.start()):n||(n=this.createEntry(f,k));return n?n.plugin:null},createEntry:function(f,k){if(f=c.getCustom(f)){var n=new f.plugin(this);f={key:k,
plugin:n,active:!0,mapping:f.mapping,data:f.data};this.plugins.push(f);n.init(f.data);n.start()}return f},stop:function(f){(f=this.getEntry(f))&&f.active&&(f.active=!1,f.plugin.stop());return this},get:function(f,k){void 0===k&&(k=!0);var n=this.getEntry(f);return n?n.plugin:(n=this.getClass(f))&&k?(n=this.createEntry(f,f))?n.plugin:null:n?n:null},getClass:function(f){return c.getCustomClass(f)},removeGlobalPlugin:function(f){var k=this.getEntry(f);k&&l(this.plugins,k);c.removeCustom(f)},removeScenePlugin:function(f){l(this.scenePlugins,
f);c.remove(f)},registerGameObject:function(f,k,n){k&&e.register(f,k);n&&b.register(f,n);return this},removeGameObject:function(f,k,n){void 0===k&&(k=!0);void 0===n&&(n=!0);k&&e.remove(f);n&&b.remove(f);return this},registerFileType:function(f,k,n){d.register(f,k);n&&n.sys.load&&(n.sys.load[f]=k)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();c.destroyCustomPlugins();this.game.noReturn&&c.destroyCorePlugins();this.game=null;this.plugins=[];this.scenePlugins=
[]}});r.exports=a},45145:(r,p,a)=>{var m=a(52018);p=a(83419);var g=a(44594);a=new p({Extends:m,initialize:function(d,b,e){m.call(this,b);this.scene=d;this.systems=d.sys;this.pluginKey=e;d.sys.events.once(g.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.systems=this.scene=this.game=this.pluginManager=null}});r.exports=a},18922:(r,p,a)=>{r.exports={BasePlugin:a(52018),DefaultPlugins:a(42363),PluginCache:a(37277),PluginManager:a(77332),ScenePlugin:a(45145)}},63595:()=>{HTMLVideoElement&&
!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(r){const p=performance.now(),a=this.getVideoPlaybackQuality(),m=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames,g=(d,b)=>{var e=this.getVideoPlaybackQuality();const h=this.mozPresentedFrames||this.mozPaintedFrames||e.totalVideoFrames-
e.droppedVideoFrames;h>m?(e=this.mozFrameDelay||e.totalFrameDelay-a.totalFrameDelay||0,d=b-d,r(b,{presentationTime:b+1E3*e,expectedDisplayTime:b+d,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+d/1E3,presentedFrames:h,processingDuration:e}),delete this._rvfcpolyfillmap[p]):this._rvfcpolyfillmap[p]=requestAnimationFrame(c=>g(b,c))};this._rvfcpolyfillmap[p]=requestAnimationFrame(d=>g(p,d));return p},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(r){cancelAnimationFrame(this._rvfcpolyfillmap[r]);
delete this._rvfcpolyfillmap[r]})},10312:r=>{r.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:r=>{r.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(r,p,a)=>{var m=a(19715),g=a(32880);
p=a(83419);var d=a(8054),b=a(50792),e=a(92503),h=a(56373),c=a(97480),l=a(69442),f=a(61340);a=new p({Extends:b,initialize:function(k){b.call(this);var n=k.config;this.config={clearBeforeRender:n.clearBeforeRender,backgroundColor:n.backgroundColor,antialias:n.antialias,roundPixels:n.roundPixels};this.game=k;this.type=d.CANVAS;this.height=this.width=this.drawCount=0;this.gameCanvas=k.canvas;var q={alpha:k.config.transparent,desynchronized:k.config.desynchronized,willReadFrequently:!1};this.currentContext=
this.gameContext=n.context?n.context:this.gameCanvas.getContext("2d",q);this.antialias=k.config.antialias;this.blendModes=h();this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92};this._tempMatrix1=new f;this._tempMatrix2=new f;this._tempMatrix3=new f;this.isBooted=!1;this.init()},init:function(){this.game.textures.once(l.READY,this.boot,this)},boot:function(){var k=this.game,n=k.scale.baseSize;this.width=n.width;this.height=n.height;this.isBooted=!0;
k.scale.on(c.RESIZE,this.onResize,this);this.resize(n.width,n.height)},onResize:function(k,n){n.width===this.width&&n.height===this.height||this.resize(n.width,n.height)},resize:function(k,n){this.width=k;this.height=n;this.emit(e.RESIZE,k,n)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(k){this.currentContext.globalCompositeOperation=k;return this},setContext:function(k){this.currentContext=k?k:this.gameContext;return this},setAlpha:function(k){this.currentContext.globalAlpha=
k;return this},preRender:function(){var k=this.gameContext,n=this.config,q=this.width,t=this.height;k.globalAlpha=1;k.globalCompositeOperation="source-over";k.setTransform(1,0,0,1,0,0);n.clearBeforeRender&&(k.clearRect(0,0,q,t),n.transparent||(k.fillStyle=n.backgroundColor.rgba,k.fillRect(0,0,q,t)));k.save();this.drawCount=0;this.emit(e.PRE_RENDER)},render:function(k,n,q){var t=n.length;this.emit(e.RENDER,k,q);var v=q.x,u=q.y,x=q.width,w=q.height,y=q.renderToTexture?q.context:k.sys.context;y.save();
this.game.scene.customViewports&&(y.beginPath(),y.rect(v,u,x,w),y.clip());q.emit(m.PRE_RENDER,q);this.currentContext=y;var z=q.mask;z&&z.preRenderCanvas(this,null,q._maskCamera);q.transparent||(y.fillStyle=q.backgroundColor.rgba,y.fillRect(v,u,x,w));y.globalAlpha=q.alpha;y.globalCompositeOperation="source-over";this.drawCount+=t;q.renderToTexture&&q.emit(m.PRE_RENDER,q);q.matrix.copyToContext(y);for(x=0;x<t;x++)w=n[x],w.mask&&w.mask.preRenderCanvas(this,w,q),w.renderCanvas(this,w,q),w.mask&&w.mask.postRenderCanvas(this,
w,q);y.setTransform(1,0,0,1,0,0);y.globalCompositeOperation="source-over";y.globalAlpha=1;q.flashEffect.postRenderCanvas(y);q.fadeEffect.postRenderCanvas(y);q.dirty=!1;z&&z.postRenderCanvas(this);y.restore();q.renderToTexture&&(q.emit(m.POST_RENDER,q),q.renderToGame&&k.sys.context.drawImage(q.canvas,v,u));q.emit(m.POST_RENDER,q)},postRender:function(){this.gameContext.restore();this.emit(e.POST_RENDER);var k=this.snapshotState;k.callback&&(g(this.gameCanvas,k),k.callback=null)},snapshotCanvas:function(k,
n,q,t,v,u,x,w,y){void 0===q&&(q=!1);this.snapshotArea(t,v,u,x,n,w,y);n=this.snapshotState;n.getPixel=q;g(k,n);n.callback=null;return this},snapshot:function(k,n,q){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,k,n,q)},snapshotArea:function(k,n,q,t,v,u,x){var w=this.snapshotState;w.callback=v;w.type=u;w.encoder=x;w.getPixel=!1;w.x=k;w.y=n;w.width=Math.min(q,this.gameCanvas.width);w.height=Math.min(t,this.gameCanvas.height);return this},snapshotPixel:function(k,n,q){this.snapshotArea(k,
n,1,1,q);this.snapshotState.getPixel=!0;return this},batchSprite:function(k,n,q,t){var v=q.alpha*k.alpha;if(0!==v){var u=this.currentContext,x=this._tempMatrix1,w=this._tempMatrix2,y=n.canvasData,z=y.x;y=y.y;var C=n.cutWidth,A=n.cutHeight,B=n.customPivot,E=n.source.resolution,G=k.displayOriginX,I=k.displayOriginY,H=-G+n.x,K=-I+n.y;k.isCropped&&(K=k._crop,K.flipX===k.flipX&&K.flipY===k.flipY||n.updateCropUVs(K,k.flipX,k.flipY),C=K.cw,A=K.ch,z=K.cx,y=K.cy,H=-G+K.x,K=-I+K.y,k.flipX&&(0<=H?H=-(H+C):0>
H&&(H=Math.abs(H)-C)),k.flipY&&(0<=K?K=-(K+A):0>K&&(K=Math.abs(K)-A)));var L=1,M=1;k.flipX&&(B||(H+=-n.realWidth+2*G),L=-1);k.flipY&&(B||(K+=-n.realHeight+2*I),M=-1);B=k.x;G=k.y;w.applyITRS(B,G,k.rotation,k.scaleX*L,k.scaleY*M);x.copyFrom(q.matrix);t?(x.multiplyWithOffset(t,-q.scrollX*k.scrollFactorX,-q.scrollY*k.scrollFactorY),w.e=B,w.f=G):(w.e-=q.scrollX*k.scrollFactorX,w.f-=q.scrollY*k.scrollFactorY);x.multiply(w);q.roundPixels&&(x.e=Math.round(x.e),x.f=Math.round(x.f));u.save();x.setToContext(u);
u.globalCompositeOperation=this.blendModes[k.blendMode];u.globalAlpha=v;u.imageSmoothingEnabled=!n.source.scaleMode;k.mask&&k.mask.preRenderCanvas(this,k,q);0<C&&0<A&&(q.roundPixels?u.drawImage(n.source.image,z,y,C,A,Math.round(H),Math.round(K),Math.round(C/E),Math.round(A/E)):u.drawImage(n.source.image,z,y,C,A,H,K,C/E,A/E));k.mask&&k.mask.postRenderCanvas(this,k,q);u.restore()}},destroy:function(){this.removeAllListeners();this.gameContext=this.gameCanvas=this.game=null}});r.exports=a},55830:(r,
p,a)=>{r.exports={CanvasRenderer:a(68627),GetBlendModes:a(56373),SetTransform:a(20926)}},56373:(r,p,a)=>{var m=a(10312),g=a(89289);r.exports=function(){var d=[],b=g.supportNewBlendModes;d[m.NORMAL]="source-over";d[m.ADD]="lighter";d[m.MULTIPLY]=b?"multiply":"source-over";d[m.SCREEN]=b?"screen":"source-over";d[m.OVERLAY]=b?"overlay":"source-over";d[m.DARKEN]=b?"darken":"source-over";d[m.LIGHTEN]=b?"lighten":"source-over";d[m.COLOR_DODGE]=b?"color-dodge":"source-over";d[m.COLOR_BURN]=b?"color-burn":
"source-over";d[m.HARD_LIGHT]=b?"hard-light":"source-over";d[m.SOFT_LIGHT]=b?"soft-light":"source-over";d[m.DIFFERENCE]=b?"difference":"source-over";d[m.EXCLUSION]=b?"exclusion":"source-over";d[m.HUE]=b?"hue":"source-over";d[m.SATURATION]=b?"saturation":"source-over";d[m.COLOR]=b?"color":"source-over";d[m.LUMINOSITY]=b?"luminosity":"source-over";d[m.ERASE]="destination-out";d[m.SOURCE_IN]="source-in";d[m.SOURCE_OUT]="source-out";d[m.SOURCE_ATOP]="source-atop";d[m.DESTINATION_OVER]="destination-over";
d[m.DESTINATION_IN]="destination-in";d[m.DESTINATION_OUT]="destination-out";d[m.DESTINATION_ATOP]="destination-atop";d[m.LIGHTER]="lighter";d[m.COPY]="copy";d[m.XOR]="xor";return d}},20926:(r,p,a)=>{var m=a(91296);r.exports=function(g,d,b,e,h){var c=e.alpha*b.alpha;if(0>=c)return!1;e=m(b,e,h).calc;d.globalCompositeOperation=g.blendModes[b.blendMode];d.globalAlpha=c;d.save();e.setToContext(d);d.imageSmoothingEnabled=b.frame?!b.frame.source.scaleMode:g.antialias;return!0}},63899:r=>{r.exports="losewebgl"},
6119:r=>{r.exports="postrender"},48070:r=>{r.exports="prerender"},15640:r=>{r.exports="render"},8912:r=>{r.exports="resize"},87124:r=>{r.exports="restorewebgl"},92503:(r,p,a)=>{r.exports={LOSE_WEBGL:a(63899),POST_RENDER:a(6119),PRE_RENDER:a(48070),RENDER:a(15640),RESIZE:a(8912),RESTORE_WEBGL:a(87124)}},36909:(r,p,a)=>{r.exports={Events:a(92503),Snapshot:a(89966)};r.exports.Canvas=a(55830);r.exports.WebGL=a(4159)},32880:(r,p,a)=>{var m=a(27919),g=a(40987),d=a(95540);r.exports=function(b,e){var h=d(e,
"callback"),c=d(e,"type","image/png"),l=d(e,"encoder",.92),f=Math.abs(Math.round(d(e,"x",0))),k=Math.abs(Math.round(d(e,"y",0))),n=Math.floor(d(e,"width",b.width)),q=Math.floor(d(e,"height",b.height));if(d(e,"getPixel",!1))b=b.getContext("2d",{willReadFrequently:!1}).getImageData(f,k,1,1).data,h.call(null,new g(b[0],b[1],b[2],b[3]));else if(0!==f||0!==k||n!==b.width||q!==b.height){var t=m.createWebGL(this,n,q);e=t.getContext("2d",{willReadFrequently:!0});0<n&&0<q&&e.drawImage(b,f,k,n,q,0,0,n,q);var v=
new Image;v.onerror=function(){h.call(null);m.remove(t)};v.onload=function(){h.call(null,v);m.remove(t)};v.src=t.toDataURL(c,l)}else{var u=new Image;u.onerror=function(){h.call(null)};u.onload=function(){h.call(null,u)};u.src=b.toDataURL(c,l)}}},88815:(r,p,a)=>{var m=a(27919),g=a(40987),d=a(95540);r.exports=function(b,e){var h=d(e,"callback"),c=d(e,"type","image/png"),l=d(e,"encoder",.92),f=Math.abs(Math.round(d(e,"x",0))),k=Math.abs(Math.round(d(e,"y",0))),n=d(e,"getPixel",!1),q=d(e,"isFramebuffer",
!1),t=q?d(e,"bufferWidth",1):b.drawingBufferWidth,v=q?d(e,"bufferHeight",1):b.drawingBufferHeight;if(n)c=new Uint8Array(4),b.readPixels(f,q?k:v-k,1,1,b.RGBA,b.UNSIGNED_BYTE,c),h.call(null,new g(c[0],c[1],c[2],c[3]));else{n=Math.floor(d(e,"width",t));e=Math.floor(d(e,"height",v));t=n*e*4;var u=new Uint8Array(t);b.readPixels(f,v-k-e,n,e,b.RGBA,b.UNSIGNED_BYTE,u);var x=m.createWebGL(this,n,e);b=x.getContext("2d",{willReadFrequently:!0});f=b.getImageData(0,0,n,e);k=f.data;for(v=0;v<e;v++)for(var w=0;w<
n;w++){var y=4*((e-v-1)*n+w),z=q?t-4*(v*n+(n-w)):4*(v*n+w);k[z+0]=u[y+0];k[z+1]=u[y+1];k[z+2]=u[y+2];k[z+3]=u[y+3]}b.putImageData(f,0,0);var C=new Image;C.onerror=function(){h.call(null);m.remove(x)};C.onload=function(){h.call(null,C);m.remove(x)};C.src=x.toDataURL(c,l)}}},89966:(r,p,a)=>{r.exports={Canvas:a(32880),WebGL:a(88815)}},7530:(r,p,a)=>{p=a(83419);var m=a(36060),g=a(90330),d=a(82264),b=a(95540),e=a(32302),h=a(63448),c=a(31302),l=a(58918),f=a(14811),k=a(92651),n=a(96569),q=a(56527),t=a(57516),
v=a(43439),u=a(81041),x=a(12385),w=a(7589),y=a(95428),z=a(72905);a=new p({initialize:function(C){this.game=C.game;this.renderer=C;this.classes=new g([[m.UTILITY_PIPELINE,w],[m.MULTI_PIPELINE,t],[m.BITMAPMASK_PIPELINE,c],[m.SINGLE_PIPELINE,x],[m.ROPE_PIPELINE,u],[m.LIGHT_PIPELINE,n],[m.POINTLIGHT_PIPELINE,v],[m.MOBILE_PIPELINE,q]]);this.postPipelineClasses=new g;this.pipelines=new g;this.postPipelineInstances=[];this.FX_PIPELINE=this.MOBILE_PIPELINE=this.UTILITY_PIPELINE=this.BITMAPMASK_PIPELINE=this.MULTI_PIPELINE=
this.previous=this.current=this.default=null;this.renderTargets=[];this.maxDimension=0;this.frameInc=32;this.targetIndex=0},boot:function(C,A,B){var E=this.renderer,G=this.renderTargets;this.frameInc=Math.floor(b(C,"frameInc",32));var I=E.width,H=E.height,K=this.game.config.disablePreFX;this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(f.BARREL),l.Barrel],[String(f.BLOOM),l.Bloom],[String(f.BLUR),l.Blur],[String(f.BOKEH),l.Bokeh],[String(f.CIRCLE),l.Circle],[String(f.COLOR_MATRIX),
l.ColorMatrix],[String(f.DISPLACEMENT),l.Displacement],[String(f.GLOW),l.Glow],[String(f.GRADIENT),l.Gradient],[String(f.PIXELATE),l.Pixelate],[String(f.SHADOW),l.Shadow],[String(f.SHINE),l.Shine],[String(f.VIGNETTE),l.Vignette],[String(f.WIPE),l.Wipe]]);if(!K){this.classes.set(m.FX_PIPELINE,k);for(var L=Math.ceil(Math.min(I,H)/this.frameInc),M=1;M<L;M++){var P=M*this.frameInc;G.push(new e(E,P,P));G.push(new e(E,P,P));G.push(new e(E,P,P));this.maxDimension=P}G.push(new e(E,I,H,1,0,!0,!0));G.push(new e(E,
I,H,1,0,!0,!0));G.push(new e(E,I,H,1,0,!0,!0))}var D,F=this,J=this.game;this.classes.each(function(O,R){N=F.add(O,new R({game:J}));O===m.UTILITY_PIPELINE&&(F.UTILITY_PIPELINE=N,F.fullFrame1=N.fullFrame1,F.fullFrame2=N.fullFrame2,F.halfFrame1=N.halfFrame1,F.halfFrame2=N.halfFrame2)});this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE);this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE);this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE);K||(this.FX_PIPELINE=this.get(m.FX_PIPELINE));if(C)for(D in C){E=
C[D];var N=new E(J);N.name=D;N.isPostFX?this.postPipelineClasses.set(D,E):this.has(D)||(this.classes.set(D,E),this.add(D,N))}this.default=this.get(A);B&&!d.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(C){if(C=this.get(C))this.default=C;return C},add:function(C,A){if(A.isPostFX)console.warn(C+" is a Post Pipeline. Use `addPostPipeline` instead");else{var B=this.pipelines,E=this.renderer;B.has(C)?console.warn("Pipeline exists: "+C):(A.name=C,A.manager=this,B.set(C,A));
A.hasBooted||A.boot();0===E.width||0===E.height||A.isPreFX||A.resize(E.width,E.height);return A}},addPostPipeline:function(C,A){this.postPipelineClasses.has(C)||this.postPipelineClasses.set(C,A)},flush:function(){this.current&&this.current.flush()},has:function(C){var A=this.pipelines;return"string"===typeof C?A.has(C):A.contains(C)?!0:!1},get:function(C){var A=this.pipelines;if("string"===typeof C)return A.get(C);if(A.contains(C))return C},getPostPipeline:function(C,A,B){var E=this.postPipelineClasses,
G="",I=typeof C;if("string"===I||"number"===I){var H=E.get(C);G=C}else"function"===I?(E.contains(C)&&(H=C),G=C.name):"object"===I&&(H=E.get(C.name),G=C.name);if(H)return C=new H(this.game,B),C.name=G,A&&(C.gameObject=A),this.postPipelineInstances.push(C),C},removePostPipeline:function(C){z(this.postPipelineInstances,C)},remove:function(C,A,B){void 0===A&&(A=!0);void 0===B&&(B=!0);this.pipelines.delete(C);A&&this.classes.delete(C);B&&this.postPipelineClasses.delete(C)},set:function(C,A,B){if(!C.isPostFX)return this.isCurrent(C,
B)||(this.flush(),this.current&&this.current.unbind(),this.current=C,C.bind(B)),C.updateProjectionMatrix(),C.onBind(A),C},preBatch:function(C){if(C.hasPostPipeline){this.flush();for(var A=C.postPipelines,B=A.length-1;0<=B;B--){var E=A[B];E.active&&E.preBatch(C)}}},postBatch:function(C){if(C.hasPostPipeline){this.flush();for(var A=C.postPipelines,B=0;B<A.length;B++){var E=A[B];E.active&&E.postBatch(C)}}},preBatchCamera:function(C){if(C.hasPostPipeline){this.flush();for(var A=C.postPipelines,B=A.length-
1;0<=B;B--){var E=A[B];E.active&&E.preBatch(C)}}},postBatchCamera:function(C){if(C.hasPostPipeline){this.flush();for(var A=C.postPipelines,B=0;B<A.length;B++){var E=A[B];E.active&&E.postBatch(C)}}},isCurrent:function(C,A){var B=this.renderer,E=this.current;E&&!A&&(A=E.currentShader);return!(E!==C||A.program!==B.currentProgram)},copyFrame:function(C,A,B,E,G){this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(C,A,B,E,G);return this},copyToGame:function(C){this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(C);
return this},drawFrame:function(C,A,B,E){this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(C,A,B,E);return this},blendFrames:function(C,A,B,E,G){this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(C,A,B,E,G);return this},blendFramesAdditive:function(C,A,B,E,G){this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(C,A,B,E,G);return this},clearFrame:function(C,A){this.UTILITY_PIPELINE.clearFrame(C,A);return this},blitFrame:function(C,A,B,E,G,I){this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(C,
A,B,E,G,I);return this},copyFrameRect:function(C,A,B,E,G,I,H,K){this.UTILITY_PIPELINE.copyFrameRect(C,A,B,E,G,I,H,K);return this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(C){return this.UTILITY_PIPELINE.bind(C)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind();this.pipelines.each(function(C,A){A.restoreContext()});y(this.postPipelineInstances,function(C){C.restoreContext()})},
rebind:function(C){void 0===C&&this.previous&&(C=this.previous);var A=this.renderer,B=A.gl;B.disable(B.DEPTH_TEST);B.disable(B.CULL_FACE);A.hasActiveStencilMask()?B.clear(B.DEPTH_BUFFER_BIT):(B.disable(B.STENCIL_TEST),B.clear(B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT));B.viewport(0,0,A.width,A.height);A.currentProgram=null;A.setBlendMode(0,!0);(A=A.vaoExtension)&&A.bindVertexArrayOES(null);A=this.pipelines.entries;for(var E in A)A[E].glReset=!0;C&&(this.current=C,C.rebind())},clear:function(){var C=
this.renderer;this.flush();this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null;C.currentProgram=null;C.setBlendMode(0,!0);(C=C.vaoExtension)&&C.bindVertexArrayOES(null)},getRenderTarget:function(C){var A=this.renderTargets;if(C>this.maxDimension)return this.targetIndex=A.length-3,A[this.targetIndex];this.targetIndex=C=3*(h(C,this.frameInc,0,!0)-1);return A[C]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+
2]},destroy:function(){this.flush();this.classes.clear();this.postPipelineClasses.clear();this.pipelines.clear();this.previous=this.current=this.default=this.pipelines=this.postPipelineClasses=this.classes=this.game=this.renderer=null}});r.exports=a},32302:(r,p,a)=>{p=a(83419);var m=a(92503);a=new p({initialize:function(g,d,b,e,h,c,l,f,k){void 0===e&&(e=1);void 0===h&&(h=0);void 0===c&&(c=!0);void 0===l&&(l=!1);void 0===f&&(f=!0);void 0===k&&(k=!0);this.renderer=g;this.texture=this.framebuffer=null;
this.height=this.width=0;this.scale=e;this.minFilter=h;this.autoClear=c;this.autoResize=!0;this.hasDepthBuffer=f;this.forceClamp=k;this.resize(d,b);l?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(g){g&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!g&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1);return this},resize:function(g,d){g=Math.round(g*this.scale);d=Math.round(d*this.scale);0>=g&&(g=1);0>=d&&(d=1);
if(this.autoResize&&(g!==this.width||d!==this.height)){var b=this.renderer;b.deleteFramebuffer(this.framebuffer);b.deleteTexture(this.texture);this.texture=b.createTextureFromSource(null,g,d,this.minFilter,this.forceClamp);this.framebuffer=b.createFramebuffer(g,d,this.texture,this.hasDepthBuffer);this.width=g;this.height=d}return this},willResize:function(g,d){g=Math.round(g*this.scale);d=Math.round(d*this.scale);0>=g&&(g=1);0>=d&&(d=1);return g!==this.width||d!==this.height},bind:function(g,d,b){void 0===
g&&(g=!1);var e=this.renderer;g&&e.flush();d&&b&&this.resize(d,b);e.pushFramebuffer(this.framebuffer,!1,!1);g&&this.adjustViewport();this.autoClear&&(g=this.renderer.gl,g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT));e.clearStencilMask()},adjustViewport:function(){var g=this.renderer.gl;g.viewport(0,0,this.width,this.height);g.disable(g.SCISSOR_TEST)},clear:function(){var g=this.renderer,d=g.gl;g.pushFramebuffer(this.framebuffer);d.disable(d.SCISSOR_TEST);d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);
g.popFramebuffer();g.resetScissor()},unbind:function(g){void 0===g&&(g=!1);var d=this.renderer;g&&d.flush();return d.popFramebuffer()},destroy:function(){var g=this.renderer;g.off(m.RESIZE,this.resize,this);g.deleteFramebuffer(this.framebuffer);g.deleteTexture(this.texture);this.texture=this.framebuffer=this.renderer=null}});r.exports=a},70554:r=>{r.exports={getTintFromFloats:function(p,a,m,g){return(((255*g|0)&255)<<24|((255*p|0)&255)<<16|((255*a|0)&255)<<8|(255*m|0)&255)>>>0},getTintAppendFloatAlpha:function(p,
a){return(((255*a|0)&255)<<24|p)>>>0},getTintAppendFloatAlphaAndSwap:function(p,a){return(((255*a|0)&255)<<24|((p|0)&255)<<16|((p>>8|0)&255)<<8|(p>>16|0)&255)>>>0},getFloatsFromUintRGB:function(p){return[((p>>16|0)&255)/255,((p>>8|0)&255)/255,((p|0)&255)/255]},checkShaderMax:function(p,a){p=Math.min(16,p.getParameter(p.MAX_TEXTURE_IMAGE_UNITS));return a&&-1!==a?Math.min(p,a):p},parseFragmentShaderMaxTextures:function(p,a){if(!p)return"";for(var m="",g=0;g<a;g++)0<g&&(m+="\n\telse "),g<a-1&&(m+="if (outTexId \x3c "+
g+".5)"),m+="\n\t{",m+="\n\t\ttexture \x3d texture2D(uMainSampler["+g+"], outTexCoord);",m+="\n\t}";p=p.replace(/%count%/gi,a.toString());return p.replace(/%forloop%/gi,m)},setGlowQuality:function(p,a,m,g){void 0===m&&(m=a.config.glowFXQuality);void 0===g&&(g=a.config.glowFXDistance);p=p.replace(/__SIZE__/gi,(1/m/g).toFixed(7));return p=p.replace(/__DIST__/gi,g.toFixed(0)+".0")}}},29100:(r,p,a)=>{p=a(83419);var m=a(62644),g=a(50792),d=a(77085),b=a(95540),e=a(37867),h=a(92503),c=a(32302),l=a(70554),
f=a(38683);a=new p({Extends:g,initialize:function(k){g.call(this);var n=k.game,q=n.renderer,t=q.gl;this.name=b(k,"name","WebGLPipeline");this.game=n;this.renderer=q;this.gl=t;this.view=n.canvas;this.vertexCapacity=this.vertexCount=this.height=this.width=0;this.topology=b(k,"topology",t.TRIANGLES);this.active=!0;this.forceZero=b(k,"forceZero",!1);this.isPreFX=this.isPostFX=this.hasBooted=!1;this.renderTargets=[];this.shaders=[];this.projectionHeight=this.projectionWidth=0;this.config=k;this.glReset=
!1;this.batch=[];this.currentTexture=this.currentBatch=null;this.currentUnit=0;this.activeTextures=[];this.resizeUniform=b(k,"resizeUniform","")},boot:function(){var k,n=this.gl,q=this.config,t=this.renderer;this.isPostFX||(this.projectionMatrix=(new e).identity());var v=this.renderTargets,u=b(q,"renderTarget",!1);"boolean"===typeof u&&u&&(u=1);var x=t.width,w=t.height;if("number"===typeof u)for(k=0;k<u;k++)v.push(new c(t,x,w,1,0,!0));else if(Array.isArray(u))for(k=0;k<u.length;k++){var y=b(u[k],
"scale",1),z=b(u[k],"minFilter",0),C=b(u[k],"autoClear",1),A=b(u[k],"autoResize",!1),B=b(u[k],"width",null),E=b(u[k],"height",B);B?v.push(new c(t,B,E,1,z,C,A)):v.push(new c(t,x,w,y,z,C,A))}v.length&&(this.currentRenderTarget=v[0]);this.setShadersFromConfig(q);v=this.shaders;for(k=u=0;k<v.length;k++)v[k].vertexSize>u&&(u=v[k].vertexSize);this.vertexCapacity=6*b(q,"batchSize",t.config.batchSize);this.vertexData=k=new ArrayBuffer(this.vertexCapacity*u);this.bytes=new Uint8Array(k);this.vertexViewF32=
new Float32Array(k);this.vertexViewU32=new Uint32Array(k);(q=b(q,"vertices",null))?(this.vertexViewF32.set(q),this.vertexBuffer=t.createVertexBuffer(k,n.STATIC_DRAW)):this.vertexBuffer=t.createVertexBuffer(k.byteLength,n.DYNAMIC_DRAW);this.setVertexBuffer();for(k=v.length-1;0<=k;k--)v[k].rebind();this.hasBooted=!0;t.on(h.RESIZE,this.resize,this);t.on(h.PRE_RENDER,this.onPreRender,this);t.on(h.RENDER,this.onRender,this);t.on(h.POST_RENDER,this.onPostRender,this);this.emit(d.BOOT,this);this.onBoot()},
onBoot:function(){},onResize:function(){},setShader:function(k,n,q){var t=this.renderer;if(k!==this.currentShader||t.currentProgram!==this.currentShader.program)this.flush(),this.setVertexBuffer(q)&&!n&&(n=!0),k.bind(n,!1),this.currentShader=k;return this},getShaderByName:function(k){for(var n=this.shaders,q=0;q<n.length;q++)if(n[q].name===k)return n[q]},setShadersFromConfig:function(k){var n,q=this.shaders,t=this.renderer;for(n=0;n<q.length;n++)q[n].destroy();q=b(k,"vertShader",null);var v=l.parseFragmentShaderMaxTextures(b(k,
"fragShader",null),t.maxTextures),u=b(k,"attributes",null);k=b(k,"shaders",[]);var x=k.length;if(0===x)q&&v&&(this.shaders=[new f(this,"default",q,v,m(u))]);else{var w=[];for(n=0;n<x;n++){var y=k[n];if("string"===typeof y){var z="default";var C=q;var A=l.parseFragmentShaderMaxTextures(y,t.maxTextures);y=u}else z=b(y,"name","default"),C=b(y,"vertShader",q),A=l.parseFragmentShaderMaxTextures(b(y,"fragShader",v),t.maxTextures),y=b(y,"attributes",u);if("default"===z){var B=A.split("\n")[0].trim();-1<
B.indexOf("#define SHADER_NAME")&&(z=B.substring(20))}C&&A&&w.push(new f(this,z,C,A,m(y)))}this.shaders=w}0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0];return this},createBatch:function(k){this.currentBatch={start:this.vertexCount,count:0,texture:[k],unit:0,maxUnit:0};this.currentUnit=0;this.currentTexture=k;this.batch.push(this.currentBatch);return 0},addTextureToBatch:function(k){var n=this.currentBatch;n&&(n.texture.push(k),
n.unit++,n.maxUnit++)},pushBatch:function(k){if(!this.currentBatch||this.forceZero&&k!==this.currentTexture)return this.createBatch(k);if(k===this.currentTexture)return this.currentUnit;var n=this.currentBatch,q=n.texture.indexOf(k);if(-1===q){if(n.texture.length===this.renderer.maxTextures)return this.createBatch(k);n.unit++;n.maxUnit++;n.texture.push(k);this.currentUnit=n.unit;this.currentTexture=k;return n.unit}this.currentUnit=q;this.currentTexture=k;return q},setGameObject:function(k,n){void 0===
n&&(n=k.frame);return this.pushBatch(n.source.glTexture)},shouldFlush:function(k){void 0===k&&(k=0);return this.vertexCount+k>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(k,n){k===this.width&&n===this.height||this.flush();this.width=k;this.height=n;for(var q=this.renderTargets,t=0;t<q.length;t++)q[t].resize(k,n);this.setProjectionMatrix(k,n);this.resizeUniform&&this.set2f(this.resizeUniform,k,n);this.emit(d.RESIZE,k,n,this);this.onResize(k,
n);return this},setProjectionMatrix:function(k,n){var q=this.projectionMatrix;if(!q)return this;this.projectionWidth=k;this.projectionHeight=n;q.ortho(0,k,n,0,-1E3,1E3);k=this.shaders;for(n=0;n<k.length;n++){var t=k[n];t.hasUniform("uProjectionMatrix")&&(t.resetUniform("uProjectionMatrix"),t.setMatrix4fv("uProjectionMatrix",!1,q.val,t))}return this},flipProjectionMatrix:function(k){void 0===k&&(k=!0);var n=this.projectionMatrix;if(!n)return this;var q=this.projectionWidth,t=this.projectionHeight;
k?n.ortho(0,q,0,t,-1E3,1E3):n.ortho(0,q,t,0,-1E3,1E3);this.setMatrix4fv("uProjectionMatrix",!1,n.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var k=this.renderer.projectionWidth,n=this.renderer.projectionHeight;this.projectionWidth===k&&this.projectionHeight===n||this.setProjectionMatrix(k,n)}},bind:function(k){void 0===k&&(k=this.currentShader);if(this.glReset)return this.rebind(k);var n=!1,q=this.gl;q.getParameter(q.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(q.bindBuffer(q.ARRAY_BUFFER,
this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,n=!0);k.bind(n);this.currentShader=k;this.activeTextures.length=0;this.emit(d.BIND,this,k);this.onActive(k);return this},rebind:function(k){this.activeBuffer=null;this.setVertexBuffer();for(var n=this.shaders,q=n.length-1;0<=q;q--){var t=n[q].rebind();k&&t!==k||(this.currentShader=t)}this.activeTextures.length=0;this.emit(d.REBIND,this.currentShader);this.onActive(this.currentShader);this.onRebind();this.glReset=!1;return this},restoreContext:function(){var k=
this.shaders,n=!!this.vertexBuffer;this.activeBuffer=null;this.activeTextures.length=0;this.batch.length=0;this.currentTexture=this.currentBatch=null;this.currentUnit=0;n&&this.setVertexBuffer();for(var q=0;q<k.length;q++){var t=k[q];t.syncUniforms();n&&t.rebind()}},setVertexBuffer:function(k){void 0===k&&(k=this.vertexBuffer);return k!==this.activeBuffer?(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,k.webGLBuffer),this.activeBuffer=k,!0):!1},preBatch:function(k){this.currentRenderTarget&&this.currentRenderTarget.bind();
this.onPreBatch(k);return this},postBatch:function(k){this.onDraw(this.currentRenderTarget);this.onPostBatch(k);return this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(k){void 0===k&&(k=!1);if(0<this.vertexCount){this.emit(d.BEFORE_FLUSH,this,k);this.onBeforeFlush(k);var n=this.gl,q=this.vertexCount,t=this.currentShader.vertexSize,v=this.topology;if(this.active){this.setVertexBuffer();q===this.vertexCapacity?n.bufferData(n.ARRAY_BUFFER,
this.vertexData,n.DYNAMIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,this.bytes.subarray(0,q*t));var u=this.batch,x=this.activeTextures;if(this.forceZero)for(x[0]||n.activeTexture(n.TEXTURE0),q=0;q<u.length;q++){t=u[q];var w=t.texture[0];x[0]!==w&&(n.bindTexture(n.TEXTURE_2D,w.webGLTexture),x[0]=w);n.drawArrays(v,t.start,t.count)}else for(q=0;q<u.length;q++){t=u[q];for(var y=0;y<=t.maxUnit;y++)w=t.texture[y],x[y]!==w&&(n.activeTexture(n.TEXTURE0+y),n.bindTexture(n.TEXTURE_2D,w.webGLTexture),x[y]=w);n.drawArrays(v,
t.start,t.count)}}this.vertexCount=0;this.batch.length=0;this.currentTexture=this.currentBatch=null;this.currentUnit=0;this.emit(d.AFTER_FLUSH,this,k);this.onAfterFlush(k)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(k,n,q,t,v,u,x){var w=this.vertexViewF32,
y=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;w[++z]=k;w[++z]=n;w[++z]=q;w[++z]=t;w[++z]=v;w[++z]=u;y[++z]=x;this.vertexCount++;this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(k,n,q,t,v,u,x,w,y,z,C,A,B,E,G,I,H,K,L,M){void 0===M&&(M=this.currentUnit);var P=!1;this.shouldFlush(6)&&(this.flush(),P=!0);this.currentBatch||(M=this.setTexture2D(L));L=this.vertexViewF32;var D=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-
1;L[++F]=n;L[++F]=q;L[++F]=z;L[++F]=C;L[++F]=M;L[++F]=K;D[++F]=E;L[++F]=t;L[++F]=v;L[++F]=z;L[++F]=B;L[++F]=M;L[++F]=K;D[++F]=I;L[++F]=u;L[++F]=x;L[++F]=A;L[++F]=B;L[++F]=M;L[++F]=K;D[++F]=H;L[++F]=n;L[++F]=q;L[++F]=z;L[++F]=C;L[++F]=M;L[++F]=K;D[++F]=E;L[++F]=u;L[++F]=x;L[++F]=A;L[++F]=B;L[++F]=M;L[++F]=K;D[++F]=H;L[++F]=w;L[++F]=y;L[++F]=A;L[++F]=C;L[++F]=M;L[++F]=K;D[++F]=G;this.vertexCount+=6;this.currentBatch.count=this.vertexCount-this.currentBatch.start;this.onBatch(k);return P},batchTri:function(k,
n,q,t,v,u,x,w,y,z,C,A,B,E,G,I,H){void 0===H&&(H=this.currentUnit);var K=!1;this.shouldFlush(3)&&(this.flush(),K=!0);this.currentBatch||(H=this.setTexture2D(I));I=this.vertexViewF32;var L=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;I[++M]=n;I[++M]=q;I[++M]=w;I[++M]=y;I[++M]=H;I[++M]=G;L[++M]=A;I[++M]=t;I[++M]=v;I[++M]=w;I[++M]=C;I[++M]=H;I[++M]=G;L[++M]=B;I[++M]=u;I[++M]=x;I[++M]=z;I[++M]=C;I[++M]=H;I[++M]=G;L[++M]=E;this.vertexCount+=3;this.currentBatch.count=this.vertexCount-
this.currentBatch.start;this.onBatch(k);return K},drawFillRect:function(k,n,q,t,v,u,x,w){void 0===x&&(x=this.renderer.whiteTexture);void 0===w&&(w=!0);k=Math.floor(k);n=Math.floor(n);q=Math.floor(k+q);t=Math.floor(n+t);var y=this.setTexture2D(x);v=l.getTintAppendFloatAlphaAndSwap(v,u);u=0;var z=1;w&&(u=1,z=0);this.batchQuad(null,k,n,k,t,q,t,q,n,0,u,1,z,v,v,v,v,0,x,y)},setTexture2D:function(k){void 0===k&&(k=this.renderer.whiteTexture);return this.pushBatch(k)},bindTexture:function(k,n){void 0===n&&
(n=0);var q=this.gl;q.activeTexture(q.TEXTURE0+n);q.bindTexture(q.TEXTURE_2D,k.webGLTexture);return this},bindRenderTarget:function(k,n){return this.bindTexture(k.texture,n)},setTime:function(k,n){this.set1f(k,this.game.loop.getDuration(),n);return this},setBoolean:function(k,n,q){void 0===q&&(q=this.currentShader);q.setBoolean(k,n);return this},set1f:function(k,n,q){void 0===q&&(q=this.currentShader);q.set1f(k,n);return this},set2f:function(k,n,q,t){void 0===t&&(t=this.currentShader);t.set2f(k,n,
q);return this},set3f:function(k,n,q,t,v){void 0===v&&(v=this.currentShader);v.set3f(k,n,q,t);return this},set4f:function(k,n,q,t,v,u){void 0===u&&(u=this.currentShader);u.set4f(k,n,q,t,v);return this},set1fv:function(k,n,q){void 0===q&&(q=this.currentShader);q.set1fv(k,n);return this},set2fv:function(k,n,q){void 0===q&&(q=this.currentShader);q.set2fv(k,n);return this},set3fv:function(k,n,q){void 0===q&&(q=this.currentShader);q.set3fv(k,n);return this},set4fv:function(k,n,q){void 0===q&&(q=this.currentShader);
q.set4fv(k,n);return this},set1iv:function(k,n,q){void 0===q&&(q=this.currentShader);q.set1iv(k,n);return this},set2iv:function(k,n,q){void 0===q&&(q=this.currentShader);q.set2iv(k,n);return this},set3iv:function(k,n,q){void 0===q&&(q=this.currentShader);q.set3iv(k,n);return this},set4iv:function(k,n,q){void 0===q&&(q=this.currentShader);q.set4iv(k,n);return this},set1i:function(k,n,q){void 0===q&&(q=this.currentShader);q.set1i(k,n);return this},set2i:function(k,n,q,t){void 0===t&&(t=this.currentShader);
t.set2i(k,n,q);return this},set3i:function(k,n,q,t,v){void 0===v&&(v=this.currentShader);v.set3i(k,n,q,t);return this},set4i:function(k,n,q,t,v,u){void 0===u&&(u=this.currentShader);u.set4i(k,n,q,t,v);return this},setMatrix2fv:function(k,n,q,t){void 0===t&&(t=this.currentShader);t.setMatrix2fv(k,n,q);return this},setMatrix3fv:function(k,n,q,t){void 0===t&&(t=this.currentShader);t.setMatrix3fv(k,n,q);return this},setMatrix4fv:function(k,n,q,t){void 0===t&&(t=this.currentShader);t.setMatrix4fv(k,n,
q);return this},destroy:function(){this.emit(d.DESTROY,this);var k,n=this.shaders;for(k=0;k<n.length;k++)n[k].destroy();n=this.renderTargets;for(k=0;k<n.length;k++)n[k].destroy();k=this.renderer;k.deleteBuffer(this.vertexBuffer);k.off(h.RESIZE,this.resize,this);k.off(h.PRE_RENDER,this.onPreRender,this);k.off(h.RENDER,this.onRender,this);k.off(h.POST_RENDER,this.onPostRender,this);this.removeAllListeners();this.activeTextures=this.currentRenderTarget=this.currentShader=this.vertexBuffer=this.vertexData=
this.vertexViewU32=this.vertexViewF32=this.bytes=this.renderTargets=this.shaders=this.view=this.gl=this.manager=this.renderer=this.game=null;return this}});r.exports=a},74797:(r,p,a)=>{var m=a(95428),g=a(72905),d=a(19715);p=a(83419);var b=a(8054),e=a(50792),h=a(92503),c=a(50030),l=a(37867),f=a(29747),k=a(7530),n=a(32302),q=a(97480),t=a(69442),v=a(70554),u=a(88815),x=a(26128),w=a(1482),y=a(82751),z=a(84387),C=a(93567),A=a(57183);a=new p({Extends:e,initialize:function(B){e.call(this);var E=B.config;
this.config={clearBeforeRender:E.clearBeforeRender,antialias:E.antialias,backgroundColor:E.backgroundColor,contextCreation:{alpha:E.transparent,desynchronized:E.desynchronized,depth:!0,antialias:E.antialiasGL,premultipliedAlpha:E.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:E.failIfMajorPerformanceCaveat,powerPreference:E.powerPreference,preserveDrawingBuffer:E.preserveDrawingBuffer,willReadFrequently:!1},roundPixels:E.roundPixels,maxTextures:E.maxTextures,maxTextureSize:E.maxTextureSize,
batchSize:E.batchSize,maxLights:E.maxLights,mipmapFilter:E.mipmapFilter};this.game=B;this.type=b.WEBGL;this.pipelines=null;this.height=this.width=0;this.canvas=B.canvas;this.blendModes=[];this.contextLost=!1;this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0};this.maxTextures=0;this.glBufferWrappers=[];this.glProgramWrappers=[];this.glTextureWrappers=[];this.glFramebufferWrappers=[];this.glAttribLocationWrappers=
[];this.glUniformLocationWrappers=[];this.currentFramebuffer=null;this.fboStack=[];this.currentProgram=null;this.currentBlendMode=Infinity;this.currentScissorEnabled=!1;this.currentScissor=null;this.scissorStack=[];this.contextRestoredHandler=this.contextLostHandler=f;this.vaoExtension=this.instancedArraysExtension=this.supportedExtensions=this.gl=null;this.extensions={};this.drawingBufferHeight=0;this.whiteTexture=this.normalTexture=this.blankTexture=null;this.maskCount=0;this.maskStack=[];this.currentMask=
{mask:null,camera:null};this.currentCameraMask={mask:null,camera:null};this.glFuncMap=null;this.currentType="";this.finalType=this.nextTypeMatch=this.newType=!1;this.mipmapFilter=null;this.defaultScissor=[0,0,0,0];this.isBooted=!1;this.renderTarget=null;this.projectionHeight=this.projectionWidth=0;this.spector=this.maskTarget=this.maskSource=null;this._debugCapture=!1;this.init(this.config)},init:function(B){var E=this.game,G=this.canvas,I=B.backgroundColor;var H=E.config.context?E.config.context:
G.getContext("webgl",B.contextCreation)||G.getContext("experimental-webgl",B.contextCreation);if(!H||H.isContextLost())throw this.contextLost=!0,Error("WebGL unsupported");this.gl=H;var K=this,L=function(){var M=H.getSupportedExtensions();K.supportedExtensions=M;K.instancedArraysExtension=-1<M.indexOf("ANGLE_instanced_arrays")?H.getExtension("ANGLE_instanced_arrays"):null;K.vaoExtension=-1<M.indexOf("OES_vertex_array_object")?H.getExtension("OES_vertex_array_object"):null};L();this.contextLostHandler=
function(M){K.contextLost=!0;console&&console.warn("WebGL Context lost. Renderer disabled");K.emit(h.LOSE_WEBGL,K);M.preventDefault()};G.addEventListener("webglcontextlost",this.contextLostHandler,!1);this.contextRestoredHandler=function(M){if(H.isContextLost())console&&console.log("WebGL Context restored, but context is still lost");else{K.currentProgram=null;K.currentFramebuffer=null;K.setBlendMode(b.BlendModes.NORMAL);H.disable(H.BLEND);H.disable(H.DEPTH_TEST);H.enable(H.CULL_FACE);K.compression=
K.getCompressedTextures();var P=function(D){D.createResource()};m(K.glTextureWrappers,P);m(K.glBufferWrappers,P);m(K.glFramebufferWrappers,P);m(K.glProgramWrappers,P);m(K.glAttribLocationWrappers,P);m(K.glUniformLocationWrappers,P);K.createTemporaryTextures();K.pipelines.restoreContext();K.resize(K.game.scale.baseSize.width,K.game.scale.baseSize.height);L();K.contextLost=!1;console&&console.warn("WebGL Context restored. Renderer running again.");K.emit(h.RESTORE_WEBGL,K);M.preventDefault()}};G.addEventListener("webglcontextrestored",
this.contextRestoredHandler,!1);E.context=H;for(G=0;27>=G;G++)this.blendModes.push({func:[H.ONE,H.ONE_MINUS_SRC_ALPHA],equation:H.FUNC_ADD});this.blendModes[1].func=[H.ONE,H.DST_ALPHA];this.blendModes[2].func=[H.DST_COLOR,H.ONE_MINUS_SRC_ALPHA];this.blendModes[3].func=[H.ONE,H.ONE_MINUS_SRC_COLOR];this.blendModes[17]={func:[H.ZERO,H.ONE_MINUS_SRC_ALPHA],equation:H.FUNC_REVERSE_SUBTRACT};this.glFormats=[H.BYTE,H.SHORT,H.UNSIGNED_BYTE,H.UNSIGNED_SHORT,H.FLOAT];this.glFuncMap={mat2:{func:H.uniformMatrix2fv,
length:1,matrix:!0},mat3:{func:H.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:H.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:H.uniform1f,length:1},"1fv":{func:H.uniform1fv,length:1},"1i":{func:H.uniform1i,length:1},"1iv":{func:H.uniform1iv,length:1},"2f":{func:H.uniform2f,length:2},"2fv":{func:H.uniform2fv,length:1},"2i":{func:H.uniform2i,length:2},"2iv":{func:H.uniform2iv,length:1},"3f":{func:H.uniform3f,length:3},"3fv":{func:H.uniform3fv,length:1},"3i":{func:H.uniform3i,length:3},"3iv":{func:H.uniform3iv,
length:1},"4f":{func:H.uniform4f,length:4},"4fv":{func:H.uniform4fv,length:1},"4i":{func:H.uniform4i,length:4},"4iv":{func:H.uniform4iv,length:1}};B.maxTextures&&-1!==B.maxTextures||(B.maxTextures=H.getParameter(H.MAX_TEXTURE_IMAGE_UNITS));B.maxTextureSize||(B.maxTextureSize=H.getParameter(H.MAX_TEXTURE_SIZE));this.compression=this.getCompressedTextures();H.disable(H.DEPTH_TEST);H.disable(H.CULL_FACE);H.enable(H.BLEND);H.clearColor(I.redGL,I.greenGL,I.blueGL,I.alphaGL);-1!=="NEAREST LINEAR NEAREST_MIPMAP_NEAREST LINEAR_MIPMAP_NEAREST NEAREST_MIPMAP_LINEAR LINEAR_MIPMAP_LINEAR".split(" ").indexOf(B.mipmapFilter)&&
(this.mipmapFilter=H[B.mipmapFilter]);this.maxTextures=v.checkShaderMax(H,B.maxTextures);this.textureIndexes=[];this.createTemporaryTextures();this.pipelines=new k(this);this.setBlendMode(b.BlendModes.NORMAL);this.projectionMatrix=(new l).identity();E.textures.once(t.READY,this.boot,this);return this},boot:function(){var B=this.game,E=this.pipelines,G=B.scale.baseSize,I=G.width;G=G.height;this.width=I;this.height=G;this.isBooted=!0;this.renderTarget=new n(this,I,G,1,0,!0,!0);this.maskTarget=new n(this,
I,G,1,0,!0,!0);this.maskSource=new n(this,I,G,1,0,!0,!0);var H=B.config;E.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline);this.blankTexture=B.textures.getFrame("__DEFAULT").glTexture;this.normalTexture=B.textures.getFrame("__NORMAL").glTexture;this.whiteTexture=B.textures.getFrame("__WHITE").glTexture;E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,null);E.enable(E.SCISSOR_TEST);B.scale.on(q.RESIZE,this.onResize,this);this.resize(I,G)},createTemporaryTextures:function(){for(var B=this.gl,E=0;E<
this.maxTextures;E++){var G=B.createTexture();B.activeTexture(B.TEXTURE0+E);B.bindTexture(B.TEXTURE_2D,G);B.texImage2D(B.TEXTURE_2D,0,B.RGBA,1,1,0,B.RGBA,B.UNSIGNED_BYTE,new Uint8Array([0,0,255,255]));this.textureIndexes.push(E)}},captureFrame:function(B,E){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(B,E,G){},stopCapture:function(){},onCapture:function(B){},onResize:function(B,E){E.width===this.width&&E.height===this.height||this.resize(E.width,E.height)},
beginCapture:function(B,E){void 0===B&&(B=this.width);void 0===E&&(E=this.height);this.renderTarget.bind(!0,B,E);this.setProjectionMatrix(B,E)},endCapture:function(){this.renderTarget.unbind(!0);this.resetProjectionMatrix();return this.renderTarget},resize:function(B,E){var G=this.gl;this.width=B;this.height=E;this.setProjectionMatrix(B,E);G.viewport(0,0,B,E);this.drawingBufferHeight=G.drawingBufferHeight;G.scissor(0,G.drawingBufferHeight-E,B,E);this.defaultScissor[2]=B;this.defaultScissor[3]=E;this.emit(h.RESIZE,
B,E);return this},getCompressedTextures:function(){var B=function(G,I){if(G=G.getExtension("WEBGL_compressed_texture_"+I)||G.getExtension("WEBKIT_WEBGL_compressed_texture_"+I)||G.getExtension("EXT_texture_compression_"+I)){I={};for(var H in G)I[G[H]]=H;return I}},E=this.gl;return{ETC:B(E,"etc"),ETC1:B(E,"etc1"),ATC:B(E,"atc"),ASTC:B(E,"astc"),BPTC:B(E,"bptc"),RGTC:B(E,"rgtc"),PVRTC:B(E,"pvrtc"),S3TC:B(E,"s3tc"),S3TCSRGB:B(E,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(B,E){B=this.compression[B.toUpperCase()];
if(E in B)return B[E]},supportsCompressedTexture:function(B,E){return(B=this.compression[B.toUpperCase()])?E?E in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(B,E){if(B!==this.projectionWidth||E!==this.projectionHeight)this.projectionWidth=B,this.projectionHeight=E,this.projectionMatrix.ortho(0,B,E,0,-1E3,1E3);return this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(B){return this.supportedExtensions?
this.supportedExtensions.indexOf(B):!1},getExtension:function(B){if(!this.hasExtension(B))return null;B in this.extensions||(this.extensions[B]=this.gl.getExtension(B));return this.extensions[B]},flush:function(){this.pipelines.flush()},pushScissor:function(B,E,G,I,H){void 0===H&&(H=this.drawingBufferHeight);var K=[B,E,G,I];this.scissorStack.push(K);this.setScissor(B,E,G,I,H);return this.currentScissor=K},setScissor:function(B,E,G,I,H){void 0===H&&(H=this.drawingBufferHeight);var K=this.gl,L=this.currentScissor,
M=0<G&&0<I;if(L&&M){M=L[1];var P=L[2],D=L[3];M=L[0]!==B||M!==E||P!==G||D!==I}M&&(this.flush(),K.scissor(B,H-E-I,G,I))},resetScissor:function(){var B=this.gl;B.enable(B.SCISSOR_TEST);var E=this.currentScissor;if(E){var G=E[0],I=E[1],H=E[2];E=E[3];0<H&&0<E&&B.scissor(G,this.drawingBufferHeight-I-E,H,E)}},popScissor:function(){var B=this.scissorStack;B.pop();(B=B[B.length-1])&&this.setScissor(B[0],B[1],B[2],B[3]);this.currentScissor=B},hasActiveStencilMask:function(){var B=this.currentMask.mask,E=this.currentCameraMask.mask;
return B&&B.isStencil||E&&E.isStencil},resetViewport:function(){var B=this.gl;B.viewport(0,0,this.width,this.height);this.drawingBufferHeight=B.drawingBufferHeight},setBlendMode:function(B,E){void 0===E&&(E=!1);var G=this.gl,I=this.blendModes[B];return E||B!==b.BlendModes.SKIP_CHECK&&this.currentBlendMode!==B?(this.flush(),G.enable(G.BLEND),G.blendEquation(I.equation),2<I.func.length?G.blendFuncSeparate(I.func[0],I.func[1],I.func[2],I.func[3]):G.blendFunc(I.func[0],I.func[1]),this.currentBlendMode=
B,!0):!1},addBlendMode:function(B,E){return this.blendModes.push({func:B,equation:E})-1},updateBlendMode:function(B,E,G){this.blendModes[B]&&(this.blendModes[B].func=E,G&&(this.blendModes[B].equation=G));return this},removeBlendMode:function(B){17<B&&this.blendModes[B]&&this.blendModes.splice(B,1);return this},pushFramebuffer:function(B,E,G,I,H){if(B===this.currentFramebuffer)return this;this.fboStack.push(B);return this.setFramebuffer(B,E,G,I,H)},setFramebuffer:function(B,E,G,I,H){void 0===E&&(E=
!1);void 0===G&&(G=!0);void 0===I&&(I=null);void 0===H&&(H=!1);if(B===this.currentFramebuffer)return this;var K=this.gl,L=this.width,M=this.height;B&&B.renderTexture&&G?(L=B.renderTexture.width,M=B.renderTexture.height):this.flush();B?K.bindFramebuffer(K.FRAMEBUFFER,B.webGLFramebuffer):K.bindFramebuffer(K.FRAMEBUFFER,null);G&&K.viewport(0,0,L,M);I&&K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,I.webGLTexture,0);H&&(K.clearColor(0,0,0,0),K.clear(K.COLOR_BUFFER_BIT));E&&(B?(this.drawingBufferHeight=
M,this.pushScissor(0,0,L,M)):(this.drawingBufferHeight=this.height,this.popScissor()));this.currentFramebuffer=B;return this},popFramebuffer:function(B,E){void 0===B&&(B=!1);void 0===E&&(E=!0);var G=this.fboStack;G.pop();(G=G[G.length-1])||(G=null);this.setFramebuffer(G,B,E);return G},restoreFramebuffer:function(B,E){void 0===B&&(B=!1);void 0===E&&(E=!0);var G=this.fboStack;(G=G[G.length-1])||(G=null);this.currentFramebuffer=null;this.setFramebuffer(G,B,E)},setProgram:function(B){return B!==this.currentProgram?
(this.flush(),this.gl.useProgram(B.webGLProgram),this.currentProgram=B,!0):!1},resetProgram:function(){this.gl.useProgram(this.currentProgram.webGLProgramWrapper);return this},createTextureFromSource:function(B,E,G,I,H){void 0===H&&(H=!1);var K=this.gl,L=K.NEAREST,M=K.NEAREST,P=K.CLAMP_TO_EDGE;E=B?B.width:E;G=B?B.height:G;var D=c(E,G);D&&!H&&(P=K.REPEAT);I===b.ScaleModes.LINEAR&&this.config.antialias&&(I=B&&B.compressed,D=!I&&D||I&&1<B.mipmaps.length,L=this.mipmapFilter&&D?this.mipmapFilter:K.LINEAR,
M=K.LINEAR);return B||"number"!==typeof E||"number"!==typeof G?this.createTexture2D(0,L,M,P,P,K.RGBA,B):this.createTexture2D(0,L,M,P,P,K.RGBA,null,E,G)},createTexture2D:function(B,E,G,I,H,K,L,M,P,D,F,J){"number"!==typeof M&&(M=L?L.width:1);"number"!==typeof P&&(P=L?L.height:1);B=new y(this.gl,B,E,G,I,H,K,L,M,P,D,F,J);this.glTextureWrappers.push(B);return B},createFramebuffer:function(B,E,G,I){this.currentFramebuffer=null;B=new z(this.gl,B,E,G,I);this.glFramebufferWrappers.push(B);return B},beginBitmapMask:function(B,
E){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==B&&(this.currentMask.mask=B,this.currentMask.camera=E))},drawBitmapMask:function(B,E,G){this.flush();this.maskSource.bind();this.setBlendMode(0,!0);B.renderWebGL(this,B,E);this.maskSource.unbind(!0);this.maskTarget.unbind();B=this.gl;(E=this.getCurrentStencilMask())?(B.enable(B.STENCIL_TEST),E.mask.applyStencil(this,E.camera,!0)):this.currentMask.mask=null;this.pipelines.set(G);B.activeTexture(B.TEXTURE0);B.bindTexture(B.TEXTURE_2D,
this.maskTarget.texture.webGLTexture);B.activeTexture(B.TEXTURE1);B.bindTexture(B.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(B,E){B=new w(this.gl,B,E);this.glProgramWrappers.push(B);return B},createVertexBuffer:function(B,E){var G=this.gl;B=new x(G,B,G.ARRAY_BUFFER,E);this.glBufferWrappers.push(B);return B},createAttribLocation:function(B,E){B=new C(this.gl,B,E);this.glAttribLocationWrappers.push(B);return B},createUniformLocation:function(B,E){B=new A(this.gl,B,E);this.glUniformLocationWrappers.push(B);
return B},createIndexBuffer:function(B,E){var G=this.gl;B=new x(G,B,G.ELEMENT_ARRAY_BUFFER,E);this.glBufferWrappers.push(B);return B},deleteTexture:function(B){if(B)return g(this.glTextureWrappers,B),B.destroy(),this},deleteFramebuffer:function(B){if(!B)return this;g(this.fboStack,B);g(this.glFramebufferWrappers,B);B.destroy();return this},deleteProgram:function(B){B&&(g(this.glProgramWrappers,B),B.destroy());return this},deleteAttribLocation:function(B){B&&(g(this.glAttribLocationWrappers,B),B.destroy());
return this},deleteUniformLocation:function(B){B&&(g(this.glUniformLocationWrappers,B),B.destroy());return this},deleteBuffer:function(B){if(!B)return this;g(this.glBufferWrappers,B);B.destroy();return this},preRenderCamera:function(B){var E=B.x,G=B.y,I=B.width,H=B.height,K=B.backgroundColor;B.emit(d.PRE_RENDER,B);this.pipelines.preBatchCamera(B);this.pushScissor(E,G,I,H);B.mask&&(this.currentCameraMask.mask=B.mask,this.currentCameraMask.camera=B._maskCamera,B.mask.preRenderWebGL(this,B,B._maskCamera));
0<K.alphaGL&&this.pipelines.setMulti().drawFillRect(E,G,I,H,v.getTintFromFloats(K.blueGL,K.greenGL,K.redGL,1),K.alphaGL)},getCurrentStencilMask:function(){var B=null,E=this.maskStack,G=this.currentCameraMask;0<E.length?B=E[E.length-1]:G.mask&&G.mask.isStencil&&(B=G);return B},postRenderCamera:function(B){var E=B.flashEffect,G=B.fadeEffect;if(E.isRunning||G.isRunning||G.isComplete){var I=this.pipelines.setMulti();E.postRenderWebGL(I,v.getTintFromFloats);G.postRenderWebGL(I,v.getTintFromFloats)}B.dirty=
!1;this.popScissor();B.mask&&(this.currentCameraMask.mask=null,B.mask.postRenderWebGL(this,B._maskCamera));this.pipelines.postBatchCamera(B);B.emit(d.POST_RENDER,B)},preRender:function(){if(!this.contextLost){var B=this.gl;B.bindFramebuffer(B.FRAMEBUFFER,null);if(this.config.clearBeforeRender){var E=this.config.backgroundColor;B.clearColor(E.redGL,E.greenGL,E.blueGL,E.alphaGL);B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)}B.enable(B.SCISSOR_TEST);this.currentScissor=this.defaultScissor;
this.scissorStack.length=0;this.scissorStack.push(this.currentScissor);this.game.scene.customViewports&&B.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height);this.currentMask.mask=null;this.currentCameraMask.mask=null;this.maskStack.length=0;this.emit(h.PRE_RENDER)}},render:function(B,E,G){if(!this.contextLost){var I=E.length;this.emit(h.RENDER,B,G);this.preRenderCamera(G);if(0!==I){this.currentType="";for(B=0;B<I;B++){this.finalType=B===I-1;var H=E[B],K=H.mask;var L=this.currentMask;
L.mask&&L.mask!==K&&L.mask.postRenderWebGL(this,L.camera);K&&L.mask!==K&&K.preRenderWebGL(this,H,G);H.blendMode!==this.currentBlendMode&&this.setBlendMode(H.blendMode);L=H.type;L!==this.currentType&&(this.newType=!0,this.currentType=L);this.nextTypeMatch=this.finalType?!1:E[B+1].type===this.currentType;H.renderWebGL(this,H,G);this.newType=!1}L=this.currentMask;L.mask&&L.mask.postRenderWebGL(this,L.camera)}this.setBlendMode(b.BlendModes.NORMAL);this.postRenderCamera(G)}},postRender:function(){if(!this.contextLost){this.flush();
this.emit(h.POST_RENDER);var B=this.snapshotState;B.callback&&(u(this.gl,B),B.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var B=this.gl,E=this.getCurrentStencilMask();E&&(E=E.mask,B.enable(B.STENCIL_TEST),E.invertAlpha?B.stencilFunc(B.NOTEQUAL,E.level,255):B.stencilFunc(B.EQUAL,E.level,255))},snapshot:function(B,E,G){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,B,E,G)},snapshotArea:function(B,
E,G,I,H,K,L){var M=this.snapshotState;M.callback=H;M.type=K;M.encoder=L;M.getPixel=!1;M.x=B;M.y=E;M.width=G;M.height=I;return this},snapshotPixel:function(B,E,G){this.snapshotArea(B,E,1,1,G);this.snapshotState.getPixel=!0;return this},snapshotFramebuffer:function(B,E,G,I,H,K,L,M,P,D,F){void 0===H&&(H=!1);void 0===K&&(K=0);void 0===L&&(L=0);void 0===M&&(M=E);void 0===P&&(P=G);"pixel"===D&&(H=!0,D="image/png");var J=this.currentFramebuffer;this.snapshotArea(K,L,M,P,I,D,F);I=this.snapshotState;I.getPixel=
H;I.isFramebuffer=!0;I.bufferWidth=E;I.bufferHeight=G;I.width=Math.min(I.width,E);I.height=Math.min(I.height,G);this.setFramebuffer(B);u(this.gl,I);this.setFramebuffer(J);I.callback=null;I.isFramebuffer=!1;return this},canvasToTexture:function(B,E,G,I){void 0===G&&(G=!1);void 0===I&&(I=!1);var H=this.gl,K=H.NEAREST,L=H.NEAREST,M=B.width,P=B.height,D=H.CLAMP_TO_EDGE,F=c(M,P);!G&&F&&(D=H.REPEAT);this.config.antialias&&(K=F&&this.mipmapFilter?this.mipmapFilter:H.LINEAR,L=H.LINEAR);return E?(E.update(B,
M,P,I,D,D,K,L,E.format),E):this.createTexture2D(0,K,L,D,D,H.RGBA,B,M,P,!0,!1,I)},createCanvasTexture:function(B,E,G){void 0===E&&(E=!1);void 0===G&&(G=!1);return this.canvasToTexture(B,null,E,G)},updateCanvasTexture:function(B,E,G,I){void 0===G&&(G=!1);void 0===I&&(I=!1);return this.canvasToTexture(B,E,I,G)},videoToTexture:function(B,E,G,I){void 0===G&&(G=!1);void 0===I&&(I=!1);var H=this.gl,K=H.NEAREST,L=H.NEAREST,M=B.videoWidth,P=B.videoHeight,D=H.CLAMP_TO_EDGE,F=c(M,P);!G&&F&&(D=H.REPEAT);this.config.antialias&&
(K=F&&this.mipmapFilter?this.mipmapFilter:H.LINEAR,L=H.LINEAR);return E?(E.update(B,M,P,I,D,D,K,L,E.format),E):this.createTexture2D(0,K,L,D,D,H.RGBA,B,M,P,!0,!0,I)},createVideoTexture:function(B,E,G){void 0===E&&(E=!1);void 0===G&&(G=!1);return this.videoToTexture(B,null,E,G)},updateVideoTexture:function(B,E,G,I){void 0===G&&(G=!1);void 0===I&&(I=!1);return this.videoToTexture(B,E,I,G)},createUint8ArrayTexture:function(B,E,G){var I=this.gl,H=I.NEAREST,K=I.NEAREST,L=I.CLAMP_TO_EDGE;c(E,G)&&(L=I.REPEAT);
return this.createTexture2D(0,H,K,L,L,I.RGBA,B,E,G)},setTextureFilter:function(B,E){var G=this.gl;E=0===E?G.LINEAR:G.NEAREST;G.activeTexture(G.TEXTURE0);var I=G.getParameter(G.TEXTURE_BINDING_2D);G.bindTexture(G.TEXTURE_2D,B.webGLTexture);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,E);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,E);B.minFilter=E;B.magFilter=E;I&&G.bindTexture(G.TEXTURE_2D,I);return this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",
this.contextLostHandler,!1);this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var B=function(E){E.destroy()};m(this.glAttribLocationWrappers,B);m(this.glBufferWrappers,B);m(this.glFramebufferWrappers,B);m(this.glProgramWrappers,B);m(this.glTextureWrappers,B);m(this.glUniformLocationWrappers,B);this.maskTarget.destroy();this.maskSource.destroy();this.pipelines.destroy();this.removeAllListeners();this.fboStack=[];this.maskStack=[];this.extensions={};this.textureIndexes=
[];this.canvas=this.game=this.gl=null;this.contextLost=!0;this.currentCameraMask=this.currentMask=null}});r.exports=a},38683:(r,p,a)=>{p=a(83419);var m=a(95428),g=a(95540),d=a(14500);a=new p({initialize:function(b,e,h,c,l){this.pipeline=b;this.name=e;this.renderer=b.renderer;this.gl=this.renderer.gl;this.fragSrc=c;this.vertSrc=h;this.program=this.renderer.createProgram(h,c);this.vertexSize=this.vertexComponentCount=0;this.uniforms={};this.createAttributes(l);this.createUniforms()},createAttributes:function(b){for(var e=
0,h=0,c=[],l=this.vertexComponentCount=0;l<b.length;l++){var f=b[l],k=f.name,n=g(f,"size",1),q=g(f,"type",d.FLOAT),t=q.size;c.push({name:k,size:n,type:q.enum,normalized:f.normalized?!0:!1,offset:h,enabled:!1,location:-1});4===t?e+=n:e++;h+=n*t}this.vertexSize=h;this.vertexComponentCount=e;this.attributes=c},bind:function(b,e){void 0===b&&(b=!1);void 0===e&&(e=!1);e&&this.pipeline.flush();this.renderer.setProgram(this.program);b&&this.setAttribPointers();return this},rebind:function(){this.renderer.setProgram(this.program);
this.setAttribPointers(!0);return this},setAttribPointers:function(b){void 0===b&&(b=!1);for(var e=this.gl,h=this.renderer,c=this.vertexSize,l=this.attributes,f=this.program,k=0;k<l.length;k++){var n=l[k],q=n.size,t=n.type,v=n.offset,u=n.enabled,x=n.location,w=n.normalized?!0:!1;b?(-1!==x&&h.deleteAttribLocation(x),u=this.renderer.createAttribLocation(f,n.name),0<=u.webGLAttribLocation?(e.enableVertexAttribArray(u.webGLAttribLocation),e.vertexAttribPointer(u.webGLAttribLocation,q,t,w,c,v),n.enabled=
!0,n.location=u):-1!==u.webGLAttribLocation&&e.disableVertexAttribArray(u.webGLAttribLocation)):u?e.vertexAttribPointer(x.webGLAttribLocation,q,t,w,c,v):!u&&-1!==x&&-1<x.webGLAttribLocation&&(e.disableVertexAttribArray(x.webGLAttribLocation),n.location=-1)}return this},createUniforms:function(){var b=this.gl,e=this.program,h=this.uniforms,c,l,f=b.getProgramParameter(e.webGLProgram,b.ACTIVE_UNIFORMS);for(c=0;c<f;c++)if(l=b.getActiveUniform(e.webGLProgram,c)){l=l.name;var k=this.renderer.createUniformLocation(e,
l);null!==k&&(h[l]={name:l,location:k,setter:null,value1:null,value2:null,value3:null,value4:null});k=l.indexOf("[");0<k&&(l=l.substr(0,k),h.hasOwnProperty(l)||(k=this.renderer.createUniformLocation(e,l),null!==k&&(h[l]={name:l,location:k,setter:null,value1:null,value2:null,value3:null,value4:null})))}return this},syncUniforms:function(){var b=this.gl;this.renderer.setProgram(this.program);for(var e in this.uniforms){var h=this.uniforms[e];h.setter&&h.setter.call(b,h.location.webGLUniformLocation,
h.value1,h.value2,h.value3,h.value4)}},hasUniform:function(b){return this.uniforms.hasOwnProperty(b)},resetUniform:function(b){if(b=this.uniforms[b])b.value1=null,b.value2=null,b.value3=null,b.value4=null;return this},setUniform1:function(b,e,h,c){e=this.uniforms[e];if(!e)return this;if(c||e.value1!==h)e.setter||(e.setter=b),e.value1=h,this.renderer.setProgram(this.program),b.call(this.gl,e.location.webGLUniformLocation,h),this.pipeline.currentShader=this;return this},setUniform2:function(b,e,h,c,
l){e=this.uniforms[e];if(!e)return this;if(l||e.value1!==h||e.value2!==c)e.setter||(e.setter=b),e.value1=h,e.value2=c,this.renderer.setProgram(this.program),b.call(this.gl,e.location.webGLUniformLocation,h,c),this.pipeline.currentShader=this;return this},setUniform3:function(b,e,h,c,l,f){e=this.uniforms[e];if(!e)return this;if(f||e.value1!==h||e.value2!==c||e.value3!==l)e.setter||(e.setter=b),e.value1=h,e.value2=c,e.value3=l,this.renderer.setProgram(this.program),b.call(this.gl,e.location.webGLUniformLocation,
h,c,l),this.pipeline.currentShader=this;return this},setUniform4:function(b,e,h,c,l,f,k){e=this.uniforms[e];if(!e)return this;if(k||e.value1!==h||e.value2!==c||e.value3!==l||e.value4!==f)e.setter||(e.setter=b),e.value1=h,e.value2=c,e.value3=l,e.value4=f,this.renderer.setProgram(this.program),b.call(this.gl,e.location.webGLUniformLocation,h,c,l,f),this.pipeline.currentShader=this;return this},setBoolean:function(b,e){return this.setUniform1(this.gl.uniform1i,b,Number(e))},set1f:function(b,e){return this.setUniform1(this.gl.uniform1f,
b,e)},set2f:function(b,e,h){return this.setUniform2(this.gl.uniform2f,b,e,h)},set3f:function(b,e,h,c){return this.setUniform3(this.gl.uniform3f,b,e,h,c)},set4f:function(b,e,h,c,l){return this.setUniform4(this.gl.uniform4f,b,e,h,c,l)},set1fv:function(b,e){return this.setUniform1(this.gl.uniform1fv,b,e,!0)},set2fv:function(b,e){return this.setUniform1(this.gl.uniform2fv,b,e,!0)},set3fv:function(b,e){return this.setUniform1(this.gl.uniform3fv,b,e,!0)},set4fv:function(b,e){return this.setUniform1(this.gl.uniform4fv,
b,e,!0)},set1iv:function(b,e){return this.setUniform1(this.gl.uniform1iv,b,e,!0)},set2iv:function(b,e){return this.setUniform1(this.gl.uniform2iv,b,e,!0)},set3iv:function(b,e){return this.setUniform1(this.gl.uniform3iv,b,e,!0)},set4iv:function(b,e){return this.setUniform1(this.gl.uniform4iv,b,e,!0)},set1i:function(b,e){return this.setUniform1(this.gl.uniform1i,b,e)},set2i:function(b,e,h){return this.setUniform2(this.gl.uniform2i,b,e,h)},set3i:function(b,e,h,c){return this.setUniform3(this.gl.uniform3i,
b,e,h,c)},set4i:function(b,e,h,c,l){return this.setUniform4(this.gl.uniform4i,b,e,h,c,l)},setMatrix2fv:function(b,e,h){return this.setUniform2(this.gl.uniformMatrix2fv,b,e,h,!0)},setMatrix3fv:function(b,e,h){return this.setUniform2(this.gl.uniformMatrix3fv,b,e,h,!0)},setMatrix4fv:function(b,e,h){return this.setUniform2(this.gl.uniformMatrix4fv,b,e,h,!0)},createProgram:function(b,e){void 0===b&&(b=this.vertSrc);void 0===e&&(e=this.fragSrc);this.program&&this.renderer.deleteProgram(this.program);this.vertSrc=
b;this.fragSrc=e;this.program=this.renderer.createProgram(b,e);this.createUniforms();return this.rebind()},destroy:function(){var b=this.renderer;m(this.uniforms,function(e){b.deleteUniformLocation(e.location)});this.uniforms=null;m(this.attributes,function(e){b.deleteAttribLocation(e.location)});this.attributes=null;b.deleteProgram(this.program);this.program=this.gl=this.renderer=this.pipeline=null}});r.exports=a},14500:r=>{r.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,
size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(r,p,a)=>{p=a(14500);var m=a(79291);a={PipelineManager:a(7530),Pipelines:a(96615),RenderTarget:a(32302),Utils:a(70554),WebGLPipeline:a(29100),WebGLRenderer:a(74797),WebGLShader:a(38683),Wrappers:a(9503)};a=m(!1,a,p);r.exports=a},31302:(r,p,a)=>{p=a(83419);var m=a(95540),g=a(78908),d=a(85191),b=a(14500),e=a(29100);a=new p({Extends:e,initialize:function(h){h.fragShader=m(h,
"fragShader",g);h.vertShader=m(h,"vertShader",d);h.batchSize=m(h,"batchSize",1);h.vertices=m(h,"vertices",[-1,1,-1,-7,7,1]);h.attributes=m(h,"attributes",[{name:"inPosition",size:2,type:b.FLOAT}]);e.call(this,h)},boot:function(){e.prototype.boot.call(this);this.set1i("uMainSampler",0);this.set1i("uMaskSampler",1)},resize:function(h,c){e.prototype.resize.call(this,h,c);this.set2f("uResolution",h,c)},beginMask:function(h,c,l){this.renderer.beginBitmapMask(h,l)},endMask:function(h,c,l){var f=this.gl,
k=this.renderer,n=h.bitmapMask;n&&f&&(k.drawBitmapMask(n,c,this),l&&this.set2f("uResolution",l.width,l.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),f.drawArrays(this.topology,0,3),l&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});r.exports=a},92651:(r,p,a)=>{p=a(83419);var m=a(58918),g=a(14811),d=a(95540),b=a(43558),e=a(89350),h=a(70554);a=new p({Extends:b,initialize:function(c){c.shaders=[h.setGlowQuality(e.FXGlowFrag,c.game),e.FXShadowFrag,e.FXPixelateFrag,
e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag];b.call(this,c);c=this.game;this.glow=new m.Glow(c);this.shadow=new m.Shadow(c);this.pixelate=new m.Pixelate(c);this.vignette=new m.Vignette(c);this.shine=new m.Shine(c);this.gradient=new m.Gradient(c);this.circle=new m.Circle(c);this.barrel=new m.Barrel(c);this.wipe=new m.Wipe(c);this.bokeh=new m.Bokeh(c);
c=[];c[g.GLOW]=this.onGlow;c[g.SHADOW]=this.onShadow;c[g.PIXELATE]=this.onPixelate;c[g.VIGNETTE]=this.onVignette;c[g.SHINE]=this.onShine;c[g.BLUR]=this.onBlur;c[g.GRADIENT]=this.onGradient;c[g.BLOOM]=this.onBloom;c[g.COLOR_MATRIX]=this.onColorMatrix;c[g.CIRCLE]=this.onCircle;c[g.BARREL]=this.onBarrel;c[g.DISPLACEMENT]=this.onDisplacement;c[g.WIPE]=this.onWipe;c[g.BOKEH]=this.onBokeh;this.fxHandlers=c},onDraw:function(c,l,f){this.source=c;this.target=l;this.swap=f;l=c.width;c=c.height;var k=this.tempSprite;
f=this.fxHandlers;if(k&&k.preFX){k=k.preFX.list;for(var n=0;n<k.length;n++){var q=k[n];q.active&&f[q.type].call(this,q,l,c)}}this.drawToGame(this.source)},runDraw:function(){var c=this.source,l=this.target;this.copy(c,l);this.source=l;this.target=c},onGlow:function(c,l,f){var k=this.shaders[g.GLOW];this.setShader(k);this.glow.onPreRender(c,k,l,f);this.runDraw()},onShadow:function(c){var l=this.shaders[g.SHADOW];this.setShader(l);this.shadow.onPreRender(c,l);this.runDraw()},onPixelate:function(c,l,
f){var k=this.shaders[g.PIXELATE];this.setShader(k);this.pixelate.onPreRender(c,k,l,f);this.runDraw()},onVignette:function(c){var l=this.shaders[g.VIGNETTE];this.setShader(l);this.vignette.onPreRender(c,l);this.runDraw()},onShine:function(c,l,f){var k=this.shaders[g.SHINE];this.setShader(k);this.shine.onPreRender(c,k,l,f);this.runDraw()},onBlur:function(c,l,f){var k=d(c,"quality");this.setShader(this.shaders[g.BLUR+k]);this.set1i("uMainSampler",0);this.set2f("resolution",l,f);this.set1f("strength",
d(c,"strength"));this.set3fv("color",d(c,"glcolor"));l=d(c,"x");f=d(c,"y");c=d(c,"steps");for(k=0;k<c;k++)this.set2f("offset",l,0),this.runDraw(),this.set2f("offset",0,f),this.runDraw()},onGradient:function(c){var l=this.shaders[g.GRADIENT];this.setShader(l);this.gradient.onPreRender(c,l);this.runDraw()},onBloom:function(c,l,f){var k=this.shaders[g.BLOOM];this.copySprite(this.source,this.swap);this.setShader(k);this.set1i("uMainSampler",0);this.set1f("strength",d(c,"blurStrength"));this.set3fv("color",
d(c,"glcolor"));l=2/l*d(c,"offsetX");f=2/f*d(c,"offsetY");k=d(c,"steps");for(var n=0;n<k;n++)this.set2f("offset",l,0),this.runDraw(),this.set2f("offset",0,f),this.runDraw();this.blendFrames(this.swap,this.source,this.target,d(c,"strength"));this.copySprite(this.target,this.source)},onColorMatrix:function(c){this.setShader(this.colorMatrixShader);this.set1fv("uColorMatrix",c.getData());this.set1f("uAlpha",c.alpha);this.runDraw()},onCircle:function(c,l,f){var k=this.shaders[g.CIRCLE];this.setShader(k);
this.circle.onPreRender(c,k,l,f);this.runDraw()},onBarrel:function(c){var l=this.shaders[g.BARREL];this.setShader(l);this.barrel.onPreRender(c,l);this.runDraw()},onDisplacement:function(c){this.setShader(this.shaders[g.DISPLACEMENT]);this.set1i("uDisplacementSampler",1);this.set2f("amount",c.x,c.y);this.bindTexture(c.glTexture,1);this.runDraw()},onWipe:function(c){var l=this.shaders[g.WIPE];this.setShader(l);this.wipe.onPreRender(c,l);this.runDraw()},onBokeh:function(c,l,f){var k=this.shaders[g.BOKEH];
this.setShader(k);this.bokeh.onPreRender(c,k,l,f);this.runDraw()},destroy:function(){this.glow.destroy();this.shadow.destroy();this.pixelate.destroy();this.vignette.destroy();this.shine.destroy();this.gradient.destroy();this.circle.destroy();this.barrel.destroy();this.wipe.destroy();this.bokeh.destroy();this.swap=this.target=this.source=this.fxHandlers=null;b.prototype.destroy.call(this);return this}});r.exports=a},96569:(r,p,a)=>{p=a(83419);var m=a(95540),g=a(31063),d=a(57516),b=a(61340),e=a(26099),
h=a(29100);a=new p({Extends:d,initialize:function(c){var l=m(c,"fragShader",g);c.fragShader=l.replace("%LIGHT_COUNT%",c.game.renderer.config.maxLights);d.call(this,c);this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]);this.lightsActive=!0;this.tempVec2=new e;this._tempMatrix=new b;this._tempMatrix2=new b},boot:function(){h.prototype.boot.call(this)},onRender:function(c,l){var f=c.sys.lights;this.lightsActive=!1;if(f&&f.active){c=f.getLights(l);var k=c.length;this.lightsActive=!0;var n=
this.renderer.height,q=l.matrix,t=this.tempVec2;this.set1i("uMainSampler",0);this.set1i("uNormSampler",1);this.set2f("uResolution",this.width/2,this.height/2);this.set4f("uCamera",l.x,l.y,l.rotation,l.zoom);this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b);this.set1i("uLightCount",k);for(f=0;f<k;f++){var v=c[f].light,u=v.color,x="uLights["+f+"].";q.transformPoint(v.x,v.y,t);this.set2f(x+"position",t.x-l.scrollX*v.scrollFactorX*l.zoom,n-(t.y-l.scrollY*v.scrollFactorY*
l.zoom));this.set3f(x+"color",u.r,u.g,u.b);this.set1f(x+"intensity",v.intensity);this.set1f(x+"radius",v.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(c){if(c!==this.currentNormalMapRotation||0===this.vertexCount){0<this.vertexCount&&this.flush();var l=this.inverseRotationMatrix;if(c){var f=-c,k=Math.cos(f);f=Math.sin(f);l[1]=f;l[3]=-f;l[0]=l[4]=k}else l[0]=l[4]=1,l[1]=l[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,l);this.currentNormalMapRotation=c}},setTexture2D:function(c,
l){var f=this.renderer;void 0===c&&(c=f.whiteTexture);f=this.getNormalMap(l);this.isNewNormalMap(c,f)&&(this.flush(),this.createBatch(c),this.addTextureToBatch(f),this.currentNormalMap=f);c=0;l&&l.parentContainer?c=l.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:l&&(c=l.rotation);this.setNormalMapRotation(c);return 0},setGameObject:function(c,l){void 0===l&&(l=c.frame);l=l.glTexture;var f=this.getNormalMap(c);this.isNewNormalMap(l,f)&&(this.flush(),this.createBatch(l),
this.addTextureToBatch(f),this.currentNormalMap=f);c.parentContainer?(c=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2),this.setNormalMapRotation(c.rotationNormalized)):this.setNormalMapRotation(c.rotation);return 0},isNewNormalMap:function(c,l){return this.currentTexture!==c||this.currentNormalMap!==l},getNormalMap:function(c){var l;if(c)c.displayTexture?l=c.displayTexture.dataSource[c.displayFrame.sourceIndex]:c.texture?l=c.texture.dataSource[c.frame.sourceIndex]:c.tileset&&(l=Array.isArray(c.tileset)?
c.tileset[0].image.dataSource[0]:c.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return l?l.glTexture:this.renderer.normalTexture},batchSprite:function(c,l,f){this.lightsActive&&d.prototype.batchSprite.call(this,c,l,f)},batchTexture:function(c,l,f,k,n,q,t,v,u,x,w,y,z,C,A,B,E,G,I,H,K,L,M,P,D,F,J,N,O,R,Q,S){this.lightsActive&&d.prototype.batchTexture.call(this,c,l,f,k,n,q,t,v,u,x,w,y,z,C,A,B,E,G,I,H,K,L,M,P,D,F,J,N,O,R,Q,S)},batchTextureFrame:function(c,l,f,k,n,q,t){this.lightsActive&&
d.prototype.batchTextureFrame.call(this,c,l,f,k,n,q,t)}});r.exports=a},56527:(r,p,a)=>{p=a(83419);var m=a(95540),g=a(57516),d=a(45561),b=a(60722),e=a(14500),h=a(29100);a=new p({Extends:g,initialize:function(c){c.fragShader=m(c,"fragShader",d);c.vertShader=m(c,"vertShader",b);c.attributes=m(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]);c.forceZero=!0;c.resizeUniform="uResolution";
g.call(this,c)},boot:function(){h.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0);this.set2f("uResolution",c.width,c.height);this.set1i("uRoundPixels",c.config.roundPixels)}});r.exports=a},57516:(r,p,a)=>{p=a(83419);var m=a(94811),g=a(95540),d=a(98840),b=a(44667),e=a(61340),h=a(70554),c=a(14500),l=a(29100);a=new p({Extends:l,initialize:function(f){var k=f.game.renderer,n=g(f,"fragShader",d);f.fragShader=h.parseFragmentShaderMaxTextures(n,k.maxTextures);f.vertShader=g(f,
"vertShader",b);f.attributes=g(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]);f.resizeUniform="uResolution";l.call(this,f);this._tempMatrix1=new e;this._tempMatrix2=new e;this._tempMatrix3=new e;this.calcMatrix=new e;this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}];this.strokeTint={TL:0,TR:0,BL:0,BR:0};this.fillTint={TL:0,TR:0,BL:0,BR:0};
this.currentFrame={u0:0,v0:0,u1:1,v1:1};this.firstQuad=[0,0,0,0,0];this.prevQuad=[0,0,0,0,0];this.polygonCache=[]},boot:function(){l.prototype.boot.call(this);var f=this.renderer;this.set1iv("uMainSampler",f.textureIndexes);this.set2f("uResolution",f.width,f.height);this.set1i("uRoundPixels",f.config.roundPixels)},batchSprite:function(f,k,n){this.manager.set(this,f);var q=this._tempMatrix1,t=this._tempMatrix2,v=this._tempMatrix3,u=f.frame,x=u.glTexture,w=u.u0,y=u.v0,z=u.u1,C=u.v1,A=u.x,B=u.y,E=u.cutWidth,
G=u.cutHeight,I=u.customPivot,H=f.displayOriginX,K=f.displayOriginY;A=-H+A;B=-K+B;f.isCropped&&(B=f._crop,B.flipX===f.flipX&&B.flipY===f.flipY||u.updateCropUVs(B,f.flipX,f.flipY),w=B.u0,y=B.v0,z=B.u1,C=B.v1,E=B.width,G=B.height,A=B.x,B=B.y,A=-H+A,B=-K+B);var L=1,M=1;f.flipX&&(I||(A+=-u.realWidth+2*H),L=-1);f.flipY&&(I||(B+=-u.realHeight+2*K),M=-1);I=f.x;H=f.y;t.applyITRS(I,H,f.rotation,f.scaleX*L,f.scaleY*M);q.copyFrom(k.matrix);n?(q.multiplyWithOffset(n,-k.scrollX*f.scrollFactorX,-k.scrollY*f.scrollFactorY),
t.e=I,t.f=H):(t.e-=k.scrollX*f.scrollFactorX,t.f-=k.scrollY*f.scrollFactorY);q.multiply(t,v);n=v.setQuad(A,B,A+E,B+G);E=h.getTintAppendFloatAlpha;G=k.alpha;q=E(f.tintTopLeft,G*f._alphaTL);t=E(f.tintTopRight,G*f._alphaTR);v=E(f.tintBottomLeft,G*f._alphaBL);E=E(f.tintBottomRight,G*f._alphaBR);this.shouldFlush(6)&&this.flush();u=this.setGameObject(f,u);this.manager.preBatch(f);this.currentShader.set1i("uRoundPixels",k.roundPixels);this.batchQuad(f,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],w,y,z,C,q,t,
v,E,f.tintFill,x,u);this.manager.postBatch(f)},batchTexture:function(f,k,n,q,t,v,u,x,w,y,z,C,A,B,E,G,I,H,K,L,M,P,D,F,J,N,O,R,Q,S,T,U,W){void 0===W&&(W=!1);this.manager.set(this,f);var Y=this._tempMatrix1,V=this._tempMatrix2,X=this._tempMatrix3,Z=H/n+O,da=K/q+R,ca=(H+L)/n+O,ba=(K+M)/q+R,ia=u,ma=x;H=-G;K=-I;if(f.isCropped){Z=f._crop;ca=Z.width;ba=Z.height;ia=ca;ma=ba;u=ca;x=ba;H=Z.x;K=Z.y;var na=H,oa=K;C&&(na=L-Z.x-ca);A&&(oa=M-Z.y-ba);Z=na/n+O;da=oa/q+R;ca=(na+ca)/n+O;ba=(oa+ba)/q+R;H=-G+H;K=-I+K}A^=
!T&&k.isRenderTexture?1:0;C&&(ia*=-1,H+=u);A&&(ma*=-1,K+=x);V.applyITRS(t,v,z,w,y);Y.copyFrom(Q.matrix);S?(Y.multiplyWithOffset(S,-Q.scrollX*B,-Q.scrollY*E),V.e=t,V.f=v):(V.e-=Q.scrollX*B,V.f-=Q.scrollY*E);Y.multiply(V,X);n=X.setQuad(H,K,H+ia,K+ma);if(void 0===U||null===U)U=this.setTexture2D(k);f&&!W&&this.manager.preBatch(f);this.currentShader.set1i("uRoundPixels",Q.roundPixels);this.batchQuad(f,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],Z,da,ca,ba,P,D,F,J,N,k,U);f&&!W&&this.manager.postBatch(f)},batchTextureFrame:function(f,
k,n,q,t,v,u){this.manager.set(this);v=this._tempMatrix1.copyFrom(v);var x=this._tempMatrix2;u?v.multiply(u,x):x=v;k=x.setQuad(k,n,k+f.width,n+f.height);n=this.setTexture2D(f.source.glTexture);q=h.getTintAppendFloatAlpha(q,t);this.batchQuad(null,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],f.u0,f.v0,f.u1,f.v1,q,q,q,q,0,f.glTexture,n)},batchFillRect:function(f,k,n,q,t,v){this.renderer.pipelines.set(this);var u=this.calcMatrix;v&&v.multiply(t,u);f=u.setQuad(f,k,f+n,k+q);k=this.fillTint;this.batchQuad(null,
f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],0,0,1,1,k.TL,k.TR,k.BL,k.BR,2)},batchFillTriangle:function(f,k,n,q,t,v,u,x){this.renderer.pipelines.set(this);var w=this.calcMatrix;x&&x.multiply(u,w);u=w.getX(f,k);f=w.getY(f,k);k=w.getX(n,q);n=w.getY(n,q);q=w.getX(t,v);t=w.getY(t,v);v=this.fillTint;this.currentShader.set1i("uRoundPixels",!1);this.batchTri(null,u,f,k,n,q,t,0,0,1,1,v.TL,v.TR,v.BL,2)},batchStrokeTriangle:function(f,k,n,q,t,v,u,x,w){var y=this.tempTriangle;y[0].x=f;y[0].y=k;y[0].width=u;y[1].x=
n;y[1].y=q;y[1].width=u;y[2].x=t;y[2].y=v;y[2].width=u;y[3].x=f;y[3].y=k;y[3].width=u;this.batchStrokePath(y,u,!1,x,w)},batchFillPath:function(f,k,n){this.renderer.pipelines.set(this);var q=this.calcMatrix;n&&n.multiply(k,q);k=f.length;n=this.polygonCache;for(var t,v=this.fillTint.TL,u=this.fillTint.TR,x=this.fillTint.BL,w=0;w<k;++w)t=f[w],n.push(t.x,t.y);f=m(n);k=f.length;this.currentShader.set1i("uRoundPixels",!1);for(t=0;t<k;t+=3){var y=2*f[t+0];w=2*f[t+1];var z=2*f[t+2],C=n[y+0],A=n[y+1];y=n[w+
0];var B=n[w+1];w=n[z+0];var E=n[z+1];z=q.getX(C,A);C=q.getY(C,A);A=q.getX(y,B);y=q.getY(y,B);B=q.getX(w,E);w=q.getY(w,E);this.batchTri(null,z,C,A,y,B,w,0,0,1,1,v,u,x,2)}n.length=0},batchStrokePath:function(f,k,n,q,t){this.renderer.pipelines.set(this);this.prevQuad[4]=0;this.firstQuad[4]=0;for(var v=f.length-1,u=0;u<v;u++){var x=f[u],w=f[u+1];this.batchLine(x.x,x.y,w.x,w.y,x.width/2,w.width/2,k,u,!n&&u===v-1,q,t)}},batchLine:function(f,k,n,q,t,v,u,x,w,y,z){this.renderer.pipelines.set(this);var C=
this.calcMatrix;z&&z.multiply(y,C);y=n-f;z=q-k;var A=Math.sqrt(y*y+z*z);if(0!==A){y=t*(q-k)/A;z=t*(f-n)/A;var B=v*(q-k)/A,E=v*(f-n)/A;A=n-B;var G=q-E;v=f-y;t=k-z;n+=B;B=q+E;y=f+y;E=k+z;k=C.getX(A,G);f=C.getY(A,G);q=C.getX(v,t);v=C.getY(v,t);t=C.getX(n,B);n=C.getY(n,B);z=C.getX(y,E);C=C.getY(y,E);B=this.strokeTint;y=B.TL;A=B.TR;G=B.BL;B=B.BR;this.currentShader.set1i("uRoundPixels",!1);this.batchQuad(null,z,C,q,v,k,f,t,n,0,0,1,1,y,A,G,B,2);2>=u||(u=this.prevQuad,E=this.firstQuad,0<x&&u[4]?this.batchQuad(null,
z,C,q,v,u[0],u[1],u[2],u[3],0,0,1,1,y,A,G,B,2):(E[0]=z,E[1]=C,E[2]=q,E[3]=v,E[4]=1),w&&E[4]?this.batchQuad(null,k,f,t,n,E[0],E[1],E[2],E[3],0,0,1,1,y,A,G,B,2):(u[0]=k,u[1]=f,u[2]=t,u[3]=n,u[4]=1))}},destroy:function(){this._tempMatrix1.destroy();this._tempMatrix2.destroy();this._tempMatrix3.destroy();this._tempMatrix1=null;l.prototype.destroy.call(this);return this}});r.exports=a},43439:(r,p,a)=>{p=a(83419);var m=a(95540),g=a(4127),d=a(89924),b=a(29100);a=new p({Extends:b,initialize:function(e){e.vertShader=
m(e,"vertShader",d);e.fragShader=m(e,"fragShader",g);e.attributes=m(e,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]);b.call(this,e)},onRender:function(e,h){this.set2f("uResolution",this.width,this.height);this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(e,h,c,l,f,k,n,q,t,v,u,x){var w=e.color,y=e.intensity,z=e.radius,C=e.attenuation,A=w.r*y,B=w.g*y;w=w.b*y;e=h.alpha*e.alpha;this.shouldFlush(6)&&
this.flush();this.currentBatch||this.setTexture2D();this.batchLightVert(c,l,u,x,z,C,A,B,w,e);this.batchLightVert(f,k,u,x,z,C,A,B,w,e);this.batchLightVert(n,q,u,x,z,C,A,B,w,e);this.batchLightVert(c,l,u,x,z,C,A,B,w,e);this.batchLightVert(n,q,u,x,z,C,A,B,w,e);this.batchLightVert(t,v,u,x,z,C,A,B,w,e);this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(e,h,c,l,f,k,n,q,t,v){var u=this.vertexViewF32,x=this.vertexCount*this.currentShader.vertexComponentCount-1;u[++x]=
e;u[++x]=h;u[++x]=c;u[++x]=l;u[++x]=f;u[++x]=k;u[++x]=n;u[++x]=q;u[++x]=t;u[++x]=v;this.vertexCount++}});r.exports=a},84057:(r,p,a)=>{p=a(83419);var m=a(89422),g=a(95540),d=a(27681),b=a(49627),e=a(29100);a=new p({Extends:e,initialize:function(h){h.renderTarget=g(h,"renderTarget",1);h.fragShader=g(h,"fragShader",d);h.vertShader=g(h,"vertShader",b);h.attributes=g(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]);h.batchSize=1;h.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,
1,1,1,1,-1,1,0];e.call(this,h);this.isPostFX=!0;this.colorMatrix=new m;this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1;this.fullFrame2=h.fullFrame2;this.halfFrame1=h.halfFrame1;this.halfFrame2=h.halfFrame2;h=this.renderer;this.set1i("uMainSampler",0);this.set2f("uResolution",h.width,h.height);this.set1i("uRoundPixels",h.config.roundPixels);h=this.renderTargets;for(var c=0;c<
h.length;c++)h[c].autoResize=!0},postBatch:function(h){this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind());this.onDraw(this.currentRenderTarget);this.onPostBatch(h);return this},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return void 0!==h?h:this.controller?this.controller:this},copySprite:function(h,c,l){void 0===l&&(l=!1);var f=this.gl;f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,h.texture.webGLTexture);h=f.getParameter(f.FRAMEBUFFER_BINDING);
f.bindFramebuffer(f.FRAMEBUFFER,c.framebuffer.webGLFramebuffer);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,c.texture.webGLTexture,0);f.clearColor(0,0,0,0);f.clear(f.COLOR_BUFFER_BIT);f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW);f.drawArrays(f.TRIANGLES,0,6);l&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,h))},copyFrame:function(h,c,l,f,k){this.manager.copyFrame(h,c,l,f,k)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,
c,l){this.manager.drawFrame(h,c,l,this.colorMatrix)},blendFrames:function(h,c,l,f,k){this.manager.blendFrames(h,c,l,f,k)},blendFramesAdditive:function(h,c,l,f,k){this.manager.blendFramesAdditive(h,c,l,f,k)},clearFrame:function(h,c){this.manager.clearFrame(h,c)},blitFrame:function(h,c,l,f,k,n){this.manager.blitFrame(h,c,l,f,k,n)},copyFrameRect:function(h,c,l,f,k,n,q,t){this.manager.copyFrameRect(h,c,l,f,k,n,q,t)},bindAndDraw:function(h,c,l,f,k){void 0===l&&(l=!0);void 0===f&&(f=!0);var n=this.gl,q=
this.renderer;this.bind(k);this.set1i("uMainSampler",0);c?(n.viewport(0,0,c.width,c.height),n.bindFramebuffer(n.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,c.texture.webGLTexture,0),l&&(f?n.clearColor(0,0,0,0):n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT))):(q.popFramebuffer(!1,!1),q.currentFramebuffer||n.viewport(0,0,q.width,q.height));q.restoreStencilMask();n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,h.texture.webGLTexture);
n.bufferData(n.ARRAY_BUFFER,this.vertexData,n.STATIC_DRAW);n.drawArrays(n.TRIANGLES,0,6);c&&(n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,q.currentFramebuffer.webGLFramebuffer))},destroy:function(){this.controller&&this.controller.destroy();this.halfFrame2=this.halfFrame1=this.fullFrame2=this.fullFrame1=this.colorMatrix=this.controller=this.gameObject=null;this.manager.removePostPipeline(this);e.prototype.destroy.call(this);return this}});r.exports=a},43558:(r,p,a)=>{var m=a(10312),
g=a(67502);p=a(83419);var d=a(96293),b=a(95540),e=a(57516),h=a(27681),c=a(87841),l=a(32302),f=a(45561),k=a(60722),n=a(29100);a=new p({Extends:e,initialize:function(q){var t=b(q,"fragShader",h),v=b(q,"vertShader",k),u=b(q,"drawShader",h);t=[{name:"DrawSprite",fragShader:f,vertShader:k},{name:"CopySprite",fragShader:t,vertShader:v},{name:"DrawGame",fragShader:u,vertShader:k},{name:"ColorMatrix",fragShader:d}];u=b(q,"shaders",[]);q.shaders=t.concat(u);q.vertShader||(q.vertShader=v);q.batchSize=1;e.call(this,
q);this.isPreFX=!0;this.customMainSampler=null;this.spriteBounds=new c;this.targetBounds=new c;this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){n.prototype.boot.call(this);var q=this.shaders,t=this.renderer;this.drawSpriteShader=q[0];this.copyShader=q[1];this.gameShader=q[2];this.colorMatrixShader=q[3];this.fsTarget=new l(t,t.width,t.height,1,0,!0,!0);this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);this.quadVertexData=q=new ArrayBuffer(168);
this.quadVertexViewF32=new Float32Array(q);this.quadVertexBuffer=t.createVertexBuffer(q,this.gl.STATIC_DRAW);this.onResize(t.width,t.height);this.currentShader=this.copyShader;this.set2f("uResolution",t.width,t.height);this.set1i("uRoundPixels",t.config.roundPixels)},onResize:function(q,t){var v=this.quadVertexViewF32;v[1]=t;v[22]=t;v[14]=q;v[28]=q;v[35]=q;v[36]=t},batchQuad:function(q,t,v,u,x,w,y,z,C,A,B,E,G,I,H,K,L,M,P){var D=Math.min(t,u,w,z),F=Math.min(v,x,y,C),J=Math.max(t,u,w,z)-D,N=Math.max(v,
x,y,C)-F;D=this.spriteBounds.setTo(D,F,J,N);F=q?q.preFX.padding:0;J=this.manager.getRenderTarget(Math.abs(Math.max(J+2*F,N+2*F)));N=this.targetBounds.setTo(0,0,J.width,J.height);g(N,D.centerX,D.centerY);this.tempSprite=q;D=this.gl;F=this.renderer;F.clearStencilMask();this.setShader(this.drawSpriteShader);this.set1i("uMainSampler",0);this.set2f("uResolution",F.width,F.height);this.set1i("uRoundPixels",F.config.roundPixels);this.flipProjectionMatrix(!0);q&&(this.onDrawSprite(q,J),q.preFX.onFX(this));
var O=this.fsTarget;this.flush();D.viewport(0,0,F.width,F.height);D.bindFramebuffer(D.FRAMEBUFFER,O.framebuffer.webGLFramebuffer);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,O.texture.webGLTexture,0);D.clearColor(0,0,0,0);D.clear(D.COLOR_BUFFER_BIT);this.setTexture2D(P);this.batchVert(t,v,A,B,0,M,I);this.batchVert(u,x,A,G,0,M,K);this.batchVert(w,y,E,G,0,M,L);this.batchVert(t,v,A,B,0,M,I);this.batchVert(w,y,E,G,0,M,L);this.batchVert(z,C,E,B,0,M,H);this.flush();this.flipProjectionMatrix(!1);
D.activeTexture(D.TEXTURE0);D.bindTexture(D.TEXTURE_2D,J.texture.webGLTexture);D.copyTexSubImage2D(D.TEXTURE_2D,0,0,0,N.x,N.y,N.width,N.height);D.bindFramebuffer(D.FRAMEBUFFER,null);D.bindTexture(D.TEXTURE_2D,null);this.onBatch(q);this.currentShader=this.copyShader;this.onDraw(J,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget());return!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(q,t,v,u,x,w,y){void 0===v&&(v=!0);void 0===u&&(u=!0);void 0===x&&
(x=!1);void 0===y&&(y=this.copyShader);var z=this.gl,C=this.tempSprite;w&&(y=this.colorMatrixShader);this.currentShader=y;var A=this.setVertexBuffer(this.quadVertexBuffer);y.bind(A,!1);y=this.renderer;this.set1i("uMainSampler",0);this.set2f("uResolution",y.width,y.height);this.set1i("uRoundPixels",y.config.roundPixels);C.preFX.onFXCopy(this);this.onCopySprite(q,t,C);w&&(this.set1fv("uColorMatrix",w.getData()),this.set1f("uAlpha",w.alpha));z.activeTexture(z.TEXTURE0);z.bindTexture(z.TEXTURE_2D,q.texture.webGLTexture);
q.height>t.height?(z.viewport(0,0,q.width,q.height),this.setTargetUVs(q,t)):(z.viewport(0,t.height-q.height,q.width,q.height),this.resetUVs());z.bindFramebuffer(z.FRAMEBUFFER,t.framebuffer.webGLFramebuffer);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,t.texture.webGLTexture,0);v&&(z.clearColor(0,0,0,Number(!u)),z.clear(z.COLOR_BUFFER_BIT));if(x){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}z.bufferData(z.ARRAY_BUFFER,this.quadVertexData,z.STATIC_DRAW);
z.drawArrays(z.TRIANGLES,0,6);x&&this.renderer.setBlendMode(B);z.bindFramebuffer(z.FRAMEBUFFER,null)},copy:function(q,t){var v=this.gl;this.set1i("uMainSampler",0);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,q.texture.webGLTexture);v.viewport(0,0,q.width,q.height);this.setUVs(0,0,0,1,1,1,1,0);v.bindFramebuffer(v.FRAMEBUFFER,t.framebuffer.webGLFramebuffer);v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,t.texture.webGLTexture,0);v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);
v.bufferData(v.ARRAY_BUFFER,this.quadVertexData,v.STATIC_DRAW);v.drawArrays(v.TRIANGLES,0,6);v.bindFramebuffer(v.FRAMEBUFFER,null)},blendFrames:function(q,t,v,u,x){this.manager.blendFrames(q,t,v,u,x)},blendFramesAdditive:function(q,t,v,u,x){this.manager.blendFramesAdditive(q,t,v,u,x)},drawToGame:function(q){this.currentShader=null;this.setShader(this.copyShader);this.bindAndDraw(q)},copyToGame:function(q){this.currentShader=null;this.setShader(this.gameShader);this.bindAndDraw(q)},bindAndDraw:function(q){var t=
this.gl,v=this.renderer;this.set1i("uMainSampler",0);this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(q.texture);var u=this._tempMatrix1.loadIdentity(),x=this.targetBounds.x,w=this.targetBounds.y,y=x+q.width,z=w+q.height;q=u.getX(x,w);var C=u.getX(x,z),A=u.getX(y,z),B=u.getX(y,w),E=u.getY(x,w);x=u.getY(x,z);z=u.getY(y,z);u=u.getY(y,w);this.batchVert(q,E,0,0,0,0,16777215);this.batchVert(C,x,0,1,0,0,16777215);this.batchVert(A,z,1,1,0,0,16777215);this.batchVert(q,E,
0,0,0,0,16777215);this.batchVert(A,z,1,1,0,0,16777215);this.batchVert(B,u,1,0,0,0,16777215);v.restoreFramebuffer(!1,!0);v.currentFramebuffer||t.viewport(0,0,v.width,v.height);v.restoreStencilMask();this.flush();this.tempSprite=null},onDraw:function(q){this.drawToGame(q)},setUVs:function(q,t,v,u,x,w,y,z){var C=this.quadVertexViewF32;C[2]=q;C[3]=t;C[9]=v;C[10]=u;C[16]=x;C[17]=w;C[23]=q;C[24]=t;C[30]=x;C[31]=w;C[37]=y;C[38]=z},setTargetUVs:function(q,t){q=t.height/q.height;q=.5<q?.5-(q-.5):.5+(.5-q);
this.setUVs(0,q,0,1+q,1,1+q,1,q)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){this.renderer.deleteBuffer(this.quadVertexBuffer);this.tempSprite=this.fsTarget=this.quadVertexViewF32=this.quadVertexBuffer=this.quadVertexData=this.colorMatrixShader=this.gameShader=this.copyShader=this.drawSpriteShader=null;e.prototype.destroy.call(this);return this}});r.exports=a},81041:(r,p,a)=>{p=a(83419);var m=a(95540),g=a(57516);a=new p({Extends:g,initialize:function(d){d.topology=5;d.batchSize=
m(d,"batchSize",256);g.call(this,d)}});r.exports=a},12385:(r,p,a)=>{p=a(83419);var m=a(95540),g=a(57516),d=a(45561),b=a(60722),e=a(29100);a=new p({Extends:g,initialize:function(h){h.fragShader=m(h,"fragShader",d);h.vertShader=m(h,"vertShader",b);h.forceZero=!0;g.call(this,h)},boot:function(){e.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0);this.set2f("uResolution",h.width,h.height);this.set1i("uRoundPixels",h.config.roundPixels)}});r.exports=a},7589:(r,p,a)=>{var m=a(35407),
g=a(10312);p=a(83419);var d=a(89422),b=a(96293),e=a(36682),h=a(95540),c=a(48247),l=a(49627),f=a(29100);a=new p({Extends:f,initialize:function(k){k.renderTarget=h(k,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]);k.vertShader=h(k,"vertShader",l);k.shaders=h(k,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:m},{name:"LinearBlend",fragShader:c},{name:"ColorMatrix",fragShader:b}]);k.attributes=h(k,"attributes",[{name:"inPosition",
size:2},{name:"inTexCoord",size:2}]);k.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0];k.batchSize=1;f.call(this,k);this.colorMatrix=new d},boot:function(){f.prototype.boot.call(this);var k=this.shaders,n=this.renderTargets;this.copyShader=k[0];this.addShader=k[1];this.linearShader=k[2];this.colorMatrixShader=k[3];this.fullFrame1=n[0];this.fullFrame2=n[1];this.halfFrame1=n[2];this.halfFrame2=n[3]},copyFrame:function(k,n,q,t,v){void 0===q&&(q=1);void 0===t&&(t=!0);void 0===v&&(v=!0);
var u=this.gl;this.setShader(this.copyShader);this.set1i("uMainSampler",0);this.set1f("uBrightness",q);u.activeTexture(u.TEXTURE0);u.bindTexture(u.TEXTURE_2D,k.texture.webGLTexture);n?(u.viewport(0,0,n.width,n.height),u.bindFramebuffer(u.FRAMEBUFFER,n.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,n.texture.webGLTexture,0)):u.viewport(0,0,k.width,k.height);t&&(v?u.clearColor(0,0,0,0):u.clearColor(0,0,0,1),u.clear(u.COLOR_BUFFER_BIT));u.bufferData(u.ARRAY_BUFFER,
this.vertexData,u.STATIC_DRAW);u.drawArrays(u.TRIANGLES,0,6);u.bindFramebuffer(u.FRAMEBUFFER,null);u.bindTexture(u.TEXTURE_2D,null)},blitFrame:function(k,n,q,t,v,u,x){void 0===q&&(q=1);void 0===t&&(t=!0);void 0===v&&(v=!0);void 0===u&&(u=!1);void 0===x&&(x=!1);var w=this.gl;this.setShader(this.copyShader);this.set1i("uMainSampler",0);this.set1f("uBrightness",q);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,k.texture.webGLTexture);k.height>n.height?(w.viewport(0,0,k.width,k.height),this.setTargetUVs(k,
n)):w.viewport(0,n.height-k.height,k.width,k.height);w.bindFramebuffer(w.FRAMEBUFFER,n.framebuffer.webGLFramebuffer);w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,n.texture.webGLTexture,0);t&&(v?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT));if(u){var y=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}x&&this.flipY();w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW);w.drawArrays(w.TRIANGLES,0,6);u&&this.renderer.setBlendMode(y);
w.bindFramebuffer(w.FRAMEBUFFER,null);w.bindTexture(w.TEXTURE_2D,null);this.resetUVs()},copyFrameRect:function(k,n,q,t,v,u,x,w){void 0===x&&(x=!0);void 0===w&&(w=!0);var y=this.gl;y.bindFramebuffer(y.FRAMEBUFFER,k.framebuffer.webGLFramebuffer);y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,k.texture.webGLTexture,0);x&&(w?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT));y.activeTexture(y.TEXTURE0);y.bindTexture(y.TEXTURE_2D,n.texture.webGLTexture);y.copyTexSubImage2D(y.TEXTURE_2D,
0,0,0,q,t,v,u);y.bindFramebuffer(y.FRAMEBUFFER,null);y.bindTexture(y.TEXTURE_2D,null)},copyToGame:function(k){var n=this.gl;this.setShader(this.copyShader);this.set1i("uMainSampler",0);this.set1f("uBrightness",1);this.renderer.popFramebuffer();n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,k.texture.webGLTexture);n.bufferData(n.ARRAY_BUFFER,this.vertexData,n.STATIC_DRAW);n.drawArrays(n.TRIANGLES,0,6)},drawFrame:function(k,n,q,t){void 0===q&&(q=!0);void 0===t&&(t=this.colorMatrix);var v=this.gl;
this.setShader(this.colorMatrixShader);this.set1i("uMainSampler",0);this.set1fv("uColorMatrix",t.getData());this.set1f("uAlpha",t.alpha);v.activeTexture(v.TEXTURE0);v.bindTexture(v.TEXTURE_2D,k.texture.webGLTexture);n?(v.viewport(0,0,n.width,n.height),v.bindFramebuffer(v.FRAMEBUFFER,n.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,n.texture.webGLTexture,0)):v.viewport(0,0,k.width,k.height);q?v.clearColor(0,0,0,0):v.clearColor(0,0,0,1);v.clear(v.COLOR_BUFFER_BIT);
v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW);v.drawArrays(v.TRIANGLES,0,6);v.bindFramebuffer(v.FRAMEBUFFER,null);v.bindTexture(v.TEXTURE_2D,null)},blendFrames:function(k,n,q,t,v,u){void 0===t&&(t=1);void 0===v&&(v=!0);void 0===u&&(u=this.linearShader);var x=this.gl;this.setShader(u);this.set1i("uMainSampler1",0);this.set1i("uMainSampler2",1);this.set1f("uStrength",t);x.activeTexture(x.TEXTURE0);x.bindTexture(x.TEXTURE_2D,k.texture.webGLTexture);x.activeTexture(x.TEXTURE1);x.bindTexture(x.TEXTURE_2D,
n.texture.webGLTexture);q?(x.bindFramebuffer(x.FRAMEBUFFER,q.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,q.texture.webGLTexture,0),x.viewport(0,0,q.width,q.height)):x.viewport(0,0,k.width,k.height);v?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1);x.clear(x.COLOR_BUFFER_BIT);x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW);x.drawArrays(x.TRIANGLES,0,6);x.bindFramebuffer(x.FRAMEBUFFER,null);x.bindTexture(x.TEXTURE_2D,null)},blendFramesAdditive:function(k,
n,q,t,v){this.blendFrames(k,n,q,t,v,this.addShader)},clearFrame:function(k,n){void 0===n&&(n=!0);var q=this.gl;q.viewport(0,0,k.width,k.height);q.bindFramebuffer(q.FRAMEBUFFER,k.framebuffer.webGLFramebuffer);n?q.clearColor(0,0,0,0):q.clearColor(0,0,0,1);q.clear(q.COLOR_BUFFER_BIT);q.bindFramebuffer(q.FRAMEBUFFER,this.renderer.currentFramebuffer.webGLFramebuffer)},setUVs:function(k,n,q,t,v,u,x,w){var y=this.vertexViewF32;y[2]=k;y[3]=n;y[6]=q;y[7]=t;y[10]=v;y[11]=u;y[14]=k;y[15]=n;y[18]=v;y[19]=u;y[22]=
x;y[23]=w},setTargetUVs:function(k,n){k=n.height/k.height;k=.5<k?.5-(k-.5):.5+(.5-k);this.setUVs(0,k,0,1+k,1,1+k,1,k)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});r.exports=a},36060:r=>{r.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",
POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:r=>{r.exports="pipelineafterflush"},36712:r=>{r.exports="pipelinebeforeflush"},40285:r=>{r.exports="pipelinebind"},65918:r=>{r.exports="pipelineboot"},92852:r=>{r.exports="pipelinedestroy"},56072:r=>{r.exports="pipelinerebind"},57566:r=>{r.exports="pipelineresize"},77085:(r,p,a)=>{r.exports={AFTER_FLUSH:a(84817),BEFORE_FLUSH:a(36712),BIND:a(40285),BOOT:a(65918),DESTROY:a(92852),
REBIND:a(56072),RESIZE:a(57566)}},54812:(r,p,a)=>{p=a(83419);var m=a(99155),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.amount=1},onPreRender:function(d,b){d=this.getController(d);this.set1f("amount",d.amount,b)}});r.exports=a},67329:(r,p,a)=>{p=a(83419);var m=a(24400),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.steps=4;this.strength=this.blurStrength=this.offsetY=this.offsetX=1;this.glcolor=[1,1,1]},
onPreRender:function(d){d=this.getController(d);this.set1f("strength",d.blurStrength);this.set3fv("color",d.glcolor)},onDraw:function(d){var b=this.getController(),e=this.fullFrame1,h=this.fullFrame2;this.copyFrame(d,h);for(var c=2/d.width*b.offsetX,l=2/d.height*b.offsetY,f=0;f<b.steps;f++)this.set2f("offset",c,0),this.copySprite(d,e),this.set2f("offset",0,l),this.copySprite(e,d);this.blendFrames(h,d,e,b.strength);this.copyToGame(e)}});r.exports=a},8861:(r,p,a)=>{p=a(83419);var m=a(41514),g=a(51078),
d=a(94328),b=a(84057);a=new p({Extends:b,initialize:function(e){b.call(this,{game:e,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:g},{name:"Gaussian13",fragShader:d}]});this.activeShader=this.shaders[0];this.y=this.x=2;this.steps=4;this.strength=1;this.glcolor=[1,1,1]},setQualityLow:function(){this.activeShader=this.shaders[0];return this},setQualityMedium:function(){this.activeShader=this.shaders[1];return this},setQualityHigh:function(){this.activeShader=this.shaders[2];
return this},onDraw:function(e){var h=this.getController(),c=this.gl,l=this.fullFrame1,f=c.getParameter(c.FRAMEBUFFER_BINDING);this.bind(this.shaders[h.quality]);c.activeTexture(c.TEXTURE0);c.viewport(0,0,e.width,e.height);this.set1i("uMainSampler",0);this.set2f("resolution",e.width,e.height);this.set1f("strength",h.strength);this.set3fv("color",h.glcolor);for(var k=0;k<h.steps;k++)this.set2f("offset",h.x,0),this.copySprite(e,l),this.set2f("offset",0,h.y),this.copySprite(l,e);c.bindFramebuffer(c.FRAMEBUFFER,
f);c.bindTexture(c.TEXTURE_2D,null);this.copyToGame(e)}});r.exports=a},51051:(r,p,a)=>{p=a(83419);var m=a(90610),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.isTiltShift=!1;this.blurY=this.blurX=this.strength=1;this.radius=.5;this.amount=1;this.contrast=.2},onPreRender:function(d,b,e,h){d=this.getController(d);this.set1f("radius",d.radius,b);this.set1f("amount",d.amount,b);this.set1f("contrast",d.contrast,b);this.set1f("strength",d.strength,b);this.set2f("blur",
d.blurX,d.blurY,b);this.setBoolean("isTiltShift",d.isTiltShift,b);e&&h&&this.set2f("resolution",e,h,b)},onDraw:function(d){this.set2f("resolution",d.width,d.height);this.bindAndDraw(d)}});r.exports=a},89428:(r,p,a)=>{p=a(83419);var m=a(91899),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.scale=1;this.feather=.005;this.thickness=8;this.glcolor=[1,.2,.7];this.glcolor2=[1,0,0,.4]},onPreRender:function(d,b,e,h){d=this.getController(d);this.set1f("scale",
d.scale,b);this.set1f("feather",d.feather,b);this.set1f("thickness",d.thickness,b);this.set3fv("color",d.glcolor,b);this.set4fv("backgroundColor",d.glcolor2,b);e&&h&&this.set2f("resolution",e,h,b)},onDraw:function(d){this.set2f("resolution",d.width,d.height);this.bindAndDraw(d)}});r.exports=a},88904:(r,p,a)=>{p=a(83419);var m=a(84057);a=new p({Extends:m,initialize:function(g){m.call(this,{game:g})},onDraw:function(g){var d=this.fullFrame1;this.controller?this.manager.drawFrame(g,d,!0,this.controller):
this.drawFrame(g,d);this.copyToGame(d)}});r.exports=a},63563:(r,p,a)=>{p=a(83419);var m=a(47838),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.y=this.x=.005},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(d){if(d=this.game.textures.getFrame(d))this.glTexture=d.glTexture},onDraw:function(d){var b=this.getController(),e=this.fullFrame1;this.bind();this.set1i("uMainSampler",0);this.set1i("uDisplacementSampler",1);this.set2f("amount",b.x,
b.y);this.bindTexture(b.glTexture,1);this.copySprite(d,e);this.copyToGame(e)}});r.exports=a},94045:(r,p,a)=>{p=a(83419);var m=a(95540),g=a(98656),d=a(84057),b=a(70554);a=new p({Extends:d,initialize:function(e,h){var c=m(h,"quality",.1);h=m(h,"distance",10);d.call(this,{game:e,fragShader:b.setGlowQuality(g,e,c,h)});this.outerStrength=4;this.innerStrength=0;this.knockout=!1;this.glcolor=[1,1,1,1]},onPreRender:function(e,h,c,l){e=this.getController(e);this.set1f("outerStrength",e.outerStrength,h);this.set1f("innerStrength",
e.innerStrength,h);this.set4fv("glowColor",e.glcolor,h);this.setBoolean("knockout",e.knockout,h);c&&l&&this.set2f("resolution",c,l,h)},onDraw:function(e){this.set2f("resolution",e.width,e.height);this.bindAndDraw(e)}});r.exports=a},74088:(r,p,a)=>{p=a(83419);var m=a(70463),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.alpha=.2;this.toX=this.fromY=this.fromX=this.size=0;this.toY=1;this.glcolor1=[255,0,0];this.glcolor2=[0,255,0]},onPreRender:function(d,
b){d=this.getController(d);this.set1f("alpha",d.alpha,b);this.set1i("size",d.size,b);this.set3fv("color1",d.glcolor1,b);this.set3fv("color2",d.glcolor2,b);this.set2f("positionFrom",d.fromX,d.fromY,b);this.set2f("positionTo",d.toX,d.toY,b)}});r.exports=a},99636:(r,p,a)=>{p=a(83419);var m=a(50831),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.amount=1},onPreRender:function(d,b,e,h){d=this.getController(d);this.set1f("amount",d.amount,b);e&&h&&this.set2f("resolution",
e,h,b)},onDraw:function(d){this.set2f("resolution",d.width,d.height);this.bindAndDraw(d)}});r.exports=a},34700:(r,p,a)=>{p=a(83419);var m=a(92595),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.y=this.x=0;this.decay=.1;this.power=1;this.glcolor=[0,0,0,1];this.samples=6;this.intensity=1},onPreRender:function(d,b){d=this.getController(d);var e=d.samples;this.set1i("samples",e,b);this.set1f("intensity",d.intensity,b);this.set1f("decay",d.decay,b);this.set1f("power",
d.power/e,b);this.set2f("lightPosition",d.x,d.y,b);this.set4fv("color",d.glcolor,b)}});r.exports=a},91157:(r,p,a)=>{p=a(83419);var m=a(72464),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.lineWidth=this.speed=.5;this.gradient=3;this.reveal=!1},onPreRender:function(d,b,e,h){d=this.getController(d);this.setTime("time",b);this.set1f("speed",d.speed,b);this.set1f("lineWidth",d.lineWidth,b);this.set1f("gradient",d.gradient,b);this.setBoolean("reveal",d.reveal,
b);e&&h&&this.set2f("resolution",e,h,b)},onDraw:function(d){this.set2f("resolution",d.width,d.height);this.bindAndDraw(d)}});r.exports=a},27797:(r,p,a)=>{p=a(83419);var m=a(39249),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.strength=this.radius=this.y=this.x=.5},onPreRender:function(d,b){d=this.getController(d);this.set1f("radius",d.radius,b);this.set1f("strength",d.strength,b);this.set2f("position",d.x,d.y,b)}});r.exports=a},67603:(r,p,a)=>{p=a(83419);
var m=a(2878),g=a(84057);a=new p({Extends:g,initialize:function(d){g.call(this,{game:d,fragShader:m});this.progress=0;this.wipeWidth=.1;this.axis=this.direction=0;this.reveal=!1},onPreRender:function(d,b){d=this.getController(d);this.set4f("config",d.progress,d.wipeWidth,d.direction,d.axis,b);this.setBoolean("reveal",d.reveal,b)}});r.exports=a},58918:(r,p,a)=>{p={Barrel:a(54812),Bloom:a(67329),Blur:a(8861),Bokeh:a(51051),Circle:a(89428),ColorMatrix:a(88904),Displacement:a(63563),Glow:a(94045),Gradient:a(74088),
Pixelate:a(99636),Shadow:a(34700),Shine:a(91157),Vignette:a(27797),Wipe:a(67603)};r.exports=p},96615:(r,p,a)=>{p=a(36060);var m=a(79291);a={FX:a(58918),BitmapMaskPipeline:a(31302),Events:a(77085),FXPipeline:a(92651),LightPipeline:a(96569),MobilePipeline:a(56527),MultiPipeline:a(57516),PointLightPipeline:a(43439),PostFXPipeline:a(84057),PreFXPipeline:a(43558),RopePipeline:a(81041),SinglePipeline:a(12385),UtilityPipeline:a(7589)};a=m(!1,a,p);r.exports=a},35407:r=>{r.exports="#define SHADER_NAME PHASER_ADD_BLEND_FS\nprecision mediump float;\nuniform sampler2D uMainSampler1;\nuniform sampler2D uMainSampler2;\nuniform float uStrength;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 frame1 \x3d texture2D(uMainSampler1, outTexCoord);\n    vec4 frame2 \x3d texture2D(uMainSampler2, outTexCoord);\n    gl_FragColor \x3d frame1 + frame2 * uStrength;\n}"},
78908:r=>{r.exports="#define SHADER_NAME PHASER_BITMAP_MASK_FS\nprecision mediump float;\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uMaskSampler;\nuniform bool uInvertMaskAlpha;\nvoid main ()\n{\n    vec2 uv \x3d gl_FragCoord.xy / uResolution;\n    vec4 mainColor \x3d texture2D(uMainSampler, uv);\n    vec4 maskColor \x3d texture2D(uMaskSampler, uv);\n    if (!uInvertMaskAlpha)\n    {\n        mainColor *\x3d maskColor.a;\n    }\n    else\n    {\n        mainColor *\x3d (1.0 - maskColor.a);\n    }\n    gl_FragColor \x3d mainColor;\n}"},
85191:r=>{r.exports="#define SHADER_NAME PHASER_BITMAP_MASK_VS\nprecision mediump float;\nattribute vec2 inPosition;\nvoid main ()\n{\n    gl_Position \x3d vec4(inPosition, 0.0, 1.0);\n}"},96293:r=>{r.exports="#define SHADER_NAME PHASER_COLORMATRIX_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float uColorMatrix[20];\nuniform float uAlpha;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 c \x3d texture2D(uMainSampler, outTexCoord);\n    if (uAlpha \x3d\x3d 0.0)\n    {\n        gl_FragColor \x3d c;\n        return;\n    }\n    if (c.a \x3e 0.0)\n    {\n        c.rgb /\x3d c.a;\n    }\n    vec4 result;\n    result.r \x3d (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];\n    result.g \x3d (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];\n    result.b \x3d (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];\n    result.a \x3d (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];\n    vec3 rgb \x3d mix(c.rgb, result.rgb, uAlpha);\n    rgb *\x3d result.a;\n    gl_FragColor \x3d vec4(rgb, result.a);\n}"},
36682:r=>{r.exports="#define SHADER_NAME PHASER_COPY_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float uBrightness;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    gl_FragColor \x3d texture2D(uMainSampler, outTexCoord) * uBrightness;\n}"},99155:r=>{r.exports="#define SHADER_NAME BARREL_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float amount;\nvarying vec2 outTexCoord;\nvec2 Distort(vec2 p)\n{\n    float theta  \x3d atan(p.y, p.x);\n    float radius \x3d length(p);\n    radius \x3d pow(radius, amount);\n    p.x \x3d radius * cos(theta);\n    p.y \x3d radius * sin(theta);\n    return 0.5 * (p + 1.0);\n}\nvoid main()\n{\n    vec2 xy \x3d 2.0 * outTexCoord - 1.0;\n    vec2 texCoord \x3d outTexCoord;\n    if (length(xy) \x3c 1.0)\n    {\n        texCoord \x3d Distort(xy);\n    }\n    gl_FragColor \x3d texture2D(uMainSampler, texCoord);\n}"},
24400:r=>{r.exports="#define SHADER_NAME BLOOM_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 sum \x3d texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;\n    sum \x3d sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;\n    sum \x3d sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;\n    sum \x3d sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;\n    gl_FragColor \x3d (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);\n}"},
94328:r=>{r.exports="#define SHADER_NAME BLUR_HIGH_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv \x3d outTexCoord;\n    vec4 col \x3d vec4(0.0);\n    vec2 off1 \x3d vec2(1.411764705882353) * offset * strength;\n    vec2 off2 \x3d vec2(3.2941176470588234) * offset * strength;\n    vec2 off3 \x3d vec2(5.176470588235294) * offset * strength;\n    col +\x3d texture2D(uMainSampler, uv) * 0.1964825501511404;\n    col +\x3d texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;\n    col +\x3d texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;\n    col +\x3d texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;\n    col +\x3d texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;\n    col +\x3d texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;\n    col +\x3d texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;\n    gl_FragColor \x3d col * vec4(color, 1.0);\n}"},
41514:r=>{r.exports="#define SHADER_NAME BLUR_LOW_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv \x3d outTexCoord;\n    vec4 col \x3d vec4(0.0);\n    vec2 offset \x3d vec2(1.333) * offset * strength;\n    col +\x3d texture2D(uMainSampler, uv) * 0.29411764705882354;\n    col +\x3d texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;\n    col +\x3d texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;\n    gl_FragColor \x3d col * vec4(color, 1.0);\n}"},
51078:r=>{r.exports="#define SHADER_NAME BLUR_MED_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float strength;\nuniform vec3 color;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv \x3d outTexCoord;\n    vec4 col \x3d vec4(0.0);\n    vec2 off1 \x3d vec2(1.3846153846) * offset * strength;\n    vec2 off2 \x3d vec2(3.2307692308) * offset * strength;\n    col +\x3d texture2D(uMainSampler, uv) * 0.2270270270;\n    col +\x3d texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;\n    col +\x3d texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;\n    col +\x3d texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;\n    col +\x3d texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;\n    gl_FragColor \x3d col * vec4(color, 1.0);\n}"},
90610:r=>{r.exports="#define SHADER_NAME BOKEH_FS\nprecision mediump float;\n#define ITERATIONS 100.0\n#define ONEOVER_ITR 1.0 / ITERATIONS\n#define PI 3.141596\n#define GOLDEN_ANGLE 2.39996323\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform float radius;\nuniform float amount;\nuniform float contrast;\nuniform bool isTiltShift;\nuniform float strength;\nuniform vec2 blur;\nvarying vec2 outTexCoord;\nvec2 Sample (in float theta, inout float r)\n{\n    r +\x3d 1.0 / r;\n    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;\n}\nvec3 Bokeh (sampler2D tex, vec2 uv, float radius)\n{\n    vec3 acc \x3d vec3(0.0);\n    vec3 div \x3d vec3(0.0);\n    vec2 pixel \x3d vec2(resolution.y / resolution.x, 1.0) * radius * .025;\n    float r \x3d 1.0;\n    for (float j \x3d 0.0; j \x3c GOLDEN_ANGLE * ITERATIONS; j +\x3d GOLDEN_ANGLE)\n    {\n        vec3 col \x3d texture2D(tex, uv + pixel * Sample(j, r)).xyz;\n        col \x3d contrast \x3e 0.0 ? col * col * (1.0 + contrast) : col;\n        vec3 bokeh \x3d vec3(0.5) + pow(col, vec3(10.0)) * amount;\n        acc +\x3d col * bokeh;\n        div +\x3d bokeh;\n    }\n    return acc / div;\n}\nvoid main ()\n{\n    float shift \x3d 1.0;\n    if (isTiltShift)\n    {\n        vec2 uv \x3d vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;\n        float centerStrength \x3d 1.0;\n        shift \x3d length(uv * blur * strength) * centerStrength;\n    }\n    gl_FragColor \x3d vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);\n}"},
91899:r=>{r.exports="#define SHADER_NAME CIRCLE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform vec3 color;\nuniform vec4 backgroundColor;\nuniform float thickness;\nuniform float scale;\nuniform float feather;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 texture \x3d texture2D(uMainSampler, outTexCoord);\n    vec2 position \x3d (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;\n    float aspectRatio \x3d resolution.x / resolution.y;\n    position.x *\x3d aspectRatio;\n    float grad \x3d length(position);\n    float outer \x3d aspectRatio;\n    float inner \x3d outer - (thickness * 2.0 / resolution.y);\n    if (aspectRatio \x3e\x3d 1.0)\n    {\n        float f \x3d 2.0 + (resolution.y / resolution.x);\n        outer \x3d 1.0;\n        inner \x3d 1.0 - (thickness * f / resolution.x);\n    }\n    outer *\x3d scale;\n    inner *\x3d scale;\n    float circle \x3d smoothstep(outer, outer - 0.01, grad);\n    float ring \x3d circle - smoothstep(inner, inner - feather, grad);\n    texture \x3d mix(backgroundColor * backgroundColor.a, texture, texture.a);\n    texture \x3d (texture * (circle - ring));\n    gl_FragColor \x3d vec4(texture.rgb + (ring * color), texture.a);\n}"},
47838:r=>{r.exports="#define SHADER_NAME DISPLACEMENT_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform sampler2D uDisplacementSampler;\nuniform vec2 amount;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 disp \x3d (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;\n    gl_FragColor \x3d texture2D(uMainSampler, outTexCoord + disp).rgba;\n}"},98656:r=>{r.exports="#define SHADER_NAME GLOW_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec2 resolution;\nuniform vec4 glowColor;\nuniform bool knockout;\nconst float PI \x3d 3.14159265358979323846264;\nconst float DIST \x3d __DIST__;\nconst float SIZE \x3d min(__SIZE__, PI * 2.0);\nconst float STEP \x3d ceil(PI * 2.0 / SIZE);\nconst float MAX_ALPHA \x3d STEP * DIST * (DIST + 1.0) / 2.0;\nvoid main ()\n{\n    vec2 px \x3d vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    float totalAlpha \x3d 0.0;\n    vec2 direction;\n    vec2 displaced;\n    vec4 color;\n    for (float angle \x3d 0.0; angle \x3c PI * 2.0; angle +\x3d SIZE)\n    {\n        direction \x3d vec2(cos(angle), sin(angle)) * px;\n        for (float curDistance \x3d 0.0; curDistance \x3c DIST; curDistance++)\n        {\n            displaced \x3d outTexCoord + direction * (curDistance + 1.0);\n            color \x3d texture2D(uMainSampler, displaced);\n            totalAlpha +\x3d (DIST - curDistance) * color.a;\n        }\n    }\n    color \x3d texture2D(uMainSampler, outTexCoord);\n    float alphaRatio \x3d (totalAlpha / MAX_ALPHA);\n    float innerGlowAlpha \x3d (1.0 - alphaRatio) * innerStrength * color.a;\n    float innerGlowStrength \x3d min(1.0, innerGlowAlpha);\n    vec4 innerColor \x3d mix(color, glowColor, innerGlowStrength);\n    float outerGlowAlpha \x3d alphaRatio * outerStrength * (1.0 - color.a);\n    float outerGlowStrength \x3d min(1.0 - innerColor.a, outerGlowAlpha);\n    vec4 outerGlowColor \x3d outerGlowStrength * glowColor.rgba;\n    if (knockout)\n    {\n        float resultAlpha \x3d outerGlowAlpha + innerGlowAlpha;\n        gl_FragColor \x3d vec4(glowColor.rgb * resultAlpha, resultAlpha);\n    }\n    else\n    {\n        gl_FragColor \x3d innerColor + outerGlowColor;\n    }\n}"},
70463:r=>{r.exports="#define SHADER_NAME GRADIENT_FS\n#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))\n#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))\n#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 positionFrom;\nuniform vec2 positionTo;\nuniform vec3 color1;\nuniform vec3 color2;\nuniform float alpha;\nuniform int size;\nvarying vec2 outTexCoord;\nfloat gradientNoise(in vec2 uv)\n{\n    const vec3 magic \x3d vec3(0.06711056, 0.00583715, 52.9829189);\n    return fract(magic.z * fract(dot(uv, magic.xy)));\n}\nfloat stepped (in float s, in float scale, in int steps)\n{\n    return steps \x3e 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;\n}\nvoid main ()\n{\n    vec2 a \x3d positionFrom;\n    vec2 b \x3d positionTo;\n    vec2 ba \x3d b - a;\n    float d \x3d dot(outTexCoord - a, ba) / dot(ba, ba);\n    float t \x3d size \x3e 0 ? stepped(d, 1.0, size) : d;\n    t \x3d smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));\n    vec3 color \x3d mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);\n    color \x3d LINEAR_TO_SRGB(color);\n    color +\x3d (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);\n    vec4 texture \x3d texture2D(uMainSampler, outTexCoord);\n    gl_FragColor \x3d vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;\n}"},
50831:r=>{r.exports="#define SHADER_NAME PIXELATE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform float amount;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    float pixelSize \x3d floor(2.0 + amount);\n    vec2 center \x3d pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);\n    vec2 corner1 \x3d center + pixelSize * vec2(-0.5, -0.5);\n    vec2 corner2 \x3d center + pixelSize * vec2(+0.5, -0.5);\n    vec2 corner3 \x3d center + pixelSize * vec2(+0.5, +0.5);\n    vec2 corner4 \x3d center + pixelSize * vec2(-0.5, +0.5);\n    vec4 pixel \x3d 0.4 * texture2D(uMainSampler, center / resolution);\n    pixel +\x3d 0.15 * texture2D(uMainSampler, corner1 / resolution);\n    pixel +\x3d 0.15 * texture2D(uMainSampler, corner2 / resolution);\n    pixel +\x3d 0.15 * texture2D(uMainSampler, corner3 / resolution);\n    pixel +\x3d 0.15 * texture2D(uMainSampler, corner4 / resolution);\n    gl_FragColor \x3d pixel;\n}"},
92595:r=>{r.exports="#define SHADER_NAME SHADOW_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nuniform vec2 lightPosition;\nuniform vec4 color;\nuniform float decay;\nuniform float power;\nuniform float intensity;\nuniform int samples;\nconst int MAX \x3d 12;\nvoid main ()\n{\n    vec4 texture \x3d texture2D(uMainSampler, outTexCoord);\n    vec2 pc \x3d (lightPosition - outTexCoord) * intensity;\n    float shadow \x3d 0.0;\n    float limit \x3d max(float(MAX), float(samples));\n    for (int i \x3d 0; i \x3c MAX; ++i)\n    {\n        if (i \x3e\x3d samples)\n        {\n            break;\n        }\n        shadow +\x3d texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;\n    }\n    float mask \x3d 1.0 - texture.a;\n    gl_FragColor \x3d mix(texture, color, shadow * mask);\n}"},
72464:r=>{r.exports="#define SHADER_NAME SHINE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec2 resolution;\nuniform bool reveal;\nuniform float speed;\nuniform float time;\nuniform float lineWidth;\nuniform float gradient;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n\tvec2 uv \x3d gl_FragCoord.xy / resolution.xy;\n    vec4 tex \x3d texture2D(uMainSampler, outTexCoord);\n    vec4 col1 \x3d vec4(0.3, 0.0, 0.0, 1.0);\n    vec4 col2 \x3d vec4(0.85, 0.85, 0.85, 1.0);\n    uv.x \x3d uv.x - mod(time * speed, 2.0) + 0.5;\n    float y \x3d uv.x * gradient;\n    float s \x3d smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);\n    gl_FragColor \x3d (((s * col1) + (s * col2)) * tex);\n    if (!reveal)\n    {\n        gl_FragColor +\x3d tex;\n    }\n}"},
39249:r=>{r.exports="#define SHADER_NAME VIGNETTE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform float radius;\nuniform float strength;\nuniform vec2 position;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 col \x3d vec4(1.0);\n    float d \x3d length(outTexCoord - position);\n    if (d \x3c\x3d radius)\n    {\n        float g \x3d d / radius;\n        g \x3d sin(g * 3.14 * strength);\n    \tcol \x3d vec4(g * g * g);\n    }\n    vec4 texture \x3d texture2D(uMainSampler, outTexCoord);\n    gl_FragColor \x3d texture * (1.0 - col);\n}"},
2878:r=>{r.exports="#define SHADER_NAME WIPE_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nuniform vec4 config;\nuniform bool reveal;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec2 uv \x3d outTexCoord;\n    vec4 color0;\n    vec4 color1;\n    if (reveal)\n    {\n        color0 \x3d vec4(0);\n        color1 \x3d texture2D(uMainSampler, uv);\n    }\n    else\n    {\n        color0 \x3d texture2D(uMainSampler, uv);\n        color1 \x3d vec4(0);\n    }\n    float distance \x3d config.x;\n    float width \x3d config.y;\n    float direction \x3d config.z;\n    float axis \x3d uv.x;\n    if (config.w \x3d\x3d 1.0)\n    {\n        axis \x3d uv.y;\n    }\n    float adjust \x3d mix(width, -width, distance);\n    float value \x3d smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);\n    gl_FragColor \x3d mix(color1, color0, value);\n}"},
31063:r=>{r.exports="#define SHADER_NAME PHASER_LIGHT_FS\nprecision mediump float;\nstruct Light\n{\n    vec2 position;\n    vec3 color;\n    float intensity;\n    float radius;\n};\nconst int kMaxLights \x3d %LIGHT_COUNT%;\nuniform vec4 uCamera; /* x, y, rotation, zoom */\nuniform vec2 uResolution;\nuniform sampler2D uMainSampler;\nuniform sampler2D uNormSampler;\nuniform vec3 uAmbientLightColor;\nuniform Light uLights[kMaxLights];\nuniform mat3 uInverseRotationMatrix;\nuniform int uLightCount;\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec3 finalColor \x3d vec3(0.0, 0.0, 0.0);\n    vec4 texel \x3d vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 texture \x3d texture2D(uMainSampler, outTexCoord);\n    vec4 color \x3d texture * texel;\n    if (outTintEffect \x3d\x3d 1.0)\n    {\n        color.rgb \x3d mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect \x3d\x3d 2.0)\n    {\n        color \x3d texel;\n    }\n    vec3 normalMap \x3d texture2D(uNormSampler, outTexCoord).rgb;\n    vec3 normal \x3d normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));\n    vec2 res \x3d vec2(min(uResolution.x, uResolution.y)) * uCamera.w;\n    for (int index \x3d 0; index \x3c kMaxLights; ++index)\n    {\n        if (index \x3c uLightCount)\n        {\n            Light light \x3d uLights[index];\n            vec3 lightDir \x3d vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);\n            vec3 lightNormal \x3d normalize(lightDir);\n            float distToSurf \x3d length(lightDir) * uCamera.w;\n            float diffuseFactor \x3d max(dot(normal, lightNormal), 0.0);\n            float radius \x3d (light.radius / res.x * uCamera.w) * uCamera.w;\n            float attenuation \x3d clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);\n            vec3 diffuse \x3d light.color * diffuseFactor;\n            finalColor +\x3d (attenuation * diffuse) * light.intensity;\n        }\n    }\n    vec4 colorOutput \x3d vec4(uAmbientLightColor + finalColor, 1.0);\n    gl_FragColor \x3d color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);\n}"},
48247:r=>{r.exports="#define SHADER_NAME PHASER_LINEAR_BLEND_FS\nprecision mediump float;\nuniform sampler2D uMainSampler1;\nuniform sampler2D uMainSampler2;\nuniform float uStrength;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    vec4 frame1 \x3d texture2D(uMainSampler1, outTexCoord);\n    vec4 frame2 \x3d texture2D(uMainSampler2, outTexCoord);\n    gl_FragColor \x3d mix(frame1, frame2 * uStrength, 0.5);\n}"},41214:r=>{r.exports="#define SHADER_NAME PHASER_MESH_FS\nprecision mediump float;\nuniform vec3 uLightPosition;\nuniform vec3 uLightAmbient;\nuniform vec3 uLightDiffuse;\nuniform vec3 uLightSpecular;\nuniform vec3 uFogColor;\nuniform float uFogNear;\nuniform float uFogFar;\nuniform vec3 uMaterialAmbient;\nuniform vec3 uMaterialDiffuse;\nuniform vec3 uMaterialSpecular;\nuniform float uMaterialShine;\nuniform vec3 uCameraPosition;\nuniform sampler2D uTexture;\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvoid main (void)\n{\n    vec4 color \x3d texture2D(uTexture, vTextureCoord);\n    vec3 ambient \x3d uLightAmbient * uMaterialAmbient;\n    vec3 norm \x3d normalize(vNormal);\n    vec3 lightDir \x3d normalize(uLightPosition - vPosition);\n    float diff \x3d max(dot(norm, lightDir), 0.0);\n    vec3 diffuse \x3d uLightDiffuse * (diff * uMaterialDiffuse);\n    vec3 viewDir \x3d normalize(uCameraPosition - vPosition);\n    vec3 reflectDir \x3d reflect(-lightDir, norm);\n    float spec \x3d pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);\n    vec3 specular \x3d uLightSpecular * (spec * uMaterialSpecular);\n    vec3 result \x3d (ambient + diffuse + specular) * color.rgb;\n    float depth \x3d gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor \x3d smoothstep(uFogNear, uFogFar, depth);\n    gl_FragColor.rgb \x3d mix(result.rgb, uFogColor, fogFactor);\n    gl_FragColor.a \x3d color.a;\n}"},
39653:r=>{r.exports="#define SHADER_NAME PHASER_MESH_VS\nprecision mediump float;\nattribute vec3 aVertexPosition;\nattribute vec3 aVertexNormal;\nattribute vec2 aTextureCoord;\nuniform mat4 uViewProjectionMatrix;\nuniform mat4 uModelMatrix;\nuniform mat4 uNormalMatrix;\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvoid main ()\n{\n    vTextureCoord \x3d aTextureCoord;\n    vPosition \x3d vec3(uModelMatrix * vec4(aVertexPosition, 1.0));\n    vNormal \x3d vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));\n    gl_Position \x3d uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n}"},
62143:r=>{r.exports="#define SHADER_NAME PHASER_MOBILE_FS\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec4 texel \x3d vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 texture \x3d texture2D(uMainSampler, outTexCoord);\n    vec4 color \x3d texture * texel;\n    if (outTintEffect \x3d\x3d 1.0)\n    {\n        color.rgb \x3d mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect \x3d\x3d 2.0)\n    {\n        color \x3d texel;\n    }\n    gl_FragColor \x3d color;\n}"},
47940:r=>{r.exports="#define SHADER_NAME PHASER_MOBILE_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform int uRoundPixels;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    gl_Position \x3d uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n    if (uRoundPixels \x3d\x3d 1)\n    {\n        gl_Position.xy \x3d floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;\n    }\n    outTexCoord \x3d inTexCoord;\n    outTint \x3d inTint;\n    outTintEffect \x3d inTintEffect;\n}"},
98840:r=>{r.exports="#define SHADER_NAME PHASER_MULTI_FS\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uMainSampler[%count%];\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec4 texture;\n    %forloop%\n    vec4 texel \x3d vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 color \x3d texture * texel;\n    if (outTintEffect \x3d\x3d 1.0)\n    {\n        color.rgb \x3d mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect \x3d\x3d 2.0)\n    {\n        color \x3d texel;\n    }\n    gl_FragColor \x3d color;\n}"},
44667:r=>{r.exports="#define SHADER_NAME PHASER_MULTI_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform int uRoundPixels;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\nvarying vec2 outTexCoord;\nvarying float outTexId;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    gl_Position \x3d uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n    if (uRoundPixels \x3d\x3d 1)\n    {\n        gl_Position.xy \x3d floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;\n    }\n    outTexCoord \x3d inTexCoord;\n    outTexId \x3d inTexId;\n    outTint \x3d inTint;\n    outTintEffect \x3d inTintEffect;\n}"},
4127:r=>{r.exports="#define SHADER_NAME PHASER_POINTLIGHT_FS\nprecision mediump float;\nuniform vec2 uResolution;\nuniform float uCameraZoom;\nvarying vec4 lightPosition;\nvarying vec4 lightColor;\nvarying float lightRadius;\nvarying float lightAttenuation;\nvoid main ()\n{\n    vec2 center \x3d (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);\n    float distToSurf \x3d length(center - gl_FragCoord.xy);\n    float radius \x3d 1.0 - distToSurf / (lightRadius * uCameraZoom);\n    float intensity \x3d smoothstep(0.0, 1.0, radius * lightAttenuation);\n    vec4 color \x3d vec4(intensity, intensity, intensity, 0.0) * lightColor;\n    gl_FragColor \x3d vec4(color.rgb * lightColor.a, color.a);\n}"},
89924:r=>{r.exports="#define SHADER_NAME PHASER_POINTLIGHT_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nattribute vec2 inPosition;\nattribute vec2 inLightPosition;\nattribute vec4 inLightColor;\nattribute float inLightRadius;\nattribute float inLightAttenuation;\nvarying vec4 lightPosition;\nvarying vec4 lightColor;\nvarying float lightRadius;\nvarying float lightAttenuation;\nvoid main ()\n{\n    lightColor \x3d inLightColor;\n    lightRadius \x3d inLightRadius;\n    lightAttenuation \x3d inLightAttenuation;\n    lightPosition \x3d uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);\n    gl_Position \x3d uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n}"},
27681:r=>{r.exports="#define SHADER_NAME PHASER_POSTFX_FS\nprecision mediump float;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    gl_FragColor \x3d texture2D(uMainSampler, outTexCoord);\n}"},49627:r=>{r.exports="#define SHADER_NAME PHASER_QUAD_VS\nprecision mediump float;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nvarying vec2 outFragCoord;\nvarying vec2 outTexCoord;\nvoid main ()\n{\n    outFragCoord \x3d inPosition.xy * 0.5 + 0.5;\n    outTexCoord \x3d inTexCoord;\n    gl_Position \x3d vec4(inPosition, 0, 1);\n}"},
45561:r=>{r.exports="#define SHADER_NAME PHASER_SINGLE_FS\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    vec4 texture \x3d texture2D(uMainSampler, outTexCoord);\n    vec4 texel \x3d vec4(outTint.bgr * outTint.a, outTint.a);\n    vec4 color \x3d texture * texel;\n    if (outTintEffect \x3d\x3d 1.0)\n    {\n        color.rgb \x3d mix(texture.rgb, outTint.bgr * outTint.a, texture.a);\n    }\n    else if (outTintEffect \x3d\x3d 2.0)\n    {\n        color \x3d texel;\n    }\n    gl_FragColor \x3d color;\n}"},
60722:r=>{r.exports="#define SHADER_NAME PHASER_SINGLE_VS\nprecision mediump float;\nuniform mat4 uProjectionMatrix;\nuniform int uRoundPixels;\nuniform vec2 uResolution;\nattribute vec2 inPosition;\nattribute vec2 inTexCoord;\nattribute float inTexId;\nattribute float inTintEffect;\nattribute vec4 inTint;\nvarying vec2 outTexCoord;\nvarying float outTintEffect;\nvarying vec4 outTint;\nvoid main ()\n{\n    gl_Position \x3d uProjectionMatrix * vec4(inPosition, 1.0, 1.0);\n    if (uRoundPixels \x3d\x3d 1)\n    {\n        gl_Position.xy \x3d floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;\n    }\n    outTexCoord \x3d inTexCoord;\n    outTint \x3d inTint;\n    outTintEffect \x3d inTintEffect;\n}"},
89350:(r,p,a)=>{r.exports={AddBlendFrag:a(35407),BitmapMaskFrag:a(78908),BitmapMaskVert:a(85191),ColorMatrixFrag:a(96293),CopyFrag:a(36682),FXBarrelFrag:a(99155),FXBloomFrag:a(24400),FXBlurHighFrag:a(94328),FXBlurLowFrag:a(41514),FXBlurMedFrag:a(51078),FXBokehFrag:a(90610),FXCircleFrag:a(91899),FXDisplacementFrag:a(47838),FXGlowFrag:a(98656),FXGradientFrag:a(70463),FXPixelateFrag:a(50831),FXShadowFrag:a(92595),FXShineFrag:a(72464),FXVignetteFrag:a(39249),FXWipeFrag:a(2878),LightFrag:a(31063),LinearBlendFrag:a(48247),
MeshFrag:a(41214),MeshVert:a(39653),MobileFrag:a(62143),MobileVert:a(47940),MultiFrag:a(98840),MultiVert:a(44667),PointLightFrag:a(4127),PointLightVert:a(89924),PostFXFrag:a(27681),QuadVert:a(49627),SingleFrag:a(45561),SingleVert:a(60722)}},93567:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g,d){this.webGLAttribLocation=-1;this.gl=m;this.program=g;this.name=d;this.createResource()},createResource:function(){if(null===this.program.webGLProgram)this.webGLAttribLocation=-1;else{var m=this.gl;m.isContextLost()||
(this.webGLAttribLocation=m.getAttribLocation(this.program.webGLProgram,this.name))}},destroy:function(){this.name=this.program=this.gl=null;this.webGLAttribLocation=-1}});r.exports=p},26128:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g,d,b){this.webGLBuffer=null;this.gl=m;this.initialDataOrSize=g;this.bufferType=d;this.bufferUsage=b;this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var m=this.gl;if(!m.isContextLost()){var g=this.bufferType;this.webGLBuffer=
m.createBuffer();m.bindBuffer(g,this.webGLBuffer);m.bufferData(g,this.initialDataOrSize,this.bufferUsage);m.bindBuffer(g,null)}}},destroy:function(){var m=this.gl;m.isContextLost()||m.deleteBuffer(this.webGLBuffer);this.gl=this.initialDataOrSize=this.webGLBuffer=null}});r.exports=p},84387:(r,p,a)=>{var m={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};p=new (a(83419))({initialize:function(g,d,b,e,h){this.webGLFramebuffer=null;
this.gl=g;this.width=d;this.height=b;this.renderTexture=e;this.addDepthStencilBuffer=!!h;this.createResource()},createResource:function(){var g=this.gl;if(!g.isContextLost()){var d=this.renderTexture,b=g.createFramebuffer();this.webGLFramebuffer=b;g.bindFramebuffer(g.FRAMEBUFFER,b);d.isRenderTexture=!0;d.isAlphaPremultiplied=!1;g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d.webGLTexture,0);d=g.checkFramebufferStatus(g.FRAMEBUFFER);if(d!==g.FRAMEBUFFER_COMPLETE)throw Error("Framebuffer status: "+
(m[d]||d));this.addDepthStencilBuffer&&(d=g.createRenderbuffer(),g.bindRenderbuffer(g.RENDERBUFFER,d),g.renderbufferStorage(g.RENDERBUFFER,g.DEPTH_STENCIL,this.width,this.height),g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.RENDERBUFFER,d));g.bindFramebuffer(g.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var g=this.gl;if(!g.isContextLost()){g.bindFramebuffer(g.FRAMEBUFFER,this.webGLFramebuffer);var d=g.getFramebufferAttachmentParameter(g.FRAMEBUFFER,
g.COLOR_ATTACHMENT0,g.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==d&&(g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,null,0),g.deleteTexture(d));d=g.getFramebufferAttachmentParameter(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==d&&g.deleteRenderbuffer(d);g.bindFramebuffer(g.FRAMEBUFFER,null);g.deleteFramebuffer(this.webGLFramebuffer)}this.gl=this.webGLFramebuffer=this.renderTexture=null}}});r.exports=p},1482:(r,p,a)=>{p=new (a(83419))({initialize:function(m,
g,d){this.webGLProgram=null;this.gl=m;this.vertexSource=g;this.fragmentSource=d;this.createResource()},createResource:function(){var m=this.gl;if(!m.isContextLost()){var g=m.createProgram(),d=m.createShader(m.VERTEX_SHADER),b=m.createShader(m.FRAGMENT_SHADER);m.shaderSource(d,this.vertexSource);m.shaderSource(b,this.fragmentSource);m.compileShader(d);m.compileShader(b);if(!m.getShaderParameter(d,m.COMPILE_STATUS))throw Error("Vertex Shader failed:\n"+m.getShaderInfoLog(d));if(!m.getShaderParameter(b,
m.COMPILE_STATUS))throw Error("Fragment Shader failed:\n"+m.getShaderInfoLog(b));m.attachShader(g,d);m.attachShader(g,b);m.linkProgram(g);if(!m.getProgramParameter(g,m.LINK_STATUS))throw Error("Link Shader failed:\n"+m.getProgramInfoLog(g));m.useProgram(g);this.webGLProgram=g}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.gl=this.webGLProgram=null)}});r.exports=p},82751:(r,p,a)=>{p=a(83419);var m=a(50030),g=new p({initialize:function(d,
b,e,h,c,l,f,k,n,q,t,v,u){this.webGLTexture=null;this.isRenderTexture=!1;this.gl=d;this.mipLevel=b;this.minFilter=e;this.magFilter=h;this.wrapT=c;this.wrapS=l;this.format=f;this.pixels=k;this.width=n;this.height=q;this.pma=void 0===t||null===t?!0:t;this.forceSize=!!v;this.flipY=!!u;this.__SPECTOR_Metadata={};this.createResource()},createResource:function(){var d=this.gl;d.isContextLost()||(this.pixels instanceof g?this.webGLTexture=this.pixels.webGLTexture:(d=d.createTexture(),d.__SPECTOR_Metadata=
this.__SPECTOR_Metadata,this.webGLTexture=d,this._processTexture()))},update:function(d,b,e,h,c,l,f,k,n){0!==b&&0!==e&&(this.pixels=d,this.width=b,this.height=e,this.flipY=h,this.wrapS=c,this.wrapT=l,this.minFilter=f,this.magFilter=k,this.format=n,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var d=this.gl;d.activeTexture(d.TEXTURE0);var b=d.getParameter(d.TEXTURE_BINDING_2D);d.bindTexture(d.TEXTURE_2D,this.webGLTexture);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,
this.minFilter);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,this.magFilter);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,this.wrapS);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,this.wrapT);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma);d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,h=this.mipLevel,c=this.width,l=this.height,f=this.format;if(null===e||void 0===e)d.texImage2D(d.TEXTURE_2D,h,f,c,l,0,f,d.UNSIGNED_BYTE,null),h=m(c,l);else if(e.compressed)for(h=e.generateMipmap,
c=0;c<e.mipmaps.length;c++)d.compressedTexImage2D(d.TEXTURE_2D,c,e.internalFormat,e.mipmaps[c].width,e.mipmaps[c].height,0,e.mipmaps[c].data);else e instanceof Uint8Array?d.texImage2D(d.TEXTURE_2D,h,f,c,l,0,f,d.UNSIGNED_BYTE,e):(this.forceSize||(c=e.width,l=e.height),d.texImage2D(d.TEXTURE_2D,h,f,f,d.UNSIGNED_BYTE,e)),h=m(c,l);h&&d.generateMipmap(d.TEXTURE_2D);b?d.bindTexture(d.TEXTURE_2D,b):d.bindTexture(d.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(d){this.__SPECTOR_Metadata=
d;this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=d)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof g||this.gl.deleteTexture(this.webGLTexture),this.gl=this.webGLTexture=this.pixels=null)}});r.exports=g},57183:(r,p,a)=>{p=new (a(83419))({initialize:function(m,g,d){this.webGLUniformLocation=null;this.gl=m;this.program=g;this.name=d;this.createResource()},createResource:function(){if(null===this.program.webGLProgram)this.webGLUniformLocation=
null;else{var m=this.gl;m.isContextLost()||(this.webGLUniformLocation=m.getUniformLocation(this.program.webGLProgram,this.name))}},destroy:function(){this.webGLUniformLocation=this.name=this.program=this.gl=null}});r.exports=p},9503:(r,p,a)=>{p={WebGLAttribLocationWrapper:a(93567),WebGLBufferWrapper:a(26128),WebGLProgramWrapper:a(1482),WebGLTextureWrapper:a(82751),WebGLFramebufferWrapper:a(84387),WebGLUniformLocationWrapper:a(57183)};r.exports=p},76531:(r,p,a)=>{var m=a(13560);p=a(83419);var g=a(50792),
d=a(97480),b=a(8443),e=a(57811),h=a(74403),c=a(45818),l=a(29747),f=a(87841),k=a(86555),n=a(56583),q=a(26099),t=a(38058);a=new p({Extends:g,initialize:function(v){g.call(this);this.game=v;this.canvasBounds=new f;this.parent=null;this.parentIsWindow=!1;this.parentSize=new k;this.gameSize=new k;this.baseSize=new k;this.displaySize=new k;this.scaleMode=m.SCALE_MODE.NONE;this.zoom=1;this._resetZoom=!1;this.displayScale=new q(1,1);this.autoRound=!1;this.autoCenter=m.CENTER.NO_CENTER;this.orientation=m.ORIENTATION.LANDSCAPE;
this.fullscreenTarget=null;this.dirty=this._createdFullscreenTarget=!1;this.resizeInterval=500;this._lastCheck=0;this._checkOrientation=!1;this.domlisteners={orientationChange:l,windowResize:l,fullScreenChange:l,fullScreenError:l}},preBoot:function(){this.parseConfig(this.game.config);this.game.events.once(b.BOOT,this.boot,this)},boot:function(){var v=this.game;this.canvas=v.canvas;this.fullscreen=v.device.fullscreen;this.scaleMode!==m.SCALE_MODE.RESIZE&&this.scaleMode!==m.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode);
this.scaleMode===m.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),0<this.parentSize.width&&0<this.parentSize.height&&this.displaySize.setParent(this.parentSize),this.refresh());v.events.on(b.PRE_STEP,this.step,this);v.events.once(b.READY,this.refresh,this);v.events.once(b.DESTROY,this.destroy,this);this.startListeners()},parseConfig:function(v){this.getParent(v);this.getParentBounds();var u=v.width,x=v.height,w=v.scaleMode,y=v.zoom,z=v.autoRound;if("string"===typeof u)if("%"!==
u.substr(-1))u=parseInt(u,10);else{var C=this.parentSize.width;0===C&&(C=window.innerWidth);u=parseInt(u,10)/100;u=Math.floor(C*u)}"string"===typeof x&&("%"!==x.substr(-1)?x=parseInt(x,10):(C=this.parentSize.height,0===C&&(C=window.innerHeight),x=parseInt(x,10)/100,x=Math.floor(C*x)));this.scaleMode=w;this.autoRound=z;this.autoCenter=v.autoCenter;this.resizeInterval=v.resizeInterval;z&&(u=Math.floor(u),x=Math.floor(x));this.gameSize.setSize(u,x);y===m.ZOOM.MAX_ZOOM&&(y=this.getMaxZoom());this.zoom=
y;1!==y&&(this._resetZoom=!0);this.baseSize.setSize(u,x);z&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height));0<v.minWidth&&this.displaySize.setMin(v.minWidth*y,v.minHeight*y);0<v.maxWidth&&this.displaySize.setMax(v.maxWidth*y,v.maxHeight*y);this.displaySize.setSize(u,x);(0<v.snapWidth||0<v.snapHeight)&&this.displaySize.setSnap(v.snapWidth,v.snapHeight);this.orientation=c(u,x)},getParent:function(v){var u=v.parent;null!==u&&(this.parent=h(u),
this.parentIsWindow=this.parent===document.body,v.expandParent&&v.scaleMode!==m.SCALE_MODE.NONE&&(u=this.parent.getBoundingClientRect(),this.parentIsWindow||0===u.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",u=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==u.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%")),v.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=h(v.fullscreenTarget)))},
getParentBounds:function(){if(!this.parent)return!1;var v=this.parentSize,u=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(u.height=e(!0));var x=u.width;u=u.height;return v.width!==x||v.height!==u?(v.setSize(x,u),!0):this.canvas&&(v=this.canvasBounds,x=this.canvas.getBoundingClientRect(),x.x!==v.x||x.y!==v.y)?!0:!1},lockOrientation:function(v){var u=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return u?u.call(screen,v):!1},setParentSize:function(v,
u){this.parentSize.setSize(v,u);return this.refresh()},setGameSize:function(v,u){var x=this.autoRound;x&&(v=Math.floor(v),u=Math.floor(u));var w=this.width,y=this.height;this.gameSize.resize(v,u);this.baseSize.resize(v,u);x&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height));this.displaySize.setAspectRatio(v/u);this.canvas.width=this.baseSize.width;this.canvas.height=this.baseSize.height;return this.refresh(w,y)},resize:function(v,u){var x=
this.zoom,w=this.autoRound;w&&(v=Math.floor(v),u=Math.floor(u));var y=this.width,z=this.height;this.gameSize.resize(v,u);this.baseSize.resize(v,u);w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height));this.displaySize.setSize(v*x,u*x);this.canvas.width=this.baseSize.width;this.canvas.height=this.baseSize.height;var C=this.canvas.style,A=v*x;x*=u;w&&(A=Math.floor(A),x=Math.floor(x));if(A!==v||x!==u)C.width=A+"px",C.height=x+"px";return this.refresh(y,
z)},setZoom:function(v){this.zoom=v;this._resetZoom=!0;return this.refresh()},setMaxZoom:function(){this.zoom=this.getMaxZoom();this._resetZoom=!0;return this.refresh()},setSnap:function(v,u){void 0===v&&(v=0);void 0===u&&(u=v);this.displaySize.setSnap(v,u);return this.refresh()},refresh:function(v,u){void 0===v&&(v=this.width);void 0===u&&(u=this.height);this.updateScale();this.updateBounds();this.updateOrientation();this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/
this.canvasBounds.height);var x=this.game.domContainer;if(x){this.baseSize.setCSS(x);var w=this.canvas.style;x=x.style;x.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")";x.marginLeft=w.marginLeft;x.marginTop=w.marginTop}this.emit(d.RESIZE,this.gameSize,this.baseSize,this.displaySize,v,u);return this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var v=c(this.width,this.height);v!==this.orientation&&
(this.orientation=v,this.emit(d.ORIENTATION_CHANGE,v))}},updateScale:function(){var v=this.canvas.style,u=this.gameSize.width,x=this.gameSize.height,w=this.zoom,y=this.autoRound;this.scaleMode===m.SCALE_MODE.NONE?(this.displaySize.setSize(u*w,x*w),u=this.displaySize.width,x=this.displaySize.height,y&&(u=Math.floor(u),x=Math.floor(x)),this._resetZoom&&(v.width=u+"px",v.height=x+"px",this._resetZoom=!1)):this.scaleMode===m.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),
this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),u=this.displaySize.width,x=this.displaySize.height,y&&(u=Math.floor(u),x=Math.floor(x)),this.canvas.width=u,this.canvas.height=x):this.scaleMode===m.SCALE_MODE.EXPAND?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),u=this.displaySize.width,x=this.displaySize.height,y&&(u=Math.floor(u),x=Math.floor(x)),v.width=u+"px",v.height=x+"px",v=this.parentSize.width/
this.gameSize.width,u=this.parentSize.height/this.gameSize.height,v<u?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/v):this.baseSize.setSize(this.displaySize.width/u,this.gameSize.height),u=this.baseSize.width,x=this.baseSize.height,y&&(u=Math.floor(u),x=Math.floor(x)),this.canvas.width=u,this.canvas.height=x):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),u=this.displaySize.width,x=this.displaySize.height,y&&(u=Math.floor(u),x=Math.floor(x)),v.width=u+
"px",v.height=x+"px");this.getParentBounds();this.updateCenter()},getMaxZoom:function(){var v=n(this.parentSize.width,this.gameSize.width,0,!0),u=n(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(v,u),1)},updateCenter:function(){var v=this.autoCenter;if(v!==m.CENTER.NO_CENTER){var u=this.canvas,x=u.style,w=u.getBoundingClientRect();u=Math.floor((this.parentSize.width-w.width)/2);w=Math.floor((this.parentSize.height-w.height)/2);v===m.CENTER.CENTER_HORIZONTALLY?w=0:v===m.CENTER.CENTER_VERTICALLY&&
(u=0);x.marginLeft=u+"px";x.marginTop=w+"px"}},updateBounds:function(){var v=this.canvasBounds,u=this.canvas.getBoundingClientRect();v.x=u.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0);v.y=u.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0);v.width=u.width;v.height=u.height},transformX:function(v){return(v-this.canvasBounds.left)*this.displayScale.x},transformY:function(v){return(v-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(v){void 0===
v&&(v={navigationUI:"hide"});var u=this.fullscreen;if(!u.available)this.emit(d.FULLSCREEN_UNSUPPORTED);else if(!u.active){var x=this.getFullscreenTarget();if(u.keyboard)x[u.request](Element.ALLOW_KEYBOARD_INPUT);else x[u.request](v)}},fullscreenSuccessHandler:function(){this.getParentBounds();this.refresh();this.emit(d.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(v){this.removeFullscreenTarget();this.emit(d.FULLSCREEN_FAILED,v)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var v=
document.createElement("div");v.style.margin="0";v.style.padding="0";v.style.width="100%";v.style.height="100%";this.fullscreenTarget=v;this._createdFullscreenTarget=!0}this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas));return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var v=this.fullscreenTarget;if(v&&v.parentNode){var u=v.parentNode;u.insertBefore(this.canvas,
v);u.removeChild(v)}}},stopFullscreen:function(){var v=this.fullscreen;if(!v.available)return this.emit(d.FULLSCREEN_UNSUPPORTED),!1;if(v.active)document[v.cancel]();this.removeFullscreenTarget();this.getParentBounds();this.emit(d.LEAVE_FULLSCREEN);this.refresh()},toggleFullscreen:function(v){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(v)},startListeners:function(){var v=this,u=this.domlisteners;u.orientationChange=function(){v.updateBounds();v._checkOrientation=!0;v.dirty=!0;
v.refresh()};u.windowResize=function(){v.updateBounds();v.dirty=!0};window.addEventListener("orientationchange",u.orientationChange,!1);window.addEventListener("resize",u.windowResize,!1);this.fullscreen.available&&(u.fullScreenChange=function(x){return v.onFullScreenChange(x)},u.fullScreenError=function(x){return v.onFullScreenError(x)},["webkit","moz",""].forEach(function(x){document.addEventListener(x+"fullscreenchange",u.fullScreenChange,!1);document.addEventListener(x+"fullscreenerror",u.fullScreenError,
!1)}),document.addEventListener("MSFullscreenChange",u.fullScreenChange,!1),document.addEventListener("MSFullscreenError",u.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(v,u){v instanceof t||(u=v,v=void 0);void 0===u&&(u=new f);var x=this.baseSize,
w=this.parentSize,y=this.canvasBounds,z=this.displayScale;u.setTo(0<=y.x?0:-(y.x*z.x),0<=y.y?0:-(y.y*z.y),w.width>=y.width?x.width:x.width-(y.width-w.width)*z.x,w.height>=y.height?x.height:x.height-(y.height-w.height)*z.y);v&&(u.width/=v.zoomX,u.height/=v.zoomY,u.centerX=v.centerX+v.scrollX,u.centerY=v.centerY+v.scrollY);return u},step:function(v,u){this.parent&&(this._lastCheck+=u,this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=
0)},stopListeners:function(){var v=this.domlisteners;window.removeEventListener("orientationchange",v.orientationChange,!1);window.removeEventListener("resize",v.windowResize,!1);["webkit","moz",""].forEach(function(u){document.removeEventListener(u+"fullscreenchange",v.fullScreenChange,!1);document.removeEventListener(u+"fullscreenerror",v.fullScreenError,!1)});document.removeEventListener("MSFullscreenChange",v.fullScreenChange,!1);document.removeEventListener("MSFullscreenError",v.fullScreenError,
!1)},destroy:function(){this.removeAllListeners();this.stopListeners();this.fullscreenTarget=this.parent=this.canvasBounds=this.canvas=this.game=null;this.parentSize.destroy();this.gameSize.destroy();this.baseSize.destroy();this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===m.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===
m.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});r.exports=a},64743:r=>{r.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:r=>{r.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:r=>{r.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:r=>{r.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,
MAX_ZOOM:-1}},13560:(r,p,a)=>{p={CENTER:a(64743),ORIENTATION:a(39218),SCALE_MODE:a(81050),ZOOM:a(80805)};r.exports=p},56139:r=>{r.exports="enterfullscreen"},2336:r=>{r.exports="fullscreenfailed"},47412:r=>{r.exports="fullscreenunsupported"},51452:r=>{r.exports="leavefullscreen"},20666:r=>{r.exports="orientationchange"},47945:r=>{r.exports="resize"},97480:(r,p,a)=>{r.exports={ENTER_FULLSCREEN:a(56139),FULLSCREEN_FAILED:a(2336),FULLSCREEN_UNSUPPORTED:a(47412),LEAVE_FULLSCREEN:a(51452),ORIENTATION_CHANGE:a(20666),
RESIZE:a(47945)}},93364:(r,p,a)=>{p=a(79291);var m=a(13560);a={Center:a(64743),Events:a(97480),Orientation:a(39218),ScaleManager:a(76531),ScaleModes:a(81050),Zoom:a(80805)};a=p(!1,a,m.CENTER);a=p(!1,a,m.ORIENTATION);a=p(!1,a,m.SCALE_MODE);a=p(!1,a,m.ZOOM);r.exports=a},27397:(r,p,a)=>{var m=a(95540),g=a(35355);r.exports=function(d){var b=d.game.config.defaultPhysicsSystem;d=m(d.settings,"physics",!1);if(b||d){var e=[];b&&e.push(g(b+"Physics"));if(d)for(var h in d)h=g(h.concat("Physics")),-1===e.indexOf(h)&&
e.push(h);return e}}},52106:(r,p,a)=>{var m=a(95540);r.exports=function(g){var d=g.plugins.getDefaultScenePlugins();g=m(g.settings,"plugins",!1);return Array.isArray(g)?g:d?d:[]}},87033:r=>{r.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",
tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(r,p,a)=>{p=a(83419);var m=a(2368);a=new p({initialize:function(g){this.sys=new m(this,g)},update:function(){}});r.exports=a},60903:(r,p,a)=>{p=a(83419);var m=a(89993),g=a(44594),d=a(8443),b=a(35154),e=a(54899),h=a(29747),c=a(97482),l=a(2368);a=new p({initialize:function(f,k){this.game=f;this.keys={};this.scenes=[];this._pending=[];this._start=[];this._queue=[];this._data={};this.isBooted=this.isProcessing=
!1;this.customViewports=0;if(k){Array.isArray(k)||(k=[k]);for(var n=0;n<k.length;n++)this._pending.push({key:"default",scene:k[n],autoStart:0===n,data:{}})}f.events.once(d.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new c);this.game.events.emit(d.SYSTEM_READY,this.systemScene,this);var f;for(f=0;f<this._pending.length;f++){var k=this._pending[f];var n=k.key;var q=k.scene;var t;q instanceof c?t=this.createSceneFromInstance(n,
q):"object"===typeof q?t=this.createSceneFromObject(n,q):"function"===typeof q&&(t=this.createSceneFromFunction(n,q));n=t.sys.settings.key;this.keys[n]=t;this.scenes.push(t);this._data[n]&&(t.sys.settings.data=this._data[n].data,this._data[n].autoStart&&(k.autoStart=!0));(k.autoStart||t.sys.settings.active)&&this._start.push(n)}this._pending.length=0;this._data={};this.isBooted=!0;for(f=0;f<this._start.length;f++)k=this._start[f],this.start(k);this._start.length=0}},processQueue:function(){var f=
this._pending.length,k=this._queue.length;if(0!==f||0!==k){if(f){for(k=0;k<f;k++){var n=this._pending[k];this.add(n.key,n.scene,n.autoStart,n.data)}for(k=0;k<this._start.length;k++)n=this._start[k],this.start(n);this._start.length=0;this._pending.length=0}for(k=0;k<this._queue.length;k++)n=this._queue[k],this[n.op](n.keyA,n.keyB);this._queue.length=0}},add:function(f,k,n,q){void 0===n&&(n=!1);void 0===q&&(q={});if(this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:k,autoStart:n,
data:q}),this.isBooted||(this._data[f]={data:q}),null;f=this.getKey(f,k);if(k instanceof c)var t=this.createSceneFromInstance(f,k);else"object"===typeof k?(k.key=f,t=this.createSceneFromObject(f,k)):"function"===typeof k&&(t=this.createSceneFromFunction(f,k));t.sys.settings.data=q;f=t.sys.settings.key;this.keys[f]=t;this.scenes.push(t);if(n||t.sys.settings.active)this._pending.length?this._start.push(f):this.start(f);return t},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",
keyA:f,keyB:null});else{f=this.getScene(f);if(!f||f.sys.isTransitioning())return this;var k=this.scenes.indexOf(f),n=f.sys.settings.key;-1<k&&(delete this.keys[n],this.scenes.splice(k,1),-1<this._start.indexOf(n)&&(k=this._start.indexOf(n),this._start.splice(k,1)),f.sys.destroy())}return this},bootScene:function(f){var k=f.sys,n=k.settings;k.sceneUpdate=h;f.init&&(f.init.call(f,n.data),n.status=m.INIT,n.isTransition&&k.events.emit(g.TRANSITION_INIT,n.transitionFrom,n.transitionDuration));if(k.load){var q=
k.load;q.reset()}q&&f.preload?(f.preload.call(f),n.status=m.LOADING,q.once(e.COMPLETE,this.loadComplete,this),q.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock();this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,k){this.processQueue();this.isProcessing=!0;for(var n=this.scenes.length-1;0<=n;n--){var q=this.scenes[n].sys;q.settings.status>m.START&&q.settings.status<=m.RUNNING&&q.step(f,
k);q.scenePlugin&&q.scenePlugin._target&&q.scenePlugin.step(f,k)}},render:function(f){for(var k=0;k<this.scenes.length;k++){var n=this.scenes[k].sys;n.settings.visible&&n.settings.status>=m.LOADING&&n.settings.status<m.SLEEPING&&n.render(f)}this.isProcessing=!1},create:function(f){var k=f.sys,n=k.settings;if(f.create&&(n.status=m.CREATING,f.create.call(f,n.data),n.status===m.DESTROYED))return;n.isTransition&&k.events.emit(g.TRANSITION_START,n.transitionFrom,n.transitionDuration);f.update&&(k.sceneUpdate=
f.update);n.status=m.RUNNING;k.events.emit(g.CREATE,f)},createSceneFromFunction:function(f,k){k=new k;if(k instanceof c){var n=k.sys.settings.key;""!==n&&(f=n);if(this.keys.hasOwnProperty(f))throw Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,k)}k.sys=new l(k);k.sys.settings.key=f;k.sys.init(this.game);return k},createSceneFromInstance:function(f,k){""===k.sys.settings.key&&(k.sys.settings.key=f);k.sys.init(this.game);return k},createSceneFromObject:function(f,
k){var n=new c(k);""===n.sys.settings.key&&(n.sys.settings.key=f);n.sys.init(this.game);f=["init","preload","create","update","render"];for(var q=0;q<f.length;q++){var t=b(k,f[q],null);t&&(n[f[q]]=t)}if(k.hasOwnProperty("extend"))for(var v in k.extend)k.extend.hasOwnProperty(v)&&(f=k.extend[v],"data"===v&&n.hasOwnProperty("data")&&"object"===typeof f?n.data.merge(f):"sys"!==v&&(n[v]=f));return n},getKey:function(f,k){f||(f="default");if("function"===typeof k)return f;k instanceof c?f=k.sys.settings.key:
"object"===typeof k&&k.hasOwnProperty("key")&&(f=k.key);if(this.keys.hasOwnProperty(f))throw Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,k){void 0===f&&(f=!0);void 0===k&&(k=!1);for(var n=[],q=this.scenes,t=0;t<q.length;t++){var v=q[t];v&&(!f||f&&v.sys.isActive())&&n.push(v)}return k?n.reverse():n},getScene:function(f){if("string"===typeof f){if(this.keys[f])return this.keys[f]}else for(var k=0;k<this.scenes.length;k++)if(f===this.scenes[k])return f;return null},
isActive:function(f){return(f=this.getScene(f))?f.sys.isActive():null},isPaused:function(f){return(f=this.getScene(f))?f.sys.isPaused():null},isVisible:function(f){return(f=this.getScene(f))?f.sys.isVisible():null},isSleeping:function(f){return(f=this.getScene(f))?f.sys.isSleeping():null},pause:function(f,k){(f=this.getScene(f))&&f.sys.pause(k);return this},resume:function(f,k){(f=this.getScene(f))&&f.sys.resume(k);return this},sleep:function(f,k){(f=this.getScene(f))&&!f.sys.isTransitioning()&&f.sys.sleep(k);
return this},wake:function(f,k){(f=this.getScene(f))&&f.sys.wake(k);return this},run:function(f,k){var n=this.getScene(f);if(!n){for(n=0;n<this._pending.length;n++)if(this._pending[n].key===f){this.queueOp("start",f,k);break}return this}n.sys.isSleeping()?n.sys.wake(k):n.sys.isPaused()?n.sys.resume(k):this.start(f,k)},start:function(f,k){if(!this.isBooted)return this._data[f]={autoStart:!0,data:k},this;var n=this.getScene(f);if(!n)return console.warn("Scene not found for key: "+f),this;f=n.sys;var q=
f.settings.status;if(q>=m.START&&q<=m.CREATING)return this;if(q>=m.RUNNING&&q<=m.SLEEPING)f.shutdown(),f.sceneUpdate=h,f.start(k);else{f.sceneUpdate=h;f.start(k);if(f.load)var t=f.load;if(t&&f.settings.hasOwnProperty("pack")&&(t.reset(),t.addPack({payload:f.settings.pack})))return f.settings.status=m.LOADING,t.once(e.COMPLETE,this.payloadComplete,this),t.start(),this}this.bootScene(n);return this},stop:function(f,k){if((f=this.getScene(f))&&!f.sys.isTransitioning()&&f.sys.settings.status!==m.SHUTDOWN){var n=
f.sys.load;n&&(n.off(e.COMPLETE,this.loadComplete,this),n.off(e.COMPLETE,this.payloadComplete,this));f.sys.shutdown(k)}return this},switch:function(f,k){var n=this.getScene(f),q=this.getScene(k);n&&q&&n!==q&&(this.sleep(f),this.isSleeping(k)?this.wake(k):this.start(k));return this},getAt:function(f){return this.scenes[f]},getIndex:function(f){f=this.getScene(f);return this.scenes.indexOf(f)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var k=
this.getIndex(f);-1!==k&&k<this.scenes.length&&(f=this.getScene(f),this.scenes.splice(k,1),this.scenes.push(f))}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var k=this.getIndex(f);-1!==k&&0<k&&(f=this.getScene(f),this.scenes.splice(k,1),this.scenes.unshift(f))}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var k=this.getIndex(f);if(0<k){var n=k-1;f=this.getScene(f);
var q=this.getAt(n);this.scenes[k]=q;this.scenes[n]=f}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var k=this.getIndex(f);if(k<this.scenes.length-1){var n=k+1;f=this.getScene(f);var q=this.getAt(n);this.scenes[k]=q;this.scenes[n]=f}}return this},moveAbove:function(f,k){if(f===k)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:k});else if(f=this.getIndex(f),k=this.getIndex(k),-1!==f&&-1!==k&&k<f){var n=this.getAt(k);
this.scenes.splice(k,1);this.scenes.splice(f+(k>f),0,n)}return this},moveBelow:function(f,k){if(f===k)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:k});else if(f=this.getIndex(f),k=this.getIndex(k),-1!==f&&-1!==k&&k>f){var n=this.getAt(k);this.scenes.splice(k,1);0===f?this.scenes.unshift(n):this.scenes.splice(f-(k<f),0,n)}return this},queueOp:function(f,k,n){this._queue.push({op:f,keyA:k,keyB:n});return this},swapPosition:function(f,k){if(f===k)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",
keyA:f,keyB:k});else if(f=this.getIndex(f),k=this.getIndex(k),f!==k&&-1!==f&&-1!==k){var n=this.getAt(f);this.scenes[f]=this.scenes[k];this.scenes[k]=n}return this},dump:function(){for(var f=[],k="pending init start loading creating running paused sleeping shutdown destroyed".split(" "),n=0;n<this.scenes.length;n++){var q=this.scenes[n].sys,t=!q.settings.visible||q.settings.status!==m.RUNNING&&q.settings.status!==m.PAUSED?"[-] ":"[*] ";t+=q.settings.key+" ("+k[q.settings.status]+")";f.push(t)}console.log(f.join("\n"))},
destroy:function(){for(var f=0;f<this.scenes.length;f++)this.scenes[f].sys.destroy();this.systemScene.sys.destroy();this.update=h;this.scenes=[];this._pending=[];this._start=[];this._queue=[];this.systemScene=this.game=null}});r.exports=a},52209:(r,p,a)=>{var m=a(45319);p=a(83419);var g=a(44594),d=a(95540);a=a(37277);p=new p({initialize:function(b){this.scene=b;this.systems=b.sys;this.settings=b.sys.settings;this.key=b.sys.settings.key;this.manager=b.sys.game.scene;this._elapsed=this.transitionProgress=
0;this._target=null;this._duration=0;this._willRemove=this._willSleep=!1;b.sys.events.once(g.BOOT,this.boot,this);b.sys.events.on(g.START,this.pluginStart,this)},boot:function(){this.systems.events.once(g.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null;this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},start:function(b,e){void 0===b&&(b=this.key);this.manager.queueOp("stop",this.key);this.manager.queueOp("start",b,e);return this},restart:function(b){var e=this.key;this.manager.queueOp("stop",
e);this.manager.queueOp("start",e,b);return this},transition:function(b){void 0===b&&(b={});var e=d(b,"target",!1),h=this.manager.getScene(e);if(!e||!this.checkValidTransition(h))return!1;var c=d(b,"duration",1E3);this._elapsed=0;this._target=h;this._duration=c;this._willSleep=d(b,"sleep",!1);this._willRemove=d(b,"remove",!1);var l=d(b,"onUpdate",null);l&&(this._onUpdate=l,this._onUpdateScope=d(b,"onUpdateScope",this.scene));l=d(b,"allowInput",!1);this.settings.transitionAllowInput=l;var f=h.sys.settings;
f.isTransition=!0;f.transitionFrom=this.scene;f.transitionDuration=c;f.transitionAllowInput=l;d(b,"moveAbove",!1)?this.manager.moveAbove(this.key,e):d(b,"moveBelow",!1)&&this.manager.moveBelow(this.key,e);h.sys.isSleeping()?h.sys.wake(d(b,"data")):this.manager.start(e,d(b,"data"));e=d(b,"onStart",null);b=d(b,"onStartScope",this.scene);e&&e.call(b,this.scene,h,c);this.systems.events.emit(g.TRANSITION_OUT,h,c);return!0},checkValidTransition:function(b){return!b||b.sys.isActive()||b.sys.isTransitioning()||
b===this.scene||this.systems.isTransitioning()?!1:!0},step:function(b,e){this._elapsed+=e;this.transitionProgress=m(this._elapsed/this._duration,0,1);this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress);this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var b=this._target.sys.settings;this._target.sys.events.emit(g.TRANSITION_COMPLETE,this.scene);b.isTransition=!1;b.transitionFrom=null;this._duration=0;this._onUpdateScope=this._onUpdate=
this._target=null;this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(b,e,h,c){return this.manager.add(b,e,h,c)},launch:function(b,e){b&&b!==this.key&&this.manager.queueOp("start",b,e);return this},run:function(b,e){b&&b!==this.key&&this.manager.queueOp("run",b,e);return this},pause:function(b,e){void 0===b&&(b=this.key);this.manager.queueOp("pause",b,e);return this},resume:function(b,e){void 0===b&&(b=this.key);this.manager.queueOp("resume",
b,e);return this},sleep:function(b,e){void 0===b&&(b=this.key);this.manager.queueOp("sleep",b,e);return this},wake:function(b,e){void 0===b&&(b=this.key);this.manager.queueOp("wake",b,e);return this},switch:function(b){b!==this.key&&this.manager.queueOp("switch",this.key,b);return this},stop:function(b,e){void 0===b&&(b=this.key);this.manager.queueOp("stop",b,e);return this},setActive:function(b,e,h){void 0===e&&(e=this.key);(e=this.manager.getScene(e))&&e.sys.setActive(b,h);return this},setVisible:function(b,
e){void 0===e&&(e=this.key);(e=this.manager.getScene(e))&&e.sys.setVisible(b);return this},isSleeping:function(b){void 0===b&&(b=this.key);return this.manager.isSleeping(b)},isActive:function(b){void 0===b&&(b=this.key);return this.manager.isActive(b)},isPaused:function(b){void 0===b&&(b=this.key);return this.manager.isPaused(b)},isVisible:function(b){void 0===b&&(b=this.key);return this.manager.isVisible(b)},swapPosition:function(b,e){void 0===e&&(e=this.key);b!==e&&this.manager.swapPosition(b,e);
return this},moveAbove:function(b,e){void 0===e&&(e=this.key);b!==e&&this.manager.moveAbove(b,e);return this},moveBelow:function(b,e){void 0===e&&(e=this.key);b!==e&&this.manager.moveBelow(b,e);return this},remove:function(b){void 0===b&&(b=this.key);this.manager.remove(b);return this},moveUp:function(b){void 0===b&&(b=this.key);this.manager.moveUp(b);return this},moveDown:function(b){void 0===b&&(b=this.key);this.manager.moveDown(b);return this},bringToTop:function(b){void 0===b&&(b=this.key);this.manager.bringToTop(b);
return this},sendToBack:function(b){void 0===b&&(b=this.key);this.manager.sendToBack(b);return this},get:function(b){return this.manager.getScene(b)},getStatus:function(b){if(b=this.manager.getScene(b))return b.sys.getStatus()},getIndex:function(b){void 0===b&&(b=this.key);return this.manager.getIndex(b)},shutdown:function(){var b=this.systems.events;b.off(g.SHUTDOWN,this.shutdown,this);b.off(g.TRANSITION_OUT)},destroy:function(){this.shutdown();this.scene.sys.events.off(g.START,this.start,this);
this.manager=this.settings=this.systems=this.scene=null}});a.register("ScenePlugin",p,"scenePlugin");r.exports=p},55681:(r,p,a)=>{var m=a(89993),g=a(35154),d=a(46975),b=a(87033);r.exports={create:function(e){"string"===typeof e?e={key:e}:void 0===e&&(e={});return{status:m.PENDING,key:g(e,"key",""),active:g(e,"active",!1),visible:g(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:g(e,"pack",!1),cameras:g(e,"cameras",null),map:g(e,
"map",d(b,g(e,"mapAdd",{}))),physics:g(e,"physics",{}),loader:g(e,"loader",{}),plugins:g(e,"plugins",!1),input:g(e,"input",{})}}}},2368:(r,p,a)=>{p=a(83419);var m=a(89993),g=a(42363),d=a(44594),b=a(27397),e=a(52106),h=a(29747),c=a(55681);a=new p({initialize:function(l,f){this.scene=l;this.config=f;this.settings=c.create(f);this.sceneUpdate=h},init:function(l){this.settings.status=m.INIT;this.sceneUpdate=h;this.game=l;this.renderer=l.renderer;this.canvas=l.canvas;this.context=l.context;this.plugins=
l=l.plugins;l.addToScene(this,g.Global,[g.CoreScene,e(this),b(this)]);this.events.emit(d.BOOT,this);this.settings.isBooted=!0},step:function(l,f){var k=this.events;k.emit(d.PRE_UPDATE,l,f);k.emit(d.UPDATE,l,f);this.sceneUpdate.call(this.scene,l,f);k.emit(d.POST_UPDATE,l,f)},render:function(l){var f=this.displayList;f.depthSort();this.events.emit(d.PRE_RENDER,l);this.cameras.render(l,f);this.events.emit(d.RENDER,l)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},
pause:function(l){var f=this.settings,k=this.getStatus();k!==m.CREATING&&k!==m.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=m.PAUSED,f.active=!1,this.events.emit(d.PAUSE,this,l));return this},resume:function(l){var f=this.events,k=this.settings;this.settings.active||(k.status=m.RUNNING,k.active=!0,f.emit(d.RESUME,this,l));return this},sleep:function(l){var f=this.settings,k=this.getStatus();k!==m.CREATING&&k!==m.RUNNING?console.warn("Cannot sleep non-running Scene",
f.key):(f.status=m.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(d.SLEEP,this,l));return this},wake:function(l){var f=this.events,k=this.settings;k.status=m.RUNNING;k.active=!0;k.visible=!0;f.emit(d.WAKE,this,l);k.isTransition&&f.emit(d.TRANSITION_WAKE,k.transitionFrom,k.transitionDuration);return this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var l=this.settings.status;return l>m.PENDING&&l<=m.RUNNING},isSleeping:function(){return this.settings.status===
m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&0<this.scenePlugin._duration},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(l){this.settings.visible=l;return this},setActive:function(l,
f){return l?this.resume(f):this.pause(f)},start:function(l){var f=this.events,k=this.settings;l&&(k.data=l);k.status=m.START;k.active=!0;k.visible=!0;f.emit(d.START,this);f.emit(d.READY,this,l)},shutdown:function(l){var f=this.events,k=this.settings;f.off(d.TRANSITION_INIT);f.off(d.TRANSITION_START);f.off(d.TRANSITION_COMPLETE);f.off(d.TRANSITION_OUT);k.status=m.SHUTDOWN;k.active=!1;k.visible=!1;f.emit(d.SHUTDOWN,this,l)},destroy:function(){var l=this.events,f=this.settings;f.status=m.DESTROYED;f.active=
!1;f.visible=!1;l.emit(d.DESTROY,this);l.removeAllListeners();l="scene game anims cache plugins registry sound textures add camera displayList events make scenePlugin updateList".split(" ");for(f=0;f<l.length;f++)this[l[f]]=null}});r.exports=a},89993:r=>{r.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:r=>{r.exports="addedtoscene"},7919:r=>{r.exports="boot"},46763:r=>{r.exports="create"},11763:r=>{r.exports="destroy"},71555:r=>{r.exports=
"pause"},36735:r=>{r.exports="postupdate"},3809:r=>{r.exports="prerender"},90716:r=>{r.exports="preupdate"},58262:r=>{r.exports="ready"},91633:r=>{r.exports="removedfromscene"},10319:r=>{r.exports="render"},87132:r=>{r.exports="resume"},81961:r=>{r.exports="shutdown"},90194:r=>{r.exports="sleep"},6265:r=>{r.exports="start"},33178:r=>{r.exports="transitioncomplete"},43063:r=>{r.exports="transitioninit"},11259:r=>{r.exports="transitionout"},61611:r=>{r.exports="transitionstart"},45209:r=>{r.exports=
"transitionwake"},22966:r=>{r.exports="update"},21747:r=>{r.exports="wake"},44594:(r,p,a)=>{r.exports={ADDED_TO_SCENE:a(69830),BOOT:a(7919),CREATE:a(46763),DESTROY:a(11763),PAUSE:a(71555),POST_UPDATE:a(36735),PRE_RENDER:a(3809),PRE_UPDATE:a(90716),READY:a(58262),REMOVED_FROM_SCENE:a(91633),RENDER:a(10319),RESUME:a(87132),SHUTDOWN:a(81961),SLEEP:a(90194),START:a(6265),TRANSITION_COMPLETE:a(33178),TRANSITION_INIT:a(43063),TRANSITION_OUT:a(11259),TRANSITION_START:a(61611),TRANSITION_WAKE:a(45209),UPDATE:a(22966),
WAKE:a(21747)}},62194:(r,p,a)=>{p=a(89993);var m=a(79291);a={Events:a(44594),GetPhysicsPlugins:a(27397),GetScenePlugins:a(52106),SceneManager:a(60903),ScenePlugin:a(52209),Settings:a(55681),Systems:a(2368)};a=m(!1,a,p);r.exports=a},30341:(r,p,a)=>{p=a(83419);var m=a(50792),g=a(14463),d=a(79291);a=a(29747);a=new p({Extends:m,initialize:function(b,e,h){m.call(this);this.manager=b;this.key=e;this.isPaused=this.isPlaying=!1;this.totalRate=1;this.duration=this.duration||0;this.totalDuration=this.totalDuration||
0;this.currentConfig=this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0};this.config=d(this.config,h);this.markers={};this.currentMarker=null;this.pendingRemove=!1},addMarker:function(b){if(!b||!b.name||"string"!==typeof b.name)return!1;if(this.markers[b.name])return console.error("addMarker "+b.name+" already exists in Sound"),!1;b=d(!0,{name:"",start:0,duration:this.totalDuration-(b.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},b);this.markers[b.name]=
b;return!0},updateMarker:function(b){if(!b||!b.name||"string"!==typeof b.name)return!1;if(!this.markers[b.name])return console.warn("Audio Marker: "+b.name+" missing in Sound: "+this.key),!1;this.markers[b.name]=d(!0,this.markers[b.name],b);return!0},removeMarker:function(b){var e=this.markers[b];if(!e)return null;this.markers[b]=null;return e},play:function(b,e){void 0===b&&(b="");"object"===typeof b&&(e=b,b="");if("string"!==typeof b)return!1;if(b){if(!this.markers[b])return console.warn("Marker: "+
b+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[b];this.currentConfig=this.currentMarker.config;this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;this.resetConfig();this.currentConfig=d(this.currentConfig,e);this.isPlaying=!0;this.isPaused=!1;return!0},pause:function(){if(this.isPaused||!this.isPlaying)return!1;this.isPlaying=!1;return this.isPaused=!0},resume:function(){if(!this.isPaused||this.isPlaying)return!1;
this.isPlaying=!0;this.isPaused=!1;return!0},stop:function(){if(!this.isPaused&&!this.isPlaying)return!1;this.isPaused=this.isPlaying=!1;this.resetConfig();return!0},applyConfig:function(){this.mute=this.currentConfig.mute;this.volume=this.currentConfig.volume;this.rate=this.currentConfig.rate;this.detune=this.currentConfig.detune;this.loop=this.currentConfig.loop;this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0;this.currentConfig.delay=0},update:a,calculateRate:function(){this.totalRate=
this.currentConfig.rate*this.manager.rate*Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune)},destroy:function(){this.pendingRemove||(this.stop(),this.emit(g.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.currentMarker=this.markers=this.currentConfig=this.config=this.manager=null)}});r.exports=a},85034:(r,p,a)=>{p=a(83419);var m=a(41786),g=a(50792),d=a(14463),b=a(8443),e=a(46710),h=a(58731),c=a(29747),l=a(26099);a=new p({Extends:g,initialize:function(f){g.call(this);
this.game=f;this.jsonCache=f.cache.json;this.sounds=[];this.mute=!1;this.volume=1;this.pauseOnBlur=!0;this._rate=1;this._detune=0;this.locked=this.locked||!1;this.gameLostFocus=this.unlocked=!1;this.listenerPosition=new l;f.events.on(b.BLUR,this.onGameBlur,this);f.events.on(b.FOCUS,this.onGameFocus,this);f.events.on(b.PRE_STEP,this.update,this);f.events.once(b.DESTROY,this.destroy,this)},add:c,addAudioSprite:function(f,k){void 0===k&&(k={});var n=this.add(f,k);n.spritemap=this.jsonCache.get(f).spritemap;
for(var q in n.spritemap)if(n.spritemap.hasOwnProperty(q)){f=m(k);var t=n.spritemap[q];f.loop=t.hasOwnProperty("loop")?t.loop:!1;n.addMarker({name:q,start:t.start,duration:t.end-t.start,config:f})}return n},get:function(f){return h(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,k){f=this.add(f);f.once(d.COMPLETE,f.destroy,f);return k?k.name?(f.addMarker(k),f.play(k.name)):f.play(k):
f.play()},playAudioSprite:function(f,k,n){f=this.addAudioSprite(f);f.once(d.COMPLETE,f.destroy,f);return f.play(k,n)},remove:function(f){var k=this.sounds.indexOf(f);return-1!==k?(f.destroy(),this.sounds.splice(k,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()});this.sounds.length=0},removeByKey:function(f){for(var k=0,n=this.sounds.length-1;0<=n;n--){var q=this.sounds[n];q.key===f&&(q.destroy(),this.sounds.splice(n,1),k++)}return k},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()});
this.emit(d.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()});this.emit(d.RESUME_ALL,this)},setListenerPosition:c,stopAll:function(){this.forEachActiveSound(function(f){f.stop()});this.emit(d.STOP_ALL,this)},stopByKey:function(f){var k=0;this.getAll(f).forEach(function(n){n.stop()&&k++});return k},unlock:c,onBlur:c,onFocus:c,onGameBlur:function(){this.gameLostFocus=!0;if(this.pauseOnBlur)this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1;if(this.pauseOnBlur)this.onFocus()},
update:function(f,k){this.unlocked&&(this.locked=this.unlocked=!1,this.emit(d.UNLOCKED,this));for(var n=this.sounds.length-1;0<=n;n--)this.sounds[n].pendingRemove&&this.sounds.splice(n,1);this.sounds.forEach(function(q){q.update(f,k)})},destroy:function(){this.game.events.off(b.BLUR,this.onGameBlur,this);this.game.events.off(b.FOCUS,this.onGameFocus,this);this.game.events.off(b.PRE_STEP,this.update,this);this.removeAllListeners();this.removeAll();this.sounds.length=0;this.game=this.listenerPosition=
this.sounds=null},forEachActiveSound:function(f,k){var n=this;this.sounds.forEach(function(q,t){q&&!q.pendingRemove&&f.call(k||n,q,t,n.sounds)})},setRate:function(f){this.rate=f;return this},rate:{get:function(){return this._rate},set:function(f){this._rate=f;this.forEachActiveSound(function(k){k.calculateRate()});this.emit(d.GLOBAL_RATE,this,f)}},setDetune:function(f){this.detune=f;return this},detune:{get:function(){return this._detune},set:function(f){this._detune=f;this.forEachActiveSound(function(k){k.calculateRate()});
this.emit(d.GLOBAL_DETUNE,this,f)}}});r.exports=a},14747:(r,p,a)=>{var m=a(33684),g=a(25960),d=a(57490);r.exports={create:function(b){var e=b.config.audio,h=b.device.audio;return e.noAudio||!h.webAudio&&!h.audioData?new g(b):h.webAudio&&!e.disableWebAudio?new d(b):new m(b)}}},19723:r=>{r.exports="complete"},98882:r=>{r.exports="decodedall"},57506:r=>{r.exports="decoded"},73146:r=>{r.exports="destroy"},11305:r=>{r.exports="detune"},40577:r=>{r.exports="detune"},30333:r=>{r.exports="mute"},20394:r=>
{r.exports="rate"},21802:r=>{r.exports="volume"},1299:r=>{r.exports="looped"},99190:r=>{r.exports="loop"},97125:r=>{r.exports="mute"},89259:r=>{r.exports="pan"},79986:r=>{r.exports="pauseall"},17586:r=>{r.exports="pause"},19618:r=>{r.exports="play"},42306:r=>{r.exports="rate"},10387:r=>{r.exports="resumeall"},48959:r=>{r.exports="resume"},9960:r=>{r.exports="seek"},19180:r=>{r.exports="stopall"},98328:r=>{r.exports="stop"},50401:r=>{r.exports="unlocked"},52498:r=>{r.exports="volume"},14463:(r,p,a)=>
{r.exports={COMPLETE:a(19723),DECODED:a(57506),DECODED_ALL:a(98882),DESTROY:a(73146),DETUNE:a(11305),GLOBAL_DETUNE:a(40577),GLOBAL_MUTE:a(30333),GLOBAL_RATE:a(20394),GLOBAL_VOLUME:a(21802),LOOP:a(99190),LOOPED:a(1299),MUTE:a(97125),PAN:a(89259),PAUSE_ALL:a(79986),PAUSE:a(17586),PLAY:a(19618),RATE:a(42306),RESUME_ALL:a(10387),RESUME:a(48959),SEEK:a(9960),STOP_ALL:a(19180),STOP:a(98328),UNLOCKED:a(50401),VOLUME:a(52498)}},64895:(r,p,a)=>{var m=a(30341);p=a(83419);var g=a(14463),d=a(45319);a=new p({Extends:m,
initialize:function(b,e,h){void 0===h&&(h={});this.tags=b.game.cache.audio.get(e);if(!this.tags)throw Error('No cached audio asset with key "'+e);this.audio=null;this.previousTime=this.startTime=0;this.duration=this.tags[0].duration;this.totalDuration=this.tags[0].duration;m.call(this,b,e,h)},play:function(b,e){if(this.manager.isLocked(this,"play",[b,e])||!m.prototype.play.call(this,b,e)||!this.pickAndPlayAudioTag())return!1;this.emit(g.PLAY,this);return!0},pause:function(){if(this.manager.isLocked(this,
"pause")||0<this.startTime||!m.prototype.pause.call(this))return!1;this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0);this.stopAndReleaseAudioTag();this.emit(g.PAUSE,this);return!0},resume:function(){if(this.manager.isLocked(this,"resume")||0<this.startTime||!m.prototype.resume.call(this)||!this.pickAndPlayAudioTag())return!1;this.emit(g.RESUME,this);return!0},stop:function(){if(this.manager.isLocked(this,"stop")||!m.prototype.stop.call(this))return!1;this.stopAndReleaseAudioTag();
this.emit(g.STOP,this);return!0},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var b=this.currentConfig.delay,e=(this.currentMarker?this.currentMarker.start:0)+this.currentConfig.seek;this.previousTime=e;this.audio.currentTime=e;this.applyConfig();0===b?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1E3*b,this.audio.paused||this.audio.pause());this.resetConfig();return!0},pickAudioTag:function(){if(this.audio)return!0;
for(var b=0;b<this.tags.length;b++){var e=this.tags[b];if("false"===e.dataset.used)return e.dataset.used="true",this.audio=e,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&h.push(c)},this);h.sort(function(c,l){return c.loop===l.loop?l.seek/l.duration-c.seek/c.duration:c.loop?1:-1});b=h[0];this.audio=b.audio;b.reset();b.audio=null;b.startTime=0;b.previousTime=0;return!0},playCatchPromise:function(){var b=this.audio.play();b&&b.catch(function(e){console.warn(e)})},
stopAndReleaseAudioTag:function(){this.previousTime=this.startTime=0;this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){m.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1;this.isPaused=!0;this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0);this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1E3);this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0;this.isPaused=
!1;this.pickAndPlayAudioTag()},update:function(b){if(this.isPlaying)if(0<this.startTime)this.startTime<b-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,b-this.startTime)/1E3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{b=this.currentMarker?this.currentMarker.start:0;var e=b+this.duration,h=this.audio.currentTime;if(this.currentConfig.loop)h>=e-this.manager.loopEndOffset?(this.audio.currentTime=b+Math.max(0,h-e),h=this.audio.currentTime):
h<b&&(this.audio.currentTime+=b,h=this.audio.currentTime),h<this.previousTime&&this.emit(g.LOOPED,this);else if(h>=e){this.reset();this.stopAndReleaseAudioTag();this.emit(g.COMPLETE,this);return}this.previousTime=h}},destroy:function(){m.prototype.destroy.call(this);this.tags=null;this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=d(this.currentConfig.volume*
this.manager.volume,0,1))},calculateRate:function(){m.prototype.calculateRate.call(this);this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(b){this.currentConfig.mute=b;this.manager.isLocked(this,"mute",b)||(this.updateMute(),this.emit(g.MUTE,this,b))}},setMute:function(b){this.mute=b;return this},volume:{get:function(){return this.currentConfig.volume},set:function(b){this.currentConfig.volume=b;this.manager.isLocked(this,"volume",
b)||(this.updateVolume(),this.emit(g.VOLUME,this,b))}},setVolume:function(b){this.volume=b;return this},rate:{get:function(){return this.currentConfig.rate},set:function(b){this.currentConfig.rate=b;this.manager.isLocked(this,g.RATE,b)||(this.calculateRate(),this.emit(g.RATE,this,b))}},setRate:function(b){this.rate=b;return this},detune:{get:function(){return this.currentConfig.detune},set:function(b){this.currentConfig.detune=b;this.manager.isLocked(this,g.DETUNE,b)||(this.calculateRate(),this.emit(g.DETUNE,
this,b))}},setDetune:function(b){this.detune=b;return this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(b){this.manager.isLocked(this,"seek",b)||0<this.startTime||!this.isPlaying&&!this.isPaused||(b=Math.min(Math.max(0,b),this.duration),this.isPlaying?(this.previousTime=b,this.audio.currentTime=b):this.isPaused&&(this.currentConfig.seek=b),this.emit(g.SEEK,this,b))}},setSeek:function(b){this.seek=
b;return this},loop:{get:function(){return this.currentConfig.loop},set:function(b){this.currentConfig.loop=b;this.manager.isLocked(this,"loop",b)||(this.audio&&(this.audio.loop=b),this.emit(g.LOOP,this,b))}},setLoop:function(b){this.loop=b;return this},pan:{get:function(){return this.currentConfig.pan},set:function(b){this.currentConfig.pan=b;this.emit(g.PAN,this,b)}},setPan:function(b){this.pan=b;return this}});r.exports=a},33684:(r,p,a)=>{var m=a(85034);p=a(83419);var g=a(14463),d=a(64895);a=new p({Extends:m,
initialize:function(b){this.override=!0;this.audioPlayDelay=.1;this.loopEndOffset=.05;this.onBlurPausedSounds=[];this.lockedActionsQueue=(this.locked="ontouchstart"in window)?[]:null;this._mute=!1;this._volume=1;m.call(this,b)},add:function(b,e){b=new d(this,b,e);this.sounds.push(b);return b},unlock:function(){this.locked=!1;var b=this;this.game.cache.audio.entries.each(function(l,f){for(l=0;l<f.length;l++)if("true"===f[l].dataset.locked)return b.locked=!0,!1;return!0});if(this.locked){var e=!1,h=
function(){e=!0},c=function(){if(e)e=!1;else{document.body.removeEventListener("touchmove",h);document.body.removeEventListener("touchend",c);var l=[];b.game.cache.audio.entries.each(function(k,n){for(k=0;k<n.length;k++){var q=n[k];"true"===q.dataset.locked&&l.push(q)}return!0});if(0!==l.length){var f=l[l.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null;l.forEach(function(k){k.dataset.locked="false"});b.unlocked=!0};l.forEach(function(k){k.load()})}}};this.once(g.UNLOCKED,function(){for(this.forEachActiveSound(function(f){null===
f.currentMarker&&0===f.duration&&(f.duration=f.tags[0].duration);f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var l=this.lockedActionsQueue.shift();l.sound[l.prop].apply?l.sound[l.prop].apply(l.sound,l.value||[]):l.sound[l.prop]=l.value}},this);document.body.addEventListener("touchmove",h,!1);document.body.addEventListener("touchend",c,!1)}},onBlur:function(){this.forEachActiveSound(function(b){b.isPlaying&&(this.onBlurPausedSounds.push(b),b.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(b){b.onFocus()});
this.onBlurPausedSounds.length=0},destroy:function(){m.prototype.destroy.call(this);this.onBlurPausedSounds.length=0;this.onBlurPausedSounds=null},isLocked:function(b,e,h){return"true"===b.tags[0].dataset.locked?(this.lockedActionsQueue.push({sound:b,prop:e,value:h}),!0):!1},setMute:function(b){this.mute=b;return this},mute:{get:function(){return this._mute},set:function(b){this._mute=b;this.forEachActiveSound(function(e){e.updateMute()});this.emit(g.GLOBAL_MUTE,this,b)}},setVolume:function(b){this.volume=
b;return this},volume:{get:function(){return this._volume},set:function(b){this._volume=b;this.forEachActiveSound(function(e){e.updateVolume()});this.emit(g.GLOBAL_VOLUME,this,b)}}});r.exports=a},23717:(r,p,a)=>{r.exports={SoundManagerCreator:a(14747),Events:a(14463),BaseSound:a(30341),BaseSoundManager:a(85034),WebAudioSound:a(71741),WebAudioSoundManager:a(57490),HTML5AudioSound:a(64895),HTML5AudioSoundManager:a(33684),NoAudioSound:a(4603),NoAudioSoundManager:a(25960)}},4603:(r,p,a)=>{var m=a(30341);
p=a(83419);var g=a(50792),d=a(79291);a=a(29747);var b=function(){return!1},e=function(){return null},h=function(){return this};p=new p({Extends:g,initialize:function(c,l,f){void 0===f&&(f={});g.call(this);this.manager=c;this.key=l;this.isPaused=this.isPlaying=!1;this.totalRate=1;this.totalDuration=this.duration=0;this.currentConfig=this.config=d({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},f);this.mute=!1;this.rate=this.volume=1;this.seek=this.detune=0;this.loop=!1;this.pan=0;this.markers=
{};this.currentMarker=null;this.pendingRemove=!1},addMarker:b,updateMarker:b,removeMarker:e,play:b,pause:b,resume:b,stop:b,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:e,resetConfig:e,update:a,calculateRate:e,destroy:function(){m.prototype.destroy.call(this)}});r.exports=p},25960:(r,p,a)=>{var m=a(85034);p=a(83419);var g=a(50792),d=a(4603);a=a(29747);a=new p({Extends:g,initialize:function(b){g.call(this);this.game=b;this.sounds=[];this.mute=!1;this.rate=this.volume=
1;this.detune=0;this.pauseOnBlur=!0;this.locked=!1},add:function(b,e){b=new d(this,b,e);this.sounds.push(b);return b},addAudioSprite:function(b,e){b=this.add(b,e);b.spritemap={};return b},get:function(b){return m.prototype.get.call(this,b)},getAll:function(b){return m.prototype.getAll.call(this,b)},play:function(b,e){return!1},playAudioSprite:function(b,e,h){return!1},remove:function(b){return m.prototype.remove.call(this,b)},removeAll:function(){return m.prototype.removeAll.call(this)},removeByKey:function(b){return m.prototype.removeByKey.call(this,
b)},stopByKey:function(b){return m.prototype.stopByKey.call(this,b)},onBlur:a,onFocus:a,onGameBlur:a,onGameFocus:a,pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,unlock:a,forEachActiveSound:function(b,e){m.prototype.forEachActiveSound.call(this,b,e)},destroy:function(){m.prototype.destroy.call(this)}});r.exports=a},71741:(r,p,a)=>{var m=a(30341);p=a(83419);var g=a(14463),d=a(95540);a=new p({Extends:m,initialize:function(b,e,h){void 0===h&&(h={});this.audioBuffer=
b.game.cache.audio.get(e);if(!this.audioBuffer)throw Error('Audio key "'+e+'" missing from cache');this.loopSource=this.source=null;this.muteNode=b.context.createGain();this.volumeNode=b.context.createGain();this.spatialSource=this.spatialNode=this.pannerNode=null;this.loopTime=this.startTime=this.playTime=0;this.rateUpdates=[];this.hasLooped=this.hasEnded=!1;this.muteNode.connect(this.volumeNode);b.context.createPanner&&(this.spatialNode=b.context.createPanner(),this.volumeNode.connect(this.spatialNode));
b.context.createStereoPanner?(this.pannerNode=b.context.createStereoPanner(),b.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(b.destination)):b.context.createPanner?this.spatialNode.connect(b.destination):this.volumeNode.connect(b.destination);this.totalDuration=this.duration=this.audioBuffer.duration;m.call(this,b,e,h)},play:function(b,e){if(!m.prototype.play.call(this,b,e))return!1;this.stopAndRemoveBufferSource();
this.createAndStartBufferSource();this.emit(g.PLAY,this);return!0},pause:function(){if(this.manager.context.currentTime<this.startTime||!m.prototype.pause.call(this))return!1;this.currentConfig.seek=this.getCurrentTime();this.stopAndRemoveBufferSource();this.emit(g.PAUSE,this);return!0},resume:function(){if(this.manager.context.currentTime<this.startTime||!m.prototype.resume.call(this))return!1;this.createAndStartBufferSource();this.emit(g.RESUME,this);return!0},stop:function(){if(!m.prototype.stop.call(this))return!1;
this.stopAndRemoveBufferSource();this.emit(g.STOP,this);return!0},createAndStartBufferSource:function(){var b=this.currentConfig.seek,e=this.manager.context.currentTime+this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+b,c=this.duration-b;this.playTime=e-b;this.startTime=e;this.source=this.createBufferSource();this.applyConfig();this.source.start(Math.max(0,e),Math.max(0,h),Math.max(0,c));this.resetConfig()},createAndStartLoopBufferSource:function(){var b=this.getLoopTime(),
e=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=b;this.loopSource=this.createBufferSource();this.loopSource.playbackRate.setValueAtTime(this.totalRate,0);this.loopSource.start(Math.max(0,b),Math.max(0,e),Math.max(0,h))},createBufferSource:function(){var b=this,e=this.manager.context.createBufferSource();e.buffer=this.audioBuffer;e.connect(this.muteNode);e.onended=function(h){h.target===b.source&&(b.currentConfig.loop?b.hasLooped=!0:b.hasEnded=!0)};return e},stopAndRemoveBufferSource:function(){if(this.source){var b=
this.source;this.source=null;b.stop();b.disconnect()}this.startTime=this.playTime=0;this.hasEnded=!1;this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null);this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0;this.rateUpdates.push({time:0,rate:1});var b=this.currentConfig.source;if(b&&this.manager.context.createPanner){var e=this.spatialNode;e.panningModel=d(b,"panningModel",
"equalpower");e.distanceModel=d(b,"distanceModel","inverse");e.orientationX.value=d(b,"orientationX",0);e.orientationY.value=d(b,"orientationY",0);e.orientationZ.value=d(b,"orientationZ",-1);e.refDistance=d(b,"refDistance",1);e.maxDistance=d(b,"maxDistance",1E4);e.rolloffFactor=d(b,"rolloffFactor",1);e.coneInnerAngle=d(b,"coneInnerAngle",360);e.coneOuterAngle=d(b,"coneOuterAngle",0);e.coneOuterGain=d(b,"coneOuterGain",0);this.spatialSource=d(b,"follow",null);this.spatialSource||(e.positionX.value=
d(b,"x",0),e.positionY.value=d(b,"y",0),e.positionZ.value=d(b,"z",0))}m.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(b){this.spatialNode&&(this.spatialNode.positionX.value=b)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(b){this.spatialNode&&(this.spatialNode.positionY.value=b)}},update:function(){if(this.isPlaying&&this.spatialSource){var b=d(this.spatialSource,"x",null),e=d(this.spatialSource,
"y",null);b&&b!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=b);e&&e!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=e)}this.hasEnded?(m.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(g.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),
this.emit(g.LOOPED,this))},destroy:function(){this.pendingRemove||(m.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialSource=this.spatialNode=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){m.prototype.calculateRate.call(this);
var b=this.manager.context.currentTime;this.source&&"number"===typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,b);this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,b)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var b=0,e=0;e<this.rateUpdates.length;e++)b+=((e<this.rateUpdates.length-1?this.rateUpdates[e+1].time:this.manager.context.currentTime-
this.playTime)-this.rateUpdates[e].time)*this.rateUpdates[e].rate;return b},getLoopTime:function(){for(var b=0,e=0;e<this.rateUpdates.length-1;e++)b+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;e=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+e.time+(this.duration-b)/e.rate},rate:{get:function(){return this.currentConfig.rate},set:function(b){this.currentConfig.rate=b;this.calculateRate();this.emit(g.RATE,this,b)}},setRate:function(b){this.rate=
b;return this},detune:{get:function(){return this.currentConfig.detune},set:function(b){this.currentConfig.detune=b;this.calculateRate();this.emit(g.DETUNE,this,b)}},setDetune:function(b){this.detune=b;return this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(b){this.currentConfig.mute=b;this.muteNode.gain.setValueAtTime(b?0:1,0);this.emit(g.MUTE,this,b)}},setMute:function(b){this.mute=b;return this},volume:{get:function(){return this.volumeNode.gain.value},set:function(b){this.currentConfig.volume=
b;this.volumeNode.gain.setValueAtTime(b,0);this.emit(g.VOLUME,this,b)}},setVolume:function(b){this.volume=b;return this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(b){this.manager.context.currentTime<this.startTime||!this.isPlaying&&!this.isPaused||(b=Math.min(Math.max(0,b),this.duration),this.currentConfig.seek=b,this.isPlaying&&(this.stopAndRemoveBufferSource(),
this.createAndStartBufferSource()),this.emit(g.SEEK,this,b))}},setSeek:function(b){this.seek=b;return this},loop:{get:function(){return this.currentConfig.loop},set:function(b){this.currentConfig.loop=b;this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),b&&this.createAndStartLoopBufferSource());this.emit(g.LOOP,this,b)}},setLoop:function(b){this.loop=b;return this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(b){this.currentConfig.pan=b;this.pannerNode&&
this.pannerNode.pan.setValueAtTime(b,this.manager.context.currentTime);this.emit(g.PAN,this,b)}},setPan:function(b){this.pan=b;return this}});r.exports=a},57490:(r,p,a)=>{var m=a(53134),g=a(85034);p=a(83419);var d=a(14463),b=a(8443),e=a(71741),h=a(95540);a=new p({Extends:g,initialize:function(c){this.context=this.createAudioContext(c);this.masterMuteNode=this.context.createGain();this.masterVolumeNode=this.context.createGain();this.masterMuteNode.connect(this.masterVolumeNode);this.masterVolumeNode.connect(this.context.destination);
this.destination=this.masterMuteNode;this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window);g.call(this,c);if(this.locked&&c.isBooted)this.unlock();else c.events.once(b.BOOT,this.unlock,this)},createAudioContext:function(c){c=c.config.audio;if(c.context)return c.context.resume(),c.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(c){this.context&&
this.context.close();this.masterMuteNode&&this.masterMuteNode.disconnect();this.masterVolumeNode&&this.masterVolumeNode.disconnect();this.context=c;this.masterMuteNode=c.createGain();this.masterVolumeNode=c.createGain();this.masterMuteNode.connect(this.masterVolumeNode);this.masterVolumeNode.connect(c.destination);this.destination=this.masterMuteNode;return this},add:function(c,l){c=new e(this,c,l);this.sounds.push(c);return c},decodeAudio:function(c,l){c=Array.isArray(c)?c:[{key:c,data:l}];var f=
this.game.cache.audio,k=c.length;for(l=0;l<c.length;l++){var n=c[l],q=n.key;n=n.data;"string"===typeof n&&(n=m(n));var t=function(v,u){f.add(v,u);this.emit(d.DECODED,v);k--;0===k&&this.emit(d.DECODED_ALL)}.bind(this,q);q=function(v,u){console.error("Error decoding audio: "+v+" - ",u?u.message:"");k--;0===k&&this.emit(d.DECODED_ALL)}.bind(this,q);this.context.decodeAudioData(n,t,q)}},setListenerPosition:function(c,l){void 0===c&&(c=this.game.scale.width/2);void 0===l&&(l=this.game.scale.height/2);
this.listenerPosition.set(c,l);return this},unlock:function(){var c=this,l=document.body,f=function n(){if(c.context&&l){var q=l.removeEventListener.bind(l);c.context.resume().then(function(){q("touchstart",n);q("touchend",n);q("click",n);q("keydown",n);c.unlocked=!0},function(){q("touchstart",n);q("touchend",n);q("click",n);q("keydown",n)})}};l&&(l.addEventListener("touchstart",f,!1),l.addEventListener("touchend",f,!1),l.addEventListener("click",f,!1),l.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||
this.context.suspend()},onFocus:function(){var c=this.context;!c||this.locked||"suspended"!==c.state&&"interrupted"!==c.state||c.resume()},update:function(c,l){var f=this.context.listener;if(f&&void 0!==f.positionX){var k=h(this.listenerPosition,"x",null),n=h(this.listenerPosition,"y",null);k&&k!==this._spatialx&&(this._spatialx=f.positionX.value=k);n&&n!==this._spatialy&&(this._spatialy=f.positionY.value=n)}g.prototype.update.call(this,c,l);if(!this.gameLostFocus)this.onFocus()},destroy:function(){this.destination=
null;this.masterVolumeNode.disconnect();this.masterVolumeNode=null;this.masterMuteNode.disconnect();this.masterMuteNode=null;if(this.game.config.audio.context)this.context.suspend();else{var c=this;this.context.close().then(function(){c.context=null})}g.prototype.destroy.call(this)},setMute:function(c){this.mute=c;return this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(c){this.masterMuteNode.gain.setValueAtTime(c?0:1,0);this.emit(d.GLOBAL_MUTE,this,c)}},setVolume:function(c){this.volume=
c;return this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(c){this.masterVolumeNode.gain.setValueAtTime(c,0);this.emit(d.GLOBAL_VOLUME,this,c)}}});r.exports=a},73162:(r,p,a)=>{var m=a(37105);p=a(83419);var g=a(29747),d=a(19186);a=new p({initialize:function(b){this.parent=b;this.list=[];this.position=0;this.removeCallback=this.addCallback=g;this._sortKey=""},add:function(b,e){return e?m.Add(this.list,b):m.Add(this.list,b,0,this.addCallback,this)},addAt:function(b,e,
h){return h?m.AddAt(this.list,b,e):m.AddAt(this.list,b,e,0,this.addCallback,this)},getAt:function(b){return this.list[b]},getIndex:function(b){return this.list.indexOf(b)},sort:function(b,e){if(!b)return this;void 0===e&&(e=function(h,c){return h[b]-c[b]});d(this.list,e);return this},getByName:function(b){return m.GetFirst(this.list,"name",b)},getRandom:function(b,e){return m.GetRandom(this.list,b,e)},getFirst:function(b,e,h,c){return m.GetFirst(this.list,b,e,h,c)},getAll:function(b,e,h,c){return m.GetAll(this.list,
b,e,h,c)},count:function(b,e){return m.CountAllMatching(this.list,b,e)},swap:function(b,e){m.Swap(this.list,b,e)},moveTo:function(b,e){return m.MoveTo(this.list,b,e)},moveAbove:function(b,e){return m.MoveAbove(this.list,b,e)},moveBelow:function(b,e){return m.MoveBelow(this.list,b,e)},remove:function(b,e){return e?m.Remove(this.list,b):m.Remove(this.list,b,this.removeCallback,this)},removeAt:function(b,e){return e?m.RemoveAt(this.list,b):m.RemoveAt(this.list,b,this.removeCallback,this)},removeBetween:function(b,
e,h){return h?m.RemoveBetween(this.list,b,e):m.RemoveBetween(this.list,b,e,this.removeCallback,this)},removeAll:function(b){for(var e=this.list.length;e--;)this.remove(this.list[e],b);return this},bringToTop:function(b){return m.BringToTop(this.list,b)},sendToBack:function(b){return m.SendToBack(this.list,b)},moveUp:function(b){m.MoveUp(this.list,b);return b},moveDown:function(b){m.MoveDown(this.list,b);return b},reverse:function(){this.list.reverse();return this},shuffle:function(){m.Shuffle(this.list);
return this},replace:function(b,e){return m.Replace(this.list,b,e)},exists:function(b){return-1<this.list.indexOf(b)},setAll:function(b,e,h,c){m.SetAll(this.list,b,e,h,c);return this},each:function(b,e){for(var h=[null],c=2;c<arguments.length;c++)h.push(arguments[c]);for(c=0;c<this.list.length;c++)h[0]=this.list[c],b.apply(e,h)},shutdown:function(){this.removeAll();this.list=[]},destroy:function(){this.removeAll();this.removeCallback=this.addCallback=this.parent=null},length:{get:function(){return this.list.length}},
first:{get:function(){this.position=0;return 0<this.list.length?this.list[0]:null}},last:{get:function(){return 0<this.list.length?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return 0<this.position?(this.position--,this.list[this.position]):null}}});r.exports=a},90330:(r,p,a)=>{p=new (a(83419))({initialize:function(m){this.entries={};this.size=
0;this.setAll(m)},setAll:function(m){if(Array.isArray(m))for(var g=0;g<m.length;g++)this.set(m[g][0],m[g][1]);return this},set:function(m,g){this.has(m)||this.size++;this.entries[m]=g;return this},get:function(m){if(this.has(m))return this.entries[m]},getArray:function(){var m=[],g=this.entries,d;for(d in g)m.push(g[d]);return m},has:function(m){return this.entries.hasOwnProperty(m)},delete:function(m){this.has(m)&&(delete this.entries[m],this.size--);return this},clear:function(){Object.keys(this.entries).forEach(function(m){delete this.entries[m]},
this);this.size=0;return this},keys:function(){return Object.keys(this.entries)},values:function(){var m=[],g=this.entries,d;for(d in g)m.push(g[d]);return m},dump:function(){var m=this.entries;console.group("Map");for(var g in m)console.log(g,m[g]);console.groupEnd()},each:function(m){var g=this.entries,d;for(d in g)if(!1===m(d,g[d]))break;return this},contains:function(m){var g=this.entries,d;for(d in g)if(g[d]===m)return!0;return!1},merge:function(m,g){void 0===g&&(g=!1);var d=this.entries;m=m.entries;
for(var b in m)d.hasOwnProperty(b)&&g?d[b]=m[b]:this.set(b,m[b]);return this}});r.exports=p},25774:(r,p,a)=>{p=a(83419);var m=a(50792),g=a(82348);a=new p({Extends:m,initialize:function(){m.call(this);this._pending=[];this._active=[];this._destroy=[];this._toProcess=0;this.checkQueue=!1},isActive:function(d){return-1<this._active.indexOf(d)},isPending:function(d){return 0<this._toProcess&&-1<this._pending.indexOf(d)},isDestroying:function(d){return-1<this._destroy.indexOf(d)},add:function(d){if(this.checkQueue&&
this.isActive(d)&&!this.isDestroying(d)||this.isPending(d))return d;this._pending.push(d);this._toProcess++;return d},remove:function(d){if(this.isPending(d)){var b=this._pending,e=b.indexOf(d);-1!==e&&b.splice(e,1)}else this.isActive(d)&&(this._destroy.push(d),this._toProcess++);return d},removeAll:function(){for(var d=this._active,b=this._destroy,e=d.length;e--;)b.push(d[e]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var d=this._destroy,b=this._active,
e;for(e=0;e<d.length;e++){var h=d[e];var c=b.indexOf(h);-1!==c&&(b.splice(c,1),this.emit(g.PROCESS_QUEUE_REMOVE,h))}d.length=0;d=this._pending;for(e=0;e<d.length;e++)if(h=d[e],!this.checkQueue||this.checkQueue&&-1===b.indexOf(h))b.push(h),this.emit(g.PROCESS_QUEUE_ADD,h);this._toProcess=d.length=0;return b},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0;this._pending=[];this._active=[];this._destroy=[]}});r.exports=
a},59542:(r,p,a)=>{function m(v){var u=[".left",".top",".right",".bottom"];if(!(this instanceof m))return new m(v,u);this._maxEntries=Math.max(4,v||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()}function g(v,u){d(v,0,v.children.length,u,v)}function d(v,u,x,w,y){y||(y=n(null));y.minX=Infinity;y.minY=Infinity;y.maxX=-Infinity;y.maxY=-Infinity;for(var z;u<x;u++)z=v.children[u],b(y,v.leaf?w(z):z);return y}function b(v,u){v.minX=Math.min(v.minX,u.minX);v.minY=Math.min(v.minY,
u.minY);v.maxX=Math.max(v.maxX,u.maxX);v.maxY=Math.max(v.maxY,u.maxY);return v}function e(v,u){return v.minX-u.minX}function h(v,u){return v.minY-u.minY}function c(v){return(v.maxX-v.minX)*(v.maxY-v.minY)}function l(v){return v.maxX-v.minX+(v.maxY-v.minY)}function f(v,u){return v.minX<=u.minX&&v.minY<=u.minY&&u.maxX<=v.maxX&&u.maxY<=v.maxY}function k(v,u){return u.minX<=v.maxX&&u.minY<=v.maxY&&u.maxX>=v.minX&&u.maxY>=v.minY}function n(v){return{children:v,height:1,leaf:!0,minX:Infinity,minY:Infinity,
maxX:-Infinity,maxY:-Infinity}}function q(v,u,x,w,y){for(var z=[u,x],C;z.length;)x=z.pop(),u=z.pop(),x-u<=w||(C=u+Math.ceil((x-u)/w/2)*w,t(v,C,u,x,y),z.push(u,C,C,x))}var t=a(43886);m.prototype={all:function(){return this._all(this.data,[])},search:function(v){var u=this.data,x=[],w=this.toBBox;if(!k(v,u))return x;for(var y=[],z,C,A,B;u;){z=0;for(C=u.children.length;z<C;z++)A=u.children[z],B=u.leaf?w(A):A,k(v,B)&&(u.leaf?x.push(A):f(v,B)?this._all(A,x):y.push(A));u=y.pop()}return x},collides:function(v){var u=
this.data,x=this.toBBox;if(!k(v,u))return!1;for(var w=[],y,z,C,A;u;){y=0;for(z=u.children.length;y<z;y++)if(C=u.children[y],A=u.leaf?x(C):C,k(v,A)){if(u.leaf||f(v,A))return!0;w.push(C)}u=w.pop()}return!1},load:function(v){if(!v||!v.length)return this;if(v.length<this._minEntries){for(var u=0,x=v.length;u<x;u++)this.insert(v[u]);return this}v=this._build(v.slice(),0,v.length-1,0);this.data.children.length?this.data.height===v.height?this._splitRoot(this.data,v):(this.data.height<v.height&&(u=this.data,
this.data=v,v=u),this._insert(v,this.data.height-v.height-1,!0)):this.data=v;return this},insert:function(v){v&&this._insert(v,this.data.height-1);return this},clear:function(){this.data=n([]);return this},remove:function(v,u){if(!v)return this;for(var x=this.data,w=this.toBBox(v),y=[],z=[],C,A,B,E;x||y.length;){x||(x=y.pop(),A=y[y.length-1],C=z.pop(),E=!0);if(x.leaf){a:{B=v;var G=x.children,I=u;if(I){for(var H=0;H<G.length;H++)if(I(B,G[H])){B=H;break a}B=-1}else B=G.indexOf(B)}if(-1!==B){x.children.splice(B,
1);y.push(x);this._condense(y);break}}E||x.leaf||!f(x,w)?A?(C++,x=A.children[C],E=!1):x=null:(y.push(x),z.push(C),C=0,A=x,x=x.children[0])}return this},toBBox:function(v){return v},compareMinX:e,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(v){this.data=v;return this},_all:function(v,u){for(var x=[];v;)v.leaf?u.push.apply(u,v.children):x.push.apply(x,v.children),v=x.pop();return u},_build:function(v,u,x,w){var y=x-u+1,z=this._maxEntries;if(y<=z){var C=n(v.slice(u,x+1));g(C,this.toBBox);
return C}w||(w=Math.ceil(Math.log(y)/Math.log(z)),z=Math.ceil(y/Math.pow(z,w-1)));C=n([]);C.leaf=!1;C.height=w;y=Math.ceil(y/z);z=y*Math.ceil(Math.sqrt(z));var A;for(q(v,u,x,z,this.compareMinX);u<=x;u+=z){var B=Math.min(u+z-1,x);q(v,u,B,y,this.compareMinY);for(A=u;A<=B;A+=y){var E=Math.min(A+y-1,B);C.children.push(this._build(v,A,E,w-1))}}g(C,this.toBBox);return C},_chooseSubtree:function(v,u,x,w){for(var y,z,C,A,B,E,G,I;;){w.push(u);if(u.leaf||w.length-1===x)break;G=I=Infinity;y=0;for(z=u.children.length;y<
z;y++)C=u.children[y],B=c(C),E=(Math.max(C.maxX,v.maxX)-Math.min(C.minX,v.minX))*(Math.max(C.maxY,v.maxY)-Math.min(C.minY,v.minY))-B,E<I?(I=E,G=B<G?B:G,A=C):E===I&&B<G&&(G=B,A=C);u=A||u.children[0]}return u},_insert:function(v,u,x){var w=this.toBBox;x=x?v:w(v);w=[];var y=this._chooseSubtree(x,this.data,u,w);y.children.push(v);for(b(y,x);0<=u;)if(w[u].children.length>this._maxEntries)this._split(w,u),u--;else break;this._adjustParentBBoxes(x,w,u)},_split:function(v,u){var x=v[u],w=x.children.length,
y=this._minEntries;this._chooseSplitAxis(x,y,w);w=this._chooseSplitIndex(x,y,w);w=n(x.children.splice(w,x.children.length-w));w.height=x.height;w.leaf=x.leaf;g(x,this.toBBox);g(w,this.toBBox);u?v[u-1].children.push(w):this._splitRoot(x,w)},_splitRoot:function(v,u){this.data=n([v,u]);this.data.height=v.height+1;this.data.leaf=!1;g(this.data,this.toBBox)},_chooseSplitIndex:function(v,u,x){var w,y;var z=y=Infinity;for(w=u;w<=x-u;w++){var C=d(v,0,w,this.toBBox);var A=d(v,w,x,this.toBBox);var B=Math.max(0,
Math.min(C.maxX,A.maxX)-Math.max(C.minX,A.minX))*Math.max(0,Math.min(C.maxY,A.maxY)-Math.max(C.minY,A.minY));C=c(C)+c(A);if(B<z){z=B;var E=w;y=C<y?C:y}else B===z&&C<y&&(y=C,E=w)}return E},_chooseSplitAxis:function(v,u,x){var w=v.leaf?this.compareMinX:e,y=v.leaf?this.compareMinY:h,z=this._allDistMargin(v,u,x,w);u=this._allDistMargin(v,u,x,y);z<u&&v.children.sort(w)},_allDistMargin:function(v,u,x,w){v.children.sort(w);w=this.toBBox;var y=d(v,0,u,w),z=d(v,x-u,x,w),C=l(y)+l(z),A;for(A=u;A<x-u;A++){var B=
v.children[A];b(y,v.leaf?w(B):B);C+=l(y)}for(A=x-u-1;A>=u;A--)B=v.children[A],b(z,v.leaf?w(B):B),C+=l(z);return C},_adjustParentBBoxes:function(v,u,x){for(;0<=x;x--)b(u[x],v)},_condense:function(v){for(var u=v.length-1,x;0<=u;u--)0===v[u].children.length?0<u?(x=v[u-1].children,x.splice(x.indexOf(v[u]),1)):this.clear():g(v[u],this.toBBox)},compareMinX:function(v,u){return v.left-u.left},compareMinY:function(v,u){return v.top-u.top},toBBox:function(v){return{minX:v.left,minY:v.top,maxX:v.right,maxY:v.bottom}}};
r.exports=m},35072:(r,p,a)=>{var m=new (a(83419))({initialize:function(g){this.entries=[];if(Array.isArray(g))for(var d=0;d<g.length;d++)this.set(g[d])},set:function(g){-1===this.entries.indexOf(g)&&this.entries.push(g);return this},get:function(g,d){for(var b=0;b<this.entries.length;b++){var e=this.entries[b];if(e[g]===d)return e}},getArray:function(){return this.entries.slice(0)},delete:function(g){g=this.entries.indexOf(g);-1<g&&this.entries.splice(g,1);return this},dump:function(){console.group("Set");
for(var g=0;g<this.entries.length;g++)console.log(this.entries[g]);console.groupEnd()},each:function(g,d){var b,e=this.entries.slice(),h=e.length;if(d)for(b=0;b<h&&!1!==g.call(d,e[b],b);b++);else for(b=0;b<h&&!1!==g(e[b],b);b++);return this},iterate:function(g,d){var b,e=this.entries.length;if(d)for(b=0;b<e&&!1!==g.call(d,this.entries[b],b);b++);else for(b=0;b<e&&!1!==g(this.entries[b],b);b++);return this},iterateLocal:function(g){var d,b=[];for(d=1;d<arguments.length;d++)b.push(arguments[d]);var e=
this.entries.length;for(d=0;d<e;d++){var h=this.entries[d];h[g].apply(h,b)}return this},clear:function(){this.entries.length=0;return this},contains:function(g){return-1<this.entries.indexOf(g)},union:function(g){var d=new m;g.entries.forEach(function(b){d.set(b)});this.entries.forEach(function(b){d.set(b)});return d},intersect:function(g){var d=new m;this.entries.forEach(function(b){g.contains(b)&&d.set(b)});return d},difference:function(g){var d=new m;this.entries.forEach(function(b){g.contains(b)||
d.set(b)});return d},size:{get:function(){return this.entries.length},set:function(g){return g<this.entries.length?this.entries.length=g:this.entries.length}}});r.exports=m},86555:(r,p,a)=>{var m=a(45319);p=a(83419);var g=a(56583),d=a(26099),b=new p({initialize:function(e,h,c,l){void 0===e&&(e=0);void 0===h&&(h=e);void 0===c&&(c=0);void 0===l&&(l=null);this._width=e;this._height=h;this._parent=l;this.aspectMode=c;this.aspectRatio=0===h?1:e/h;this.minHeight=this.minWidth=0;this.maxHeight=this.maxWidth=
Number.MAX_VALUE;this.snapTo=new d},setAspectMode:function(e){void 0===e&&(e=0);this.aspectMode=e;return this.setSize(this._width,this._height)},setSnap:function(e,h){void 0===e&&(e=0);void 0===h&&(h=e);this.snapTo.set(e,h);return this.setSize(this._width,this._height)},setParent:function(e){this._parent=e;return this.setSize(this._width,this._height)},setMin:function(e,h){void 0===e&&(e=0);void 0===h&&(h=e);this.minWidth=m(e,0,this.maxWidth);this.minHeight=m(h,0,this.maxHeight);return this.setSize(this._width,
this._height)},setMax:function(e,h){void 0===e&&(e=Number.MAX_VALUE);void 0===h&&(h=e);this.maxWidth=m(e,this.minWidth,Number.MAX_VALUE);this.maxHeight=m(h,this.minHeight,Number.MAX_VALUE);return this.setSize(this._width,this._height)},setSize:function(e,h){void 0===e&&(e=0);void 0===h&&(h=e);switch(this.aspectMode){case b.NONE:this._width=this.getNewWidth(g(e,this.snapTo.x));this._height=this.getNewHeight(g(h,this.snapTo.y));this.aspectRatio=0===this._height?1:this._width/this._height;break;case b.WIDTH_CONTROLS_HEIGHT:this._width=
this.getNewWidth(g(e,this.snapTo.x));this._height=this.getNewHeight(1/this.aspectRatio*this._width,!1);break;case b.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(g(h,this.snapTo.y));this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case b.FIT:this.constrain(e,h,!0);break;case b.ENVELOP:this.constrain(e,h,!1)}return this},setAspectRatio:function(e){this.aspectRatio=e;return this.setSize(this._width,this._height)},resize:function(e,h){this._width=this.getNewWidth(g(e,this.snapTo.x));
this._height=this.getNewHeight(g(h,this.snapTo.y));this.aspectRatio=0===this._height?1:this._width/this._height;return this},getNewWidth:function(e,h){void 0===h&&(h=!0);e=m(e,this.minWidth,this.maxWidth);h&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width));return e},getNewHeight:function(e,h){void 0===h&&(h=!0);e=m(e,this.minHeight,this.maxHeight);h&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height));return e},constrain:function(e,
h,c){void 0===e&&(e=0);void 0===h&&(h=e);void 0===c&&(c=!0);e=this.getNewWidth(e);h=this.getNewHeight(h);var l=this.snapTo,f=0===h?1:e/h;if(c&&this.aspectRatio>f||!c&&this.aspectRatio<f)e=g(e,l.x),h=e/this.aspectRatio,0<l.y&&(h=g(h,l.y),e=h*this.aspectRatio);else if(c&&this.aspectRatio<f||!c&&this.aspectRatio>f)h=g(h,l.y),e=h*this.aspectRatio,0<l.x&&(e=g(e,l.x),h=1/this.aspectRatio*e);this._width=e;this._height=h;return this},fitTo:function(e,h){return this.constrain(e,h,!0)},envelop:function(e,h){return this.constrain(e,
h,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width\x3d"+this._width+" height\x3d"+this._height+" aspectRatio\x3d"+this.aspectRatio+" aspectMode\x3d"+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){e.setAspectMode(this.aspectMode);e.aspectRatio=this.aspectRatio;return e.setSize(this.width,this.height)},
destroy:function(){this.snapTo=this._parent=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});b.NONE=0;b.WIDTH_CONTROLS_HEIGHT=1;b.HEIGHT_CONTROLS_WIDTH=2;b.FIT=3;b.ENVELOP=4;r.exports=b},15238:r=>{r.exports="add"},56187:r=>{r.exports="remove"},82348:(r,p,a)=>{r.exports={PROCESS_QUEUE_ADD:a(15238),PROCESS_QUEUE_REMOVE:a(56187)}},41392:(r,p,a)=>{r.exports={Events:a(82348),
List:a(73162),Map:a(90330),ProcessQueue:a(25774),RTree:a(59542),Set:a(35072),Size:a(86555)}},57382:(r,p,a)=>{p=a(83419);var m=a(45319),g=a(40987),d=a(8054),b=a(50030),e=a(79237);a=new p({Extends:e,initialize:function(h,c,l,f,k){e.call(this,h,c,l,f,k);this.add("__BASE",0,0,0,f,k);this._source=this.frames.__BASE.source;this.canvas=this._source.image;this.context=this.canvas.getContext("2d",{willReadFrequently:!0});this.width=f;this.height=k;this.imageData=this.context.getImageData(0,0,f,k);this.data=
null;this.imageData&&(this.data=this.imageData.data);this.pixels=null;this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){this.imageData=this.context.getImageData(0,0,this.width,this.height);this.data=this.imageData.data;this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,
this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data;this.manager.game.config.renderType===d.WEBGL&&this.refresh();return this},draw:function(h,c,l,f){void 0===f&&(f=!0);this.context.drawImage(l,h,c);f&&this.update();return this},drawFrame:function(h,c,l,f,k){void 0===l&&(l=0);void 0===f&&(f=0);void 0===k&&(k=!0);if(h=this.manager.getFrame(h,c)){c=h.canvasData;
var n=h.cutWidth,q=h.cutHeight,t=h.source.resolution;this.context.drawImage(h.source.image,c.x,c.y,n,q,l,f,n/t,q/t);k&&this.update()}return this},setPixel:function(h,c,l,f,k,n){void 0===n&&(n=255);h=Math.abs(Math.floor(h));c=Math.abs(Math.floor(c));if(-1<this.getIndex(h,c)){var q=this.context.getImageData(h,c,1,1);q.data[0]=l;q.data[1]=f;q.data[2]=k;q.data[3]=n;this.context.putImageData(q,h,c)}return this},putData:function(h,c,l,f,k,n,q){void 0===f&&(f=0);void 0===k&&(k=0);void 0===n&&(n=h.width);
void 0===q&&(q=h.height);this.context.putImageData(h,c,l,f,k,n,q);return this},getData:function(h,c,l,f){h=m(Math.floor(h),0,this.width-1);c=m(Math.floor(c),0,this.height-1);l=m(l,1,this.width-h);f=m(f,1,this.height-c);return this.context.getImageData(h,c,l,f)},getPixel:function(h,c,l){l||(l=new g);h=this.getIndex(h,c);-1<h&&(c=this.data,l.setTo(c[h+0],c[h+1],c[h+2],c[h+3]));return l},getPixels:function(h,c,l,f){void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=this.width);void 0===f&&(f=l);h=Math.abs(Math.round(h));
c=Math.abs(Math.round(c));var k=m(h,0,this.width);h=m(h+l,0,this.width);var n=m(c,0,this.height);c=m(c+f,0,this.height);f=new g;for(l=[];n<c;n++){for(var q=[],t=k;t<h;t++)f=this.getPixel(t,n,f),q.push({x:t,y:n,color:f.color,alpha:f.alphaGL});l.push(q)}return l},getIndex:function(h,c){h=Math.abs(Math.round(h));c=Math.abs(Math.round(c));return h<this.width&&c<this.height?4*(h+c*this.width):-1},refresh:function(){this._source.update();return this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},
clear:function(h,c,l,f,k){void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l=this.width);void 0===f&&(f=this.height);void 0===k&&(k=!0);this.context.clearRect(h,c,l,f);k&&this.update();return this},setSize:function(h,c){void 0===c&&(c=h);if(h!==this.width||c!==this.height)this.canvas.width=h,this.canvas.height=c,this._source.width=h,this._source.height=c,this._source.isPowerOf2=b(h,c),this.frames.__BASE.setSize(h,c,0,0),this.width=h,this.height=c,this.refresh();return this},destroy:function(){e.prototype.destroy.call(this);
this.buffer=this.pixels=this.data=this.imageData=this.context=this.canvas=this._source=null}});r.exports=a},81320:(r,p,a)=>{var m=a(10312),g=a(71911),d=a(27919);p=a(83419);var b=a(8054),e=a(4327),h=a(95540),c=a(36060),l=a(32302),f=a(79237),k=a(70554);a=new p({Extends:f,initialize:function(n,q,t,v){void 0===t&&(t=256);void 0===v&&(v=256);this.type="DynamicTexture";var u=n.game.renderer,x=u&&u.type===b.CANVAS,w=x?d.create2D(this,t,v):[this];f.call(this,n,q,w,t,v);this.add("__BASE",0,0,0,t,v);this.renderer=
u;this.height=this.width=-1;this.isDrawing=!1;this.canvas=x?w:null;this.context=x?w.getContext("2d",{willReadFrequently:!0}):null;this.dirty=!1;this.isSpriteTexture=!0;this._eraseMode=!1;this.camera=(new g(0,0,t,v)).setScene(n.game.scene.systemScene,!1);this.renderTarget=x?null:new l(u,t,v,1,0,!1,!0,!0,!1);this.pipeline=x?null:u.pipelines.get(c.SINGLE_PIPELINE);this.setSize(t,v)},setSize:function(n,q){void 0===q&&(q=n);var t=this.get(),v=t.source;if(n!==this.width||q!==this.height){this.canvas&&(this.canvas.width=
n,this.canvas.height=q);var u=this.renderTarget;u&&(u.willResize(n,q)&&u.resize(n,q),u.texture!==v.glTexture&&this.renderer.deleteTexture(v.glTexture),this.setFromRenderTarget());this.camera.setSize(n,q);v.width=n;v.height=q;t.setSize(n,q);this.width=n;this.height=q}else v=this.getSourceImage(),t.cutX+n>v.width&&(n=v.width-t.cutX),t.cutY+q>v.height&&(q=v.height-t.cutY),t.setSize(n,q,t.cutX,t.cutY);return this},setFromRenderTarget:function(){var n=this.get().source,q=this.renderTarget;n.isRenderTexture=
!0;n.isGLTexture=!0;n.glTexture=q.texture;return this},setIsSpriteTexture:function(n){this.isSpriteTexture=n;return this},fill:function(n,q,t,v,u,x){var w=this.camera,y=this.renderer;void 0===q&&(q=1);void 0===t&&(t=0);void 0===v&&(v=0);void 0===u&&(u=this.width);void 0===x&&(x=this.height);var z=n>>16&255,C=n>>8&255;n&=255;var A=this.renderTarget;w.preRender();if(A){A.bind(!0);w=this.pipeline.manager.set(this.pipeline);var B=y.width/A.width;y=y.height/A.height;w.drawFillRect(t*B,(A.height-(v+x))*
y,u*B,x*y,k.getTintFromFloats(n/255,C/255,z/255,1),q);A.unbind(!0)}else A=this.context,y.setContext(A),A.globalCompositeOperation="source-over",A.fillStyle="rgba("+z+","+C+","+n+","+q+")",A.fillRect(t,v,u,x),y.setContext();this.dirty=!0;return this},clear:function(){if(this.dirty){var n=this.context,q=this.renderTarget;q?q.clear():n&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,this.width,this.height),n.restore());this.dirty=!1}return this},stamp:function(n,q,t,v,u){void 0===t&&(t=0);void 0===
v&&(v=0);var x=h(u,"alpha",1),w=h(u,"tint",16777215),y=h(u,"angle",0),z=h(u,"rotation",0),C=h(u,"scale",1),A=h(u,"scaleX",C);C=h(u,"scaleY",C);var B=h(u,"originX",.5),E=h(u,"originY",.5),G=h(u,"blendMode",0),I=h(u,"erase",!1);u=h(u,"skipBatch",!1);x=this.manager.resetStamp(x,w);x.setAngle(0);0!==y?x.setAngle(y):0!==z&&x.setRotation(z);x.setScale(A,C);x.setTexture(n,q);x.setOrigin(B,E);x.setBlendMode(G);I&&(this._eraseMode=!0);u?this.batchGameObject(x,t,v):this.draw(x,t,v);I&&(this._eraseMode=!1);
return this},erase:function(n,q,t){this._eraseMode=!0;this.draw(n,q,t);this._eraseMode=!1;return this},draw:function(n,q,t,v,u){this.beginDraw();this.batchDraw(n,q,t,v,u);this.endDraw();return this},drawFrame:function(n,q,t,v,u,x){this.beginDraw();this.batchDrawFrame(n,q,t,v,u,x);this.endDraw();return this},repeat:function(n,q,t,v,u,x,w,y,z){void 0===t&&(t=0);void 0===v&&(v=0);void 0===u&&(u=this.width);void 0===x&&(x=this.height);void 0===w&&(w=1);void 0===y&&(y=16777215);void 0===z&&(z=!1);q=n instanceof
e?n:this.manager.getFrame(n,q);if(!q)return this;n=this.manager.resetStamp(w,y);n.setFrame(q);n.setOrigin(0);w=q.width;q=q.height;u=Math.floor(u);x=Math.floor(x);y=Math.ceil(u/w);var C=Math.ceil(x/q);u=y*w-u;x=C*q-x;0<u&&(u=w-u);0<x&&(x=q-x);0>t&&(y+=Math.ceil(Math.abs(t)/w));0>v&&(C+=Math.ceil(Math.abs(v)/q));var A=t,B=this.manager.stampCrop.setTo(0,0,w,q);z||this.beginDraw();for(var E=0;E<C;E++){if(!(0>v+q)){for(var G=0;G<y;G++){var I=!1;0>A+w||(0>A&&(I=!0,B.width=w+A,B.x=w-B.width),0>v&&(I=!0,
B.height=q+v,B.y=q-B.height),0<u&&G===y-1&&(I=!0,B.width=u),0<x&&E===C-1&&(I=!0,B.height=x),I&&n.setCrop(B),this.batchGameObject(n,A,v),n.isCropped=!1,B.setTo(0,0,w,q));A+=w}A=t}v+=q}z||this.endDraw();return this},beginDraw:function(){if(!this.isDrawing){var n=this.renderer,q=this.renderTarget;this.camera.preRender();q?n.beginCapture(q.width,q.height):n.setContext(this.context);this.isDrawing=!0}return this},batchDraw:function(n,q,t,v,u){Array.isArray(n)||(n=[n]);this.batchList(n,q,t,v,u);return this},
batchDrawFrame:function(n,q,t,v,u,x){void 0===t&&(t=0);void 0===v&&(v=0);void 0===u&&(u=1);void 0===x&&(x=16777215);(n=this.manager.getFrame(n,q))&&(this.renderTarget?this.pipeline.batchTextureFrame(n,t,v,x,u,this.camera.matrix,null):this.batchTextureFrame(n,t,v,u,x));return this},endDraw:function(n){void 0===n&&(n=this._eraseMode);if(this.isDrawing){var q=this.renderer,t=this.renderTarget;if(t){var v=q.endCapture();q.pipelines.setUtility().blitFrame(v,t,1,!1,!1,n,this.isSpriteTexture);q.resetScissor();
q.resetViewport()}else q.setContext();this.dirty=!0;this.isDrawing=!1}return this},batchList:function(n,q,t,v,u){var x=n.length;if(0!==x)for(var w=0;w<x;w++){var y=n[w];y&&y!==this&&(y.renderWebGL||y.renderCanvas?this.batchGameObject(y,q,t):y.isParent||y.list?this.batchGroup(y.getChildren(),q,t):"string"===typeof y?this.batchTextureFrameKey(y,null,q,t,v,u):y instanceof e?this.batchTextureFrame(y,q,t,v,u):Array.isArray(y)&&this.batchList(y,q,t,v,u))}},batchGroup:function(n,q,t){void 0===q&&(q=0);void 0===
t&&(t=0);for(var v=0;v<n.length;v++){var u=n[v];u.willRender(this.camera)&&this.batchGameObject(u,u.x+q,u.y+t)}},batchGameObject:function(n,q,t){void 0===q&&(q=n.x);void 0===t&&(t=n.y);var v=n.x,u=n.y,x=this.camera,w=this.renderer,y=this._eraseMode,z=n.mask;n.setPosition(q,t);if(this.canvas){if(y){var C=n.blendMode;n.blendMode=m.ERASE}z&&z.preRenderCanvas(w,n,x);n.renderCanvas(w,n,x,null);z&&z.postRenderCanvas(w,n,x);y&&(n.blendMode=C)}else w&&(z&&z.preRenderWebGL(w,n,x),y||w.setBlendMode(n.blendMode),
n.renderWebGL(w,n,x),z&&z.postRenderWebGL(w,x,this.renderTarget));n.setPosition(v,u)},batchTextureFrameKey:function(n,q,t,v,u,x){(n=this.manager.getFrame(n,q))&&this.batchTextureFrame(n,t,v,u,x)},batchTextureFrame:function(n,q,t,v,u){void 0===q&&(q=0);void 0===t&&(t=0);void 0===v&&(v=1);void 0===u&&(u=16777215);var x=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(n,q,t,u,v,x,null);else{u=this.context;var w=n.canvasData;n=n.source.image;u.save();u.globalCompositeOperation=
this._eraseMode?"destination-out":"source-over";u.globalAlpha=v;x.setToContext(u);0<w.width&&0<w.height&&u.drawImage(n,w.x,w.y,w.width,w.height,q,t,w.width,w.height);u.restore()}},snapshotArea:function(n,q,t,v,u,x,w){this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,u,!1,n,q,t,v,x,w):this.renderer.snapshotCanvas(this.canvas,u,!1,n,q,t,v,x,w);return this},snapshot:function(n,q,t){return this.snapshotArea(0,0,this.width,this.height,n,q,t)},snapshotPixel:function(n,
q,t){return this.snapshotArea(n,q,1,1,t,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(n,q,t,v){q=this.manager.resetStamp();q.setTexture(this);q.setOrigin(0);q.renderWebGL(n,q,t,v)},renderCanvas:function(){},destroy:function(){var n=this.manager.stamp;n&&n.texture===this&&this.manager.resetStamp();f.prototype.destroy.call(this);d.remove(this.canvas);this.renderTarget&&this.renderTarget.destroy();this.camera.destroy();this.renderer=
this.context=this.canvas=null}});r.exports=a},4327:(r,p,a)=>{p=a(83419);var m=a(45319),g=a(79291),d=new p({initialize:function(b,e,h,c,l,f,k){this.texture=b;this.name=e;this.source=b.source[h];this.sourceIndex=h;this.pivotY=this.pivotX=this.y=this.x=0;this.rotated=this.customPivot=!1;this.autoRound=-1;this.customData={};this.v1=this.u1=this.v0=this.u0=0;this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,
height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}};this.setSize(f,k,c,l)},setSize:function(b,e,h,c){void 0===h&&(h=0);void 0===c&&(c=0);this.cutX=h;this.cutY=c;this.cutWidth=b;this.cutHeight=e;this.width=b;this.height=e;this.halfWidth=Math.floor(.5*b);this.halfHeight=Math.floor(.5*e);this.centerX=Math.floor(b/2);this.centerY=Math.floor(e/2);var l=this.data,f=l.cut;f.x=h;f.y=c;f.w=b;f.h=e;f.r=h+b;f.b=c+e;l.sourceSize.w=b;l.sourceSize.h=e;l.spriteSourceSize.w=b;l.spriteSourceSize.h=e;
l.radius=.5*Math.sqrt(b*b+e*e);l=l.drawImage;l.x=h;l.y=c;l.width=b;l.height=e;return this.updateUVs()},setTrim:function(b,e,h,c,l,f){var k=this.data,n=k.spriteSourceSize;k.trim=!0;k.sourceSize.w=b;k.sourceSize.h=e;n.x=h;n.y=c;n.w=l;n.h=f;n.r=h+l;n.b=c+f;this.x=h;this.y=c;this.width=l;this.height=f;this.halfWidth=.5*l;this.halfHeight=.5*f;this.centerX=Math.floor(l/2);this.centerY=Math.floor(f/2);return this.updateUVs()},setScale9:function(b,e,h,c){var l=this.data;l.scale9=!0;l.is3Slice=0===e&&c===
this.height;l.scale9Borders.x=b;l.scale9Borders.y=e;l.scale9Borders.w=h;l.scale9Borders.h=c;return this},setCropUVs:function(b,e,h,c,l,f,k){var n=this.cutX,q=this.cutY,t=this.cutWidth,v=this.cutHeight,u=this.realWidth,x=this.realHeight;e=m(e,0,u);h=m(h,0,x);c=m(c,0,u-e);l=m(l,0,x-h);u=n+e;var w=q+h;x=c;var y=l,z=this.data;z.trim?(w=z.spriteSourceSize,c=m(c,0,t-e),l=m(l,0,v-h),x=e+c,u=h+l,w.r<e||w.b<h||w.x>x||w.y>u?y=x=w=u=0:(e=Math.max(w.x,e),h=Math.max(w.y,h),c=Math.min(w.r,x)-e,l=Math.min(w.b,u)-
h,x=c,y=l,u=f?n+(t-(e-w.x)-c):n+(e-w.x),w=k?q+(v-(h-w.y)-l):q+(h-w.y))):(f&&(u=n+(t-e-c)),k&&(w=q+(v-h-l)));n=this.source.width;q=this.source.height;b.u0=Math.max(0,u/n);b.v0=Math.max(0,w/q);b.u1=Math.min(1,(u+x)/n);b.v1=Math.min(1,(w+y)/q);b.x=e;b.y=h;b.cx=u;b.cy=w;b.cw=x;b.ch=y;b.width=c;b.height=l;b.flipX=f;b.flipY=k;return b},updateCropUVs:function(b,e,h){return this.setCropUVs(b,b.x,b.y,b.width,b.height,e,h)},setUVs:function(b,e,h,c,l,f){var k=this.data.drawImage;k.width=b;k.height=e;this.u0=
h;this.v0=c;this.u1=l;this.v1=f;return this},updateUVs:function(){var b=this.cutX,e=this.cutY,h=this.cutWidth,c=this.cutHeight,l=this.data.drawImage;l.width=h;l.height=c;l=this.source.width;var f=this.source.height;this.u0=b/l;this.v0=e/f;this.u1=(b+h)/l;this.v1=(e+c)/f;return this},updateUVsInverted:function(){var b=this.source.width,e=this.source.height;this.u0=(this.cutX+this.cutHeight)/b;this.v0=this.cutY/e;this.u1=this.cutX/b;this.v1=(this.cutY+this.cutWidth)/e;return this},clone:function(){var b=
new d(this.texture,this.name,this.sourceIndex);b.cutX=this.cutX;b.cutY=this.cutY;b.cutWidth=this.cutWidth;b.cutHeight=this.cutHeight;b.x=this.x;b.y=this.y;b.width=this.width;b.height=this.height;b.halfWidth=this.halfWidth;b.halfHeight=this.halfHeight;b.centerX=this.centerX;b.centerY=this.centerY;b.rotated=this.rotated;b.data=g(!0,b.data,this.data);b.updateUVs();return b},destroy:function(){this.data=this.customData=this.source=this.texture=null},glTexture:{get:function(){return this.source.glTexture}},
realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});r.exports=d},79237:(r,p,a)=>{p=a(83419);var m=a(4327),g=a(11876);a=new p({initialize:function(d,b,e,h,c){Array.isArray(e)||(e=[e]);
this.manager=d;this.key=b;this.source=[];this.dataSource=[];this.frames={};this.customData={};this.firstFrame="__BASE";for(d=this.frameTotal=0;d<e.length;d++)this.source.push(new g(this,e[d],h,c))},add:function(d,b,e,h,c,l){if(this.has(d))return null;b=new m(this,d,b,e,h,c,l);this.frames[d]=b;"__BASE"===this.firstFrame&&(this.firstFrame=d);this.frameTotal++;return b},remove:function(d){return this.has(d)?(this.get(d).destroy(),delete this.frames[d],!0):!1},has:function(d){return this.frames.hasOwnProperty(d)},
get:function(d){d||(d=this.firstFrame);var b=this.frames[d];b||(console.warn('Texture "%s" has no frame "%s"',this.key,d),b=this.frames[this.firstFrame]);return b},getTextureSourceIndex:function(d){for(var b=0;b<this.source.length;b++)if(this.source[b]===d)return b;return-1},getFramesFromTextureSource:function(d,b){void 0===b&&(b=!1);var e=[],h;for(h in this.frames)if("__BASE"!==h||b){var c=this.frames[h];c.sourceIndex===d&&e.push(c)}return e},getFrameBounds:function(d){void 0===d&&(d=0);d=this.getFramesFromTextureSource(d);
for(var b=Infinity,e=Infinity,h=0,c=0,l=0;l<d.length;l++){var f=d[l];f.cutX<b&&(b=f.cutX);f.cutY<e&&(e=f.cutY);f.cutX+f.cutWidth>h&&(h=f.cutX+f.cutWidth);f.cutY+f.cutHeight>c&&(c=f.cutY+f.cutHeight)}return{x:b,y:e,width:h-b,height:c-e}},getFrameNames:function(d){void 0===d&&(d=!1);var b=Object.keys(this.frames);d||(d=b.indexOf("__BASE"),-1!==d&&b.splice(d,1));return b},getSourceImage:function(d){if(void 0===d||null===d||1===this.frameTotal)d="__BASE";var b=this.frames[d];if(b)return b.source.image;
console.warn('Texture "%s" has no frame "%s"',this.key,d);return this.frames.__BASE.source.image},getDataSourceImage:function(d){if(void 0===d||null===d||1===this.frameTotal)d="__BASE";var b=this.frames[d];b?d=b.sourceIndex:(console.warn('Texture "%s" has no frame "%s"',this.key,d),d=this.frames.__BASE.sourceIndex);return this.dataSource[d].image},setDataSource:function(d){Array.isArray(d)||(d=[d]);for(var b=0;b<d.length;b++){var e=this.source[b];this.dataSource.push(new g(this,d[b],e.width,e.height))}},
setFilter:function(d){var b;for(b=0;b<this.source.length;b++)this.source[b].setFilter(d);for(b=0;b<this.dataSource.length;b++)this.dataSource[b].setFilter(d)},destroy:function(){var d,b=this.source,e=this.dataSource;for(d=0;d<b.length;d++)b[d]&&b[d].destroy();for(d=0;d<e.length;d++)e[d]&&e[d].destroy();for(var h in this.frames)(d=this.frames[h])&&d.destroy();this.source=[];this.dataSource=[];this.frames={};this.manager.removeKey(this.key);this.manager=null}});r.exports=a},17130:(r,p,a)=>{var m=a(27919),
g=a(57382);p=a(83419);var d=a(40987),b=a(8054),e=a(81320),h=a(50792),c=a(69442),l=a(4327),f=a(8443),k=a(99584),n=a(35154),q=a(88571),t=a(41212),v=a(61309),u=a(87841),x=a(79237);a=new p({Extends:h,initialize:function(w){h.call(this);this.game=w;this.name="TextureManager";this.list={};this._tempCanvas=m.create2D(this);this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0});this._pending=0;this.stampCrop=new u;this.silentWarnings=!1;w.events.once(f.BOOT,this.boot,this)},boot:function(){this._pending=
3;this.on(c.LOAD,this.updatePending,this);this.on(c.ERROR,this.updatePending,this);var w=this.game.config;this.addBase64("__DEFAULT",w.defaultImage);this.addBase64("__MISSING",w.missingImage);this.addBase64("__WHITE",w.whiteImage);this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1);this.game.events.once(f.DESTROY,this.destroy,this);this.game.events.once(f.SYSTEM_READY,function(y){this.stamp=(new q(y)).setOrigin(0)},this)},updatePending:function(){this._pending--;
0===this._pending&&(this.off(c.LOAD),this.off(c.ERROR),this.emit(c.READY))},checkKey:function(w){return this.exists(w)?(this.silentWarnings||console.error("Texture key already in use: "+w),!1):!0},remove:function(w){if("string"===typeof w)if(this.exists(w))w=this.get(w);else return this.silentWarnings||console.warn("No texture found matching key: "+w),this;var y=w.key;this.list.hasOwnProperty(y)&&(w.destroy(),this.emit(c.REMOVE,y),this.emit(c.REMOVE_KEY+y));return this},removeKey:function(w){this.list.hasOwnProperty(w)&&
delete this.list[w];return this},addBase64:function(w,y){if(this.checkKey(w)){var z=this,C=new Image;C.onerror=function(){z.emit(c.ERROR,w)};C.onload=function(){var A=z.create(w,C);v.Image(A,0);z.emit(c.ADD,w,A);z.emit(c.ADD_KEY+w,A);z.emit(c.LOAD,w,A)};C.src=y}return this},getBase64:function(w,y,z,C){void 0===z&&(z="image/png");void 0===C&&(C=.92);var A="";if((w=this.getFrame(w,y))&&(w.source.isRenderTexture||w.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");
else if(w){A=w.canvasData;y=m.create2D(this,A.width,A.height);var B=y.getContext("2d",{willReadFrequently:!0});0<A.width&&0<A.height&&B.drawImage(w.source.image,A.x,A.y,A.width,A.height,0,0,A.width,A.height);A=y.toDataURL(z,C);m.remove(y)}return A},addImage:function(w,y,z){var C=null;this.checkKey(w)&&(C=this.create(w,y),v.Image(C,0),z&&C.setDataSource(z),this.emit(c.ADD,w,C),this.emit(c.ADD_KEY+w,C));return C},addGLTexture:function(w,y){var z=null;if(this.checkKey(w)){var C=y.width,A=y.height;z=
this.create(w,y,C,A);z.add("__BASE",0,0,0,C,A);this.emit(c.ADD,w,z);this.emit(c.ADD_KEY+w,z)}return z},addCompressedTexture:function(w,y,z){var C=null;if(this.checkKey(w)){C=this.create(w,y);C.add("__BASE",0,0,0,y.width,y.height);if(z)if(y=function(B,E,G){Array.isArray(G.textures)||Array.isArray(G.frames)?v.JSONArray(B,E,G):v.JSONHash(B,E,G)},Array.isArray(z))for(var A=0;A<z.length;A++)y(C,A,z[A]);else y(C,0,z);this.emit(c.ADD,w,C);this.emit(c.ADD_KEY+w,C)}return C},addRenderTexture:function(w,y){var z=
null;this.checkKey(w)&&(z=this.create(w,y),z.add("__BASE",0,0,0,y.width,y.height),this.emit(c.ADD,w,z),this.emit(c.ADD_KEY+w,z));return z},generate:function(w,y){if(this.checkKey(w)){var z=m.create(this,1,1);y.canvas=z;k(y);return this.addCanvas(w,z)}return null},createCanvas:function(w,y,z){void 0===y&&(y=256);void 0===z&&(z=256);return this.checkKey(w)?(y=m.create(this,y,z,b.CANVAS,!0),this.addCanvas(w,y)):null},addCanvas:function(w,y,z){void 0===z&&(z=!1);var C=null;z?C=new g(this,w,y,y.width,
y.height):this.checkKey(w)&&(C=new g(this,w,y,y.width,y.height),this.list[w]=C,this.emit(c.ADD,w,C),this.emit(c.ADD_KEY+w,C));return C},addDynamicTexture:function(w,y,z){"string"!==typeof w||this.exists(w)?(y=w,w=y.key):y=new e(this,w,y,z);this.checkKey(w)?(this.list[w]=y,this.emit(c.ADD,w,y),this.emit(c.ADD_KEY+w,y)):y=null;return y},addAtlas:function(w,y,z,C){return Array.isArray(z.textures)||Array.isArray(z.frames)?this.addAtlasJSONArray(w,y,z,C):this.addAtlasJSONHash(w,y,z,C)},addAtlasJSONArray:function(w,
y,z,C){var A=null;y instanceof x?(w=y.key,A=y):this.checkKey(w)&&(A=this.create(w,y));if(A){if(Array.isArray(z)){y=1===z.length;for(var B=0;B<A.source.length;B++)v.JSONArray(A,B,y?z[0]:z[B])}else v.JSONArray(A,0,z);C&&A.setDataSource(C);this.emit(c.ADD,w,A);this.emit(c.ADD_KEY+w,A)}return A},addAtlasJSONHash:function(w,y,z,C){var A=null;y instanceof x?(w=y.key,A=y):this.checkKey(w)&&(A=this.create(w,y));if(A){if(Array.isArray(z))for(y=0;y<z.length;y++)v.JSONHash(A,y,z[y]);else v.JSONHash(A,0,z);C&&
A.setDataSource(C);this.emit(c.ADD,w,A);this.emit(c.ADD_KEY+w,A)}return A},addAtlasXML:function(w,y,z,C){var A=null;y instanceof x?(w=y.key,A=y):this.checkKey(w)&&(A=this.create(w,y));A&&(v.AtlasXML(A,0,z),C&&A.setDataSource(C),this.emit(c.ADD,w,A),this.emit(c.ADD_KEY+w,A));return A},addUnityAtlas:function(w,y,z,C){var A=null;y instanceof x?(w=y.key,A=y):this.checkKey(w)&&(A=this.create(w,y));A&&(v.UnityYAML(A,0,z),C&&A.setDataSource(C),this.emit(c.ADD,w,A),this.emit(c.ADD_KEY+w,A));return A},addSpriteSheet:function(w,
y,z,C){var A=null;y instanceof x?(w=y.key,A=y):this.checkKey(w)&&(A=this.create(w,y));A&&(v.SpriteSheet(A,0,0,0,A.source[0].width,A.source[0].height,z),C&&A.setDataSource(C),this.emit(c.ADD,w,A),this.emit(c.ADD_KEY+w,A));return A},addSpriteSheetFromAtlas:function(w,y){if(!this.checkKey(w))return null;var z=n(y,"atlas",null),C=n(y,"frame",null);if(z&&C&&(z=this.get(z).get(C)))return C=z.source.image,C||(C=z.source.glTexture),C=this.create(w,C),z.trimmed?v.SpriteSheetFromAtlas(C,z,y):v.SpriteSheet(C,
0,z.cutX,z.cutY,z.cutWidth,z.cutHeight,y),this.emit(c.ADD,w,C),this.emit(c.ADD_KEY+w,C),C},addUint8Array:function(w,y,z,C){if(!this.checkKey(w)||y.length/4!==z*C)return null;y=this.create(w,y,z,C);y.add("__BASE",0,0,0,z,C);this.emit(c.ADD,w,y);this.emit(c.ADD_KEY+w,y);return y},create:function(w,y,z,C){var A=null;this.checkKey(w)&&(A=new x(this,w,y,z,C),this.list[w]=A);return A},exists:function(w){return this.list.hasOwnProperty(w)},get:function(w){void 0===w&&(w="__DEFAULT");return this.list[w]?
this.list[w]:w instanceof x?w:w instanceof l?w.texture:this.list.__MISSING},cloneFrame:function(w,y){if(this.list[w])return this.list[w].get(y).clone()},getFrame:function(w,y){if(this.list[w])return this.list[w].get(y)},parseFrame:function(w){if(w){if("string"===typeof w)return this.getFrame(w);if(Array.isArray(w)&&2===w.length)return this.getFrame(w[0],w[1]);if(t(w))return this.getFrame(w.key,w.frame);if(w instanceof x)return w.get();if(w instanceof l)return w}},getTextureKeys:function(){var w=[],
y;for(y in this.list)"__DEFAULT"!==y&&"__MISSING"!==y&&"__WHITE"!==y&&"__NORMAL"!==y&&w.push(y);return w},getPixel:function(w,y,z,C){if(z=this.getFrame(z,C))if(w-=z.x,y-=z.y,C=z.data.cut,w+=C.x,y+=C.y,w>=C.x&&w<C.r&&y>=C.y&&y<C.b)return C=this._tempContext,C.clearRect(0,0,1,1),C.drawImage(z.source.image,w,y,1,1,0,0,1,1),w=C.getImageData(0,0,1,1),new d(w.data[0],w.data[1],w.data[2],w.data[3]);return null},getPixelAlpha:function(w,y,z,C){if(z=this.getFrame(z,C))if(w-=z.x,y-=z.y,C=z.data.cut,w+=C.x,
y+=C.y,w>=C.x&&w<C.r&&y>=C.y&&y<C.b)return C=this._tempContext,C.clearRect(0,0,1,1),C.drawImage(z.source.image,w,y,1,1,0,0,1,1),C.getImageData(0,0,1,1).data[3];return null},setTexture:function(w,y,z){this.list[y]&&(w.texture=this.list[y],w.frame=w.texture.get(z));return w},renameTexture:function(w,y){var z=this.get(w);return z&&w!==y?(z.key=y,this.list[y]=z,delete this.list[w],!0):!1},each:function(w,y){for(var z=[null],C=1;C<arguments.length;C++)z.push(arguments[C]);for(var A in this.list)z[0]=this.list[A],
w.apply(y,z)},resetStamp:function(w,y){void 0===w&&(w=1);void 0===y&&(y=16777215);var z=this.stamp;z.setCrop();z.setPosition(0);z.setAngle(0);z.setScale(1);z.setAlpha(w);z.setTint(y);z.setTexture("__WHITE");return z},destroy:function(){for(var w in this.list)this.list[w].destroy();this.list={};this.stamp.destroy();this.stamp=this.game=null;m.remove(this._tempCanvas)}});r.exports=a},11876:(r,p,a)=>{var m=a(27919);p=a(83419);var g=a(50030),d=a(29795),b=a(82751);a=new p({initialize:function(e,h,c,l,
f){void 0===f&&(f=!1);var k=e.manager.game;this.renderer=k.renderer;this.texture=e;this.source=h;this.image=h.compressed?null:h;this.compressionAlgorithm=h.compressed?h.format:null;this.resolution=1;this.width=c||h.naturalWidth||h.videoWidth||h.width||0;this.height=l||h.naturalHeight||h.videoHeight||h.height||0;this.scaleMode=d.DEFAULT;this.isCanvas=h instanceof HTMLCanvasElement;this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&h instanceof HTMLVideoElement;this.isRenderTexture="RenderTexture"===
h.type||"DynamicTexture"===h.type;this.isGLTexture=h instanceof b;this.isPowerOf2=g(this.width,this.height);this.glTexture=null;this.flipY=f;this.init(k)},init:function(e){var h=this.renderer;if(h){var c=this.source;if(h.gl){var l=this.image,f=this.flipY,k=this.width,n=this.height,q=this.scaleMode;this.glTexture=this.isCanvas?h.createCanvasTexture(l,!1,f):this.isVideo?h.createVideoTexture(l,!1,f):this.isRenderTexture?h.createTextureFromSource(null,k,n,q):this.isGLTexture?c:this.compressionAlgorithm?
h.createTextureFromSource(c,void 0,void 0,q):c instanceof Uint8Array?h.createUint8ArrayTexture(c,k,n,q):h.createTextureFromSource(l,k,n,q)}else this.isRenderTexture&&(this.image=c.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e);this.scaleMode=e},setFlipY:function(e){void 0===e&&(e=!0);if(e===this.flipY)return this;this.flipY=e;this.update();return this},update:function(){var e=this.renderer,h=this.image,
c=this.flipY,l=e.gl;l&&this.isCanvas?e.updateCanvasTexture(h,this.glTexture,c):l&&this.isVideo&&e.updateVideoTexture(h,this.glTexture,c)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture);this.isCanvas&&m.remove(this.image);this.glTexture=this.image=this.source=this.texture=this.renderer=null}});r.exports=a},19673:r=>{r.exports={LINEAR:0,NEAREST:1}},44538:r=>{r.exports="addtexture"},63486:r=>{r.exports="addtexture-"},94851:r=>{r.exports="onerror"},29099:r=>{r.exports=
"onload"},8678:r=>{r.exports="ready"},86415:r=>{r.exports="removetexture"},30879:r=>{r.exports="removetexture-"},69442:(r,p,a)=>{r.exports={ADD:a(44538),ADD_KEY:a(63486),ERROR:a(94851),LOAD:a(29099),READY:a(8678),REMOVE:a(86415),REMOVE_KEY:a(30879)}},27458:(r,p,a)=>{p=a(79291);var m=a(19673);a={CanvasTexture:a(57382),DynamicTexture:a(81320),Events:a(69442),FilterMode:m,Frame:a(4327),Parsers:a(61309),Texture:a(79237),TextureManager:a(17130),TextureSource:a(11876)};a=p(!1,a,m);r.exports=a},89905:r=>
{r.exports=function(p,a,m){if(m.getElementsByTagName("TextureAtlas")){var g=p.source[a];p.add("__BASE",a,0,0,g.width,g.height);m=m.getElementsByTagName("SubTexture");for(g=0;g<m.length;g++){var d=m[g].attributes;var b=d.name.value;var e=parseInt(d.x.value,10),h=parseInt(d.y.value,10),c=parseInt(d.width.value,10),l=parseInt(d.height.value,10);b=p.add(b,a,e,h,c,l);if(d.frameX){e=Math.abs(parseInt(d.frameX.value,10));h=Math.abs(parseInt(d.frameY.value,10));var f=parseInt(d.frameWidth.value,10);d=parseInt(d.frameHeight.value,
10);b.setTrim(c,l,e,h,f,d)}}return p}console.warn("Invalid Texture Atlas XML given")}},72893:r=>{r.exports=function(p,a){var m=p.source[a];p.add("__BASE",a,0,0,m.width,m.height);return p}},4832:r=>{r.exports=function(p,a){var m=p.source[a];p.add("__BASE",a,0,0,m.width,m.height);return p}},78566:(r,p,a)=>{var m=a(41786);r.exports=function(g,d,b){if(b.frames||b.textures){var e=g.source[d];g.add("__BASE",d,0,0,e.width,e.height);e=Array.isArray(b.textures)?b.textures[d].frames:b.frames;for(var h,c=0;c<
e.length;c++){var l=e[c];if(h=g.add(l.filename,d,l.frame.x,l.frame.y,l.frame.w,l.frame.h)){l.trimmed&&h.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h);l.rotated&&(h.rotated=!0,h.updateUVsInverted());var f=l.anchor||l.pivot;f&&(h.customPivot=!0,h.pivotX=f.x,h.pivotY=f.y);l.scale9Borders&&h.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h);h.customData=m(l)}else console.warn("Invalid atlas json, frame already exists: "+
l.filename)}for(var k in b)"frames"!==k&&(Array.isArray(b[k])?g.customData[k]=b[k].slice(0):g.customData[k]=b[k]);return g}console.warn("Invalid Texture Atlas JSON Array")}},39711:(r,p,a)=>{var m=a(41786);r.exports=function(g,d,b){if(b.frames){var e=g.source[d];g.add("__BASE",d,0,0,e.width,e.height);e=b.frames;var h,c;for(c in e)if(e.hasOwnProperty(c)){var l=e[c];if(h=g.add(c,d,l.frame.x,l.frame.y,l.frame.w,l.frame.h)){l.trimmed&&h.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,
l.spriteSourceSize.w,l.spriteSourceSize.h);l.rotated&&(h.rotated=!0,h.updateUVsInverted());var f=l.anchor||l.pivot;f&&(h.customPivot=!0,h.pivotX=f.x,h.pivotY=f.y);l.scale9Borders&&h.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h);h.customData=m(l)}else console.warn("Invalid atlas json, frame already exists: "+c)}for(var k in b)"frames"!==k&&(Array.isArray(b[k])?g.customData[k]=b[k].slice(0):g.customData[k]=b[k]);return g}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},
31403:r=>{r.exports=function(p){var a=[171,75,84,88,32,49,49,187,13,10,26,10],m,g=new Uint8Array(p,0,12);for(m=0;m<g.length;m++)if(g[m]!==a[m]){console.warn("KTXParser - Invalid file format");return}m=Uint32Array.BYTES_PER_ELEMENT;var d=new DataView(p,12,13*m),b=67305985===d.getUint32(0,!0);if(0!==d.getUint32(1*m,b))console.warn("KTXParser - Only compressed formats supported");else{a=d.getUint32(4*m,b);g=d.getUint32(6*m,b);var e=d.getUint32(7*m,b),h=Math.max(1,d.getUint32(11*m,b));m=d.getUint32(12*
m,b);d=Array(h);b=64+m;var c=g,l=e;for(m=0;m<h;m++){var f=(new Int32Array(p,b,1))[0];b+=4;d[m]={data:new Uint8Array(p,b,f),width:c,height:l};c=Math.max(1,c>>1);l=Math.max(1,l>>1);b+=f}return{mipmaps:d,width:g,height:e,internalFormat:a,compressed:!0,generateMipmap:!1}}}},82038:r=>{function p(h,c,l,f,k,n,q){void 0===q&&(q=16);return Math.floor((h+l)/k)*Math.floor((c+f)/n)*q}function a(h,c){h=Math.max(h,16);c=Math.max(c,8);return h*c/4}function m(h,c){h=Math.max(h,8);c=Math.max(c,8);return h*c/2}function g(h,
c){return Math.ceil(h/4)*Math.ceil(c/4)*16}function d(h,c){return p(h,c,3,3,4,4,8)}function b(h,c){return p(h,c,3,3,4,4)}var e={0:{sizeFunc:a,glFormat:[35841]},1:{sizeFunc:a,glFormat:[35843]},2:{sizeFunc:m,glFormat:[35840]},3:{sizeFunc:m,glFormat:[35842]},6:{sizeFunc:d,glFormat:[36196]},7:{sizeFunc:d,glFormat:[33776,35916]},8:{sizeFunc:b,glFormat:[33777,35917]},9:{sizeFunc:b,glFormat:[33778,35918]},11:{sizeFunc:b,glFormat:[33779,35919]},14:{sizeFunc:g,glFormat:[36494,36495]},15:{sizeFunc:g,glFormat:[36492,
36493]},22:{sizeFunc:d,glFormat:[37492,37493]},23:{sizeFunc:b,glFormat:[37496,37497]},24:{sizeFunc:d,glFormat:[37494,37495]},25:{sizeFunc:d,glFormat:[37488]},26:{sizeFunc:b,glFormat:[37490]},27:{sizeFunc:b,glFormat:[37808,37840]},28:{sizeFunc:function(h,c){return p(h,c,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function(h,c){return p(h,c,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function(h,c){return p(h,c,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function(h,c){return p(h,c,5,5,6,6)},
glFormat:[37812,37844]},32:{sizeFunc:function(h,c){return p(h,c,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function(h,c){return p(h,c,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function(h,c){return p(h,c,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function(h,c){return p(h,c,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function(h,c){return p(h,c,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function(h,c){return p(h,c,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function(h,c){return p(h,
c,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function(h,c){return p(h,c,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function(h,c){return p(h,c,11,11,12,12)},glFormat:[37821,37853]}};r.exports=function(h){var c=new Uint32Array(h,0,13),l=55727696===c[0]?c[2]:c[3],f=e[l].glFormat[c[4]];l=e[l].sizeFunc;var k=c[11],n=c[7],q=c[6];h=new Uint8Array(h,52+c[12]);c=Array(k);for(var t=0,v=n,u=q,x=0;x<k;x++){var w=l(v,u);c[x]={data:new Uint8Array(h.buffer,h.byteOffset+t,w),width:v,height:u};v=Math.max(1,
v>>1);u=Math.max(1,u>>1);t+=w}return{mipmaps:c,width:n,height:q,internalFormat:f,compressed:!0,generateMipmap:!1}}},75549:(r,p,a)=>{var m=a(95540);r.exports=function(g,d,b,e,h,c,l){var f=m(l,"frameWidth",null),k=m(l,"frameHeight",f);if(null===f)throw Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var n=g.source[d];g.add("__BASE",d,0,0,n.width,n.height);n=m(l,"startFrame",0);var q=m(l,"endFrame",-1),t=m(l,"margin",0);l=m(l,"spacing",0);var v=Math.floor((h-t+l)/(f+l))*Math.floor((c-
t+l)/(k+l));0===v&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",g.key);if(n>v||n<-v)n=0;0>n&&(n=v+n);if(-1===q||q>v||q<n)q=v;for(var u=t,x=t,w,y,z=0,C=0;C<v;C++){y=w=0;var A=u+f,B=x+k;A>h&&(w=A-h);B>c&&(y=B-c);C>=n&&C<=q&&(g.add(z,d,b+u,e+x,f-w,k-y),z++);u+=f+l;u+f>h&&(u=t,x+=k+l)}return g}},47534:(r,p,a)=>{var m=a(95540);r.exports=function(g,d,b){var e=m(b,"frameWidth",null),h=m(b,"frameHeight",e);if(!e)throw Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");
var c=g.source[0];g.add("__BASE",0,0,0,c.width,c.height);m(b,"startFrame",0);m(b,"endFrame",-1);c=m(b,"margin",0);b=m(b,"spacing",0);var l=d.cutX,f=d.cutY,k=d.realWidth,n=d.realHeight,q=Math.floor((k-c+b)/(e+b)),t=Math.floor((n-c+b)/(h+b)),v=d.x,u=e-v;k=e-(k-d.cutWidth-v);var x=d.y,w=h-x;d=h-(n-d.cutHeight-x);for(var y=c,z=c,C=0,A=0;A<t;A++){for(var B=0===A,E=A===t-1,G=0;G<q;G++){var I=0===G,H=G===q-1;n=g.add(C,0,l+y,f+z,e,h);if(I||B||H||E){var K=I?v:0,L=B?x:0,M=0,P=0;I&&(M+=e-u);H&&(M+=e-k);B&&(P+=
h-w);E&&(P+=h-d);M=e-M;P=h-P;n.cutWidth=M;n.cutHeight=P;n.setTrim(e,h,K,L,M,P)}y+=b;y=I?y+u:H?y+k:y+e;C++}y=c;z+=b;z=B?z+w:E?z+d:z+h}return g}},86147:r=>{var p=0;r.exports=function(a,m,g){var d=a.source[m];a.add("__BASE",m,0,0,d.width,d.height);p=d.height;g=g.split("\n");d=/^[ ]*(- )*(\w+)+[: ]+(.*)/;for(var b="",e="",h={x:0,y:0,width:0,height:0},c=0;c<g.length;c++){var l=g[c].match(d);if(l){var f=l[2],k=l[3];"- "===l[1]&&(e!==b&&(a.add(e,m,h.x,p-h.y-h.height,h.width,h.height),b=e),h={x:0,y:0,width:0,
height:0});if("name"===f)e=k;else switch(f){case "x":case "y":case "width":case "height":h[f]=parseInt(k,10)}}}e!==b&&a.add(e,m,h.x,p-h.y-h.height,h.width,h.height);return a}},55222:(r,p,a)=>{function m(c){c=c.mipmaps;for(var l=0;l<c.length;l++){var f=c[l].width,k=c[l].height;if(0!==(f<<l)%4||0!==(k<<l)%4)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+l+" is "+
f+"x"+k),!1}return!0}function g(){return!0}function d(c){c=c.mipmaps[0];return e(c.width,c.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+c.width+"x"+c.height),!1)}function b(c){c=c.mipmaps[0];return 0!==c.width%4||0!==c.height%4?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+c.width+"x"+c.height+" pixels"),!1):!0}var e=a(50030),h={37488:g,37489:g,37490:g,37491:g,37492:g,37493:g,37494:g,37495:g,37496:g,37497:g,36196:g,
37808:g,37809:g,37810:g,37811:g,37812:g,37813:g,37814:g,37815:g,37816:g,37817:g,37818:g,37819:g,37820:g,37821:g,37840:g,37841:g,37842:g,37843:g,37844:g,37845:g,37846:g,37847:g,37848:g,37849:g,37850:g,37851:g,37852:g,37853:g,36492:m,36493:m,36494:m,36495:m,36283:m,36284:m,36285:m,36286:m,35840:d,35841:d,35842:d,35843:d,33776:m,33777:m,33778:m,33779:m,35916:b,35917:b,35918:b,35919:b};r.exports=function(c){for(var l=c.mipmaps,f=1;f<l.length;f++){var k=l[f].width,n=l[f].height;if(!e(k,n))return console.warn("Mip level "+
f+" is not a power-of-two size: "+k+"x"+n),!1}l=h[c.internalFormat];return l?l(c):(console.warn("No format checker found for internal format "+c.internalFormat+". Assuming valid."),!0)}},61309:(r,p,a)=>{r.exports={AtlasXML:a(89905),Canvas:a(72893),Image:a(4832),JSONArray:a(78566),JSONHash:a(39711),KTXParser:a(31403),PVRParser:a(82038),SpriteSheet:a(75549),SpriteSheetFromAtlas:a(47534),UnityYAML:a(86147)}},80341:r=>{r.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(r,p,a)=>{p=new (a(83419))({initialize:function(m,
g,d,b,e,h,c){if(void 0===d||0>=d)d=32;if(void 0===b||0>=b)b=32;void 0===e&&(e=0);void 0===h&&(h=0);this.name=m;this.firstgid=g|0;this.imageWidth=d|0;this.imageHeight=b|0;this.imageMargin=e|0;this.imageSpacing=h|0;this.properties=c||{};this.images=[];this.total=0},containsImageIndex:function(m){return m>=this.firstgid&&m<this.firstgid+this.total},addImage:function(m,g){this.images.push({gid:m,image:g});this.total++;return this}});r.exports=p},27462:(r,p,a)=>{p=new (a(83419))({initialize:function(m){this.gids=
[];if(void 0!==m)for(var g=0;g<m.length;++g)for(var d=m[g],b=0;b<d.total;++b)this.gids[d.firstgid+b]=d;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(m){this.gids=m?this._gids:void 0}},getTypeIncludingTile:function(m){if(void 0!==m.type&&""!==m.type)return m.type;if(this.gids&&void 0!==m.gid){var g=this.gids[m.gid];if(g&&(m=g.getTileData(m.gid)))return m.type}},setTextureAndFrame:function(m,g,d,b){if(null===g&&this.gids&&void 0!==b.gid){var e=this.gids[b.gid];e&&(null===
g&&void 0!==e.image&&(g=e.image.key),null===d&&(d=b.gid-e.firstgid),m.scene.textures.getFrame(g,d)||(d=g=null))}m.setTexture(g,d)},setPropertiesFromTiledObject:function(m,g){if(void 0!==this.gids&&void 0!==g.gid){var d=this.gids[g.gid];void 0!==d&&this.setFromJSON(m,d.getTileProperties(g.gid))}this.setFromJSON(m,g.properties)},setFromJSON:function(m,g){if(g)if(Array.isArray(g))for(var d=0;d<g.length;d++){var b=g[d];void 0!==m[b.name]?m[b.name]=b.value:m.setData(b.name,b.value)}else for(d in g)void 0!==
m[d]?m[d]=g[d]:m.setData(d,g[d])}});r.exports=p},31989:(r,p,a)=>{var m=a(80341),g=a(87010),d=a(46177),b=a(49075);r.exports=function(e,h,c,l,f,k,n,q){void 0===c&&(c=32);void 0===l&&(l=32);void 0===f&&(f=10);void 0===k&&(k=10);void 0===q&&(q=!1);var t=null;Array.isArray(n)?t=d(void 0!==h?h:"map",m.ARRAY_2D,n,c,l,q):void 0!==h&&((n=e.cache.tilemap.get(h))?t=d(h,n.format,n.data,c,l,q):console.warn("No map data found for key "+h));null===t&&(t=new g({tileWidth:c,tileHeight:l,width:f,height:k}));return new b(e,
t)}},23029:(r,p,a)=>{p=a(83419);var m=a(31401),g=a(91907),d=a(62644),b=a(93232);a=new p({Mixins:[m.AlphaSingle,m.Flip,m.Visible],initialize:function(e,h,c,l,f,k,n,q){this.layer=e;this.index=h;this.x=c;this.y=l;this.width=f;this.height=k;this.baseWidth=void 0!==n?n:f;this.baseHeight=void 0!==q?q:k;this.pixelY=this.pixelX=0;this.updatePixelXY();this.properties={};this.rotation=0;this.faceBottom=this.faceTop=this.faceRight=this.faceLeft=this.collideDown=this.collideUp=this.collideRight=this.collideLeft=
!1;this.collisionCallback=void 0;this.collisionCallbackContext=this;this.tint=16777215;this.tintFill=!1;this.physics={}},containsPoint:function(e,h){return!(e<this.pixelX||h<this.pixelY||e>this.right||h>this.bottom)},copy:function(e){this.index=e.index;this.alpha=e.alpha;this.properties=d(e.properties);this.visible=e.visible;this.setFlip(e.flipX,e.flipY);this.tint=e.tint;this.rotation=e.rotation;this.collideUp=e.collideUp;this.collideDown=e.collideDown;this.collideLeft=e.collideLeft;this.collideRight=
e.collideRight;this.collisionCallback=e.collisionCallback;this.collisionCallbackContext=e.collisionCallbackContext;return this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(e){var h=this.tilemapLayer;return h?h.tileToWorldXY(this.x,this.y,void 0,e).x:this.x*this.baseWidth},getRight:function(e){var h=this.tilemapLayer;return h?this.getLeft(e)+
this.width*h.scaleX:this.getLeft(e)+this.width},getTop:function(e){var h=this.tilemapLayer;return h?h.tileToWorldXY(this.x,this.y,void 0,e).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(e){var h=this.tilemapLayer;return h?this.getTop(e)+this.height*h.scaleY:this.getTop(e)+this.height},getBounds:function(e,h){void 0===h&&(h=new b);h.x=this.getLeft(e);h.y=this.getTop(e);h.width=this.getRight(e)-h.x;h.height=this.getBottom(e)-h.y;return h},getCenterX:function(e){return(this.getLeft(e)+
this.getRight(e))/2},getCenterY:function(e){return(this.getTop(e)+this.getBottom(e))/2},intersects:function(e,h,c,l){return!(c<=this.pixelX||l<=this.pixelY||e>=this.right||h>=this.bottom)},isInteresting:function(e,h){return e&&h?this.canCollide||this.hasInterestingFace:e?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(e){void 0===e&&(e=!0);this.faceRight=this.faceLeft=this.faceBottom=this.faceTop=this.collideDown=this.collideUp=this.collideRight=this.collideLeft=!1;e&&this.tilemapLayer&&
this.tilemapLayer.calculateFacesAt(this.x,this.y);return this},resetFaces:function(){this.faceRight=this.faceLeft=this.faceBottom=this.faceTop=!1;return this},setCollision:function(e,h,c,l,f){void 0===h&&(h=e);void 0===c&&(c=e);void 0===l&&(l=e);void 0===f&&(f=!0);this.collideLeft=e;this.collideRight=h;this.collideUp=c;this.collideDown=l;this.faceLeft=e;this.faceRight=h;this.faceTop=c;this.faceBottom=l;f&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y);return this},setCollisionCallback:function(e,
h){null===e?this.collisionCallbackContext=this.collisionCallback=void 0:(this.collisionCallback=e,this.collisionCallbackContext=h);return this},setSize:function(e,h,c,l){void 0!==e&&(this.width=e);void 0!==h&&(this.height=h);void 0!==c&&(this.baseWidth=c);void 0!==l&&(this.baseHeight=l);this.updatePixelXY();return this},updatePixelXY:function(){var e=this.layer.orientation;if(e===g.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(e===g.ISOMETRIC)this.pixelX=
(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(e===g.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.baseHeight/2*this.y;else if(e===g.HEXAGONAL){var h=this.layer.staggerAxis;e=this.layer.staggerIndex;var c=this.layer.hexSideLength;"y"===h?(h=(this.baseHeight-c)/2+c,this.pixelX="odd"===e?this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*h):"x"===h&&
(h=(this.baseWidth-c)/2+c,this.pixelX=this.x*h,this.pixelY="odd"===e?this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}this.right=this.pixelX+this.baseWidth;this.bottom=this.pixelY+this.baseHeight;return this},destroy:function(){this.properties=this.collisionCallbackContext=this.collisionCallback=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||
this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var e=this.layer.tilemapLayer;return e&&(e=e.gidMap[this.index])?e:null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var e=this.tilemapLayer;return e?e.tilemap:null}}});r.exports=a},49075:(r,p,a)=>{var m=a(84101);p=a(83419);var g=a(39506),d=a(80341),b=a(95540),e=a(14977),h=a(27462),
c=a(91907),l=a(36305),f=a(19133),k=a(68287),n=a(23029),q=a(81086),t=a(20442),v=a(33629);a=new p({initialize:function(u,x){this.scene=u;this.tileWidth=x.tileWidth;this.tileHeight=x.tileHeight;this.width=x.width;this.height=x.height;this.orientation=x.orientation;this.renderOrder=x.renderOrder;this.format=x.format;this.version=x.version;this.properties=x.properties;this.widthInPixels=x.widthInPixels;this.heightInPixels=x.heightInPixels;this.imageCollections=x.imageCollections;this.images=x.images;this.layers=
x.layers;this.tiles=x.tiles;this.tilesets=x.tilesets;this.objects=x.objects;this.currentLayerIndex=0;this.hexSideLength=x.hexSideLength;u=this.orientation;this._convert={WorldToTileXY:q.GetWorldToTileXYFunction(u),WorldToTileX:q.GetWorldToTileXFunction(u),WorldToTileY:q.GetWorldToTileYFunction(u),TileToWorldXY:q.GetTileToWorldXYFunction(u),TileToWorldX:q.GetTileToWorldXFunction(u),TileToWorldY:q.GetTileToWorldYFunction(u),GetTileCorners:q.GetTileCornersFunction(u)}},setRenderOrder:function(u){var x=
["right-down","left-down","right-up","left-up"];"number"===typeof u&&(u=x[u]);-1<x.indexOf(u)&&(this.renderOrder=u);return this},addTilesetImage:function(u,x,w,y,z,C,A,B){if(void 0===u)return null;if(void 0===x||null===x)x=u;var E=this.scene.sys.textures;if(!E.exists(x))return console.warn('Texture key "%s" not found',x),null;x=E.get(x);E=this.getTilesetIndex(u);if(null===E&&this.format===d.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',u,this.tilesets),null;if(E=
this.tilesets[E])return E.setTileSize(w,y),E.setSpacing(z,C),E.setImage(x),E;void 0===w&&(w=this.tileWidth);void 0===y&&(y=this.tileHeight);void 0===z&&(z=0);void 0===C&&(C=0);void 0===A&&(A=0);void 0===B&&(B={x:0,y:0});E=new v(u,A,w,y,z,C,void 0,void 0,B);E.setImage(x);this.tilesets.push(E);this.tiles=m(this);return E},copy:function(u,x,w,y,z,C,A,B){B=this.getLayer(B);return null!==B?(q.Copy(u,x,w,y,z,C,A,B),this):null},createBlankLayer:function(u,x,w,y,z,C,A,B){void 0===w&&(w=0);void 0===y&&(y=
0);void 0===z&&(z=this.width);void 0===C&&(C=this.height);void 0===A&&(A=this.tileWidth);void 0===B&&(B=this.tileHeight);if(null!==this.getLayerIndex(u))return console.warn("Invalid Tilemap Layer ID: "+u),null;u=new e({name:u,tileWidth:A,tileHeight:B,width:z,height:C,orientation:this.orientation});for(var E,G=0;G<C;G++){E=[];for(var I=0;I<z;I++)E.push(new n(u,-1,I,G,A,B,this.tileWidth,this.tileHeight));u.data.push(E)}this.layers.push(u);this.currentLayerIndex=this.layers.length-1;x=new t(this.scene,
this,this.currentLayerIndex,x,w,y);x.setRenderOrder(this.renderOrder);this.scene.sys.displayList.add(x);return x},createLayer:function(u,x,w,y){var z=this.getLayerIndex(u);if(null===z)return console.warn("Invalid Tilemap Layer ID: "+u),"string"===typeof u&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var C=this.layers[z];if(C.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+u),null;this.currentLayerIndex=z;void 0===w&&(w=C.x);void 0===y&&(y=C.y);u=new t(this.scene,
this,z,x,w,y);u.setRenderOrder(this.renderOrder);this.scene.sys.displayList.add(u);return u},createFromObjects:function(u,x,w){void 0===w&&(w=!0);var y=[],z=this.getObjectLayer(u);if(!z)return console.warn("createFromObjects: Invalid objectLayerName given: "+u),y;u=new h(w?this.tilesets:void 0);Array.isArray(x)||(x=[x]);z=z.objects;for(w=0;w<x.length;w++){var C=x[w],A=b(C,"id",null),B=b(C,"gid",null),E=b(C,"name",null),G=b(C,"type",null);u.enabled=!b(C,"ignoreTileset",null);for(var I,H=[],K=0;K<z.length;K++)I=
z[K],(null===A&&null===B&&null===E&&null===G||null!==A&&I.id===A||null!==B&&I.gid===B||null!==E&&I.name===E||null!==G&&u.getTypeIncludingTile(I)===G)&&H.push(I);A=b(C,"classType",k);B=b(C,"scene",this.scene);E=b(C,"container",null);G=b(C,"key",null);C=b(C,"frame",null);for(K=0;K<H.length;K++){I=H[K];var L=new A(B);L.setName(I.name);L.setPosition(I.x,I.y);u.setTextureAndFrame(L,G,C,I);I.width&&(L.displayWidth=I.width);I.height&&(L.displayHeight=I.height);if(this.orientation===c.ISOMETRIC){var M=(L.x+
L.y)/(this.tileWidth/this.tileHeight);L.x-=L.y;L.y=M}M={x:L.originX*I.width,y:(L.originY-(I.gid?1:0))*I.height};if(I.rotation){var P=g(I.rotation);l(M,P);L.rotation=P}L.x+=M.x;L.y+=M.y;void 0===I.flippedHorizontal&&void 0===I.flippedVertical||L.setFlip(I.flippedHorizontal,I.flippedVertical);I.visible||(L.visible=!1);u.setPropertiesFromTiledObject(L,I);E?E.add(L):B.add.existing(L);y.push(L)}}return y},createFromTiles:function(u,x,w,y,z,C){C=this.getLayer(C);return null===C?null:q.CreateFromTiles(u,
x,w,y,z,C)},fill:function(u,x,w,y,z,C,A){void 0===C&&(C=!0);A=this.getLayer(A);if(null===A)return null;q.Fill(u,x,w,y,z,C,A);return this},filterObjects:function(u,x,w){if("string"===typeof u){var y=u;u=this.getObjectLayer(u);if(!u)return console.warn("No object layer found with the name: "+y),null}return u.objects.filter(x,w)},filterTiles:function(u,x,w,y,z,C,A,B){B=this.getLayer(B);return null===B?null:q.FilterTiles(u,x,w,y,z,C,A,B)},findByIndex:function(u,x,w,y){y=this.getLayer(y);return null===
y?null:q.FindByIndex(u,x,w,y)},findObject:function(u,x,w){if("string"===typeof u){var y=u;u=this.getObjectLayer(u);if(!u)return console.warn("No object layer found with the name: "+y),null}return u.objects.find(x,w)||null},findTile:function(u,x,w,y,z,C,A,B){B=this.getLayer(B);return null===B?null:q.FindTile(u,x,w,y,z,C,A,B)},forEachTile:function(u,x,w,y,z,C,A,B){B=this.getLayer(B);if(null===B)return null;q.ForEachTile(u,x,w,y,z,C,A,B);return this},getImageIndex:function(u){return this.getIndex(this.images,
u)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(u){return u.name}):[]},getIndex:function(u,x){for(var w=0;w<u.length;w++)if(u[w].name===x)return w;return null},getLayer:function(u){u=this.getLayerIndex(u);return null!==u?this.layers[u]:null},getObjectLayer:function(u){u=this.getIndex(this.objects,u);return null!==u?this.objects[u]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(u){return u.name}):
[]},getLayerIndex:function(u){return void 0===u?this.currentLayerIndex:"string"===typeof u?this.getLayerIndexByName(u):"number"===typeof u&&u<this.layers.length?u:u instanceof t&&u.tilemap===this?u.layerIndex:null},getLayerIndexByName:function(u){return this.getIndex(this.layers,u)},getTileAt:function(u,x,w,y){y=this.getLayer(y);return null===y?null:q.GetTileAt(u,x,w,y)},getTileAtWorldXY:function(u,x,w,y,z){z=this.getLayer(z);return null===z?null:q.GetTileAtWorldXY(u,x,w,y,z)},getTileLayerNames:function(){return this.layers&&
Array.isArray(this.layers)?this.layers.map(function(u){return u.name}):[]},getTilesWithin:function(u,x,w,y,z,C){C=this.getLayer(C);return null===C?null:q.GetTilesWithin(u,x,w,y,z,C)},getTilesWithinShape:function(u,x,w,y){y=this.getLayer(y);return null===y?null:q.GetTilesWithinShape(u,x,w,y)},getTilesWithinWorldXY:function(u,x,w,y,z,C,A){A=this.getLayer(A);return null===A?null:q.GetTilesWithinWorldXY(u,x,w,y,z,C,A)},getTileset:function(u){u=this.getIndex(this.tilesets,u);return null!==u?this.tilesets[u]:
null},getTilesetIndex:function(u){return this.getIndex(this.tilesets,u)},hasTileAt:function(u,x,w){w=this.getLayer(w);return null===w?null:q.HasTileAt(u,x,w)},hasTileAtWorldXY:function(u,x,w,y){y=this.getLayer(y);return null===y?null:q.HasTileAtWorldXY(u,x,w,y)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(u){this.setLayer(u)}},putTileAt:function(u,x,w,y,z){void 0===y&&(y=!0);z=this.getLayer(z);return null===z?null:q.PutTileAt(u,x,w,y,z)},putTileAtWorldXY:function(u,
x,w,y,z,C){void 0===y&&(y=!0);C=this.getLayer(C);return null===C?null:q.PutTileAtWorldXY(u,x,w,y,z,C)},putTilesAt:function(u,x,w,y,z){void 0===y&&(y=!0);z=this.getLayer(z);if(null===z)return null;q.PutTilesAt(u,x,w,y,z);return this},randomize:function(u,x,w,y,z,C){C=this.getLayer(C);if(null===C)return null;q.Randomize(u,x,w,y,z,C);return this},calculateFacesAt:function(u,x,w){w=this.getLayer(w);if(null===w)return null;q.CalculateFacesAt(u,x,w);return this},calculateFacesWithin:function(u,x,w,y,z){z=
this.getLayer(z);if(null===z)return null;q.CalculateFacesWithin(u,x,w,y,z);return this},removeLayer:function(u){u=this.getLayerIndex(u);if(null!==u){f(this.layers,u);for(var x=u;x<this.layers.length;x++)this.layers[x].tilemapLayer&&this.layers[x].tilemapLayer.layerIndex--;this.currentLayerIndex===u&&(this.currentLayerIndex=0);return this}return null},destroyLayer:function(u){var x=this.getLayerIndex(u);return null!==x?(u=this.layers[x],u.tilemapLayer.destroy(),f(this.layers,x),this.currentLayerIndex===
x&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var u=this.layers,x=0;x<u.length;x++)u[x].tilemapLayer&&u[x].tilemapLayer.destroy(!1);this.currentLayerIndex=u.length=0;return this},removeTile:function(u,x,w){void 0===x&&(x=-1);void 0===w&&(w=!0);var y=[];Array.isArray(u)||(u=[u]);for(var z=0;z<u.length;z++){var C=u[z];y.push(this.removeTileAt(C.x,C.y,!0,w,C.tilemapLayer));-1<x&&this.putTileAt(x,C.x,C.y,w,C.tilemapLayer)}return y},removeTileAt:function(u,x,w,y,z){void 0===
w&&(w=!0);void 0===y&&(y=!0);z=this.getLayer(z);return null===z?null:q.RemoveTileAt(u,x,w,y,z)},removeTileAtWorldXY:function(u,x,w,y,z,C){void 0===w&&(w=!0);void 0===y&&(y=!0);C=this.getLayer(C);return null===C?null:q.RemoveTileAtWorldXY(u,x,w,y,z,C)},renderDebug:function(u,x,w){w=this.getLayer(w);if(null===w)return null;this.orientation===c.ORTHOGONAL&&q.RenderDebug(u,x,w);return this},renderDebugFull:function(u,x){for(var w=this.layers,y=0;y<w.length;y++)q.RenderDebug(u,x,w[y]);return this},replaceByIndex:function(u,
x,w,y,z,C,A){A=this.getLayer(A);if(null===A)return null;q.ReplaceByIndex(u,x,w,y,z,C,A);return this},setCollision:function(u,x,w,y,z){void 0===x&&(x=!0);void 0===w&&(w=!0);void 0===z&&(z=!0);y=this.getLayer(y);if(null===y)return null;q.SetCollision(u,x,w,y,z);return this},setCollisionBetween:function(u,x,w,y,z){void 0===w&&(w=!0);void 0===y&&(y=!0);z=this.getLayer(z);if(null===z)return null;q.SetCollisionBetween(u,x,w,y,z);return this},setCollisionByProperty:function(u,x,w,y){void 0===x&&(x=!0);void 0===
w&&(w=!0);y=this.getLayer(y);if(null===y)return null;q.SetCollisionByProperty(u,x,w,y);return this},setCollisionByExclusion:function(u,x,w,y){void 0===x&&(x=!0);void 0===w&&(w=!0);y=this.getLayer(y);if(null===y)return null;q.SetCollisionByExclusion(u,x,w,y);return this},setCollisionFromCollisionGroup:function(u,x,w){void 0===u&&(u=!0);void 0===x&&(x=!0);w=this.getLayer(w);if(null===w)return null;q.SetCollisionFromCollisionGroup(u,x,w);return this},setTileIndexCallback:function(u,x,w,y){y=this.getLayer(y);
if(null===y)return null;q.SetTileIndexCallback(u,x,w,y);return this},setTileLocationCallback:function(u,x,w,y,z,C,A){A=this.getLayer(A);if(null===A)return null;q.SetTileLocationCallback(u,x,w,y,z,C,A);return this},setLayer:function(u){u=this.getLayerIndex(u);null!==u&&(this.currentLayerIndex=u);return this},setBaseTileSize:function(u,x){this.tileWidth=u;this.tileHeight=x;this.widthInPixels=this.width*u;this.heightInPixels=this.height*x;for(var w=0;w<this.layers.length;w++){this.layers[w].baseTileWidth=
u;this.layers[w].baseTileHeight=x;for(var y=this.layers[w].data,z=this.layers[w].width,C=this.layers[w].height,A=0;A<C;A++)for(var B=0;B<z;B++){var E=y[A][B];null!==E&&E.setSize(void 0,void 0,u,x)}}return this},setLayerTileSize:function(u,x,w){w=this.getLayer(w);if(null===w)return this;w.tileWidth=u;w.tileHeight=x;var y=w.data,z=w.width;w=w.height;for(var C=0;C<w;C++)for(var A=0;A<z;A++){var B=y[C][A];null!==B&&B.setSize(u,x)}return this},shuffle:function(u,x,w,y,z){z=this.getLayer(z);if(null===z)return null;
q.Shuffle(u,x,w,y,z);return this},swapByIndex:function(u,x,w,y,z,C,A){A=this.getLayer(A);if(null===A)return null;q.SwapByIndex(u,x,w,y,z,C,A);return this},tileToWorldX:function(u,x,w){w=this.getLayer(w);return null===w?null:this._convert.TileToWorldX(u,x,w)},tileToWorldY:function(u,x,w){w=this.getLayer(w);return null===w?null:this._convert.TileToWorldY(u,x,w)},tileToWorldXY:function(u,x,w,y,z){z=this.getLayer(z);return null===z?null:this._convert.TileToWorldXY(u,x,w,y,z)},getTileCorners:function(u,
x,w,y){y=this.getLayer(y);return null===y?null:this._convert.GetTileCorners(u,x,w,y)},weightedRandomize:function(u,x,w,y,z,C){C=this.getLayer(C);if(null===C)return null;q.WeightedRandomize(x,w,y,z,u,C);return this},worldToTileX:function(u,x,w,y){y=this.getLayer(y);return null===y?null:this._convert.WorldToTileX(u,x,w,y)},worldToTileY:function(u,x,w,y){y=this.getLayer(y);return null===y?null:this._convert.WorldToTileY(u,x,w,y)},worldToTileXY:function(u,x,w,y,z,C){C=this.getLayer(C);return null===C?
null:this._convert.WorldToTileXY(u,x,w,y,z,C)},destroy:function(){this.removeAllLayers();this.tiles.length=0;this.tilesets.length=0;this.objects.length=0;this.scene=null}});r.exports=a},45939:(r,p,a)=>{r=a(44603);var m=a(31989);r.register("tilemap",function(g){g=void 0!==g?g:{};return m(this.scene,g.key,g.tileWidth,g.tileHeight,g.width,g.height,g.data,g.insertNull)})},46029:(r,p,a)=>{r=a(39429);var m=a(31989);r.register("tilemap",function(g,d,b,e,h,c,l){null===g&&(g=void 0);null===d&&(d=void 0);null===
b&&(b=void 0);null===e&&(e=void 0);null===h&&(h=void 0);return m(this.scene,g,d,b,e,h,c,l)})},20442:(r,p,a)=>{p=a(83419);var m=a(78389),g=a(31401),d=a(95643),b=a(81086),e=a(19218),h=a(26099);a=new p({Extends:d,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.Transform,g.Visible,g.ScrollFactor,m,e],initialize:function(c,l,f,k,n,q){d.call(this,c,"TilemapLayer");this.isTilemap=!0;this.tilemap=l;this.layerIndex=f;this.layer=l.layers[f];
this.layer.tilemapLayer=this;this.tileset=[];this.tilesDrawn=0;this.tilesTotal=this.layer.width*this.layer.height;this.culledTiles=[];this.skipCull=!1;this.cullPaddingY=this.cullPaddingX=1;this.cullCallback=b.GetCullTilesFunction(this.layer.orientation);this._renderOrder=0;this.gidMap=[];this.tempVec=new h;this.collisionMask=this.collisionCategory=1;this.setTilesets(k);this.setAlpha(this.layer.alpha);this.setPosition(n,q);this.setOrigin(0,0);this.setSize(l.tileWidth*this.layer.width,l.tileHeight*
this.layer.height);this.initPipeline();this.initPostPipeline(!1)},setTilesets:function(c){var l=[],f=[],k=this.tilemap;Array.isArray(c)||(c=[c]);for(var n=0;n<c.length;n++){var q=c[n];"string"===typeof q&&(q=k.getTileset(q));if(q){f.push(q);for(var t=q.firstgid,v=0;v<q.total;v++)l[t+v]=q}}this.gidMap=l;this.tileset=f},setRenderOrder:function(c){var l=["right-down","left-down","right-up","left-up"];"string"===typeof c&&(c=l.indexOf(c));0<=c&&4>c&&(this._renderOrder=c);return this},calculateFacesAt:function(c,
l){b.CalculateFacesAt(c,l,this.layer);return this},calculateFacesWithin:function(c,l,f,k){b.CalculateFacesWithin(c,l,f,k,this.layer);return this},createFromTiles:function(c,l,f,k,n){return b.CreateFromTiles(c,l,f,k,n,this.layer)},cull:function(c){return this.cullCallback(this.layer,c,this.culledTiles,this._renderOrder)},copy:function(c,l,f,k,n,q,t){b.Copy(c,l,f,k,n,q,t,this.layer);return this},fill:function(c,l,f,k,n,q){b.Fill(c,l,f,k,n,q,this.layer);return this},filterTiles:function(c,l,f,k,n,q,
t){return b.FilterTiles(c,l,f,k,n,q,t,this.layer)},findByIndex:function(c,l,f){return b.FindByIndex(c,l,f,this.layer)},findTile:function(c,l,f,k,n,q,t){return b.FindTile(c,l,f,k,n,q,t,this.layer)},forEachTile:function(c,l,f,k,n,q,t){b.ForEachTile(c,l,f,k,n,q,t,this.layer);return this},setTint:function(c,l,f,k,n,q){void 0===c&&(c=16777215);return this.forEachTile(function(t){t.tint=c;t.tintFill=!1},this,l,f,k,n,q)},setTintFill:function(c,l,f,k,n,q){void 0===c&&(c=16777215);return this.forEachTile(function(t){t.tint=
c;t.tintFill=!0},this,l,f,k,n,q)},getTileAt:function(c,l,f){return b.GetTileAt(c,l,f,this.layer)},getTileAtWorldXY:function(c,l,f,k){return b.GetTileAtWorldXY(c,l,f,k,this.layer)},getIsoTileAtWorldXY:function(c,l,f,k,n){void 0===f&&(f=!0);var q=this.tempVec;b.IsometricWorldToTileXY(c,l,!0,q,n,this.layer,f);return this.getTileAt(q.x,q.y,k)},getTilesWithin:function(c,l,f,k,n){return b.GetTilesWithin(c,l,f,k,n,this.layer)},getTilesWithinShape:function(c,l,f){return b.GetTilesWithinShape(c,l,f,this.layer)},
getTilesWithinWorldXY:function(c,l,f,k,n,q){return b.GetTilesWithinWorldXY(c,l,f,k,n,q,this.layer)},hasTileAt:function(c,l){return b.HasTileAt(c,l,this.layer)},hasTileAtWorldXY:function(c,l,f){return b.HasTileAtWorldXY(c,l,f,this.layer)},putTileAt:function(c,l,f,k){return b.PutTileAt(c,l,f,k,this.layer)},putTileAtWorldXY:function(c,l,f,k,n){return b.PutTileAtWorldXY(c,l,f,k,n,this.layer)},putTilesAt:function(c,l,f,k){b.PutTilesAt(c,l,f,k,this.layer);return this},randomize:function(c,l,f,k,n){b.Randomize(c,
l,f,k,n,this.layer);return this},removeTileAt:function(c,l,f,k){return b.RemoveTileAt(c,l,f,k,this.layer)},removeTileAtWorldXY:function(c,l,f,k,n){return b.RemoveTileAtWorldXY(c,l,f,k,n,this.layer)},renderDebug:function(c,l){b.RenderDebug(c,l,this.layer);return this},replaceByIndex:function(c,l,f,k,n,q){b.ReplaceByIndex(c,l,f,k,n,q,this.layer);return this},setSkipCull:function(c){void 0===c&&(c=!0);this.skipCull=c;return this},setCullPadding:function(c,l){void 0===c&&(c=1);void 0===l&&(l=1);this.cullPaddingX=
c;this.cullPaddingY=l;return this},setCollision:function(c,l,f,k){b.SetCollision(c,l,f,this.layer,k);return this},setCollisionBetween:function(c,l,f,k){b.SetCollisionBetween(c,l,f,k,this.layer);return this},setCollisionByProperty:function(c,l,f){b.SetCollisionByProperty(c,l,f,this.layer);return this},setCollisionByExclusion:function(c,l,f){b.SetCollisionByExclusion(c,l,f,this.layer);return this},setCollisionFromCollisionGroup:function(c,l){b.SetCollisionFromCollisionGroup(c,l,this.layer);return this},
setTileIndexCallback:function(c,l,f){b.SetTileIndexCallback(c,l,f,this.layer);return this},setTileLocationCallback:function(c,l,f,k,n,q){b.SetTileLocationCallback(c,l,f,k,n,q,this.layer);return this},shuffle:function(c,l,f,k){b.Shuffle(c,l,f,k,this.layer);return this},swapByIndex:function(c,l,f,k,n,q){b.SwapByIndex(c,l,f,k,n,q,this.layer);return this},tileToWorldX:function(c,l){return this.tilemap.tileToWorldX(c,l,this)},tileToWorldY:function(c,l){return this.tilemap.tileToWorldY(c,l,this)},tileToWorldXY:function(c,
l,f,k){return this.tilemap.tileToWorldXY(c,l,f,k,this)},getTileCorners:function(c,l,f){return this.tilemap.getTileCorners(c,l,f,this)},weightedRandomize:function(c,l,f,k,n){b.WeightedRandomize(l,f,k,n,c,this.layer);return this},worldToTileX:function(c,l,f){return this.tilemap.worldToTileX(c,l,f,this)},worldToTileY:function(c,l,f){return this.tilemap.worldToTileY(c,l,f,this)},worldToTileXY:function(c,l,f,k,n){return this.tilemap.worldToTileXY(c,l,f,k,n,this)},destroy:function(c){void 0===c&&(c=!0);
this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),c&&this.tilemap.removeLayer(this),this.layer=this.tilemap=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],d.prototype.destroy.call(this))}});r.exports=a},16153:(r,p,a)=>{p=a(61340);var m=new p,g=new p,d=new p;r.exports=function(b,e,h,c){var l=e.cull(h),f=l.length,k=h.alpha*e.alpha;if(!(0===f||0>=k)){g.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);m.copyFrom(h.matrix);var n=b.currentContext,
q=e.gidMap;n.save();c?(m.multiplyWithOffset(c,-h.scrollX*e.scrollFactorX,-h.scrollY*e.scrollFactorY),g.e=e.x,g.f=e.y,m.multiply(g,d),d.copyToContext(n)):(g.e-=h.scrollX*e.scrollFactorX,g.f-=h.scrollY*e.scrollFactorY,g.copyToContext(n));if(!b.antialias||1<e.scaleX||1<e.scaleY)n.imageSmoothingEnabled=!1;for(b=0;b<f;b++)if(e=l[b],h=q[e.index]){c=h.image.getSourceImage();var t=h.getTileTextureCoordinates(e.index),v=h.tileWidth,u=h.tileHeight;if(null!==t&&0!==v&&0!==u){var x=.5*v,w=.5*u;t.x+=h.tileOffset.x;
t.y+=h.tileOffset.y;n.save();n.translate(e.pixelX+x,e.pixelY+w);0!==e.rotation&&n.rotate(e.rotation);(e.flipX||e.flipY)&&n.scale(e.flipX?-1:1,e.flipY?-1:1);n.globalAlpha=k*e.alpha;n.drawImage(c,t.x,t.y,v,u,-x,-w,v,u);n.restore()}}n.restore()}}},19218:(r,p,a)=>{a(29747);p=a(99558);a=a(16153);r.exports={renderWebGL:p,renderCanvas:a}},99558:(r,p,a)=>{var m=a(70554);r.exports=function(g,d,b){var e=d.cull(b),h=e.length,c=b.alpha*d.alpha;if(!(0===h||0>=c)){var l=d.gidMap,f=g.pipelines.set(d.pipeline,d),
k=m.getTintAppendFloatAlpha,n=d.scrollFactorX,q=d.scrollFactorY,t=d.x,v=d.y,u=d.scaleX,x=d.scaleY;g.pipelines.preBatch(d);for(var w=0;w<h;w++){var y=e[w],z=l[y.index];if(z){var C=z.getTileTextureCoordinates(y.index),A=z.tileWidth,B=z.tileHeight;if(C&&0!==A&&0!==B){var E=.5*A,G=.5*B,I=z.glTexture,H=f.setTexture2D(I,d),K=A,L=B,M=C.x;C=C.y;var P=z.tileOffset.x;z=z.tileOffset.y;var D=k(y.tint,c*y.alpha);f.batchTexture(d,I,I.width,I.height,t+y.pixelX*u+(E*u-P),v+y.pixelY*x+(G*x-z),A,B,u,x,y.rotation,y.flipX,
y.flipY,n,q,E,G,M,C,K,L,D,D,D,D,y.tintFill,0,0,b,null,!0,H,!0)}}}g.pipelines.postBatch(d)}}},33629:(r,p,a)=>{p=a(83419);var m=a(26099);a=new p({initialize:function(g,d,b,e,h,c,l,f,k){if(void 0===b||0>=b)b=32;if(void 0===e||0>=e)e=32;void 0===h&&(h=0);void 0===c&&(c=0);void 0===l&&(l={});void 0===f&&(f={});this.name=g;this.firstgid=d;this.tileWidth=b;this.tileHeight=e;this.tileMargin=h;this.tileSpacing=c;this.tileProperties=l;this.tileData=f;this.tileOffset=new m;void 0!==k&&this.tileOffset.set(k.x,
k.y);this.glTexture=this.image=null;this.total=this.columns=this.rows=0;this.texCoordinates=[]},getTileProperties:function(g){return this.containsTileIndex(g)?this.tileProperties[g-this.firstgid]:null},getTileData:function(g){return this.containsTileIndex(g)?this.tileData[g-this.firstgid]:null},getTileCollisionGroup:function(g){return(g=this.getTileData(g))&&g.objectgroup?g.objectgroup:null},containsTileIndex:function(g){return g>=this.firstgid&&g<this.firstgid+this.total},getTileTextureCoordinates:function(g){return this.containsTileIndex(g)?
this.texCoordinates[g-this.firstgid]:null},setImage:function(g){this.image=g;var d=g.get();g=g.getFrameBounds();this.glTexture=d.source.glTexture;d.width>g.width||d.height>g.height?this.updateTileData(d.width,d.height):this.updateTileData(g.width,g.height,g.x,g.y);return this},setTileSize:function(g,d){void 0!==g&&(this.tileWidth=g);void 0!==d&&(this.tileHeight=d);this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height);return this},setSpacing:function(g,d){void 0!==
g&&(this.tileMargin=g);void 0!==d&&(this.tileSpacing=d);this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height);return this},updateTileData:function(g,d,b,e){void 0===b&&(b=0);void 0===e&&(e=0);d=(d-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing);g=(g-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);0===d%1&&0===g%1||console.warn("Image tile area not tile size multiple in: "+this.name);d=Math.floor(d);g=Math.floor(g);this.rows=
d;this.columns=g;this.total=d*g;this.texCoordinates.length=0;g=this.tileMargin+b;e=this.tileMargin+e;for(d=0;d<this.rows;d++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:g,y:e}),g+=this.tileWidth+this.tileSpacing;g=this.tileMargin+b;e+=this.tileHeight+this.tileSpacing}return this}});r.exports=a},72023:(r,p,a)=>{var m=a(7423);r.exports=function(g,d,b){var e=m(g,d,!0,b),h=m(g,d-1,!0,b),c=m(g,d+1,!0,b),l=m(g-1,d,!0,b);g=m(g+1,d,!0,b);if(d=e&&e.collides)e.faceTop=!0,e.faceBottom=!0,e.faceLeft=
!0,e.faceRight=!0;h&&h.collides&&(d&&(e.faceTop=!1),h.faceBottom=!d);c&&c.collides&&(d&&(e.faceBottom=!1),c.faceTop=!d);l&&l.collides&&(d&&(e.faceLeft=!1),l.faceRight=!d);g&&g.collides&&(d&&(e.faceRight=!1),g.faceLeft=!d);e&&!e.collides&&e.resetFaces();return e}},42573:(r,p,a)=>{var m=a(7423),g=a(7386);r.exports=function(d,b,e,h,c){for(var l=g(d,b,e,h,null,c),f=0;f<l.length;f++){var k=l[f];k&&(k.collides?(d=m(k.x,k.y-1,!0,c),b=m(k.x,k.y+1,!0,c),e=m(k.x-1,k.y,!0,c),h=m(k.x+1,k.y,!0,c),k.faceTop=d&&
d.collides?!1:!0,k.faceBottom=b&&b.collides?!1:!0,k.faceLeft=e&&e.collides?!1:!0,k.faceRight=h&&h.collides?!1:!0):k.resetFaces())}}},33528:(r,p,a)=>{var m=new (a(26099));r.exports=function(g,d,b,e){var h=b.tilemapLayer,c=h.cullPaddingX,l=h.cullPaddingY;g=h.tilemap.tileToWorldXY(g,d,m,e,h);return g.x>e.worldView.x+h.scaleX*b.tileWidth*(-c-.5)&&g.x<e.worldView.right+h.scaleX*b.tileWidth*(c-.5)&&g.y>e.worldView.y+h.scaleY*b.tileHeight*(-l-1)&&g.y<e.worldView.bottom+h.scaleY*b.tileHeight*(l-.5)}},1785:(r,
p,a)=>{var m=a(42573),g=a(7386),d=a(62991),b=a(23029);r.exports=function(e,h,c,l,f,k,n,q){void 0===n&&(n=!0);var t=g(e,h,c,l,null,q),v=[];t.forEach(function(z){var C=new b(z.layer,z.index,z.x,z.y,z.width,z.height,z.baseWidth,z.baseHeight);C.copy(z);v.push(C)});e=f-e;h=k-h;for(var u=0;u<v.length;u++){var x=v[u],w=x.x+e,y=x.y+h;d(w,y,q)&&q.data[y][w]&&(x.x=w,x.y=y,x.updatePixelXY(),q.data[y][w]=x)}n&&m(f-1,k-1,c+2,l+2,q);t.length=0;v.length=0}},78419:(r,p,a)=>{var m=a(62644),g=a(7386),d=a(27987);r.exports=
function(b,e,h,c,l,f){h||(h={});Array.isArray(b)||(b=[b]);var k=f.tilemapLayer;c||(c=k.scene);l||(l=c.cameras.main);var n=f.width,q=f.height,t=g(0,0,n,q,null,f),v=[],u;for(u=0;u<t.length;u++){var x=t[u],w=m(h);if(-1!==b.indexOf(x.index)){var y=k.tileToWorldXY(x.x,x.y,void 0,l,f);w.x=y.x;w.y=y.y;y=w;for(var z=x,C="rotation flipX flipY alpha visible tint".split(" "),A=0;A<C.length;A++){var B=C[A];y.hasOwnProperty(B)||(y[B]=z[B])}w.hasOwnProperty("origin")||(w.x+=.5*x.width,w.y+=.5*x.height);w.hasOwnProperty("useSpriteSheet")&&
(w.key=x.tileset.image,w.frame=x.index-1);v.push(c.make.sprite(w))}}if(Array.isArray(e))for(u=0;u<b.length;u++)d(b[u],e[u],0,0,n,q,f);else if(null!==e)for(u=0;u<b.length;u++)d(b[u],e,0,0,n,q,f);return v}},19545:(r,p,a)=>{p=a(87841);var m=a(63448),g=a(56583),d=new p;r.exports=function(b,e){var h=b.tilemapLayer.tilemap;b=b.tilemapLayer;var c=Math.floor(h.tileWidth*b.scaleX),l=Math.floor(h.tileHeight*b.scaleY);h=g(e.worldView.x-b.x,c,0,!0)-b.cullPaddingX;c=m(e.worldView.right-b.x,c,0,!0)+b.cullPaddingX;
var f=g(e.worldView.y-b.y,l,0,!0)-b.cullPaddingY;e=m(e.worldView.bottom-b.y,l,0,!0)+b.cullPaddingY;return d.setTo(h,f,c-h,e-f)}},30003:(r,p,a)=>{var m=a(19545),g=a(32483);r.exports=function(d,b,e,h){void 0===e&&(e=[]);void 0===h&&(h=0);e.length=0;var c=d.tilemapLayer;b=m(d,b);if(c.skipCull||1!==c.scrollFactorX||1!==c.scrollFactorY)b.left=0,b.right=d.width,b.top=0,b.bottom=d.height;g(d,b,h,e);return e}},35137:(r,p,a)=>{var m=a(7386),g=a(42573),d=a(20576);r.exports=function(b,e,h,c,l,f,k){for(var n=
-1!==k.collideIndexes.indexOf(b),q=m(e,h,c,l,null,k),t=0;t<q.length;t++)q[t].index=b,d(q[t],n);f&&g(e-1,h-1,c+2,l+2,k)}},40253:(r,p,a)=>{var m=a(7386);r.exports=function(g,d,b,e,h,c,l,f){return m(b,e,h,c,l,f).filter(g,d)}},52692:r=>{r.exports=function(p,a,m,g){void 0===a&&(a=0);void 0===m&&(m=!1);var d=0,b,e;if(m)for(b=g.height-1;0<=b;b--)for(m=g.width-1;0<=m;m--){if((e=g.data[b][m])&&e.index===p){if(d===a)return e;d+=1}}else for(b=0;b<g.height;b++)for(m=0;m<g.width;m++)if((e=g.data[b][m])&&e.index===
p){if(d===a)return e;d+=1}return null}},66151:(r,p,a)=>{var m=a(7386);r.exports=function(g,d,b,e,h,c,l,f){return m(b,e,h,c,l,f).find(g,d)||null}},97560:(r,p,a)=>{var m=a(7386);r.exports=function(g,d,b,e,h,c,l,f){m(b,e,h,c,l,f).forEach(g,d)}},43305:(r,p,a)=>{var m=a(91907),g=a(30003),d=a(9474),b=a(14018),e=a(29747),h=a(54503);r.exports=function(c){return c===m.ORTHOGONAL?g:c===m.HEXAGONAL?d:c===m.STAGGERED?h:c===m.ISOMETRIC?b:e}},7423:(r,p,a)=>{var m=a(62991);r.exports=function(g,d,b,e){void 0===b&&
(b=!1);return m(g,d,e)?(g=e.data[d][g]||null)?-1===g.index?b?g:null:g:null:null}},60540:(r,p,a)=>{var m=a(7423),g=new (a(26099));r.exports=function(d,b,e,h,c){c.tilemapLayer.worldToTileXY(d,b,!0,g,h);return m(g.x,g.y,e,c)}},55826:(r,p,a)=>{var m=a(26099);r.exports=function(g,d,b,e){var h=e.baseTileWidth,c=e.baseTileHeight,l=e.tilemapLayer,f=0;e=0;l&&(b||(b=l.scene.cameras.main),f=l.x+b.scrollX*(1-l.scrollFactorX),e=l.y+b.scrollY*(1-l.scrollFactorY),h*=l.scaleX,c*=l.scaleY);g=f+g*h;d=e+d*c;return[new m(g,
d),new m(g+h,d),new m(g+h,d+c),new m(g,d+c)]}},11758:(r,p,a)=>{var m=a(91907),g=a(27229),d=a(29747),b=a(55826);r.exports=function(e){return e===m.ORTHOGONAL?b:e===m.ISOMETRIC?d:e===m.HEXAGONAL?g:d}},39167:(r,p,a)=>{var m=a(91907),g=a(29747),d=a(97281);r.exports=function(b){return b===m.ORTHOGONAL?d:g}},62E3:(r,p,a)=>{var m=a(91907),g=a(19951),d=a(14127),b=a(29747),e=a(97202),h=a(70326);r.exports=function(c){return c===m.ORTHOGONAL?h:c===m.ISOMETRIC?d:c===m.HEXAGONAL?g:c===m.STAGGERED?e:b}},5984:(r,
p,a)=>{var m=a(91907),g=a(29747),d=a(28054),b=a(29650);r.exports=function(e){return e===m.ORTHOGONAL?b:e===m.STAGGERED?d:g}},7386:(r,p,a)=>{var m=a(95540);r.exports=function(g,d,b,e,h,c){void 0===g&&(g=0);void 0===d&&(d=0);void 0===b&&(b=c.width);void 0===e&&(e=c.height);h||(h={});var l=m(h,"isNotEmpty",!1),f=m(h,"isColliding",!1);h=m(h,"hasInterestingFace",!1);0>g&&(b+=g,g=0);0>d&&(e+=d,d=0);g+b>c.width&&(b=Math.max(c.width-g,0));d+e>c.height&&(e=Math.max(c.height-d,0));for(var k=[],n=d;n<d+e;n++)for(var q=
g;q<g+b;q++){var t=c.data[n][q];null===t||l&&-1===t.index||!(f&&!t.collides||h&&!t.hasInterestingFace)&&k.push(t)}return k}},91141:(r,p,a)=>{var m=a(55738),g=a(7386),d=a(91865),b=a(29747);p=a(26099);var e=function(f,k){return d.RectangleToTriangle(k,f)},h=new p,c=new p,l=new p;r.exports=function(f,k,n,q){if(void 0===f)return[];var t=b;f instanceof m.Circle?t=d.CircleToRectangle:f instanceof m.Rectangle?t=d.RectangleToRectangle:f instanceof m.Triangle?t=e:f instanceof m.Line&&(t=d.LineToRectangle);
q.tilemapLayer.worldToTileXY(f.left,f.top,!0,c,n);var v=c.x,u=c.y;q.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,l,n);k=g(v,u,Math.max(Math.ceil(l.x)-v,1),Math.max(Math.ceil(l.y)-u,1),k,q);u=q.tileWidth;var x=q.tileHeight;q.tilemapLayer&&(u*=q.tilemapLayer.scaleX,x*=q.tilemapLayer.scaleY);v=[];u=new m.Rectangle(0,0,u,x);for(x=0;x<k.length;x++){var w=k[x];q.tilemapLayer.tileToWorldXY(w.x,w.y,h,n);u.x=h.x;u.y=h.y;t(f,u)&&v.push(w)}return v}},96523:(r,p,a)=>{var m=a(7386);p=a(26099);var g=new p,d=
new p;r.exports=function(b,e,h,c,l,f,k){var n=k.tilemapLayer.tilemap._convert.WorldToTileXY;n(b,e,!0,g,f,k);var q=g.x,t=g.y;n(b+h,e+c,!1,d,f,k);return m(q,t,Math.ceil(d.x)-q,Math.ceil(d.y)-t,l,k)}},96113:(r,p,a)=>{var m=a(91907),g=a(20242),d=a(10095);r.exports=function(b){return b===m.ORTHOGONAL?d:g}},16926:(r,p,a)=>{var m=a(91907),g=a(86625),d=a(96897),b=a(29747),e=a(15108),h=a(85896);r.exports=function(c){return c===m.ORTHOGONAL?h:c===m.ISOMETRIC?d:c===m.HEXAGONAL?g:c===m.STAGGERED?e:b}},55762:(r,
p,a)=>{var m=a(91907),g=a(20242),d=a(51900),b=a(63288);r.exports=function(e){return e===m.ORTHOGONAL?b:e===m.STAGGERED?d:g}},45091:(r,p,a)=>{var m=a(62991);r.exports=function(g,d,b){return m(g,d,b)?(g=b.data[d][g],null!==g&&-1<g.index):!1}},24152:(r,p,a)=>{var m=a(45091),g=new (a(26099));r.exports=function(d,b,e,h){h.tilemapLayer.worldToTileXY(d,b,!0,g,e);return m(g.x,g.y,h)}},90454:(r,p,a)=>{var m=a(63448),g=a(56583);r.exports=function(d,b){var e=d.tilemapLayer.tilemap,h=d.tilemapLayer,c=Math.floor(e.tileWidth*
h.scaleX);e=Math.floor(e.tileHeight*h.scaleY);var l=d.hexSideLength;"y"===d.staggerAxis?(e=(e-l)/2+l,d=g(b.worldView.x-h.x,c,0,!0)-h.cullPaddingX,c=m(b.worldView.right-h.x,c,0,!0)+h.cullPaddingX,l=g(b.worldView.y-h.y,e,0,!0)-h.cullPaddingY,b=m(b.worldView.bottom-h.y,e,0,!0)+h.cullPaddingY):(c=(c-l)/2+l,d=g(b.worldView.x-h.x,c,0,!0)-h.cullPaddingX,c=m(b.worldView.right-h.x,c,0,!0)+h.cullPaddingX,l=g(b.worldView.y-h.y,e,0,!0)-h.cullPaddingY,b=m(b.worldView.bottom-h.y,e,0,!0)+h.cullPaddingY);return{left:d,
right:c,top:l,bottom:b}}},9474:(r,p,a)=>{var m=a(90454),g=a(32483);r.exports=function(d,b,e,h){void 0===e&&(e=[]);void 0===h&&(h=0);e.length=0;var c=d.tilemapLayer;b=m(d,b);c.skipCull&&1===c.scrollFactorX&&1===c.scrollFactorY&&(b.left=0,b.right=d.width,b.top=0,b.bottom=d.height);g(d,b,h,e);return e}},27229:(r,p,a)=>{var m=a(19951),g=a(26099),d=new g;r.exports=function(b,e,h,c){var l=c.baseTileWidth,f=c.baseTileHeight,k=c.tilemapLayer;k&&(l*=k.scaleX,f*=k.scaleY);b=m(b,e,d,h,c);e=[];"y"===c.staggerAxis?
(c=.5773502691896257*l,f/=2):(c=l/2,f*=.5773502691896257);for(l=0;6>l;l++)h=2*Math.PI*(.5-l)/6,e.push(new g(b.x+c*Math.cos(h),b.y+f*Math.sin(h)));return e}},19951:(r,p,a)=>{var m=a(26099);r.exports=function(g,d,b,e,h){b||(b=new m);var c=h.baseTileWidth,l=h.baseTileHeight,f=h.tilemapLayer,k=0,n=0;f&&(e||(e=f.scene.cameras.main),k=f.x+e.scrollX*(1-f.scrollFactorX),n=f.y+e.scrollY*(1-f.scrollFactorY),c*=f.scaleX,l*=f.scaleY);e=c/2;f=l/2;if("y"===h.staggerAxis){var q=k+c*g+c;var t=n+1.5*d*f+f;0===d%2&&
(q="odd"===this.staggerIndex?q-e:q+e)}else"x"===this.staggerAxis&&"odd"===this.staggerIndex&&(q=k+1.5*g*e+e,t=n+l*g+l,0===g%2&&(t="odd"===this.staggerIndex?t-f:t+f));return b.set(q,t)}},86625:(r,p,a)=>{var m=a(26099);r.exports=function(g,d,b,e,h,c){e||(e=new m);var l=c.baseTileWidth;b=c.baseTileHeight;var f=c.tilemapLayer;f&&(h||(h=f.scene.cameras.main),g-=f.x+h.scrollX*(1-f.scrollFactorX),d-=f.y+h.scrollY*(1-f.scrollFactorY),l*=f.scaleX,b*=f.scaleY);f=l/2;h=b/2;"y"===c.staggerAxis?(g=(g-f)/(.5773502691896257*
l),d=(d-h)/h,l=.5773502691896257*g+-.3333333333333333*d,f=0*g+.6666666666666666*d):(g=(g-f)/f,d=(d-h)/(.5773502691896257*b),l=-.3333333333333333*g+.5773502691896257*d,f=.6666666666666666*g+0*d);h=-l-f;d=Math.round(l);g=Math.round(f);b=Math.round(h);l=Math.abs(d-l);f=Math.abs(g-f);h=Math.abs(b-h);l>f&&l>h?d=-g-b:f>h&&(g=-d-b);b=g;return e.set("odd"===c.staggerIndex?0===b%2?g/2+d:g/2+d-.5:0===b%2?g/2+d:g/2+d+.5,b)}},62991:r=>{r.exports=function(p,a,m){return 0<=p&&p<m.width&&0<=a&&a<m.height}},14018:(r,
p,a)=>{var m=a(33528);r.exports=function(g,d,b,e){void 0===b&&(b=[]);void 0===e&&(e=0);b.length=0;var h=g.tilemapLayer,c=g.data,l=g.width,f=g.height,k=h.skipCull,n,q;if(0===e)for(n=0;n<f;n++)for(e=0;e<l;e++)(q=c[n][e])&&-1!==q.index&&q.visible&&0!==q.alpha&&(k||m(e,n,g,d))&&b.push(q);else if(1===e)for(n=0;n<f;n++)for(e=l;0<=e;e--)(q=c[n][e])&&-1!==q.index&&q.visible&&0!==q.alpha&&(k||m(e,n,g,d))&&b.push(q);else if(2===e)for(n=f;0<=n;n--)for(e=0;e<l;e++)(q=c[n][e])&&-1!==q.index&&q.visible&&0!==q.alpha&&
(k||m(e,n,g,d))&&b.push(q);else if(3===e)for(n=f;0<=n;n--)for(e=l;0<=e;e--)(q=c[n][e])&&-1!==q.index&&q.visible&&0!==q.alpha&&(k||m(e,n,g,d))&&b.push(q);h.tilesDrawn=b.length;h.tilesTotal=l*f;return b}},14127:(r,p,a)=>{var m=a(26099);r.exports=function(g,d,b,e,h){b||(b=new m);var c=h.baseTileWidth,l=h.baseTileHeight;h=h.tilemapLayer;var f=0,k=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),c*=h.scaleX,k=h.y+e.scrollY*(1-h.scrollFactorY),l*=h.scaleY);return b.set(f+c/2*(g-d),
k+l/2*(g+d))}},96897:(r,p,a)=>{var m=a(26099);r.exports=function(g,d,b,e,h,c,l){e||(e=new m);var f=c.baseTileWidth,k=c.baseTileHeight;if(c=c.tilemapLayer)h||(h=c.scene.cameras.main),d-=c.y+h.scrollY*(1-c.scrollFactorY),k*=c.scaleY,g-=c.x+h.scrollX*(1-c.scrollFactorX),f*=c.scaleX;h=f/2;f=k/2;g-=h;l||(d-=k);l=.5*(g/h+d/f);g=.5*(-g/h+d/f);b&&(l=Math.floor(l),g=Math.floor(g));return e.set(l,g)}},71558:(r,p,a)=>{var m=a(23029),g=a(62991),d=a(72023),b=a(20576);r.exports=function(e,h,c,l,f){void 0===l&&
(l=!0);if(!g(h,c,f))return null;var k=f.data[c][h];k=k&&k.collides;if(e instanceof m)null===f.data[c][h]&&(f.data[c][h]=new m(f,e.index,h,c,f.tileWidth,f.tileHeight)),f.data[c][h].copy(e);else{var n=e;null===f.data[c][h]?f.data[c][h]=new m(f,n,h,c,f.tileWidth,f.tileHeight):f.data[c][h].index=n}var q=f.data[c][h],t=-1!==f.collideIndexes.indexOf(q.index);n=e instanceof m?e.index:e;-1===n?(q.width=f.tileWidth,q.height=f.tileHeight):(e=f.tilemapLayer.tilemap,e=e.tilesets[e.tiles[n][2]],q.width=e.tileWidth,
q.height=e.tileHeight);b(q,t);l&&k!==q.collides&&d(h,c,f);return q}},26303:(r,p,a)=>{var m=a(71558),g=new (a(26099));r.exports=function(d,b,e,h,c,l){l.tilemapLayer.worldToTileXY(b,e,!0,g,c,l);return m(d,g.x,g.y,h,l)}},14051:(r,p,a)=>{var m=a(42573),g=a(71558);r.exports=function(d,b,e,h,c){void 0===h&&(h=!0);if(!Array.isArray(d))return null;Array.isArray(d[0])||(d=[d]);for(var l=d.length,f=d[0].length,k=0;k<l;k++)for(var n=0;n<f;n++)g(d[k][n],b+n,e+k,!1,c);h&&m(b-1,e-1,f+2,l+2,c)}},77389:(r,p,a)=>
{var m=a(7386),g=a(26546);r.exports=function(d,b,e,h,c,l){b=m(d,b,e,h,{},l);if(!c)for(c=[],d=0;d<b.length;d++)-1===c.indexOf(b[d].index)&&c.push(b[d].index);for(d=0;d<b.length;d++)b[d].index=g(c)}},63557:(r,p,a)=>{var m=a(23029),g=a(62991),d=a(72023);r.exports=function(b,e,h,c,l){void 0===h&&(h=!0);void 0===c&&(c=!0);if(!g(b,e,l))return null;var f=l.data[e][b];if(f)l.data[e][b]=h?null:new m(l,-1,b,e,l.tileWidth,l.tileHeight);else return null;c&&f&&f.collides&&d(b,e,l);return f}},94178:(r,p,a)=>{var m=
a(63557),g=new (a(26099));r.exports=function(d,b,e,h,c,l){l.tilemapLayer.worldToTileXY(d,b,!0,g,c,l);return m(g.x,g.y,e,h,l)}},15533:(r,p,a)=>{var m=a(7386);p=a(3956);var g=new p(105,210,231,150),d=new p(243,134,48,200),b=new p(40,39,37,150);r.exports=function(e,h,c){void 0===h&&(h={});var l=void 0!==h.tileColor?h.tileColor:g,f=void 0!==h.collidingTileColor?h.collidingTileColor:d;h=void 0!==h.faceColor?h.faceColor:b;var k=m(0,0,c.width,c.height,null,c);e.translateCanvas(c.tilemapLayer.x,c.tilemapLayer.y);
e.scaleCanvas(c.tilemapLayer.scaleX,c.tilemapLayer.scaleY);for(c=0;c<k.length;c++){var n=k[c],q=n.width,t=n.height,v=n.pixelX,u=n.pixelY,x=n.collides?f:l;null!==x&&(e.fillStyle(x.color,x.alpha/255),e.fillRect(v,u,q,t));v+=1;u+=1;q-=2;t-=2;null!==h&&(e.lineStyle(1,h.color,h.alpha/255),n.faceTop&&e.lineBetween(v,u,v+q,u),n.faceRight&&e.lineBetween(v+q,u,v+q,u+t),n.faceBottom&&e.lineBetween(v,u+t,v+q,u+t),n.faceLeft&&e.lineBetween(v,u,v,u+t))}}},27987:(r,p,a)=>{var m=a(7386);r.exports=function(g,d,b,
e,h,c,l){b=m(b,e,h,c,null,l);for(e=0;e<b.length;e++)b[e]&&b[e].index===g&&(b[e].index=d)}},32483:r=>{r.exports=function(p,a,m,g){var d=p.data,b=p.width,e=p.height;p=p.tilemapLayer;var h=Math.max(0,a.left),c=Math.min(b,a.right),l=Math.max(0,a.top);a=Math.min(e,a.bottom);var f,k;if(0===m)for(f=l;f<a;f++)for(m=h;d[f]&&m<c;m++)(k=d[f][m])&&-1!==k.index&&k.visible&&0!==k.alpha&&g.push(k);else if(1===m)for(f=l;f<a;f++)for(m=c;d[f]&&m>=h;m--)(k=d[f][m])&&-1!==k.index&&k.visible&&0!==k.alpha&&g.push(k);else if(2===
m)for(f=a;f>=l;f--)for(m=h;d[f]&&m<c;m++)(k=d[f][m])&&-1!==k.index&&k.visible&&0!==k.alpha&&g.push(k);else if(3===m)for(f=a;f>=l;f--)for(m=c;d[f]&&m>=h;m--)(k=d[f][m])&&-1!==k.index&&k.visible&&0!==k.alpha&&g.push(k);p.tilesDrawn=g.length;p.tilesTotal=b*e;return g}},57068:(r,p,a)=>{var m=a(20576),g=a(42573),d=a(9589);r.exports=function(b,e,h,c,l){void 0===e&&(e=!0);void 0===h&&(h=!0);void 0===l&&(l=!0);Array.isArray(b)||(b=[b]);for(var f=0;f<b.length;f++)d(b[f],e,c);if(l)for(l=0;l<c.height;l++)for(f=
0;f<c.width;f++){var k=c.data[l][f];k&&-1!==b.indexOf(k.index)&&m(k,e)}h&&g(0,0,c.width,c.height,c)}},37266:(r,p,a)=>{var m=a(20576),g=a(42573),d=a(9589);r.exports=function(b,e,h,c,l,f){void 0===h&&(h=!0);void 0===c&&(c=!0);void 0===f&&(f=!0);if(!(b>e)){for(var k=b;k<=e;k++)d(k,h,l);if(f)for(f=0;f<l.height;f++)for(k=0;k<l.width;k++){var n=l.data[f][k];n&&n.index>=b&&n.index<=e&&m(n,h)}c&&g(0,0,l.width,l.height,l)}}},75661:(r,p,a)=>{var m=a(20576),g=a(42573),d=a(9589);r.exports=function(b,e,h,c){void 0===
e&&(e=!0);void 0===h&&(h=!0);Array.isArray(b)||(b=[b]);for(var l=0;l<c.height;l++)for(var f=0;f<c.width;f++){var k=c.data[l][f];k&&-1===b.indexOf(k.index)&&(m(k,e),d(k.index,e,c))}h&&g(0,0,c.width,c.height,c)}},64740:(r,p,a)=>{var m=a(20576),g=a(42573),d=a(97022);r.exports=function(b,e,h,c){void 0===e&&(e=!0);void 0===h&&(h=!0);for(var l=0;l<c.height;l++)for(var f=0;f<c.width;f++){var k=c.data[l][f];if(k)for(var n in b)if(d(k.properties,n)){var q=b[n];Array.isArray(q)||(q=[q]);for(var t=0;t<q.length;t++)k.properties[n]===
q[t]&&m(k,e)}}h&&g(0,0,c.width,c.height,c)}},63307:(r,p,a)=>{var m=a(20576),g=a(42573);r.exports=function(d,b,e){void 0===d&&(d=!0);void 0===b&&(b=!0);for(var h=0;h<e.height;h++)for(var c=0;c<e.width;c++){var l=e.data[h][c];if(l){var f=l.getCollisionGroup();f&&f.objects&&0<f.objects.length&&m(l,d)}}b&&g(0,0,e.width,e.height,e)}},9589:r=>{r.exports=function(p,a,m){var g=m.collideIndexes.indexOf(p);a&&-1===g?m.collideIndexes.push(p):a||-1===g||m.collideIndexes.splice(g,1)}},20576:r=>{r.exports=function(p,
a){a?p.setCollision(!0,!0,!0,!0,!1):p.resetCollision(!1)}},79583:r=>{r.exports=function(p,a,m,g){if("number"===typeof p)g.callbacks[p]=null!==a?{callback:a,callbackContext:m}:void 0;else for(var d=0,b=p.length;d<b;d++)g.callbacks[p[d]]=null!==a?{callback:a,callbackContext:m}:void 0}},93254:(r,p,a)=>{var m=a(7386);r.exports=function(g,d,b,e,h,c,l){g=m(g,d,b,e,null,l);for(d=0;d<g.length;d++)g[d].setCollisionCallback(h,c)}},32903:(r,p,a)=>{var m=a(7386),g=a(33680);r.exports=function(d,b,e,h,c){d=m(d,
b,e,h,null,c);b=d.map(function(l){return l.index});g(b);for(e=0;e<d.length;e++)d[e].index=b[e]}},61325:(r,p,a)=>{var m=a(63448),g=a(56583);r.exports=function(d,b){var e=d.tilemapLayer.tilemap;d=d.tilemapLayer;var h=Math.floor(e.tileWidth*d.scaleX),c=Math.floor(e.tileHeight*d.scaleY);e=g(b.worldView.x-d.x,h,0,!0)-d.cullPaddingX;h=m(b.worldView.right-d.x,h,0,!0)+d.cullPaddingX;var l=g(b.worldView.y-d.y,c/2,0,!0)-d.cullPaddingY;b=m(b.worldView.bottom-d.y,c/2,0,!0)+d.cullPaddingY;return{left:e,right:h,
top:l,bottom:b}}},54503:(r,p,a)=>{var m=a(61325),g=a(32483);r.exports=function(d,b,e,h){void 0===e&&(e=[]);void 0===h&&(h=0);e.length=0;var c=d.tilemapLayer;b=m(d,b);c.skipCull&&1===c.scrollFactorX&&1===c.scrollFactorY&&(b.left=0,b.right=d.width,b.top=0,b.bottom=d.height);g(d,b,h,e);return e}},97202:(r,p,a)=>{var m=a(26099);r.exports=function(g,d,b,e,h){b||(b=new m);var c=h.baseTileWidth,l=h.baseTileHeight;h=h.tilemapLayer;var f=0,k=0;h&&(e||(e=h.scene.cameras.main),f=h.x+e.scrollX*(1-h.scrollFactorX),
c*=h.scaleX,k=h.y+e.scrollY*(1-h.scrollFactorY),l*=h.scaleY);return b.set(f+g*c+d%2*(c/2),k+l/2*d)}},28054:r=>{r.exports=function(p,a,m){var g=m.baseTileHeight;m=m.tilemapLayer;var d=0;m&&(void 0===a&&(a=m.scene.cameras.main),d=m.y+a.scrollY*(1-m.scrollFactorY),g*=m.scaleY);return d+g/2*p+g}},15108:(r,p,a)=>{var m=a(26099);r.exports=function(g,d,b,e,h,c){e||(e=new m);var l=c.baseTileWidth,f=c.baseTileHeight;if(c=c.tilemapLayer)h||(h=c.scene.cameras.main),d-=c.y+h.scrollY*(1-c.scrollFactorY),f*=c.scaleY,
g-=c.x+h.scrollX*(1-c.scrollFactorX),l*=c.scaleX;d=b?Math.floor(d/(f/2)):d/(f/2);return e.set(b?Math.floor((g+d%2*.5*l)/l):(g+d%2*.5*l)/l,d)}},51900:r=>{r.exports=function(p,a,m,g){var d=g.baseTileHeight;if(g=g.tilemapLayer)m||(m=g.scene.cameras.main),p-=g.y+m.scrollY*(1-g.scrollFactorY),d*=g.scaleY;return a?Math.floor(p/(d/2)):p/(d/2)}},86560:(r,p,a)=>{var m=a(7386);r.exports=function(g,d,b,e,h,c,l){b=m(b,e,h,c,null,l);for(e=0;e<b.length;e++)b[e]&&(b[e].index===g?b[e].index=d:b[e].index===d&&(b[e].index=
g))}},97281:r=>{r.exports=function(p,a,m){var g=m.baseTileWidth;m=m.tilemapLayer;var d=0;m&&(a||(a=m.scene.cameras.main),d=m.x+a.scrollX*(1-m.scrollFactorX),g*=m.scaleX);return d+p*g}},70326:(r,p,a)=>{var m=a(97281),g=a(29650),d=a(26099);r.exports=function(b,e,h,c,l){h||(h=new d(0,0));h.x=m(b,c,l);h.y=g(e,c,l);return h}},29650:r=>{r.exports=function(p,a,m){var g=m.baseTileHeight;m=m.tilemapLayer;var d=0;m&&(a||(a=m.scene.cameras.main),d=m.y+a.scrollY*(1-m.scrollFactorY),g*=m.scaleY);return d+p*g}},
77366:(r,p,a)=>{var m=a(7386),g=a(75508);r.exports=function(d,b,e,h,c,l){if(c){b=m(d,b,e,h,null,l);for(d=e=0;d<c.length;d++)e+=c[d].weight;if(!(0>=e))for(d=0;d<b.length;d++){h=g.RND.frac()*e;l=0;for(var f=-1,k=0;k<c.length;k++)if(l+=c[k].weight,h<=l){h=c[k].index;f=Array.isArray(h)?h[Math.floor(g.RND.frac()*h.length)]:h;break}b[d].index=f}}}},10095:(r,p,a)=>{var m=a(85896),g=new (a(26099));r.exports=function(d,b,e,h){m(d,0,b,g,e,h);return g.x}},85896:(r,p,a)=>{var m=a(26099);r.exports=function(g,
d,b,e,h,c){void 0===b&&(b=!0);e||(e=new m);var l=c.baseTileWidth,f=c.baseTileHeight;if(c=c.tilemapLayer)h||(h=c.scene.cameras.main),g-=c.x+h.scrollX*(1-c.scrollFactorX),d-=c.y+h.scrollY*(1-c.scrollFactorY),l*=c.scaleX,f*=c.scaleY;g/=l;d/=f;b&&(g=Math.floor(g),d=Math.floor(d));return e.set(g,d)}},63288:(r,p,a)=>{var m=a(85896),g=new (a(26099));r.exports=function(d,b,e,h){m(0,d,b,g,e,h);return g.y}},81086:(r,p,a)=>{r.exports={CalculateFacesAt:a(72023),CalculateFacesWithin:a(42573),CheckIsoBounds:a(33528),
Copy:a(1785),CreateFromTiles:a(78419),CullBounds:a(19545),CullTiles:a(30003),Fill:a(35137),FilterTiles:a(40253),FindByIndex:a(52692),FindTile:a(66151),ForEachTile:a(97560),GetCullTilesFunction:a(43305),GetTileAt:a(7423),GetTileAtWorldXY:a(60540),GetTileCorners:a(55826),GetTileCornersFunction:a(11758),GetTilesWithin:a(7386),GetTilesWithinShape:a(91141),GetTilesWithinWorldXY:a(96523),GetTileToWorldXFunction:a(39167),GetTileToWorldXYFunction:a(62E3),GetTileToWorldYFunction:a(5984),GetWorldToTileXFunction:a(96113),
GetWorldToTileXYFunction:a(16926),GetWorldToTileYFunction:a(55762),HasTileAt:a(45091),HasTileAtWorldXY:a(24152),HexagonalCullBounds:a(90454),HexagonalCullTiles:a(9474),HexagonalGetTileCorners:a(27229),HexagonalTileToWorldXY:a(19951),HexagonalWorldToTileXY:a(86625),IsInLayerBounds:a(62991),IsometricCullTiles:a(14018),IsometricTileToWorldXY:a(14127),IsometricWorldToTileXY:a(96897),PutTileAt:a(71558),PutTileAtWorldXY:a(26303),PutTilesAt:a(14051),Randomize:a(77389),RemoveTileAt:a(63557),RemoveTileAtWorldXY:a(94178),
RenderDebug:a(15533),ReplaceByIndex:a(27987),RunCull:a(32483),SetCollision:a(57068),SetCollisionBetween:a(37266),SetCollisionByExclusion:a(75661),SetCollisionByProperty:a(64740),SetCollisionFromCollisionGroup:a(63307),SetLayerCollisionIndex:a(9589),SetTileCollision:a(20576),SetTileIndexCallback:a(79583),SetTileLocationCallback:a(93254),Shuffle:a(32903),StaggeredCullBounds:a(61325),StaggeredCullTiles:a(54503),StaggeredTileToWorldXY:a(97202),StaggeredTileToWorldY:a(28054),StaggeredWorldToTileXY:a(15108),
StaggeredWorldToTileY:a(51900),SwapByIndex:a(86560),TileToWorldX:a(97281),TileToWorldXY:a(70326),TileToWorldY:a(29650),WeightedRandomize:a(77366),WorldToTileX:a(10095),WorldToTileXY:a(85896),WorldToTileY:a(63288)}},91907:r=>{r.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(r,p,a)=>{p={ORIENTATION:a(91907)};r.exports=p},62501:(r,p,a)=>{p=a(79291);var m=a(21829);a={Components:a(81086),Parsers:a(57442),Formats:a(80341),ImageCollection:a(16536),ParseToTilemap:a(31989),Tile:a(23029),
Tilemap:a(49075),TilemapCreator:a(45939),TilemapFactory:a(46029),Tileset:a(33629),TilemapLayer:a(20442),Orientation:a(91907),LayerData:a(14977),MapData:a(87010),ObjectLayer:a(48700)};a=p(!1,a,m.ORIENTATION);r.exports=a},14977:(r,p,a)=>{p=a(83419);var m=a(91907),g=a(95540);a=new p({initialize:function(d){void 0===d&&(d={});this.name=g(d,"name","layer");this.id=g(d,"id",0);this.x=g(d,"x",0);this.y=g(d,"y",0);this.width=g(d,"width",0);this.height=g(d,"height",0);this.tileWidth=g(d,"tileWidth",0);this.tileHeight=
g(d,"tileHeight",0);this.baseTileWidth=g(d,"baseTileWidth",this.tileWidth);this.baseTileHeight=g(d,"baseTileHeight",this.tileHeight);this.orientation=g(d,"orientation",m.ORTHOGONAL);this.widthInPixels=g(d,"widthInPixels",this.width*this.baseTileWidth);this.heightInPixels=g(d,"heightInPixels",this.height*this.baseTileHeight);this.alpha=g(d,"alpha",1);this.visible=g(d,"visible",!0);this.properties=g(d,"properties",[]);this.indexes=g(d,"indexes",[]);this.collideIndexes=g(d,"collideIndexes",[]);this.callbacks=
g(d,"callbacks",[]);this.bodies=g(d,"bodies",[]);this.data=g(d,"data",[]);this.tilemapLayer=g(d,"tilemapLayer",null);this.hexSideLength=g(d,"hexSideLength",0);this.staggerAxis=g(d,"staggerAxis","y");this.staggerIndex=g(d,"staggerIndex","odd")}});r.exports=a},87010:(r,p,a)=>{p=a(83419);var m=a(91907),g=a(95540);a=new p({initialize:function(d){void 0===d&&(d={});this.name=g(d,"name","map");this.width=g(d,"width",0);this.height=g(d,"height",0);this.infinite=g(d,"infinite",!1);this.tileWidth=g(d,"tileWidth",
0);this.tileHeight=g(d,"tileHeight",0);this.widthInPixels=g(d,"widthInPixels",this.width*this.tileWidth);this.heightInPixels=g(d,"heightInPixels",this.height*this.tileHeight);this.format=g(d,"format",null);this.orientation=g(d,"orientation",m.ORTHOGONAL);this.renderOrder=g(d,"renderOrder","right-down");this.version=g(d,"version","1");this.properties=g(d,"properties",{});this.layers=g(d,"layers",[]);this.images=g(d,"images",[]);this.objects=g(d,"objects",[]);Array.isArray(this.objects)||(this.objects=
[]);this.collision=g(d,"collision",{});this.tilesets=g(d,"tilesets",[]);this.imageCollections=g(d,"imageCollections",[]);this.tiles=g(d,"tiles",[]);this.hexSideLength=g(d,"hexSideLength",0);this.staggerAxis=g(d,"staggerAxis","y");this.staggerIndex=g(d,"staggerIndex","odd")}});r.exports=a},48700:(r,p,a)=>{p=a(83419);var m=a(95540);a=new p({initialize:function(g){void 0===g&&(g={});this.name=m(g,"name","object layer");this.id=m(g,"id",0);this.opacity=m(g,"opacity",1);this.properties=m(g,"properties",
{});this.propertyTypes=m(g,"propertytypes",{});this.type=m(g,"type","objectgroup");this.visible=m(g,"visible",!0);this.objects=m(g,"objects",[]);Array.isArray(this.objects)||(this.objects=[])}});r.exports=a},6641:(r,p,a)=>{var m=a(91907);r.exports=function(g){g=g.toLowerCase();return"isometric"===g?m.ISOMETRIC:"staggered"===g?m.STAGGERED:"hexagonal"===g?m.HEXAGONAL:m.ORTHOGONAL}},46177:(r,p,a)=>{var m=a(80341),g=a(2342),d=a(82593),b=a(46594),e=a(87021);r.exports=function(h,c,l,f,k,n){switch(c){case m.ARRAY_2D:h=
g(h,l,f,k,n);break;case m.CSV:h=d(h,l,f,k,n);break;case m.TILED_JSON:h=b(h,l,n);break;case m.WELTMEISTER:h=e(h,l,n);break;default:console.warn("Unrecognized tilemap data format: "+c),h=null}return h}},2342:(r,p,a)=>{var m=a(80341),g=a(14977),d=a(87010),b=a(23029);r.exports=function(e,h,c,l,f){var k=new g({tileWidth:c,tileHeight:l});e=new d({name:e,tileWidth:c,tileHeight:l,format:m.ARRAY_2D,layers:[k]});for(var n=[],q=h.length,t=0,v=0;v<h.length;v++){n[v]=[];for(var u=h[v],x=0;x<u.length;x++){var w=
parseInt(u[x],10);isNaN(w)||-1===w?n[v][x]=f?null:new b(k,-1,x,v,c,l):n[v][x]=new b(k,w,x,v,c,l)}0===t&&(t=u.length)}e.width=k.width=t;e.height=k.height=q;e.widthInPixels=k.widthInPixels=t*c;e.heightInPixels=k.heightInPixels=q*l;k.data=n;return e}},82593:(r,p,a)=>{var m=a(80341),g=a(2342);r.exports=function(d,b,e,h,c){b=b.trim().split("\n").map(function(l){return l.split(",")});d=g(d,b,e,h,c);d.format=m.CSV;return d}},6656:(r,p,a)=>{var m=a(14977),g=a(23029);r.exports=function(d,b){for(var e=[],h=
0;h<d.layer.length;h++){for(var c=d.layer[h],l=new m({name:c.name,width:c.width,height:c.height,tileWidth:c.tilesize,tileHeight:c.tilesize,visible:1===c.visible}),f=[],k=[],n=0;n<c.data.length;n++){for(var q=0;q<c.data[n].length;q++){var t=c.data[n][q]-1;t=-1<t?new g(l,t,q,n,c.tilesize,c.tilesize):b?null:new g(l,-1,q,n,c.tilesize,c.tilesize);f.push(t)}k.push(f);f=[]}l.data=k;e.push(l)}return e}},96483:(r,p,a)=>{var m=a(33629);r.exports=function(g){for(var d=[],b=[],e=0;e<g.layer.length;e++){var h=
g.layer[e],c=h.tilesetName;""!==c&&-1===b.indexOf(c)&&(b.push(c),d.push(new m(c,0,h.tilesize,h.tilesize,0,0)))}return d}},87021:(r,p,a)=>{var m=a(80341),g=a(87010),d=a(6656),b=a(96483);r.exports=function(e,h,c){if(0===h.layer.length)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var l=0,f=0,k=0;k<h.layer.length;k++)h.layer[k].width>l&&(l=h.layer[k].width),h.layer[k].height>f&&(f=h.layer[k].height);e=new g({width:l,height:f,name:e,tileWidth:h.layer[0].tilesize,tileHeight:h.layer[0].tilesize,
format:m.WELTMEISTER});e.layers=d(h,c);e.tilesets=b(h);return e}},52833:(r,p,a)=>{r.exports={ParseTileLayers:a(6656),ParseTilesets:a(96483),ParseWeltmeister:a(87021)}},57442:(r,p,a)=>{r.exports={FromOrientationString:a(6641),Parse:a(46177),Parse2DArray:a(2342),ParseCSV:a(82593),Impact:a(52833),Tiled:a(96761)}},51233:(r,p,a)=>{var m=a(79291);r.exports=function(g){for(var d,b,e,h,c=0;c<g.layers.length;c++){d=g.layers[c];for(var l=0;l<d.data.length;l++){h=d.data[l];for(var f=0;f<h.length;f++)b=h[f],
null===b||0>b.index||(e=g.tiles[b.index][2],e=g.tilesets[e],b.width=e.tileWidth,b.height=e.tileHeight,e.tileProperties&&e.tileProperties[b.index-e.firstgid]&&(b.properties=m(b.properties,e.tileProperties[b.index-e.firstgid])))}}}},41868:r=>{r.exports=function(p){p=window.atob(p);for(var a=p.length,m=Array(a/4),g=0;g<a;g+=4)m[g/4]=(p.charCodeAt(g)|p.charCodeAt(g+1)<<8|p.charCodeAt(g+2)<<16|p.charCodeAt(g+3)<<24)>>>0;return m}},84101:(r,p,a)=>{var m=a(33629);r.exports=function(g){var d,b=[];for(d=0;d<
g.imageCollections.length;d++)for(var e=g.imageCollections[d],h=e.images,c=0;c<h.length;c++){var l=h[c];l=new m(l.image,l.gid,e.imageWidth,e.imageHeight,0,0);l.updateTileData(e.imageWidth,e.imageHeight);g.tilesets.push(l)}for(d=0;d<g.tilesets.length;d++){l=g.tilesets[d];h=e=l.tileMargin;for(var f=c=0,k=0,n=l.firstgid;n<l.firstgid+l.total;n++){b[n]=[e,h,d];e+=l.tileWidth+l.tileSpacing;c++;if(c===l.total)break;f++;if(f===l.columns&&(e=l.tileMargin,h+=l.tileHeight+l.tileSpacing,f=0,k++,k===l.rows))break}}return b}},
79677:(r,p,a)=>{var m=a(95540);r.exports=function(g,d,b){if(!d)return{i:0,layers:g.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=d.x+m(d,"startx",0)*g.tilewidth+m(d,"offsetx",0);g=d.y+m(d,"starty",0)*g.tileheight+m(d,"offsety",0);return{i:0,layers:d.layers,name:b.name+d.name+"/",opacity:b.opacity*d.opacity,visible:b.visible&&d.visible,x:b.x+e,y:b.y+g}}},29920:r=>{r.exports=function(p){var a=!!(p&2147483648),m=!!(p&1073741824),g=!!(p&536870912),d=0,b=!1;a&&m&&g?(d=Math.PI/2,b=!0):a&&m&&!g?(d=
Math.PI,b=!1):a&&!m&&g?(d=Math.PI/2,b=!1):!a||m||g?!a&&m&&g?(d=3*Math.PI/2,b=!1):a||!m||g?a||m||!g?a||m||g||(d=0,b=!1):(d=3*Math.PI/2,b=!0):(d=Math.PI,b=!0):(d=0,b=!0);return{gid:p&536870911,flippedHorizontal:a,flippedVertical:m,flippedAntiDiagonal:g,rotation:d,flipped:b}}},12635:(r,p,a)=>{var m=a(95540),g=a(79677);r.exports=function(d){for(var b=[],e=[],h=g(d);h.i<h.layers.length||0<e.length;)if(h.i>=h.layers.length){if(1>e.length){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");
break}h=e.pop()}else{var c=h.layers[h.i];h.i++;if("imagelayer"!==c.type)"group"===c.type&&(c=g(d,c,h),e.push(h),h=c);else{var l=m(c,"offsetx",0)+m(c,"startx",0),f=m(c,"offsety",0)+m(c,"starty",0);b.push({name:h.name+c.name,image:c.image,x:h.x+l+c.x,y:h.y+f+c.y,alpha:h.opacity*c.opacity,visible:h.visible&&c.visible,properties:m(c,"properties",{})})}}return b}},46594:(r,p,a)=>{var m=a(51233),g=a(84101),d=a(91907),b=a(62644),e=a(80341),h=a(6641),c=a(87010),l=a(12635),f=a(22611),k=a(28200),n=a(24619);
r.exports=function(q,t,v){t=b(t);q=new c({width:t.width,height:t.height,name:q,tileWidth:t.tilewidth,tileHeight:t.tileheight,orientation:h(t.orientation),format:e.TILED_JSON,version:t.version,properties:t.properties,renderOrder:t.renderorder,infinite:t.infinite});q.orientation===d.HEXAGONAL&&(q.hexSideLength=t.hexsidelength,q.staggerAxis=t.staggeraxis,q.staggerIndex=t.staggerindex);q.layers=k(t,v);q.images=l(t);v=n(t);q.tilesets=v.tilesets;q.imageCollections=v.imageCollections;q.objects=f(t);q.tiles=
g(q);m(q);return q}},52205:(r,p,a)=>{var m=a(18254),g=a(29920),d=function(e){return{x:e.x,y:e.y}},b="id name type rotation properties visible x y width height".split(" ");r.exports=function(e,h,c){void 0===h&&(h=0);void 0===c&&(c=0);var l=m(e,b);l.x+=h;l.y+=c;e.gid?(e=g(e.gid),l.gid=e.gid,l.flippedHorizontal=e.flippedHorizontal,l.flippedVertical=e.flippedVertical,l.flippedAntiDiagonal=e.flippedAntiDiagonal):e.polyline?l.polyline=e.polyline.map(d):e.polygon?l.polygon=e.polygon.map(d):e.ellipse?l.ellipse=
e.ellipse:e.text?l.text=e.text:e.point?l.point=!0:l.rectangle=!0;return l}},22611:(r,p,a)=>{var m=a(95540),g=a(52205),d=a(48700),b=a(79677);r.exports=function(e){for(var h=[],c=[],l=b(e);l.i<l.layers.length||0<c.length;)if(l.i>=l.layers.length){if(1>c.length){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=c.pop()}else{var f=l.layers[l.i];l.i++;f.opacity*=l.opacity;f.visible=l.visible&&f.visible;if("objectgroup"!==f.type){if("group"===f.type){var k=b(e,f,l);c.push(l);
l=k}}else{f.name=l.name+f.name;var n=l.x+m(f,"startx",0)+m(f,"offsetx",0),q=l.y+m(f,"starty",0)+m(f,"offsety",0);k=[];for(var t=0;t<f.objects.length;t++){var v=g(f.objects[t],n,q);k.push(v)}f=new d(f);f.objects=k;h.push(f)}}return h}},28200:(r,p,a)=>{var m=a(41868),g=a(91907),d=a(79677),b=a(6641),e=a(95540),h=a(14977),c=a(29920),l=a(23029);r.exports=function(f,k){for(var n=e(f,"infinite",!1),q=[],t=[],v=d(f);v.i<v.layers.length||0<t.length;)if(v.i>=v.layers.length){if(1>t.length){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");
break}v=t.pop()}else{var u=v.layers[v.i];v.i++;if("tilelayer"!==u.type)"group"===u.type&&(u=d(f,u,v),t.push(v),v=u);else if(u.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+u.name+"'");else{if(u.encoding&&"base64"===u.encoding){if(u.chunks)for(var x=0;x<u.chunks.length;x++)u.chunks[x].data=m(u.chunks[x].data);u.data&&(u.data=m(u.data));delete u.encoding}var w=[],y=0;if(n){var z=e(u,"startx",0)+u.x,C=e(u,"starty",0)+u.y;x=new h({name:v.name+
u.name,id:u.id,x:v.x+e(u,"offsetx",0)+z*f.tilewidth,y:v.y+e(u,"offsety",0)+C*f.tileheight,width:u.width,height:u.height,tileWidth:f.tilewidth,tileHeight:f.tileheight,alpha:v.opacity*u.opacity,visible:v.visible&&u.visible,properties:e(u,"properties",[]),orientation:b(f.orientation)});x.orientation===g.HEXAGONAL&&(x.hexSideLength=f.hexsidelength,x.staggerAxis=f.staggeraxis,x.staggerIndex=f.staggerindex);for(var A=0;A<u.height;A++){w[A]=[null];for(var B=0;B<u.width;B++)w[A][B]=null}A=0;for(B=u.chunks.length;A<
B;A++)for(var E=u.chunks[A],G=E.x-z,I=E.y-C,H=0,K=0,L=E.data.length;K<L;K++){var M=y+G,P=H+I;var D=c(E.data[K]);if(0<D.gid){var F=new l(x,D.gid,M,P,f.tilewidth,f.tileheight);F.rotation=D.rotation;F.flipX=D.flipped;w[P][M]=F}else D=k?null:new l(x,-1,M,P,f.tilewidth,f.tileheight),w[P][M]=D;y++;y===E.width&&(H++,y=0)}}else for(x=new h({name:v.name+u.name,id:u.id,x:v.x+e(u,"offsetx",0)+u.x,y:v.y+e(u,"offsety",0)+u.y,width:u.width,height:u.height,tileWidth:f.tilewidth,tileHeight:f.tileheight,alpha:v.opacity*
u.opacity,visible:v.visible&&u.visible,properties:e(u,"properties",[]),orientation:b(f.orientation)}),x.orientation===g.HEXAGONAL&&(x.hexSideLength=f.hexsidelength,x.staggerAxis=f.staggeraxis,x.staggerIndex=f.staggerindex),z=[],C=0,B=u.data.length;C<B;C++)D=c(u.data[C]),0<D.gid?(F=new l(x,D.gid,y,w.length,f.tilewidth,f.tileheight),F.rotation=D.rotation,F.flipX=D.flipped,z.push(F)):(D=k?null:new l(x,-1,y,w.length,f.tilewidth,f.tileheight),z.push(D)),y++,y===u.width&&(w.push(z),y=0,z=[]);x.data=w;q.push(x)}}return q}},
24619:(r,p,a)=>{var m=a(33629),g=a(16536),d=a(52205),b=a(57880);r.exports=function(e){for(var h=[],c=[],l=null,f,k=0;k<e.tilesets.length;k++){var n=e.tilesets[k];if(n.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(n.image){var q=new m(n.name,n.firstgid,n.tilewidth,n.tileheight,n.margin,n.spacing,void 0,void 0,n.tileoffset);if(1<e.version){var t=void 0,v=void 0;if(Array.isArray(n.tiles)){t=t||{};v=v||{};for(var u=0;u<n.tiles.length;u++){var x=n.tiles[u];
if(x.properties){var w={};x.properties.forEach(function(z){w[z.name]=z.value});v[x.id]=w}if(x.objectgroup&&((t[x.id]||(t[x.id]={})).objectgroup=x.objectgroup,x.objectgroup.objects)){var y=x.objectgroup.objects.map(function(z){return d(z)});t[x.id].objectgroup.objects=y}x.animation&&((t[x.id]||(t[x.id]={})).animation=x.animation);x.type&&((t[x.id]||(t[x.id]={})).type=x.type)}}Array.isArray(n.wangsets)&&(t=t||{},v=v||{},b(n.wangsets,t));t&&(q.tileData=t,q.tileProperties=v)}else if(n.tileproperties&&
(q.tileProperties=n.tileproperties),n.tiles)for(f in q.tileData=n.tiles,q.tileData)(u=q.tileData[f].objectgroup)&&u.objects&&(u=u.objects.map(function(z){return d(z)}),q.tileData[f].objectgroup.objects=u);q.updateTileData(n.imagewidth,n.imageheight);h.push(q)}else{q=new g(n.name,n.firstgid,n.tilewidth,n.tileheight,n.margin,n.spacing,n.properties);for(u=t=0;u<n.tiles.length;u++)x=n.tiles[u],v=x.image,x=parseInt(x.id,10),q.addImage(n.firstgid+x,v),t=Math.max(x,t);q.maxId=t;c.push(q)}l&&(l.lastgid=n.firstgid-
1);l=n}return{tilesets:h,imageCollections:c}}},57880:r=>{r.exports=function(p,a){for(var m=0;m<p.length;m++){var g=p[m],d=m;g.name&&""!==g.name&&(d=g.name);if(Array.isArray(g.wangtiles)&&0<g.wangtiles.length){var b={},e={},h;if(Array.isArray(g.edgecolors))for(h=0;h<g.edgecolors.length;h++){var c=1+h;var l=g.edgecolors[h];""!==l.name&&(b[c]=l.name)}if(Array.isArray(g.cornercolors))for(h=0;h<g.cornercolors.length;h++)c=1+h,l=g.cornercolors[h],""!==l.name&&(e[c]=l.name);if(Array.isArray(g.colors))for(h=
0;h<g.colors.length;h++)l=g.colors[h],c=1+h,""!==l.name&&(b[c]=e[c]=l.name);b=[b,e,b,e,b,e,b,e];for(e=0;e<g.wangtiles.length;e++){h=g.wangtiles[e];c=a[h.tileid]||(a[h.tileid]={});c=c.wangid||(c.wangid={});for(var f=[],k=0;k<Math.min(b.length,h.wangid.length);k++)if(l=h.wangid[k],0===l)f.push(void 0);else{var n=b[k][l];void 0!==n?f.push(n):f.push(l)}c[d]=f}}}}},96761:(r,p,a)=>{r.exports={AssignTileProperties:a(51233),Base64Decode:a(41868),BuildTilesetIndex:a(84101),CreateGroupLayer:a(79677),ParseGID:a(29920),
ParseImageLayers:a(12635),ParseJSONTiled:a(46594),ParseObject:a(52205),ParseObjectLayers:a(22611),ParseTileLayers:a(28200),ParseTilesets:a(24619)}},33385:(r,p,a)=>{var m=a(83419);p=a(37277);var g=a(44594),d=a(94880),b=a(72905);a=new m({initialize:function(e){this.scene=e;this.systems=e.sys;this.startTime=this.now=0;this.timeScale=1;this.paused=!1;this._active=[];this._pendingInsertion=[];this._pendingRemoval=[];e.sys.events.once(g.BOOT,this.boot,this);e.sys.events.on(g.START,this.start,this)},boot:function(){this.now=
this.systems.game.loop.time;this.systems.events.once(g.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var e=this.systems.events;e.on(g.PRE_UPDATE,this.preUpdate,this);e.on(g.UPDATE,this.update,this);e.once(g.SHUTDOWN,this.shutdown,this)},addEvent:function(e){e instanceof d?(this.removeEvent(e),e.elapsed=e.startAt,e.hasDispatched=!1,e.repeatCount=-1===e.repeat||e.loop?999999999999:e.repeat):e=new d(e);this._pendingInsertion.push(e);return e},delayedCall:function(e,
h,c,l){return this.addEvent({delay:e,callback:h,args:c,callbackScope:l})},clearPendingEvents:function(){this._pendingInsertion=[];return this},removeEvent:function(e){Array.isArray(e)||(e=[e]);for(var h=0;h<e.length;h++){var c=e[h];b(this._pendingRemoval,c);b(this._pendingInsertion,c);b(this._active,c)}return this},removeAllEvents:function(){this._pendingRemoval=this._pendingRemoval.concat(this._active);return this},preUpdate:function(){var e=this._pendingRemoval.length,h=this._pendingInsertion.length;
if(0!==e||0!==h){var c;for(c=0;c<e;c++){var l=this._pendingRemoval[c];var f=this._active.indexOf(l);-1<f&&this._active.splice(f,1);l.destroy()}for(c=0;c<h;c++)l=this._pendingInsertion[c],this._active.push(l);this._pendingRemoval.length=0;this._pendingInsertion.length=0}},update:function(e,h){this.now=e;if(!this.paused)for(h*=this.timeScale,e=0;e<this._active.length;e++){var c=this._active[e];if(!c.paused&&(c.elapsed+=h*c.timeScale,c.elapsed>=c.delay)){var l=c.elapsed-c.delay;c.elapsed=c.delay;!c.hasDispatched&&
c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args));if(0<c.repeatCount){c.repeatCount--;if(l>=c.delay)for(;l>=c.delay&&0<c.repeatCount;)c.callback&&c.callback.apply(c.callbackScope,c.args),l-=c.delay,c.repeatCount--;c.elapsed=l;c.hasDispatched=!1}else c.hasDispatched&&this._pendingRemoval.push(c)}}},shutdown:function(){var e;for(e=0;e<this._pendingInsertion.length;e++)this._pendingInsertion[e].destroy();for(e=0;e<this._active.length;e++)this._active[e].destroy();for(e=0;e<this._pendingRemoval.length;e++)this._pendingRemoval[e].destroy();
this._active.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;e=this.systems.events;e.off(g.PRE_UPDATE,this.preUpdate,this);e.off(g.UPDATE,this.update,this);e.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.scene.sys.events.off(g.START,this.start,this);this.systems=this.scene=null}});p.register("Clock",a,"time");r.exports=a},96120:(r,p,a)=>{p=a(83419);var m=a(50792),g=a(39429),d=a(95540),b=a(44594),e=a(89809),h=new p({Extends:m,initialize:function(c,
l){m.call(this);this.scene=c;this.systems=c.sys;this.elapsed=0;this.paused=!0;this.complete=!1;this.iteration=this.loop=this.totalComplete=0;this.events=[];c=this.systems.events;c.on(b.PRE_UPDATE,this.preUpdate,this);c.on(b.UPDATE,this.update,this);c.once(b.SHUTDOWN,this.destroy,this);l&&this.add(l)},preUpdate:function(c,l){this.paused||(this.elapsed+=l)},update:function(){if(!this.paused&&!this.complete){var c,l=this.events,f=!1,k=this.systems;for(c=0;c<l.length;c++){var n=l[c];if(!n.complete&&n.time<=
this.elapsed){n.complete=!0;this.totalComplete++;var q=n.target?n.target:this;if(!n.if||n.if.call(q,n)){n.once&&(f=!0);if(n.set&&n.target)for(var t in n.set)n.target[t]=n.set[t];this.iteration&&n.repeat++;n.loop&&n.repeat&&n.loop.call(q);n.tween&&k.tweens.add(n.tween);n.sound&&("string"===typeof n.sound?k.sound.play(n.sound):k.sound.play(n.sound.key,n.sound.config));n.event&&this.emit(n.event,q);n.run&&n.run.call(q);n.stop&&this.stop()}}}if(f)for(c=0;c<l.length;c++)l[c].complete&&l[c].once&&(l.splice(c,
1),c--);this.totalComplete>=l.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0);this.complete&&this.emit(e.COMPLETE,this)}},play:function(c){void 0===c&&(c=!0);this.complete=this.paused=!1;this.totalComplete=0;c&&this.reset();return this},pause:function(){this.paused=!0;return this},repeat:function(c){if(void 0===c||!0===c)c=-1;!1===c&&(c=0);this.loop=c;return this},resume:function(){this.paused=!1;return this},stop:function(){this.complete=
this.paused=!0;return this},reset:function(c){void 0===c&&(c=!1);this.elapsed=0;c||(this.iteration=0);for(var l=0;l<this.events.length;l++)this.events[l].complete=!1,c||(this.events[l].repeat=0);return this.play(!1)},add:function(c){Array.isArray(c)||(c=[c]);var l=this.events,f=0;0<l.length&&(f=l[l.length-1].time);for(var k=0;k<c.length;k++){var n=c[k],q=d(n,"at",0),t=d(n,"in",null);null!==t&&(q=this.elapsed+t);t=d(n,"from",null);null!==t&&(q=f+t);l.push({complete:!1,time:q,repeat:0,if:d(n,"if",null),
run:d(n,"run",null),loop:d(n,"loop",null),event:d(n,"event",null),target:d(n,"target",null),set:d(n,"set",null),tween:d(n,"tween",null),sound:d(n,"sound",null),once:d(n,"once",!1),stop:d(n,"stop",!1)});f=q}this.complete=!1;return this},clear:function(){this.events=[];this.elapsed=0;this.paused=!0;return this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var c=this.systems.events;
c.off(b.PRE_UPDATE,this.preUpdate,this);c.off(b.UPDATE,this.update,this);c.off(b.SHUTDOWN,this.destroy,this);this.systems=this.scene=null;this.events=[]}});g.register("timeline",function(c){return new h(this.scene,c)});r.exports=h},94880:(r,p,a)=>{p=a(83419);var m=a(95540);a=new p({initialize:function(g){this.repeatCount=this.repeat=this.delay=0;this.loop=!1;this.timeScale=1;this.elapsed=this.startAt=0;this.hasDispatched=this.paused=!1;this.reset(g)},reset:function(g){this.delay=m(g,"delay",0);this.repeat=
m(g,"repeat",0);this.loop=m(g,"loop",!1);this.callback=m(g,"callback",void 0);this.callbackScope=m(g,"callbackScope",this);this.args=m(g,"args",[]);this.timeScale=m(g,"timeScale",1);this.startAt=m(g,"startAt",0);this.paused=m(g,"paused",!1);this.elapsed=this.startAt;this.hasDispatched=!1;this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat;if(0===this.delay&&(0<this.repeat||this.loop))throw Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/
this.delay},getOverallProgress:function(){return 0<this.repeat?(this.elapsed+this.delay*(this.repeat-this.repeatCount))/(this.delay+this.delay*this.repeat):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-
this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(g){void 0===g&&(g=!1);this.elapsed=this.delay;this.hasDispatched=!g;this.repeatCount=0},destroy:function(){this.callbackScope=this.callback=void 0;this.args=[]}});r.exports=a},35945:r=>{r.exports="complete"},89809:(r,p,a)=>{r.exports={COMPLETE:a(35945)}},90291:(r,p,a)=>{r.exports={Clock:a(33385),Events:a(89809),Timeline:a(96120),TimerEvent:a(94880)}},40382:(r,p,a)=>{var m=a(72905),g=a(83419),
d=a(43491),b=a(88032);p=a(37277);var e=a(44594),h=a(93109),c=a(86081),l=a(8357),f=a(43960),k=a(26012);a=new g({initialize:function(n){this.scene=n;this.events=n.sys.events;this.timeScale=1;this.processing=this.paused=!1;this.tweens=[];this.prevTime=this.nextTime=this.startTime=this.time=0;this.maxLag=500;this.lagSkip=33;this.gap=1E3/240;this.events.once(e.BOOT,this.boot,this);this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=
1;this.paused=!1;this.prevTime=this.startTime=Date.now();this.nextTime=this.gap;this.events.on(e.UPDATE,this.update,this);this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(n){Array.isArray(n)||(n=[n]);for(var q=[],t=0;t<n.length;t++){var v=n[t];v instanceof c||v instanceof f?q.push(v):Array.isArray(v.tweens)?q.push(k(this,v)):q.push(l(this,v))}return 1===q.length?q[0]:q},add:function(n){var q=this.tweens;n instanceof c||n instanceof f||(n=Array.isArray(n.tweens)?k(this,n):l(this,n));
q.push(n.reset());return n},addMultiple:function(n){for(var q,t=[],v=this.tweens,u=0;u<n.length;u++)q=n[u],q instanceof c||q instanceof f||(q=Array.isArray(q.tweens)?k(this,q):l(this,q)),v.push(q.reset()),t.push(q);return t},chain:function(n){n=k(this,n);this.tweens.push(n.init());return n},getChainedTweens:function(n){return n.getChainedTweens()},has:function(n){return-1<this.tweens.indexOf(n)},existing:function(n){this.has(n)||this.tweens.push(n.reset());return this},addCounter:function(n){n=b(this,
n);this.tweens.push(n.reset());return n},stagger:function(n,q){return h(n,q)},setLagSmooth:function(n,q){void 0===n&&(n=1E8);void 0===q&&(q=0);this.maxLag=n;this.lagSkip=Math.min(q,this.maxLag);return this},setFps:function(n){void 0===n&&(n=240);this.gap=1E3/n;this.nextTime=1E3*this.time+this.gap;return this},getDelta:function(n){var q=Date.now()-this.prevTime;q>this.maxLag&&(this.startTime+=q-this.lagSkip);this.prevTime+=q;q=this.prevTime-this.startTime;var t=q-this.nextTime,v=q-1E3*this.time;0<
t||n?(this.time=q/1E3,this.nextTime+=t+(t>=this.gap?4:this.gap-t)):v=0;return v},tick:function(){this.step(!0);return this},update:function(){this.paused||this.step(!1)},step:function(n){void 0===n&&(n=!1);var q=this.getDelta(n);if(!(0>=q)){this.processing=!0;var t=[],v=this.tweens;for(n=0;n<v.length;n++){var u=v[n];u.update(q)&&t.push(u)}if((q=t.length)&&0<v.length){for(n=0;n<q;n++){u=t[n];var x=v.indexOf(u);-1<x&&(u.isPendingRemove()||u.isDestroyed())&&(v.splice(x,1),u.destroy())}t.length=0}this.processing=
!1}},remove:function(n){this.processing?n.setPendingRemoveState():(m(this.tweens,n),n.setRemovedState());return this},reset:function(n){this.existing(n);n.seek();n.setActiveState();return this},makeActive:function(n){this.existing(n);n.setActiveState();return this},each:function(n,q){var t,v=[null];for(t=1;t<arguments.length;t++)v.push(arguments[t]);this.tweens.forEach(function(u){v[0]=u;n.apply(q,v)});return this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(n){var q=[],
t=this.tweens;n=Array.isArray(n)?d(n):[n];for(var v=n.length,u=0;u<t.length;u++)for(var x=t[u],w=0;w<v;w++)!x.isDestroyed()&&x.hasTarget(n[w])&&q.push(x);return q},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(n){this.timeScale=n;return this},isTweening:function(n){for(var q=this.tweens,t,v=0;v<q.length;v++)if(t=q[v],t.isPlaying()&&t.hasTarget(n))return!0;return!1},killAll:function(){for(var n=this.processing?this.getTweens():this.tweens,q=0;q<n.length;q++)n[q].destroy();
this.processing||(n.length=0);return this},killTweensOf:function(n){n=this.getTweensOf(n);for(var q=0;q<n.length;q++)n[q].destroy();return this},pauseAll:function(){this.paused=!0;return this},resumeAll:function(){this.paused=!1;return this},shutdown:function(){this.killAll();this.tweens=[];this.events.off(e.UPDATE,this.update,this);this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown();this.events.off(e.START,this.start,this);this.events=this.scene=null}});p.register("TweenManager",
a,"tweens");r.exports=a},57355:r=>{r.exports=function(p,a,m){return p?p.hasOwnProperty(a)?p[a]:m:m}},6113:(r,p,a)=>{var m=a(62640),g=a(35355);r.exports=function(d,b){var e=m.Power0;if("string"===typeof d)if(m.hasOwnProperty(d))e=m[d];else{var h="";if(d.indexOf(".")){h=d.substring(d.indexOf(".")+1);var c=h.toLowerCase();"in"===c?h="easeIn":"out"===c?h="easeOut":"inout"===c&&(h="easeInOut")}d=g(d.substring(0,d.indexOf(".")+1)+h);m.hasOwnProperty(d)&&(e=m[d])}else"function"===typeof d&&(e=d);if(!b)return e;
var l=b.slice(0);l.unshift(0);return function(f){l[0]=f;return e.apply(this,l)}}},91389:(r,p,a)=>{p=a(89318);var m=a(77259);a=a(28392);var g={bezier:p,catmull:m,catmullrom:m,linear:a};r.exports=function(d){if(null===d)return null;var b=g.linear;"string"===typeof d?g.hasOwnProperty(d)&&(b=g[d]):"function"===typeof d&&(b=d);return b}},55292:r=>{r.exports=function(p,a,m){return p.hasOwnProperty(a)?"function"===typeof p[a]?function(g,d,b,e,h,c){return p[a](g,d,b,e,h,c)}:function(){return p[a]}:"function"===
typeof m?m:function(){return m}}},82985:(r,p,a)=>{var m=a(81076);r.exports=function(g){var d,b=[];if(g.hasOwnProperty("props"))for(d in g.props)"_"!==d.substring(0,1)&&b.push({key:d,value:g.props[d]});else for(d in g)-1===m.indexOf(d)&&"_"!==d.substring(0,1)&&b.push({key:d,value:g[d]});return b}},62329:(r,p,a)=>{var m=a(35154);r.exports=function(g){g=m(g,"targets",null);if(null===g)return g;"function"===typeof g&&(g=g.call());Array.isArray(g)||(g=[g]);return g}},17777:(r,p,a)=>{var m=a(30976),g=a(99472),
d=function(b,e){var h=function(x,w,y){return y},c=function(x,w,y){return y},l=null,f=typeof e;if("number"===f)h=function(){return e};else if(Array.isArray(e))c=function(){return e[0]},h=function(){return e[e.length-1]};else if("string"===f)if(h=e.toLowerCase(),b="random"===h.substring(0,6),f="int"===h.substring(0,3),b||f){f=h.indexOf("(");var k=h.indexOf(")"),n=h.indexOf(",");if(f&&k&&n){var q=parseFloat(h.substring(f+1,n)),t=parseFloat(h.substring(n+1,k));h=b?function(){return g(q,t)}:function(){return m(q,
t)}}else throw Error("invalid random() format");}else{h=h[0];var v=parseFloat(e.substr(2));switch(h){case "+":h=function(x,w,y){return y+v};break;case "-":h=function(x,w,y){return y-v};break;case "*":h=function(x,w,y){return y*v};break;case "/":h=function(x,w,y){return y/v};break;default:h=function(){return parseFloat(e)}}}else if("function"===f)h=e;else if("object"===f)if(e.getStart&&"function"===typeof e.getStart||e.getEnd&&"function"===typeof e.getEnd||e.getActive&&"function"===typeof e.getActive)e.getActive&&
"function"===typeof e.getActive&&(l=e.getActive),e.getEnd&&"function"===typeof e.getEnd&&(h=e.getEnd),e.getStart&&"function"===typeof e.getStart&&(c=e.getStart);else if(e.hasOwnProperty("value"))var u=d(b,e.value);else k=e.hasOwnProperty("to"),f=e.hasOwnProperty("from"),n=e.hasOwnProperty("start"),k&&(f||n)&&(u=d(b,e.to),n&&(k=d(b,e.start),u.getActive=k.getEnd),f&&(b=d(b,e.from),u.getStart=b.getEnd));u||(u={getActive:l,getEnd:h,getStart:c});return u};r.exports=d},88032:(r,p,a)=>{var m=a(70402),g=
a(69902),d=a(23568),b=a(57355),e=a(6113),h=a(55292),c=a(35154),l=a(17777),f=a(269),k=a(86081);r.exports=function(n,q,t){if(q instanceof k)return q.parent=n,q;t=void 0===t?g:f(g,t);var v=c(q,"from",0),u=c(q,"to",1),x=[{value:v}],w=c(q,"delay",t.delay),y=c(q,"easeParams",t.easeParams),z=c(q,"ease",t.ease);u=l("value",u);n=new k(n,x);t=n.add(0,"value",u.getEnd,u.getStart,u.getActive,e(c(q,"ease",z),c(q,"easeParams",y)),h(q,"delay",w),c(q,"duration",t.duration),b(q,"yoyo",t.yoyo),c(q,"hold",t.hold),c(q,
"repeat",t.repeat),c(q,"repeatDelay",t.repeatDelay),!1,!1);t.start=v;t.current=v;n.completeDelay=d(q,"completeDelay",0);n.loop=Math.round(d(q,"loop",0));n.loopDelay=Math.round(d(q,"loopDelay",0));n.paused=b(q,"paused",!1);n.persist=b(q,"persist",!1);n.callbackScope=c(q,"callbackScope",n);v=m.TYPES;for(t=0;t<v.length;t++)if(w=v[t],y=c(q,w,!1))z=c(q,w+"Params",[]),n.setCallback(w,y,z);return n}},93109:(r,p,a)=>{var m=a(6113),g=a(35154),d=a(36383);r.exports=function(b,e){void 0===e&&(e={});var h=g(e,
"start",0),c=g(e,"ease",null),l=g(e,"grid",null),f=g(e,"from",0),k="first"===f,n="center"===f,q="last"===f,t="number"===typeof f,v=Array.isArray(b),u=v?parseFloat(b[0]):parseFloat(b),x=v?parseFloat(b[1]):0,w=Math.max(u,x);v&&(h+=u);if(l){var y=l[0],z=l[1],C=e=b=0,A=0,B=[];q?(b=y-1,e=z-1):t?(b=f%y,e=Math.floor(f/y)):n&&(b=(y-1)/2,e=(z-1)/2);for(var E=d.MIN_SAFE_INTEGER,G=0;G<z;G++){B[G]=[];for(var I=0;I<y;I++)C=b-I,A=e-G,C=Math.sqrt(C*C+A*A),C>E&&(E=C),B[G][I]=C}}var H=c?m(c):null;return l?function(K,
L,M,P){K=0;L=P%y;P=Math.floor(P/y);0<=L&&L<y&&0<=P&&P<z&&(K=B[P][L]);v?(P=x-u,P=H?K/E*P*H(K/E):K/E*P):P=H?K*u*H(K/E):K*u;return P+h}:function(K,L,M,P,D){D--;var F;k?F=P:n?F=Math.abs(D/2-P):q?F=D-P:t&&(F=Math.abs(f-P));v?(K=n?(x-u)/D*2*F:(x-u)/D*F,D=H?K*H(F/D):K):D=H?D*w*H(F/D):F*u;return D+h}}},8357:(r,p,a)=>{var m=a(70402),g=a(69902),d=a(23568),b=a(57355),e=a(6113),h=a(91389),c=a(55292),l=a(82985),f=a(62329),k=a(35154),n=a(17777),q=a(269),t=a(86081);r.exports=function(v,u,x){if(u instanceof t)return u.parent=
v,u;x=void 0===x?g:q(g,x);var w=f(u);!w&&x.targets&&(w=x.targets);var y=l(u),z=k(u,"delay",x.delay),C=k(u,"duration",x.duration),A=k(u,"easeParams",x.easeParams),B=k(u,"ease",x.ease),E=k(u,"hold",x.hold),G=k(u,"repeat",x.repeat),I=k(u,"repeatDelay",x.repeatDelay),H=b(u,"yoyo",x.yoyo),K=b(u,"flipX",x.flipX),L=b(u,"flipY",x.flipY),M=k(u,"interpolation",x.interpolation);x=function(N,O,R,Q){if("texture"===R){R=Q;var S=void 0;Array.isArray(Q)?(R=Q[0],S=Q[1]):Q.hasOwnProperty("value")?(R=Q.value,Array.isArray(Q.value)?
(R=Q.value[0],S=Q.value[1]):"string"===typeof Q.value&&(R=Q.value)):"string"===typeof Q&&(R=Q);N.addFrame(O,R,S,c(Q,"delay",z),k(Q,"duration",C),k(Q,"hold",E),k(Q,"repeat",G),k(Q,"repeatDelay",I),b(Q,"flipX",K),b(Q,"flipY",L))}else{S=n(R,Q);var T=h(k(Q,"interpolation",M));N.add(O,R,S.getEnd,S.getStart,S.getActive,e(k(Q,"ease",B),k(Q,"easeParams",A)),c(Q,"delay",z),k(Q,"duration",C),b(Q,"yoyo",H),k(Q,"hold",E),k(Q,"repeat",G),k(Q,"repeatDelay",I),b(Q,"flipX",K),b(Q,"flipY",L),T,T?Q:null)}};v=new t(v,
w);for(var P=0;P<y.length;P++)for(var D=y[P].key,F=y[P].value,J=0;J<w.length;J++)"scale"!==D||w[J].hasOwnProperty("scale")?x(v,J,D,F):(x(v,J,"scaleX",F),x(v,J,"scaleY",F));v.completeDelay=d(u,"completeDelay",0);v.loop=Math.round(d(u,"loop",0));v.loopDelay=Math.round(d(u,"loopDelay",0));v.paused=b(u,"paused",!1);v.persist=b(u,"persist",!1);v.callbackScope=k(u,"callbackScope",v);w=m.TYPES;for(y=0;y<w.length;y++)if(x=w[y],P=k(u,x,!1))D=k(u,x+"Params",[]),v.setCallback(x,P,D);return v}},26012:(r,p,a)=>
{var m=a(70402),g=a(23568),d=a(57355),b=a(62329),e=a(35154),h=a(8357),c=a(43960);r.exports=function(l,f){if(f instanceof c)return f.parent=l,f;l=new c(l);l.startDelay=e(f,"delay",0);l.completeDelay=g(f,"completeDelay",0);l.loop=Math.round(g(f,"loop",e(f,"repeat",0)));l.loopDelay=Math.round(g(f,"loopDelay",e(f,"repeatDelay",0)));l.paused=d(f,"paused",!1);l.persist=d(f,"persist",!1);l.callbackScope=e(f,"callbackScope",l);var k,n=m.TYPES;for(k=0;k<n.length;k++){var q=n[k],t=e(f,q,!1);if(t){var v=e(f,
q+"Params",[]);l.setCallback(q,t,v)}}n=e(f,"tweens",null);if(Array.isArray(n)){q=[];k=b(f);f=void 0;k&&(f={targets:k});for(k=0;k<n.length;k++)q.push(h(l,n[k],f));l.add(q)}return l}},30231:(r,p,a)=>{r.exports={GetBoolean:a(57355),GetEaseFunction:a(6113),GetInterpolationFunction:a(91389),GetNewValue:a(55292),GetProps:a(82985),GetTargets:a(62329),GetValueOp:a(17777),NumberTweenBuilder:a(88032),StaggerBuilder:a(93109),TweenBuilder:a(8357)}},73685:r=>{r.exports="active"},98540:r=>{r.exports="complete"},
67233:r=>{r.exports="loop"},2859:r=>{r.exports="pause"},98336:r=>{r.exports="repeat"},25764:r=>{r.exports="resume"},32193:r=>{r.exports="start"},84371:r=>{r.exports="stop"},70766:r=>{r.exports="update"},55659:r=>{r.exports="yoyo"},842:(r,p,a)=>{r.exports={TWEEN_ACTIVE:a(73685),TWEEN_COMPLETE:a(98540),TWEEN_LOOP:a(67233),TWEEN_PAUSE:a(2859),TWEEN_RESUME:a(25764),TWEEN_REPEAT:a(98336),TWEEN_START:a(32193),TWEEN_STOP:a(84371),TWEEN_UPDATE:a(70766),TWEEN_YOYO:a(55659)}},43066:(r,p,a)=>{p={States:a(86353),
Builders:a(30231),Events:a(842),TweenManager:a(40382),Tween:a(86081),TweenData:a(48177),TweenFrameData:a(42220),BaseTween:a(70402),TweenChain:a(43960)};r.exports=p},70402:(r,p,a)=>{p=a(83419);var m=a(50792),g=a(842),d=a(86353);a=new p({Extends:m,initialize:function(b){m.call(this);this.parent=b;this.data=[];this.startDelay=this.totalData=0;this.hasStarted=!1;this.timeScale=1;this.countdown=this.completeDelay=this.loopCounter=this.loopDelay=this.loop=0;this.state=d.PENDING;this.paused=!1;this.callbacks=
{onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null};this.persist=!1},setTimeScale:function(b){this.timeScale=b;return this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){this.paused||(this.paused=!0,this.dispatchEvent(g.TWEEN_PAUSE,"onPause"));return this},resume:function(){this.paused&&(this.paused=
!1,this.dispatchEvent(g.TWEEN_RESUME,"onResume"));return this},makeActive:function(){this.parent.makeActive(this);this.dispatchEvent(g.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState();this.dispatchEvent(g.TWEEN_COMPLETE,"onComplete")},complete:function(b){void 0===b&&(b=0);if(b)this.setCompleteDelayState(),this.countdown=b;else this.onCompleteHandler();return this},completeAfterLoop:function(b){void 0===b&&(b=0);this.loopCounter>b&&(this.loopCounter=b);return this},
remove:function(){this.parent&&this.parent.remove(this);return this},stop:function(){!this.parent||this.isRemoved()||this.isPendingRemove()||this.isDestroyed()||(this.dispatchEvent(g.TWEEN_STOP,"onStop"),this.setPendingRemoveState());return this},updateLoopCountdown:function(b){this.countdown-=b;0>=this.countdown&&(this.setActiveState(),this.dispatchEvent(g.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(b){this.countdown-=b;0>=this.countdown&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(g.TWEEN_START,
"onStart"),b=0);return b},updateCompleteDelay:function(b){this.countdown-=b;if(0>=this.countdown)this.onCompleteHandler()},setCallback:function(b,e,h){void 0===h&&(h=[]);this.callbacks.hasOwnProperty(b)&&(this.callbacks[b]={func:e,params:h});return this},setPendingState:function(){this.state=d.PENDING},setActiveState:function(){this.state=d.ACTIVE},setLoopDelayState:function(){this.state=d.LOOP_DELAY},setCompleteDelayState:function(){this.state=d.COMPLETE_DELAY},setStartDelayState:function(){this.state=
d.START_DELAY;this.countdown=this.startDelay;this.hasStarted=!1},setPendingRemoveState:function(){this.state=d.PENDING_REMOVE},setRemovedState:function(){this.state=d.REMOVED},setFinishedState:function(){this.state=d.FINISHED},setDestroyedState:function(){this.state=d.DESTROYED},isPending:function(){return this.state===d.PENDING},isActive:function(){return this.state===d.ACTIVE},isLoopDelayed:function(){return this.state===d.LOOP_DELAY},isCompleteDelayed:function(){return this.state===d.COMPLETE_DELAY},
isStartDelayed:function(){return this.state===d.START_DELAY},isPendingRemove:function(){return this.state===d.PENDING_REMOVE},isRemoved:function(){return this.state===d.REMOVED},isFinished:function(){return this.state===d.FINISHED},isDestroyed:function(){return this.state===d.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(b){b.destroy()});this.removeAllListeners();this.parent=this.data=this.callbacks=null;this.setDestroyedState()}});a.TYPES="onActive onComplete onLoop onPause onRepeat onResume onStart onStop onUpdate onYoyo".split(" ");
r.exports=a},95042:(r,p,a)=>{p=a(83419);var m=a(842),g=a(86353);a=new p({initialize:function(d,b,e,h,c,l,f,k,n,q){this.tween=d;this.targetIndex=b;this.duration=h;this.delay=this.totalDuration=0;this.getDelay=e;this.yoyo=c;this.hold=l;this.repeat=f;this.repeatDelay=k;this.repeatCounter=0;this.flipX=n;this.flipY=q;this.state=this.elapsed=this.progress=0;this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(d){void 0===d&&(d=this.current);this.tween.targets[this.targetIndex][this.key]=
d},setCreatedState:function(){this.state=g.CREATED;this.isCountdown=!1},setDelayState:function(){this.state=g.DELAY;this.isCountdown=!0},setPendingRenderState:function(){this.state=g.PENDING_RENDER;this.isCountdown=!1},setPlayingForwardState:function(){this.state=g.PLAYING_FORWARD;this.isCountdown=!1},setPlayingBackwardState:function(){this.state=g.PLAYING_BACKWARD;this.isCountdown=!1},setHoldState:function(){this.state=g.HOLD_DELAY;this.isCountdown=!0},setRepeatState:function(){this.state=g.REPEAT_DELAY;
this.isCountdown=!0},setCompleteState:function(){this.state=g.COMPLETE;this.isCountdown=!1},isCreated:function(){return this.state===g.CREATED},isDelayed:function(){return this.state===g.DELAY},isPendingRender:function(){return this.state===g.PENDING_RENDER},isPlayingForward:function(){return this.state===g.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===g.PLAYING_BACKWARD},isHolding:function(){return this.state===g.HOLD_DELAY},isRepeating:function(){return this.state===g.REPEAT_DELAY},
isComplete:function(){return this.state===g.COMPLETE},setStateFromEnd:function(d){if(this.yoyo)this.onRepeat(d,!0,!0);else if(0<this.repeatCounter)this.onRepeat(d,!0,!1);else this.setCompleteState()},setStateFromStart:function(d){if(0<this.repeatCounter)this.onRepeat(d,!1);else this.setCompleteState()},reset:function(){var d=this.tween,b=d.totalTargets,e=this.targetIndex,h=d.targets[e],c=this.key;this.elapsed=this.progress=0;this.delay=this.getDelay(h,c,0,e,b,d);this.repeatCounter=-1===this.repeat?
g.MAX:this.repeat;this.setPendingRenderState();b=this.duration+this.hold;this.yoyo&&(b+=this.duration);e=b+this.repeatDelay;this.totalDuration=this.delay+b;-1===this.repeat?(this.totalDuration+=e*g.MAX,d.isInfinite=!0):0<this.repeat&&(this.totalDuration+=e*this.repeat);this.totalDuration>d.duration&&(d.duration=this.totalDuration);this.delay<d.startDelay&&(d.startDelay=this.delay);0<this.delay&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(d,b,e){var h=this.tween,c=h.totalTargets,
l=this.targetIndex,f=h.targets[l],k=this.key,n="texture"!==k;this.elapsed=d;this.progress=d/this.duration;this.flipX&&f.toggleFlipX();this.flipY&&f.toggleFlipY();n&&(b||e)&&(this.start=this.getStartValue(f,k,this.start,l,c,h));e?(this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo")):(this.repeatCounter--,n&&(this.end=this.getEndValue(f,k,this.start,l,c,h)),0<this.repeatDelay?(this.elapsed=this.repeatDelay-d,n&&(this.current=this.start,f[k]=this.current),this.setRepeatState()):
(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat")))},destroy:function(){this.getDelay=this.tween=null;this.setCompleteState()}});r.exports=a},69902:r=>{r.exports={targets:null,delay:0,duration:1E3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:r=>{r.exports="callbackScope completeDelay delay duration ease easeParams flipX flipY hold interpolation loop loopDelay onActive onActiveParams onComplete onCompleteParams onLoop onLoopParams onPause onPauseParams onRepeat onRepeatParams onResume onResumeParams onStart onStartParams onStop onStopParams onUpdate onUpdateParams onYoyo onYoyoParams paused persist props repeat repeatDelay targets yoyo".split(" ")},
86081:(r,p,a)=>{var m=a(70402),g=a(83419),d=a(842);p=a(44603);var b=a(39429),e=a(36383),h=a(86353),c=a(48177),l=a(42220);a=new g({Extends:m,initialize:function(f,k){m.call(this,f);this.targets=k;this.totalTargets=k.length;this.isInfinite=this.isSeeking=!1;this.totalProgress=this.totalDuration=this.progress=this.duration=this.totalElapsed=this.elapsed=0},add:function(f,k,n,q,t,v,u,x,w,y,z,C,A,B,E,G){f=new c(this,f,k,n,q,t,v,u,x,w,y,z,C,A,B,E,G);this.totalData=this.data.push(f);return f},addFrame:function(f,
k,n,q,t,v,u,x,w,y){f=new l(this,f,k,n,q,t,v,u,x,w,y);this.totalData=this.data.push(f);return f},getValue:function(f){void 0===f&&(f=0);var k=null;this.data&&(k=this.data[f].current);return k},hasTarget:function(f){return this.targets&&-1!==this.targets.indexOf(f)},updateTo:function(f,k,n){void 0===n&&(n=!1);if("texture"!==f)for(var q=0;q<this.totalData;q++){var t=this.data[q];t.key===f&&(t.isPlayingForward()||t.isPlayingBackward())&&(t.end=k,n&&(t.start=t.current))}return this},restart:function(){switch(this.state){case h.REMOVED:case h.FINISHED:this.seek();
this.parent.makeActive(this);break;case h.PENDING:case h.PENDING_REMOVE:this.parent.reset(this);break;case h.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek()}this.hasStarted=this.paused=!1;return this},nextState:function(){if(0<this.loopCounter)this.progress=this.elapsed=0,this.loopCounter--,this.initTweenData(!0),0<this.loopDelay?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"));else if(0<
this.completeDelay)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.totalProgress=this.progress=1;m.prototype.onCompleteHandler.call(this)},play:function(){if(this.isDestroyed())return console.warn("Cannot play destroyed Tween",this),this;(this.isPendingRemove()||this.isFinished())&&this.seek();this.paused=!1;this.setActiveState();return this},seek:function(f,k,n){void 0===f&&(f=0);void 0===k&&(k=16.6);
void 0===n&&(n=!1);if(this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;n||(this.isSeeking=!0);this.reset(!0);this.initTweenData(!0);this.setActiveState();this.dispatchEvent(d.TWEEN_ACTIVE,"onActive");n=this.paused;this.paused=!1;if(0<f){var q=Math.floor(f/k);f-=q*k;for(var t=0;t<q;t++)this.update(k);0<f&&this.update(f)}this.paused=n;this.isSeeking=!1;return this},initTweenData:function(f){void 0===f&&(f=!1);this.duration=0;this.startDelay=e.MAX_SAFE_INTEGER;for(var k=
this.data,n=0;n<this.totalData;n++)k[n].reset(f);f=this.duration=Math.max(this.duration,.01);k=this.completeDelay;n=this.loopCounter;var q=this.loopDelay;this.totalDuration=0<n?f+k+(f+q)*n:f+k},reset:function(f){void 0===f&&(f=!1);this.totalProgress=this.progress=this.totalElapsed=this.elapsed=0;this.loopCounter=this.loop;-1===this.loop&&(this.isInfinite=!0,this.loopCounter=h.MAX);f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive"));return this},update:function(f){if(this.isPendingRemove()||
this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;f*=this.timeScale*this.parent.timeScale;if(this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,0>=this.startDelay&&(this.hasStarted=!0,this.dispatchEvent(d.TWEEN_START,"onStart"),f=0));var k=!1;if(this.isActive())for(var n=this.data,q=0;q<this.totalData;q++)n[q].update(f)&&(k=!0);this.elapsed+=f;this.progress=Math.min(this.elapsed/
this.duration,1);this.totalElapsed+=f;this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1);k||this.nextState();(f=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),f=!1);return f},forward:function(f){this.update(f);return this},rewind:function(f){this.update(-f);return this},dispatchEvent:function(f,k){this.isSeeking||(this.emit(f,this,this.targets),(f=this.callbacks[k])&&f.func.apply(this.callbackScope,[this,this.targets].concat(f.params)))},destroy:function(){m.prototype.destroy.call(this);
this.targets=null}});b.register("tween",function(f){return this.scene.sys.tweens.add(f)});p.register("tween",function(f){return this.scene.sys.tweens.create(f)});r.exports=a},43960:(r,p,a)=>{var m=a(72905),g=a(70402),d=a(83419),b=a(842);p=a(44603);var e=a(39429),h=a(86353);a=new d({Extends:g,initialize:function(c){g.call(this,c);this.currentTween=null;this.currentIndex=0},init:function(){this.loopCounter=-1===this.loop?h.MAX:this.loop;this.setCurrentTween(0);0<this.startDelay&&!this.isStartDelayed()?
this.setStartDelayState():this.setActiveState();this.dispatchEvent(b.TWEEN_ACTIVE,"onActive");return this},add:function(c){c=this.parent.create(c);Array.isArray(c)||(c=[c]);for(var l=this.data,f=0;f<c.length;f++){var k=c[f];k.parent=this;l.push(k.reset())}this.totalData=l.length;return this},remove:function(c){m(this.data,c);c.setRemovedState();c===this.currentTween&&this.nextTween();this.totalData=this.data.length;return this},hasTarget:function(c){for(var l=this.data,f=0;f<this.totalData;f++)if(l[f].hasTarget(c))return!0;
return!1},restart:function(){if(this.isDestroyed())return console.warn("Cannot restart destroyed TweenChain",this),this;this.isRemoved()&&this.parent.makeActive(this);this.resetTweens();this.paused=!1;return this.init()},reset:function(c){c.seek();c.setActiveState();return this},makeActive:function(c){c.reset();c.setActiveState();return this},nextState:function(){if(0<this.loopCounter)this.loopCounter--,this.resetTweens(),0<this.loopDelay?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),
this.dispatchEvent(b.TWEEN_LOOP,"onLoop"));else if(0<this.completeDelay)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){if(this.isDestroyed())return console.warn("Cannot play destroyed TweenChain",this),this;(this.isPendingRemove()||this.isPending())&&this.resetTweens();this.paused=!1;0<this.startDelay&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState();return this},resetTweens:function(){for(var c=
this.data,l=this.totalData,f=0;f<l;f++)c[f].reset(!1);this.currentIndex=0;this.currentTween=c[0]},update:function(c){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;c*=this.parent.timeScale;this.isLoopDelayed()?this.updateLoopCountdown(c):this.isCompleteDelayed()?this.updateCompleteDelay(c):this.isStartDelayed()&&(c=this.updateStartCountdown(c));var l=!1;this.isActive()&&this.currentTween&&(this.currentTween.update(c)&&this.nextTween()&&this.nextState(),
(l=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),l=!1));return l},nextTween:function(){this.currentIndex++;if(this.currentIndex===this.totalData)return!0;this.setCurrentTween(this.currentIndex);return!1},setCurrentTween:function(c){this.currentIndex=c;this.currentTween=this.data[c];this.currentTween.setActiveState();this.currentTween.dispatchEvent(b.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(c,l){this.emit(c,this);(c=this.callbacks[l])&&c.func.apply(this.callbackScope,[this].concat(c.params))},
destroy:function(){g.prototype.destroy.call(this);this.currentTween=null}});e.register("tweenchain",function(c){return this.scene.sys.tweens.chain(c)});p.register("tweenchain",function(c){return this.scene.sys.tweens.create(c)});r.exports=a},48177:(r,p,a)=>{var m=a(95042),g=a(45319);p=a(83419);var d=a(842);a=new p({Extends:m,initialize:function(b,e,h,c,l,f,k,n,q,t,v,u,x,w,y,z,C){m.call(this,b,e,n,q,t,v,u,x,w,y);this.key=h;this.getActiveValue=f;this.getEndValue=c;this.getStartValue=l;this.ease=k;this.end=
this.current=this.previous=this.start=0;this.interpolation=z;this.interpolationData=C},reset:function(b){m.prototype.reset.call(this);var e=this.tween.targets[this.targetIndex],h=this.key;b&&(e[h]=this.start);this.end=this.current=this.previous=this.start=0;this.getActiveValue&&(e[h]=this.getActiveValue(e,h,0))},update:function(b){var e=this.tween,h=e.totalTargets,c=this.targetIndex,l=e.targets[c],f=this.key;if(!l)return this.setCompleteState(),!1;this.isCountdown&&(this.elapsed-=b,0>=this.elapsed&&
(b=this.elapsed=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(d.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0)));if(this.isPendingRender())return this.start=this.getStartValue(l,f,l[f],c,h,e),this.end=this.getEndValue(l,f,this.start,c,h,e),this.current=this.start,l[f]=this.start,this.setPlayingForwardState(),!0;e=this.isPlayingForward();h=this.isPlayingBackward();if(e||h){h=this.elapsed;var k=this.duration;
c=0;var n=!1;h+=b;h>=k?(c=h-k,h=k,n=!0):0>h&&(h=0);b=g(h/k,0,1);this.elapsed=h;this.progress=b;this.previous=this.current;n?e?(this.current=this.end,l[f]=this.end,0<this.hold?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(c)):(this.current=this.start,l[f]=this.start,this.setStateFromStart(c)):(e||(b=1-b),b=this.ease(b),this.current=this.interpolation?this.interpolation(this.interpolationData,b):this.start+(this.end-this.start)*b,l[f]=this.current);this.dispatchEvent(d.TWEEN_UPDATE,
"onUpdate")}return!this.isComplete()},dispatchEvent:function(b,e){var h=this.tween;if(!h.isSeeking){var c=h.targets[this.targetIndex],l=this.key,f=this.current,k=this.previous;h.emit(b,h,l,c,f,k);(b=h.callbacks[e])&&b.func.apply(h.callbackScope,[h,c,l,f,k].concat(b.params))}},destroy:function(){m.prototype.destroy.call(this);this.ease=this.getStartValue=this.getEndValue=this.getActiveValue=null}});r.exports=a},42220:(r,p,a)=>{var m=a(95042),g=a(45319);p=a(83419);var d=a(842);a=new p({Extends:m,initialize:function(b,
e,h,c,l,f,k,n,q,t,v){m.call(this,b,e,l,f,!1,k,n,q,t,v);this.key="texture";this.startTexture=null;this.endTexture=h;this.startFrame=null;this.endFrame=c;this.yoyo=0!==n?!0:!1},reset:function(b){m.prototype.reset.call(this);var e=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=e.texture.key,this.startFrame=e.frame.name);b&&e.setTexture(this.startTexture,this.startFrame)},update:function(b){var e=this.tween.targets[this.targetIndex];if(!e)return this.setCompleteState(),!1;
this.isCountdown&&(this.elapsed-=b,0>=this.elapsed&&(b=this.elapsed=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(d.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0)));if(this.isPendingRender())return this.startTexture&&e.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),c=this.isPlayingBackward();if(h||c){c=this.elapsed;var l=this.duration,f=0,k=!1;c+=
b;c>=l?(f=c-l,c=l,k=!0):0>c&&(c=0);b=g(c/l,0,1);this.elapsed=c;this.progress=b;k&&(h?(e.setTexture(this.endTexture,this.endFrame),0<this.hold?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(f)):(e.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(f)));this.dispatchEvent(d.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(b,e){var h=this.tween;if(!h.isSeeking){var c=h.targets[this.targetIndex],l=this.key;h.emit(b,h,l,c);(b=h.callbacks[e])&&
b.func.apply(h.callbackScope,[h,c,l].concat(b.params))}},destroy:function(){m.prototype.destroy.call(this);this.endFrame=this.startFrame=this.endTexture=this.startTexture=null}});r.exports=a},86353:r=>{r.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999}},83419:r=>{function p(g,d,b,e){for(var h in d)if(d.hasOwnProperty(h)){var c;
var l=(c=b)?d[h]:Object.getOwnPropertyDescriptor(d,h);!c&&l.value&&"object"===typeof l.value&&(l=l.value);l&&(l.get&&"function"===typeof l.get||l.set&&"function"===typeof l.set)?("undefined"===typeof l.enumerable&&(l.enumerable=!0),"undefined"===typeof l.configurable&&(l.configurable=!0),c=l):c=!1;if(!1!==c){(l=Object.getOwnPropertyDescriptor((e||g).prototype,h))?(l.value&&"object"===typeof l.value&&(l=l.value),l=!1===l.configurable?!0:!1):l=!1;if(l){if(m.ignoreFinals)continue;throw Error("cannot override final property '"+
h+"', set Class.ignoreFinals \x3d true to skip");}Object.defineProperty(g.prototype,h,c)}else g.prototype[h]=d[h]}}function a(g,d){if(d){Array.isArray(d)||(d=[d]);for(var b=0;b<d.length;b++)p(g,d[b].prototype||d[b])}}function m(g){g||(g={});if(g.initialize){if("function"!==typeof g.initialize)throw Error("initialize must be a function");var d=g.initialize;delete g.initialize}else if(g.Extends){var b=g.Extends;d=function(){b.apply(this,arguments)}}else d=function(){};if(g.Extends){d.prototype=Object.create(g.Extends.prototype);
d.prototype.constructor=d;var e=g.Extends;delete g.Extends}else d.prototype.constructor=d;var h=null;g.Mixins&&(h=g.Mixins,delete g.Mixins);a(d,h);p(d,g,!0,e);return d}m.extend=p;m.mixin=a;m.ignoreFinals=!1;r.exports=m},29747:r=>{r.exports=function(){}},20242:r=>{r.exports=function(){return null}},71146:r=>{r.exports=function(p,a,m,g,d){void 0===d&&(d=p);if(0<m){var b=m-p.length;if(0>=b)return null}if(!Array.isArray(a))return-1===p.indexOf(a)?(p.push(a),g&&g.call(d,a),a):null;for(var e=a.length-1;0<=
e;)-1!==p.indexOf(a[e])&&a.splice(e,1),e--;e=a.length;if(0===e)return null;0<m&&e>b&&(a.splice(b),e=b);for(m=0;m<e;m++)b=a[m],p.push(b),g&&g.call(d,b);return a}},51067:r=>{r.exports=function(p,a,m,g,d,b){void 0===m&&(m=0);void 0===b&&(b=p);if(0<g){var e=g-p.length;if(0>=e)return null}if(!Array.isArray(a))return-1===p.indexOf(a)?(p.splice(m,0,a),d&&d.call(b,a),a):null;for(var h=a.length-1;0<=h;)-1!==p.indexOf(a[h])&&a.pop(),h--;h=a.length;if(0===h)return null;0<g&&h>e&&(a.splice(e),h=e);for(g=h-1;0<=
g;g--)e=a[g],p.splice(m,0,e),d&&d.call(b,e);return a}},66905:r=>{r.exports=function(p,a){var m=p.indexOf(a);-1!==m&&m<p.length&&(p.splice(m,1),p.push(a));return a}},21612:(r,p,a)=>{var m=a(82011);r.exports=function(g,d,b,e,h){void 0===e&&(e=0);void 0===h&&(h=g.length);var c=0;if(m(g,e,h))for(;e<h;e++)g[e][d]===b&&c++;return c}},95428:r=>{r.exports=function(p,a,m){var g,d=[null];for(g=3;g<arguments.length;g++)d.push(arguments[g]);for(g=0;g<p.length;g++)d[0]=p[g],a.apply(m,d);return p}},36914:(r,p,
a)=>{var m=a(82011);r.exports=function(g,d,b,e,h){void 0===e&&(e=0);void 0===h&&(h=g.length);if(m(g,e,h)){var c,l=[null];for(c=5;c<arguments.length;c++)l.push(arguments[c]);for(c=e;c<h;c++)l[0]=g[c],d.apply(b,l)}return g}},81957:r=>{r.exports=function(p,a,m){if(!a.length)return NaN;if(1===a.length)return a[0];var g=1;if(m){if(p<a[0][m])return a[0];for(;a[g][m]<p;)g++}else for(;a[g]<p;)g++;g>a.length&&(g=a.length);if(m){var d=a[g-1][m];m=a[g][m];return m-p<=p-d?a[g]:a[g-1]}d=a[g-1];m=a[g];return m-
p<=p-d?m:d}},43491:r=>{var p=function(a,m){void 0===m&&(m=[]);for(var g=0;g<a.length;g++)Array.isArray(a[g])?p(a[g],m):m.push(a[g]);return m};r.exports=p},46710:(r,p,a)=>{var m=a(82011);r.exports=function(g,d,b,e,h){void 0===e&&(e=0);void 0===h&&(h=g.length);var c=[];if(m(g,e,h))for(;e<h;e++){var l=g[e];(!d||d&&void 0===b&&l.hasOwnProperty(d)||d&&void 0!==b&&l[d]===b)&&c.push(l)}return c}},58731:(r,p,a)=>{var m=a(82011);r.exports=function(g,d,b,e,h){void 0===e&&(e=0);void 0===h&&(h=g.length);if(m(g,
e,h))for(;e<h;e++){var c=g[e];if(!d||d&&void 0===b&&c.hasOwnProperty(d)||d&&void 0!==b&&c[d]===b)return c}return null}},26546:r=>{r.exports=function(p,a,m){void 0===a&&(a=0);void 0===m&&(m=p.length);a+=Math.floor(Math.random()*m);return void 0===p[a]?null:p[a]}},85835:r=>{r.exports=function(p,a,m){if(a===m)return p;var g=p.indexOf(a);m=p.indexOf(m);if(0>g||0>m)throw Error("Supplied items must be elements of the same array");if(g>m)return p;p.splice(g,1);m===p.length-1?p.push(a):p.splice(m,0,a);return p}},
83371:r=>{r.exports=function(p,a,m){if(a===m)return p;var g=p.indexOf(a);m=p.indexOf(m);if(0>g||0>m)throw Error("Supplied items must be elements of the same array");if(g<m)return p;p.splice(g,1);0===m?p.unshift(a):p.splice(m,0,a);return p}},70864:r=>{r.exports=function(p,a){var m=p.indexOf(a);if(0<m){var g=p[m-1],d=p.indexOf(g);p[m]=g;p[d]=a}return p}},69693:r=>{r.exports=function(p,a,m){var g=p.indexOf(a);if(-1===g||0>m||m>=p.length)throw Error("Supplied index out of bounds");g!==m&&(p.splice(g,
1),p.splice(m,0,a));return a}},40853:r=>{r.exports=function(p,a){var m=p.indexOf(a);if(-1!==m&&m<p.length-1){var g=p[m+1],d=p.indexOf(g);p[m]=g;p[d]=a}return p}},20283:r=>{r.exports=function(p,a,m,g){var d=[],b=!1;if(m||g)b=!0,m||(m=""),g||(g="");if(a<p)for(;p>=a;p--)b?d.push(m+p.toString()+g):d.push(p);else for(;p<=a;p++)b?d.push(m+p.toString()+g):d.push(p);return d}},593:(r,p,a)=>{var m=a(2284);r.exports=function(g,d,b){void 0===g&&(g=0);void 0===d&&(d=null);void 0===b&&(b=1);null===d&&(d=g,g=0);
var e=[];d=Math.max(m((d-g)/(b||1)),0);for(var h=0;h<d;h++)e.push(g),g+=b;return e}},43886:r=>{function p(g,d,b){var e=g[d];g[d]=g[b];g[b]=e}function a(g,d){return g<d?-1:g>d?1:0}var m=function(g,d,b,e,h){void 0===b&&(b=0);void 0===e&&(e=g.length-1);for(void 0===h&&(h=a);e>b;){if(600<e-b){var c=e-b+1,l=d-b+1,f=Math.log(c),k=.5*Math.exp(2*f/3);f=.5*Math.sqrt(f*k*(c-k)/c)*(0>l-c/2?-1:1);m(g,d,Math.max(b,Math.floor(d-l*k/c+f)),Math.min(e,Math.floor(d+(c-l)*k/c+f)),h)}c=g[d];l=b;k=e;p(g,b,d);for(0<h(g[e],
c)&&p(g,b,e);l<k;){p(g,l,k);l++;for(k--;0>h(g[l],c);)l++;for(;0<h(g[k],c);)k--}0===h(g[b],c)?p(g,b,k):(k++,p(g,k,e));k<=d&&(b=k+1);d<=k&&(e=k-1)}};r.exports=m},88492:(r,p,a)=>{var m=a(35154),g=a(33680);r.exports=function(d,b,e){var h=m(e,"max",0),c=m(e,"qty",1),l=m(e,"random",!1),f=m(e,"randomB",!1),k=m(e,"repeat",0);e=m(e,"yoyo",!1);var n=[];f&&g(b);-1===k&&(0===h?k=0:(k=d.length*b.length*c,e&&(k*=2),k=Math.ceil(h/k)));for(f=0;f<=k;f++){var q=d;for(var t=b,v=c,u=[],x=0;x<q.length;x++)for(var w=0;w<
t.length;w++)for(var y=0;y<v;y++)u.push({a:q[x],b:t[w]});q=u;l&&g(q);n=n.concat(q);e&&(q.reverse(),n=n.concat(q))}h&&n.splice(h);return n}},72905:(r,p,a)=>{var m=a(19133);r.exports=function(g,d,b,e){void 0===e&&(e=g);if(!Array.isArray(d)){var h=g.indexOf(d);return-1!==h?(m(g,h),b&&b.call(e,d),d):null}for(var c=d.length-1,l=[];0<=c;){var f=d[c];h=g.indexOf(f);-1!==h&&(m(g,h),l.push(f),b&&b.call(e,f));c--}return l}},60248:(r,p,a)=>{var m=a(19133);r.exports=function(g,d,b,e){void 0===e&&(e=g);if(0>d||
d>g.length-1)throw Error("Index out of bounds");g=m(g,d);b&&b.call(e,g);return g}},81409:(r,p,a)=>{var m=a(82011);r.exports=function(g,d,b,e,h){void 0===d&&(d=0);void 0===b&&(b=g.length);void 0===h&&(h=g);if(m(g,d,b)){g=g.splice(d,b-d);if(e)for(d=0;d<g.length;d++)e.call(h,g[d]);return g}return[]}},31856:(r,p,a)=>{var m=a(19133);r.exports=function(g,d,b){void 0===d&&(d=0);void 0===b&&(b=g.length);return m(g,d+Math.floor(Math.random()*b))}},42169:r=>{r.exports=function(p,a,m){a=p.indexOf(a);var g=p.indexOf(m);
return-1!==a&&-1===g?(p[a]=m,!0):!1}},86003:r=>{r.exports=function(p,a){void 0===a&&(a=1);for(var m=null,g=0;g<a;g++)m=p.shift(),p.push(m);return m}},49498:r=>{r.exports=function(p,a){void 0===a&&(a=1);for(var m=null,g=0;g<a;g++)m=p.pop(),p.unshift(m);return m}},82011:r=>{r.exports=function(p,a,m,g){p=p.length;if(0>a||a>p||a>=m||m>p){if(g)throw Error("Range Error: Values outside acceptable range");return!1}return!0}},89545:r=>{r.exports=function(p,a){var m=p.indexOf(a);-1!==m&&0<m&&(p.splice(m,1),
p.unshift(a));return a}},17810:(r,p,a)=>{var m=a(82011);r.exports=function(g,d,b,e,h){void 0===e&&(e=0);void 0===h&&(h=g.length);if(m(g,e,h))for(;e<h;e++){var c=g[e];c.hasOwnProperty(d)&&(c[d]=b)}return g}},33680:r=>{r.exports=function(p){for(var a=p.length-1;0<a;a--){var m=Math.floor(Math.random()*(a+1)),g=p[a];p[a]=p[m];p[m]=g}return p}},90126:r=>{r.exports=function(p){var a=/\D/g;p.sort(function(m,g){return parseInt(m.replace(a,""),10)-parseInt(g.replace(a,""),10)});return p}},19133:r=>{r.exports=
function(p,a){if(!(a>=p.length)){for(var m=p.length-1,g=p[a];a<m;a++)p[a]=p[a+1];p.length=m;return g}}},19186:(r,p,a)=>{function m(b,e){return String(b).localeCompare(e)}function g(b,e,h,c){var l=b.length,f=0,k=2*h,n,q;for(n=0;n<l;n+=k){var t=n+h;var v=t+h;t>l&&(t=l);v>l&&(v=l);var u=n;for(q=t;;)if(u<t&&q<v)0>=e(b[u],b[q])?c[f++]=b[u++]:c[f++]=b[q++];else if(u<t)c[f++]=b[u++];else if(q<v)c[f++]=b[q++];else break}}var d=a(82264);r.exports=function(b,e){void 0===e&&(e=m);if(!b||2>b.length)return b;
if(d.features.stableSort)return b.sort(e);var h=b;var c=h.length;if(!(1>=c))for(var l=Array(c),f=1;f<c;f*=2){g(h,e,f,l);var k=h;h=l;l=k}h!==b&&g(h,null,b.length,b);return b}},25630:r=>{r.exports=function(p,a,m){if(a===m)return p;var g=p.indexOf(a),d=p.indexOf(m);if(0>g||0>d)throw Error("Supplied items must be elements of the same array");p[g]=m;p[d]=a;return p}},37105:(r,p,a)=>{r.exports={Matrix:a(54915),Add:a(71146),AddAt:a(51067),BringToTop:a(66905),CountAllMatching:a(21612),Each:a(95428),EachInRange:a(36914),
FindClosestInSorted:a(81957),Flatten:a(43491),GetAll:a(46710),GetFirst:a(58731),GetRandom:a(26546),MoveDown:a(70864),MoveTo:a(69693),MoveUp:a(40853),MoveAbove:a(85835),MoveBelow:a(83371),NumberArray:a(20283),NumberArrayStep:a(593),QuickSelect:a(43886),Range:a(88492),Remove:a(72905),RemoveAt:a(60248),RemoveBetween:a(81409),RemoveRandomElement:a(31856),Replace:a(42169),RotateLeft:a(86003),RotateRight:a(49498),SafeRange:a(82011),SendToBack:a(89545),SetAll:a(17810),Shuffle:a(33680),SortByDigits:a(90126),
SpliceOne:a(19133),StableSort:a(19186),Swap:a(25630)}},86922:r=>{r.exports=function(p){if(!Array.isArray(p)||!Array.isArray(p[0]))return!1;for(var a=p[0].length,m=1;m<p.length;m++)if(p[m].length!==a)return!1;return!0}},63362:(r,p,a)=>{var m=a(41836),g=a(86922);r.exports=function(d){var b="";if(!g(d))return b;for(var e=0;e<d.length;e++){for(var h=0;h<d[e].length;h++){var c=d[e][h].toString();b="undefined"!==c?b+m(c,2):b+"?";h<d[e].length-1&&(b+=" |")}if(e<d.length-1){b+="\n";for(h=0;h<d[e].length;h++)b+=
"---",h<d[e].length-1&&(b+="+");b+="\n"}}return b}},92598:r=>{r.exports=function(p){return p.reverse()}},21224:r=>{r.exports=function(p){for(var a=0;a<p.length;a++)p[a].reverse();return p}},98717:(r,p,a)=>{var m=a(37829);r.exports=function(g){return m(g,180)}},44657:(r,p,a)=>{var m=a(37829);r.exports=function(g,d){void 0===d&&(d=1);for(var b=0;b<d;b++)g=m(g,90);return g}},37829:(r,p,a)=>{var m=a(86922),g=a(2429);r.exports=function(d,b){void 0===b&&(b=90);if(!m(d))return null;"string"!==typeof b&&
(b=(b%360+360)%360);if(90===b||-270===b||"rotateLeft"===b)d=g(d),d.reverse();else if(-90===b||270===b||"rotateRight"===b)d.reverse(),d=g(d);else if(180===Math.abs(b)||"rotate180"===b){for(b=0;b<d.length;b++)d[b].reverse();d.reverse()}return d}},92632:(r,p,a)=>{var m=a(37829);r.exports=function(g,d){void 0===d&&(d=1);for(var b=0;b<d;b++)g=m(g,-90);return g}},69512:(r,p,a)=>{var m=a(86003),g=a(49498);r.exports=function(d,b,e){void 0===b&&(b=0);void 0===e&&(e=0);0!==e&&(0>e?m(d,Math.abs(e)):g(d,e));
if(0!==b)for(e=0;e<d.length;e++){var h=d[e];0>b?m(h,Math.abs(b)):g(h,b)}return d}},2429:r=>{r.exports=function(p){for(var a=p.length,m=p[0].length,g=Array(m),d=0;d<m;d++){g[d]=Array(a);for(var b=a-1;-1<b;b--)g[d][b]=p[b][d]}return g}},54915:(r,p,a)=>{r.exports={CheckMatrix:a(86922),MatrixToString:a(63362),ReverseColumns:a(92598),ReverseRows:a(21224),Rotate180:a(98717),RotateLeft:a(44657),RotateMatrix:a(37829),RotateRight:a(92632),Translate:a(69512),TransposeMatrix:a(2429)}},71334:r=>{r.exports=function(p,
a){p=new Uint8Array(p);var m=p.length;a=a?"data:"+a+";base64,":"";for(var g=0;g<m;g+=3)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[p[g]>>2],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(p[g]&3)<<4|p[g+1]>>4],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(p[g+1]&15)<<2|p[g+2]>>6],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[p[g+2]&63];2===m%3?a=a.substring(0,a.length-1)+"\x3d":1===m%3&&(a=a.substring(0,
a.length-2)+"\x3d\x3d");return a}},53134:r=>{for(var p=new Uint8Array(256),a=0;64>a;a++)p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=a;r.exports=function(m){m=m.substr(m.indexOf(",")+1);var g=m.length,d=.75*g,b=0;"\x3d"===m[g-1]&&(d--,"\x3d"===m[g-2]&&d--);for(var e=new ArrayBuffer(d),h=new Uint8Array(e),c=0;c<g;c+=4){d=p[m.charCodeAt(c)];var l=p[m.charCodeAt(c+1)];var f=p[m.charCodeAt(c+2)];var k=p[m.charCodeAt(c+3)];h[b++]=d<<2|l>>4;h[b++]=(l&15)<<4|f>>2;h[b++]=
(f&3)<<6|k&63}return e}},65839:(r,p,a)=>{r.exports={ArrayBufferToBase64:a(71334),Base64ToArrayBuffer:a(53134)}},91799:(r,p,a)=>{r.exports={Array:a(37105),Base64:a(65839),Objects:a(1183),String:a(31749),NOOP:a(29747),NULL:a(20242)}},41786:r=>{r.exports=function(p){var a={},m;for(m in p)Array.isArray(p[m])?a[m]=p[m].slice(0):a[m]=p[m];return a}},62644:r=>{var p=function(a){var m;if("object"!==typeof a||null===a)return a;var g=Array.isArray(a)?[]:{};for(m in a){var d=a[m];g[m]=p(d)}return g};r.exports=
p},79291:(r,p,a)=>{var m=a(41212),g=function(){var d,b,e,h=arguments[0]||{},c=1,l=arguments.length,f=!1;"boolean"===typeof h&&(f=h,h=arguments[1]||{},c=2);l===c&&(h=this,--c);for(;c<l;c++)if(null!=(d=arguments[c]))for(b in d){var k=h[b];var n=d[b];h!==n&&(f&&n&&(m(n)||(e=Array.isArray(n)))?(e?(e=!1,k=k&&Array.isArray(k)?k:[]):k=k&&m(k)?k:{},h[b]=g(f,k,n)):void 0!==n&&(h[b]=n))}return h};r.exports=g},23568:(r,p,a)=>{var m=a(75508),g=a(35154);r.exports=function(d,b,e){d=g(d,b,null);if(null===d)return e;
if(Array.isArray(d))return m.RND.pick(d);if("object"===typeof d){if(d.hasOwnProperty("randInt"))return m.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return m.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if("function"===typeof d)return d(b);return d}},95540:r=>{r.exports=function(p,a,m){var g=typeof p;return p&&"number"!==g&&"string"!==g?p.hasOwnProperty(a)&&void 0!==p[a]?p[a]:m:m}},82840:(r,p,a)=>{var m=a(35154),g=a(45319);r.exports=function(d,b,e,h,c){void 0===
c&&(c=e);d=m(d,b,c);return g(d,e,h)}},35154:r=>{r.exports=function(p,a,m,g){if(!p&&!g||"number"===typeof p)return m;if(p&&p.hasOwnProperty(a))return p[a];if(g&&g.hasOwnProperty(a))return g[a];if(-1!==a.indexOf(".")){a=a.split(".");for(var d=m,b=m,e=!0,h=!0,c=0;c<a.length;c++)p&&p.hasOwnProperty(a[c])?(d=p[a[c]],p=p[a[c]]):e=!1,g&&g.hasOwnProperty(a[c])?(b=g[a[c]],g=g[a[c]]):h=!1;return e?d:h?b:m}return m}},69036:r=>{r.exports=function(p,a){for(var m=0;m<a.length;m++)if(!p.hasOwnProperty(a[m]))return!1;
return!0}},1985:r=>{r.exports=function(p,a){for(var m=0;m<a.length;m++)if(p.hasOwnProperty(a[m]))return!0;return!1}},97022:r=>{r.exports=function(p,a){return p.hasOwnProperty(a)}},41212:r=>{r.exports=function(p){if(!p||"object"!==typeof p||p.nodeType||p===p.window)return!1;try{if(p.constructor&&!{}.hasOwnProperty.call(p.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}return!0}},46975:(r,p,a)=>{var m=a(41786);r.exports=function(g,d){g=m(g);for(var b in d)g.hasOwnProperty(b)||(g[b]=
d[b]);return g}},269:(r,p,a)=>{var m=a(41786);r.exports=function(g,d){g=m(g);for(var b in d)g.hasOwnProperty(b)&&(g[b]=d[b]);return g}},18254:(r,p,a)=>{var m=a(97022);r.exports=function(g,d){for(var b={},e=0;e<d.length;e++){var h=d[e];m(g,h)&&(b[h]=g[h])}return b}},61622:r=>{r.exports=function(p,a,m){if(p&&"number"!==typeof p){if(p.hasOwnProperty(a))return p[a]=m,!0;if(-1!==a.indexOf(".")){a=a.split(".");for(var g=p,d=0;d<a.length;d++)if(g.hasOwnProperty(a[d]))p=g,g=g[a[d]];else return!1;p[a[a.length-
1]]=m;return!0}}return!1}},1183:(r,p,a)=>{r.exports={Clone:a(41786),DeepCopy:a(62644),Extend:a(79291),GetAdvancedValue:a(23568),GetFastValue:a(95540),GetMinMaxValue:a(82840),GetValue:a(35154),HasAll:a(69036),HasAny:a(1985),HasValue:a(97022),IsPlainObject:a(41212),Merge:a(46975),MergeRight:a(269),Pick:a(18254),SetValue:a(61622)}},27902:r=>{r.exports=function(p,a){return p.replace(/%([0-9]+)/g,function(m,g){return a[Number(g)-1]})}},41836:r=>{r.exports=function(p,a,m,g){void 0===a&&(a=0);void 0===m&&
(m=" ");void 0===g&&(g=3);p=p.toString();if(a+1>=p.length)switch(g){case 1:p=Array(a+1-p.length).join(m)+p;break;case 3:g=Math.ceil((a-=p.length)/2);p=Array(a-g+1).join(m)+p+Array(g+1).join(m);break;default:p+=Array(a+1-p.length).join(m)}return p}},33628:r=>{r.exports=function(p,a){return 0===a?p.slice(1):p.slice(0,a-1)+p.slice(a)}},27671:r=>{r.exports=function(p){return p.split("").reverse().join("")}},45650:r=>{r.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(p){var a=
16*Math.random()|0;return("x"===p?a:a&3|8).toString(16)})}},35355:r=>{r.exports=function(p){return p&&p[0].toUpperCase()+p.slice(1)}},31749:(r,p,a)=>{r.exports={Format:a(27902),Pad:a(41836),RemoveAt:a(33628),Reverse:a(27671),UppercaseFirst:a(35355),UUID:a(45650)}}},la={};(()=>{fa.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||(new Function("return this"))()}catch(r){if("object"===typeof window)return window}}()})();return fa(85454)})())};
'use strict';var f;/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}var ba="closure_uid_"+(1E9*Math.random()>>>0),ca=0;function da(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b};function fa(){var a=aa.navigator;return a&&(a=a.userAgent)?a:""}function u(a){return-1!=fa().indexOf(a)};function ha(a,b){null!=a&&this.append.apply(this,arguments)}f=ha.prototype;f.va="";f.set=function(a){this.va=""+a};f.append=function(a,b,c){this.va+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.va+=arguments[d];return this};f.clear=function(){this.va=""};f.getLength=function(){return this.va.length};f.toString=function(){return this.va};var v={},ia=null,ja=!0,ka=null;function la(){return new na(null,5,[oa,!0,pa,!0,qa,!1,ra,!1,sa,null],null)}function ta(){ja=!1;ia=function(){var a=arguments,b=console.log,c=b.apply,d=console;{const e=a.length;if(0<e){const g=Array(e);for(let h=0;h<e;h++)g[h]=a[h];a=g}else a=[]}return c.call(b,d,a)}}function w(a){return null!=a&&!1!==a}function ua(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}
function z(a,b){var c=null==b?null:b.constructor;c=w(w(c)?c.Hb:c)?c.lb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function va(a){var b=a.lb;return w(b)?b:C.g(a)}var wa="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function D(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function xa(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function ya(){}
function za(a){if(null!=a&&null!=a.S)a=a.S(a);else{var b=za[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=za._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ICounted.-count",a);}return a}function Aa(){}function Ba(a){if(null!=a&&null!=a.T)a=a.T(a);else{var b=Ba[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ba._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IEmptyableCollection.-empty",a);}return a}
function Ca(a,b){if(null!=a&&null!=a.R)a=a.R(a,b);else{var c=Ca[t(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ca._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ICollection.-conj",a);}return a}function Da(){}
var Ea=function(){function a(d,e,g){var h=E[t(null==d?null:d)];if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);h=E._;if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);throw z("IIndexed.-nth",d);}function b(d,e){var g=E[t(null==d?null:d)];if(null!=g)return g.h?g.h(d,e):g.call(null,d,e);g=E._;if(null!=g)return g.h?g.h(d,e):g.call(null,d,e);throw z("IIndexed.-nth",d);}var c=null;c=function(d,e,g){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,g)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.m=a;return c}(),E=function E(a){switch(arguments.length){case 2:return E.h(arguments[0],arguments[1]);case 3:return E.m(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}};E.h=function(a,b){return null!=a&&null!=a.U?a.U(a,b):Ea(a,b)};E.m=function(a,b,c){return null!=a&&null!=a.ja?a.ja(a,b,c):Ea(a,b,c)};E.ea=3;
function G(a){if(null!=a&&null!=a.Z)a=a.Z(a);else{var b=G[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=G._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ISeq.-first",a);}return a}function H(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=H[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=H._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ISeq.-rest",a);}return a}function Fa(){}function Ga(){}
var Ia=function(){function a(d,e,g){var h=Ha[t(null==d?null:d)];if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);h=Ha._;if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);throw z("ILookup.-lookup",d);}function b(d,e){var g=Ha[t(null==d?null:d)];if(null!=g)return g.h?g.h(d,e):g.call(null,d,e);g=Ha._;if(null!=g)return g.h?g.h(d,e):g.call(null,d,e);throw z("ILookup.-lookup",d);}var c=null;c=function(d,e,g){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,g)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.m=a;return c}(),Ha=function Ha(a){switch(arguments.length){case 2:return Ha.h(arguments[0],arguments[1]);case 3:return Ha.m(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}};Ha.h=function(a,b){return null!=a&&null!=a.ia?a.ia(a,b):Ia(a,b)};Ha.m=function(a,b,c){return null!=a&&null!=a.H?a.H(a,b,c):Ia(a,b,c)};Ha.ea=3;function Ja(){}
function Ka(a,b){if(null!=a&&null!=a.Ra)a=a.Ra(a,b);else{var c=Ka[t(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ka._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IAssociative.-contains-key?",a);}return a}function La(a,b,c){if(null!=a&&null!=a.wa)a=a.wa(a,b,c);else{var d=La[t(null==a?null:a)];if(null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=La._,null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else throw z("IAssociative.-assoc",a);}return a}function Ma(){}
function Na(a){if(null!=a&&null!=a.Bb)a=a.key;else{var b=Na[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Na._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IMapEntry.-key",a);}return a}function Oa(a){if(null!=a&&null!=a.Cb)a=a.val;else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IMapEntry.-val",a);}return a}function Pa(){}
function Qa(a){if(null!=a&&null!=a.wb)a=a.val;else{var b=Qa[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Qa._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IDeref.-deref",a);}return a}function Ra(){}function Sa(a){if(null!=a&&null!=a.N)a=a.N(a);else{var b=Sa[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Sa._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IMeta.-meta",a);}return a}
function Ta(a,b){if(null!=a&&null!=a.O)a=a.O(a,b);else{var c=Ta[t(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ta._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IWithMeta.-with-meta",a);}return a}function Ua(){}
var Wa=function(){function a(d,e,g){var h=Va[t(null==d?null:d)];if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);h=Va._;if(null!=h)return h.m?h.m(d,e,g):h.call(null,d,e,g);throw z("IReduce.-reduce",d);}function b(d,e){var g=Va[t(null==d?null:d)];if(null!=g)return g.h?g.h(d,e):g.call(null,d,e);g=Va._;if(null!=g)return g.h?g.h(d,e):g.call(null,d,e);throw z("IReduce.-reduce",d);}var c=null;c=function(d,e,g){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,g)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.m=a;return c}(),Va=function Va(a){switch(arguments.length){case 2:return Va.h(arguments[0],arguments[1]);case 3:return Va.m(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}};Va.h=function(a,b){return null!=a&&null!=a.X?a.X(a,b):Wa(a,b)};Va.m=function(a,b,c){return null!=a&&null!=a.Y?a.Y(a,b,c):Wa(a,b,c)};Va.ea=3;function Xa(){}
function Ya(a,b){if(null!=a&&null!=a.cb)a=a.cb(a,b,!0);else{var c=Ya[t(null==a?null:a)];if(null!=c)a=c.m?c.m(a,b,!0):c.call(null,a,b,!0);else if(c=Ya._,null!=c)a=c.m?c.m(a,b,!0):c.call(null,a,b,!0);else throw z("IKVReduce.-kv-reduce",a);}return a}function Za(a,b){if(null!=a&&null!=a.J)a=a.J(a,b);else{var c=Za[t(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Za._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IEquiv.-equiv",a);}return a}
function $a(a){if(null!=a&&null!=a.M)a=a.M(a);else{var b=$a[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$a._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IHash.-hash",a);}return a}function ab(){}function bb(a){if(null!=a&&null!=a.G)a=a.G(a);else{var b=bb[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=bb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ISeqable.-seq",a);}return a}function cb(){}function db(){}function eb(){}
function I(a,b){if(null!=a&&null!=a.sb)a=a.sb(a,b);else{var c=I[t(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=I._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("IWriter.-write",a);}return a}function fb(){}function gb(a,b,c){if(null!=a&&null!=a.I)a=a.I(a,b,c);else{var d=gb[t(null==a?null:a)];if(null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=gb._,null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else throw z("IPrintWithWriter.-pr-writer",a);}return a}
function hb(a){if(null!=a&&null!=a.Ua)a=a.Ua(a);else{var b=hb[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=hb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IEditableCollection.-as-transient",a);}return a}function ib(a,b){if(null!=a&&null!=a.Wa)a=a.Wa(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw z("ITransientCollection.-conj!",a);}return a}
function jb(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=jb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("ITransientCollection.-persistent!",a);}return a}function kb(a,b,c){if(null!=a&&null!=a.Sa)a=a.Sa(a,b,c);else{var d=kb[t(null==a?null:a)];if(null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else if(d=kb._,null!=d)a=d.m?d.m(a,b,c):d.call(null,a,b,c);else throw z("ITransientAssociative.-assoc!",a);}return a}
function lb(a){if(null!=a&&null!=a.nb)a=a.nb(a);else{var b=lb[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=lb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IChunk.-drop-first",a);}return a}function mb(a){if(null!=a&&null!=a.jb)a=a.jb(a);else{var b=mb[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=mb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-first",a);}return a}
function nb(a){if(null!=a&&null!=a.bb)a=a.bb(a);else{var b=nb[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=nb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-rest",a);}return a}function ob(){}function pb(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=pb[t(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=pb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw z("IIterable.-iterator",a);}return a}
function qb(a){this.Jb=a;this.j=1073741824;this.A=0}qb.prototype.sb=function(a,b){return this.Jb.append(b)};function rb(a){var b=new ha;a.I(null,new qb(b),la());return C.g(b)}var sb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function tb(a){a=sb(a|0,-862048943);return sb(a<<15|a>>>-15,461845907)}
function ub(a,b){a=(a|0)^(b|0);return sb(a<<13|a>>>-13,5)+-430675100|0}function vb(a,b){a=(a|0)^b;a=sb(a^a>>>16,-2048144789);a=sb(a^a>>>13,-1028477387);return a^a>>>16}function wb(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=ub(c,tb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return vb(1===(a.length&1)?b^tb(a.charCodeAt(a.length-1)):b,sb(2,a.length))}var xb={},yb=0;
function zb(a){255<yb&&(xb={},yb=0);if(null==a)return 0;var b=xb[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=sb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;xb[a]=b;yb+=1;a=b}return a}
function Ab(a){if(null!=a&&(a.j&4194304||v===a.Nb))return a.M(null)^0;if("number"===typeof a){if(isFinite(a)){if(Number.isSafeInteger(a))a=Math.floor(a)%2147483647;else{var b=new Float64Array(1);b[0]=a;b=b.buffer;a=(new DataView(b,0,4)).getInt32();b=(new DataView(b,4,4)).getInt32();a^=b}return a}switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=zb(a),a=0===a?a:vb(ub(0,tb(a)),4)):a=a instanceof
Date?a.valueOf()^0:null==a?0:$a(a)^0,a}function Bb(a,b){return a^b+2654435769+(a<<6)+(a>>2)}function Cb(a,b,c,d,e){this.ab=a;this.name=b;this.za=c;this.Qa=d;this.pa=e;this.j=2154168321;this.A=4096}f=Cb.prototype;f.toString=function(){return this.za};f.J=function(a,b){return b instanceof Cb?this.za===b.za:!1};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};f.g=function(a){return Db?Db(a,this):Eb.call(null,a,this)};f.h=function(a,b){return Fb?Fb(a,this,b):Eb.call(null,a,this,b)};f.N=function(){return this.pa};f.O=function(a,b){return new Cb(this.ab,this.name,this.za,this.Qa,b)};
f.M=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Bb(wb(this.name),zb(this.ab))};f.I=function(a,b){return I(b,this.za)};var Gb=function Gb(a){switch(arguments.length){case 1:return Gb.g(arguments[0]);case 2:return Gb.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}};
Gb.g=function(a){for(;;){if(a instanceof Cb)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Gb.h(null,a):Gb.h(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof J)a=a.ta;else throw Error("no conversion to symbol");}};Gb.h=function(a,b){var c=null!=a?[C.g(a),"/",C.g(b)].join(""):b;return new Cb(a,b,c,null,null)};Gb.ea=2;function Hb(a){return null!=a?a.A&131072||v===a.Ob?!0:a.A?!1:y(ob,a):y(ob,a)}
function M(a){if(null==a)return null;if(null!=a&&(a.j&8388608||v===a.Gb))return a.G(null);if(ua(a)||"string"===typeof a)return 0===a.length?null:new N(a,0,null);if(null!=a&&null!=a[wa])return a=(null!==a&&wa in a?a[wa]:void 0).call(a),Ib.g?Ib.g(a):Ib.call(null,a);if(y(ab,a))return bb(a);throw Error([C.g(a)," is not ISeqable"].join(""));}function O(a){if(null==a)return null;if(null!=a&&(a.j&64||v===a.eb))return a.Z(null);a=M(a);return null==a?null:G(a)}
function Jb(a){return null!=a?null!=a&&(a.j&64||v===a.eb)?a.da(null):(a=M(a))?a.da(null):P:P}function Q(a){return null==a?null:null!=a&&(a.j&128||v===a.Va)?a.V():M(Jb(a))}var R=function R(a){switch(arguments.length){case 1:return R.g(arguments[0]);case 2:return R.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new N(c.slice(2),0,null):null;return R.P(arguments[0],arguments[1],c)}};R.g=function(){return!0};
R.h=function(a,b){return null==a?null==b:a===b||Za(a,b)};R.P=function(a,b,c){for(;;)if(R.h(a,b))if(Q(c))a=b,b=O(c),c=Q(c);else return R.h(b,O(c));else return!1};R.$=function(a){var b=O(a),c=Q(a);a=O(c);c=Q(c);return this.P(b,a,c)};R.ea=2;function Kb(a){this.C=a}Kb.prototype.next=function(){if(null!=this.C){var a=O(this.C);this.C=Q(this.C);return{value:a,done:!1}}return{value:null,done:!0}};function Lb(a){return new Kb(M(a))}
function Mb(a,b){this.value=a;this.tb=b;this.gb=null;this.j=8388672;this.A=0}Mb.prototype.G=function(){return this};Mb.prototype.Z=function(){return this.value};Mb.prototype.da=function(){null==this.gb&&(this.gb=Ib.g?Ib.g(this.tb):Ib.call(null,this.tb));return this.gb};function Ib(a){var b=a.next();return w(b.done)?null:new Mb(b.value,a)}function Nb(a){var b=0,c=1;for(a=M(a);;)if(null!=a)b+=1,c=sb(31,c)+Ab(O(a))|0,a=Q(a);else return vb(ub(0,tb(c)),b)}var Ob=vb(ub(0,tb(1)),0);
function Pb(a){var b=0,c=0;for(a=M(a);;)if(null!=a)b+=1,c=c+Ab(O(a))|0,a=Q(a);else return vb(ub(0,tb(c)),b)}var Qb=vb(ub(0,tb(0)),0);ya["null"]=!0;za["null"]=function(){return 0};Date.prototype.J=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Za.number=function(a,b){return a===b};Ra["function"]=!0;Sa["function"]=function(){return null};$a._=function(a){return Object.prototype.hasOwnProperty.call(a,ba)&&a[ba]||(a[ba]=++ca)};function Rb(){this.val=!1;this.j=32768;this.A=0}
Rb.prototype.wb=function(){return this.val};function Sb(a){return a instanceof Rb}function Tb(a){return Qa(a)}function Ub(a,b){var c=a.length;if(0===a.length)return b.F?b.F():b.call(null);for(var d=a[0],e=1;;)if(e<c){var g=a[e];d=b.h?b.h(d,g):b.call(null,d,g);if(Sb(d))return Qa(d);e+=1}else return d}function Vb(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var g=a[c];e=b.h?b.h(e,g):b.call(null,e,g);if(Sb(e))return Qa(e);c+=1}else return e}
function Wb(a,b,c,d){for(var e=a.length;;)if(d<e){var g=a[d];c=b.h?b.h(c,g):b.call(null,c,g);if(Sb(c))return Qa(c);d+=1}else return c}function Xb(a){return null!=a?a.j&2||v===a.pb?!0:a.j?!1:y(ya,a):y(ya,a)}function Yb(a){return null!=a?a.j&16||v===a.qb?!0:a.j?!1:y(Da,a):y(Da,a)}function T(a,b,c){var d=U.g?U.g(a):U.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(R.h(Zb?Zb(a,c):$b.call(null,a,c),b))return c;c+=1}else return-1}
function V(a,b,c){var d=U.g?U.g(a):U.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(R.h(Zb?Zb(a,c):$b.call(null,a,c),b))return c;--c}else return-1}function ac(a,b){this.i=a;this.o=b}ac.prototype.ga=function(){return this.o<this.i.length};ac.prototype.next=function(){var a=this.i[this.o];this.o+=1;return a};function N(a,b,c){this.i=a;this.o=b;this.u=c;this.j=166592766;this.A=401408}f=N.prototype;f.toString=function(){return rb(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U.g?U.g(this):U.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.U=function(a,b){a=b+this.o;if(0<=a&&a<this.i.length)return this.i[a];throw Error("Index out of bounds");};f.ja=function(a,b,c){a=b+this.o;return 0<=a&&a<this.i.length?this.i[a]:c};
f.qa=function(){return new ac(this.i,this.o)};f.N=function(){return this.u};f.V=function(){return this.o+1<this.i.length?new N(this.i,this.o+1,null):null};f.S=function(){var a=this.i.length-this.o;return 0>a?0:a};f.M=function(){return Nb(this)};f.J=function(a,b){return bc.h?bc.h(this,b):bc.call(null,this,b)};f.T=function(){return P};f.X=function(a,b){return Wb(this.i,b,this.i[this.o],this.o+1)};f.Y=function(a,b,c){return Wb(this.i,b,c,this.o)};f.Z=function(){return this.i[this.o]};
f.da=function(){return this.o+1<this.i.length?new N(this.i,this.o+1,null):P};f.G=function(){return this.o<this.i.length?this:null};f.O=function(a,b){return b===this.u?this:new N(this.i,this.o,b)};f.R=function(a,b){return W.h?W.h(b,this):W.call(null,b,this)};N.prototype[wa]=function(){return Lb(this)};function cc(a){return 0<a.length?new N(a,0,null):null}Za._=function(a,b){return a===b};
var dc=function dc(a){switch(arguments.length){case 0:return dc.F();case 1:return dc.g(arguments[0]);case 2:return dc.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new N(c.slice(2),0,null):null;return dc.P(arguments[0],arguments[1],c)}};dc.F=function(){return ec};dc.g=function(a){return a};dc.h=function(a,b){return null!=a?Ca(a,b):new fc(null,b,null,1,null)};
dc.P=function(a,b,c){for(;;)if(w(c))a=dc.h(a,b),b=O(c),c=Q(c);else return dc.h(a,b)};dc.$=function(a){var b=O(a),c=Q(a);a=O(c);c=Q(c);return this.P(b,a,c)};dc.ea=2;function U(a){if(null!=a)if(null!=a&&(a.j&2||v===a.pb))a=a.S(null);else if(ua(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.j&8388608||v===a.Gb))a:{a=M(a);for(var b=0;;){if(Xb(a)){a=b+za(a);break a}a=Q(a);b+=1}}else a=za(a);else a=0;return a}
function gc(a,b,c){for(;;){if(null==a)return c;if(0===b)return M(a)?O(a):c;if(Yb(a))return E(a,b,c);if(M(a))a=Q(a),--b;else return c}}function $b(a){switch(arguments.length){case 2:return Zb(arguments[0],arguments[1]);case 3:return hc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}}
function Zb(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.j&16||v===a.qb))return a.U(null,b);if(ua(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.j&64||v===a.eb)||null!=a&&(a.j&16777216||v===a.rb)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(M(a)){a=O(a);break a}throw Error("Index out of bounds");}if(Yb(a)){a=E(a,b);break a}if(M(a))a=Q(a),--b;else throw Error("Index out of bounds");}return a}if(y(Da,a))return E(a,b);throw Error(["nth not supported on this type ",C.g(va(null==a?null:a.constructor))].join(""));}
function hc(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.j&16||v===a.qb))return a.ja(null,b,c);if(ua(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.j&64||v===a.eb)||null!=a&&(a.j&16777216||v===a.rb))return 0>b?c:gc(a,b,c);if(y(Da,a))return E(a,b,c);throw Error(["nth not supported on this type ",C.g(va(null==a?null:a.constructor))].join(""));}
function Eb(a){switch(arguments.length){case 2:return Db(arguments[0],arguments[1]);case 3:return Fb(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}}function Db(a,b){return null==a?null:null!=a&&(a.j&256||v===a.Ab)?a.ia(null,b):ua(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Ga,a)?Ha(a,b):null}
function Fb(a,b,c){return null!=a?null!=a&&(a.j&256||v===a.Ab)?a.H(null,b,c):ua(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Ga,a)?Ha(a,b,c):c:c}var ic=function ic(a){switch(arguments.length){case 3:return ic.m(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=3<c.length?new N(c.slice(3),0,null):null;return ic.P(arguments[0],arguments[1],arguments[2],c)}};
ic.m=function(a,b,c){if(null!=a&&(a.j&512||v===a.vb))a=a.wa(null,b,c);else if(null!=a)a=La(a,b,c);else{a=[b,c];b=a.length;c=1===(b&1);var d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var g=jc(a[d],a[e]);if(g){e=g;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}a=d?kc(a,c):new na(null,b/2,a,null)}return a};ic.P=function(a,b,c,d){for(;;)if(a=ic.m(a,b,c),w(d))b=O(d),c=O(Q(d)),d=Q(Q(d));else return a};
ic.$=function(a){var b=O(a),c=Q(a);a=O(c);var d=Q(c);c=O(d);d=Q(d);return this.P(b,a,c,d)};ic.ea=3;function lc(a,b){this.s=a;this.u=b;this.j=393217;this.A=0}f=lc.prototype;f.N=function(){return this.u};f.O=function(a,b){return new lc(this.s,b)};
f.call=function(a){switch(arguments.length-1){case 0:return this.F();case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);case 3:return this.m(arguments[1],arguments[2],arguments[3]);case 4:return this.ca(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ga(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ia(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ka(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],g=arguments[5],h=arguments[6],k=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],p=arguments[11],q=arguments[12],r=arguments[13],x=arguments[14],A=arguments[15],
B=arguments[16],F=arguments[17],K=arguments[18],S=arguments[19],ea=arguments[20],ma=arguments[21];return mc.yb?mc.yb(this.s,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S,ea,ma):mc.call(null,this.s,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S,ea,ma);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};f.F=function(){return this.s.F?this.s.F():this.s.call(null)};
f.g=function(a){return this.s.g?this.s.g(a):this.s.call(null,a)};f.h=function(a,b){return this.s.h?this.s.h(a,b):this.s.call(null,a,b)};f.m=function(a,b,c){return this.s.m?this.s.m(a,b,c):this.s.call(null,a,b,c)};f.ca=function(a,b,c,d){return this.s.ca?this.s.ca(a,b,c,d):this.s.call(null,a,b,c,d)};f.sa=function(a,b,c,d,e){return this.s.sa?this.s.sa(a,b,c,d,e):this.s.call(null,a,b,c,d,e)};f.La=function(a,b,c,d,e,g){return this.s.La?this.s.La(a,b,c,d,e,g):this.s.call(null,a,b,c,d,e,g)};
f.Ma=function(a,b,c,d,e,g,h){return this.s.Ma?this.s.Ma(a,b,c,d,e,g,h):this.s.call(null,a,b,c,d,e,g,h)};f.Na=function(a,b,c,d,e,g,h,k){return this.s.Na?this.s.Na(a,b,c,d,e,g,h,k):this.s.call(null,a,b,c,d,e,g,h,k)};f.Oa=function(a,b,c,d,e,g,h,k,l){return this.s.Oa?this.s.Oa(a,b,c,d,e,g,h,k,l):this.s.call(null,a,b,c,d,e,g,h,k,l)};f.Aa=function(a,b,c,d,e,g,h,k,l,m){return this.s.Aa?this.s.Aa(a,b,c,d,e,g,h,k,l,m):this.s.call(null,a,b,c,d,e,g,h,k,l,m)};
f.Ba=function(a,b,c,d,e,g,h,k,l,m,n){return this.s.Ba?this.s.Ba(a,b,c,d,e,g,h,k,l,m,n):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n)};f.Ca=function(a,b,c,d,e,g,h,k,l,m,n,p){return this.s.Ca?this.s.Ca(a,b,c,d,e,g,h,k,l,m,n,p):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n,p)};f.Da=function(a,b,c,d,e,g,h,k,l,m,n,p,q){return this.s.Da?this.s.Da(a,b,c,d,e,g,h,k,l,m,n,p,q):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n,p,q)};
f.Ea=function(a,b,c,d,e,g,h,k,l,m,n,p,q,r){return this.s.Ea?this.s.Ea(a,b,c,d,e,g,h,k,l,m,n,p,q,r):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n,p,q,r)};f.Fa=function(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x){return this.s.Fa?this.s.Fa(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n,p,q,r,x)};f.Ga=function(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A){return this.s.Ga?this.s.Ga(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A)};
f.Ha=function(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B){return this.s.Ha?this.s.Ha(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B)};f.Ia=function(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F){return this.s.Ia?this.s.Ia(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F)};
f.Ja=function(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K){return this.s.Ja?this.s.Ja(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K)};f.Ka=function(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S){return this.s.Ka?this.s.Ka(a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S):this.s.call(null,a,b,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S)};function nc(a,b){return"function"===typeof a?new lc(a,b):null==a?null:Ta(a,b)}
function oc(a){var b=null!=a;return(b?null!=a?a.j&131072||v===a.Db||(a.j?0:y(Ra,a)):y(Ra,a):b)?Sa(a):null}function pc(a){return null!=a?a.j&16777216||v===a.rb?!0:a.j?!1:y(cb,a):y(cb,a)}function qc(a){return null==a?!1:null!=a?a.j&1024||v===a.Qb?!0:a.j?!1:y(Ma,a):y(Ma,a)}function rc(a){return null!=a?a.j&67108864||v===a.Sb?!0:a.j?!1:y(eb,a):y(eb,a)}function sc(a){return null!=a?a.j&16384||v===a.Tb?!0:a.j?!1:y(Pa,a):y(Pa,a)}function tc(a){return null!=a?a.A&512||v===a.Lb?!0:!1:!1}
function uc(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var vc={};function wc(a){return null==a?!1:!1===a?!1:!0}function xc(a,b){return null!=a&&(a.j&512||v===a.vb)?a.Ra(null,b):y(Ja,a)?Ka(a,b):Fb(a,b,vc)===vc?!1:!0}function yc(a,b){var c=M(b);return c?(b=O(c),c=Q(c),zc?zc(a,b,c):Ac.call(null,a,b,c)):a.F?a.F():a.call(null)}function Bc(a,b,c){for(c=M(c);;)if(c){var d=O(c);b=a.h?a.h(b,d):a.call(null,b,d);if(Sb(b))return Qa(b);c=Q(c)}else return b}
function Cc(a,b){a=pb(a);if(w(a.ga()))for(var c=a.next();;)if(a.ga()){var d=a.next();c=b.h?b.h(c,d):b.call(null,c,d);if(Sb(c))return Qa(c)}else return c;else return b.F?b.F():b.call(null)}function Dc(a,b,c){for(a=pb(a);;)if(a.ga()){var d=a.next();c=b.h?b.h(c,d):b.call(null,c,d);if(Sb(c))return Qa(c)}else return c}
function Ac(a){switch(arguments.length){case 2:var b=arguments[0],c=arguments[1];return null!=c&&(c.j&524288||v===c.Fb)?c.X(null,b):ua(c)?Ub(c,b):"string"===typeof c?Ub(c,b):y(Ua,c)?Va(c,b):Hb(c)?Cc(c,b):yc(b,c);case 3:return zc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}}
function zc(a,b,c){return null!=c&&(c.j&524288||v===c.Fb)?c.Y(null,a,b):ua(c)?Vb(c,a,b):"string"===typeof c?Vb(c,a,b):y(Ua,c)?Va(c,a,b):Hb(c)?Dc(c,a,b):Bc(a,b,c)}function Ec(a,b){return(null!=b?b.j&1048576||v===b.zb||(b.j?0:y(Xa,b)):y(Xa,b))?Ya(b,a):zc(function(c,d){var e=Na(d);d=Oa(d);return a.m?a.m(c,e,d):a.call(null,c,e,d)},!0,b)}function Fc(a){return a}function Gc(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}
function Hc(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var C=function C(a){switch(arguments.length){case 0:return C.F();case 1:return C.g(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new N(c.slice(1),0,null):null;return C.P(arguments[0],c)}};C.F=function(){return""};C.g=function(a){return null==a?"":[a].join("")};
C.P=function(a,b){for(a=new ha(C.g(a));;)if(w(b))a=a.append(C.g(O(b))),b=Q(b);else return a.toString()};C.$=function(a){var b=O(a);a=Q(a);return this.P(b,a)};C.ea=1;function bc(a,b){if(pc(b))if(Xb(a)&&Xb(b)&&U(a)!==U(b))a=!1;else a:for(a=M(a),b=M(b);;){if(null==a){a=null==b;break a}if(null!=b&&R.h(O(a),O(b)))a=Q(a),b=Q(b);else{a=!1;break a}}else a=null;return wc(a)}function fc(a,b,c,d,e){this.u=a;this.first=b;this.ua=c;this.count=d;this.v=e;this.j=65937646;this.A=8192}f=fc.prototype;f.toString=function(){return rb(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.u};f.V=function(){return 1===this.count?null:this.ua};f.S=function(){return this.count};f.M=function(){var a=this.v;return null!=a?a:this.v=a=Nb(this)};f.J=function(a,b){return bc(this,b)};
f.T=function(){return Ta(P,this.u)};f.X=function(a,b){return yc(b,this)};f.Y=function(a,b,c){return Bc(b,c,this)};f.Z=function(){return this.first};f.da=function(){return 1===this.count?P:this.ua};f.G=function(){return this};f.O=function(a,b){return b===this.u?this:new fc(b,this.first,this.ua,this.count,this.v)};f.R=function(a,b){return new fc(this.u,b,this,this.count+1,null)};fc.prototype[wa]=function(){return Lb(this)};function Ic(a){this.u=a;this.j=65937614;this.A=8192}f=Ic.prototype;
f.toString=function(){return rb(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.u};f.V=function(){return null};f.S=function(){return 0};f.M=function(){return Ob};f.J=function(a,b){return(null!=b?b.j&33554432||v===b.Pb||(b.j?0:y(db,b)):y(db,b))||pc(b)?null==M(b):!1};f.T=function(){return this};
f.X=function(a,b){return yc(b,this)};f.Y=function(a,b,c){return Bc(b,c,this)};f.Z=function(){return null};f.da=function(){return P};f.G=function(){return null};f.O=function(a,b){return b===this.u?this:new Ic(b)};f.R=function(a,b){return new fc(this.u,b,null,1,null)};var P=new Ic(null);Ic.prototype[wa]=function(){return Lb(this)};function Jc(a,b,c,d){this.u=a;this.first=b;this.ua=c;this.v=d;this.j=65929452;this.A=8192}f=Jc.prototype;f.toString=function(){return rb(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.u};f.V=function(){return null==this.ua?null:M(this.ua)};f.M=function(){var a=this.v;return null!=a?a:this.v=a=Nb(this)};f.J=function(a,b){return bc(this,b)};f.T=function(){return P};
f.X=function(a,b){return yc(b,this)};f.Y=function(a,b,c){return Bc(b,c,this)};f.Z=function(){return this.first};f.da=function(){return null==this.ua?P:this.ua};f.G=function(){return this};f.O=function(a,b){return b===this.u?this:new Jc(b,this.first,this.ua,this.v)};f.R=function(a,b){return new Jc(null,b,this,null)};Jc.prototype[wa]=function(){return Lb(this)};function W(a,b){return null==b?new fc(null,a,null,1,null):null!=b&&(b.j&64||v===b.eb)?new Jc(null,a,b,null):new Jc(null,a,M(b),null)}
function J(a,b,c,d){this.ab=a;this.name=b;this.ta=c;this.Qa=d;this.j=2153775105;this.A=4096}f=J.prototype;f.toString=function(){return[":",C.g(this.ta)].join("")};f.J=function(a,b){return b instanceof J?this.ta===b.ta:!1};f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};
f.g=function(a){return Db(a,this)};f.h=function(a,b){return Fb(a,this,b)};f.M=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Bb(wb(this.name),zb(this.ab))+2654435769|0};f.I=function(a,b){return I(b,[":",C.g(this.ta)].join(""))};function Kc(a){if(null!=a&&(a.A&4096||v===a.Eb))return a.ab;throw Error(["Doesn't support namespace: ",C.g(a)].join(""));}
var Lc=function Lc(a){switch(arguments.length){case 1:return Lc.g(arguments[0]);case 2:return Lc.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}};Lc.g=function(a){if(a instanceof J)return a;if(a instanceof Cb)return new J(Kc(a),Mc.g?Mc.g(a):Mc.call(null,a),a.za,null);if(R.h("/",a))return new J(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new J(b[0],b[1],a,null):new J(null,b[0],a,null)}return null};
Lc.h=function(a,b){a=a instanceof J?Mc.g?Mc.g(a):Mc.call(null,a):a instanceof Cb?Mc.g?Mc.g(a):Mc.call(null,a):a;b=b instanceof J?Mc.g?Mc.g(b):Mc.call(null,b):b instanceof Cb?Mc.g?Mc.g(b):Mc.call(null,b):b;return new J(a,b,[w(a)?[C.g(a),"/"].join(""):null,C.g(b)].join(""),null)};Lc.ea=2;function Nc(a,b,c){this.u=a;this.Xa=b;this.C=null;this.v=c;this.j=32374988;this.A=1}f=Nc.prototype;f.toString=function(){return rb(this)};
function Oc(a){null!=a.Xa&&(a.C=a.Xa.F?a.Xa.F():a.Xa.call(null),a.Xa=null);return a.C}f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.u};f.V=function(){this.G(null);return null==this.C?null:Q(this.C)};f.M=function(){var a=this.v;return null!=a?a:this.v=a=Nb(this)};f.J=function(a,b){return bc(this,b)};f.T=function(){return Ta(P,this.u)};
f.X=function(a,b){return yc(b,this)};f.Y=function(a,b,c){return Bc(b,c,this)};f.Z=function(){this.G(null);return null==this.C?null:O(this.C)};f.da=function(){this.G(null);return null!=this.C?Jb(this.C):P};f.G=function(){Oc(this);if(null==this.C)return null;for(var a=this.C;;)if(a instanceof Nc)a=Oc(a);else return this.C=a,M(this.C)};f.O=function(a,b){var c=this;return b===this.u?c:new Nc(b,function(){return c.G(null)},this.v)};f.R=function(a,b){return W(b,this)};Nc.prototype[wa]=function(){return Lb(this)};
function Pc(a){this.ib=a;this.end=0;this.j=2;this.A=0}Pc.prototype.add=function(a){this.ib[this.end]=a;return this.end+=1};Pc.prototype.ra=function(){var a=new Qc(this.ib,0,this.end);this.ib=null;return a};Pc.prototype.S=function(){return this.end};function Qc(a,b,c){this.i=a;this.off=b;this.end=c;this.j=524306;this.A=0}f=Qc.prototype;f.S=function(){return this.end-this.off};f.U=function(a,b){return this.i[this.off+b]};f.ja=function(a,b,c){return 0<=b&&b<this.end-this.off?this.i[this.off+b]:c};
f.nb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Qc(this.i,this.off+1,this.end)};f.X=function(a,b){return Wb(this.i,b,this.i[this.off],this.off+1)};f.Y=function(a,b,c){return Wb(this.i,b,c,this.off)};function Rc(a,b,c,d){this.ra=a;this.ma=b;this.u=c;this.v=d;this.j=31850732;this.A=1536}f=Rc.prototype;f.toString=function(){return rb(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.u};f.V=function(){return 1<za(this.ra)?new Rc(lb(this.ra),this.ma,null,null):null==this.ma?null:bb(this.ma)};f.M=function(){var a=this.v;return null!=a?a:this.v=a=Nb(this)};
f.J=function(a,b){return bc(this,b)};f.T=function(){return P};f.Z=function(){return E(this.ra,0)};f.da=function(){return 1<za(this.ra)?new Rc(lb(this.ra),this.ma,null,null):null==this.ma?P:this.ma};f.G=function(){return this};f.jb=function(){return this.ra};f.bb=function(){return null==this.ma?P:this.ma};f.O=function(a,b){return b===this.u?this:new Rc(this.ra,this.ma,b,this.v)};f.R=function(a,b){return W(b,this)};f.ob=function(){return null==this.ma?null:this.ma};Rc.prototype[wa]=function(){return Lb(this)};
function Sc(a,b){return 0===za(a)?b:new Rc(a,b,null,null)}function Tc(a,b){a.add(b)}function Uc(a,b){if(Xb(b))return U(b);var c=0;for(b=M(b);;)if(null!=b&&c<a)c+=1,b=Q(b);else return c}var Vc=function Vc(a){if(null==a)return null;var c=Q(a);return null==c?M(O(a)):W(O(a),Vc.g?Vc.g(c):Vc.call(null,c))};
function Wc(a,b,c){var d=M(c);if(0===b)return a.F?a.F():a.call(null);c=G(d);var e=H(d);if(1===b)return a.g?a.g(c):a.call(null,c);d=G(e);var g=H(e);if(2===b)return a.h?a.h(c,d):a.call(null,c,d);e=G(g);var h=H(g);if(3===b)return a.m?a.m(c,d,e):a.call(null,c,d,e);g=G(h);var k=H(h);if(4===b)return a.ca?a.ca(c,d,e,g):a.call(null,c,d,e,g);h=G(k);var l=H(k);if(5===b)return a.sa?a.sa(c,d,e,g,h):a.call(null,c,d,e,g,h);k=G(l);var m=H(l);if(6===b)return a.La?a.La(c,d,e,g,h,k):a.call(null,c,d,e,g,h,k);l=G(m);
var n=H(m);if(7===b)return a.Ma?a.Ma(c,d,e,g,h,k,l):a.call(null,c,d,e,g,h,k,l);m=G(n);var p=H(n);if(8===b)return a.Na?a.Na(c,d,e,g,h,k,l,m):a.call(null,c,d,e,g,h,k,l,m);n=G(p);var q=H(p);if(9===b)return a.Oa?a.Oa(c,d,e,g,h,k,l,m,n):a.call(null,c,d,e,g,h,k,l,m,n);p=G(q);var r=H(q);if(10===b)return a.Aa?a.Aa(c,d,e,g,h,k,l,m,n,p):a.call(null,c,d,e,g,h,k,l,m,n,p);q=G(r);var x=H(r);if(11===b)return a.Ba?a.Ba(c,d,e,g,h,k,l,m,n,p,q):a.call(null,c,d,e,g,h,k,l,m,n,p,q);r=G(x);var A=H(x);if(12===b)return a.Ca?
a.Ca(c,d,e,g,h,k,l,m,n,p,q,r):a.call(null,c,d,e,g,h,k,l,m,n,p,q,r);x=G(A);var B=H(A);if(13===b)return a.Da?a.Da(c,d,e,g,h,k,l,m,n,p,q,r,x):a.call(null,c,d,e,g,h,k,l,m,n,p,q,r,x);A=G(B);var F=H(B);if(14===b)return a.Ea?a.Ea(c,d,e,g,h,k,l,m,n,p,q,r,x,A):a.call(null,c,d,e,g,h,k,l,m,n,p,q,r,x,A);B=G(F);var K=H(F);if(15===b)return a.Fa?a.Fa(c,d,e,g,h,k,l,m,n,p,q,r,x,A,B):a.call(null,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B);F=G(K);var S=H(K);if(16===b)return a.Ga?a.Ga(c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F):a.call(null,
c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F);K=G(S);var ea=H(S);if(17===b)return a.Ha?a.Ha(c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K):a.call(null,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K);S=G(ea);var ma=H(ea);if(18===b)return a.Ia?a.Ia(c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S):a.call(null,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S);ea=G(ma);ma=H(ma);if(19===b)return a.Ja?a.Ja(c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S,ea):a.call(null,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S,ea);var Vd=G(ma);H(ma);if(20===b)return a.Ka?a.Ka(c,d,e,g,h,k,l,m,n,p,q,r,
x,A,B,F,K,S,ea,Vd):a.call(null,c,d,e,g,h,k,l,m,n,p,q,r,x,A,B,F,K,S,ea,Vd);throw Error("Only up to 20 arguments supported on functions");}function Xc(a){return null!=a&&(a.j&128||v===a.Va)?a.V():M(Jb(a))}function Yc(a,b,c){return null==c?a.g?a.g(b):a.call(a,b):Zc(a,b,G(c),Xc(c))}function Zc(a,b,c,d){return null==d?a.h?a.h(b,c):a.call(a,b,c):$c(a,b,c,G(d),Xc(d))}function $c(a,b,c,d,e){return null==e?a.m?a.m(b,c,d):a.call(a,b,c,d):ad(a,b,c,d,G(e),Xc(e))}
function ad(a,b,c,d,e,g){if(null==g)return a.ca?a.ca(b,c,d,e):a.call(a,b,c,d,e);var h=G(g),k=Q(g);if(null==k)return a.sa?a.sa(b,c,d,e,h):a.call(a,b,c,d,e,h);g=G(k);var l=Q(k);if(null==l)return a.La?a.La(b,c,d,e,h,g):a.call(a,b,c,d,e,h,g);k=G(l);var m=Q(l);if(null==m)return a.Ma?a.Ma(b,c,d,e,h,g,k):a.call(a,b,c,d,e,h,g,k);l=G(m);var n=Q(m);if(null==n)return a.Na?a.Na(b,c,d,e,h,g,k,l):a.call(a,b,c,d,e,h,g,k,l);m=G(n);var p=Q(n);if(null==p)return a.Oa?a.Oa(b,c,d,e,h,g,k,l,m):a.call(a,b,c,d,e,h,g,k,l,
m);n=G(p);var q=Q(p);if(null==q)return a.Aa?a.Aa(b,c,d,e,h,g,k,l,m,n):a.call(a,b,c,d,e,h,g,k,l,m,n);p=G(q);var r=Q(q);if(null==r)return a.Ba?a.Ba(b,c,d,e,h,g,k,l,m,n,p):a.call(a,b,c,d,e,h,g,k,l,m,n,p);q=G(r);var x=Q(r);if(null==x)return a.Ca?a.Ca(b,c,d,e,h,g,k,l,m,n,p,q):a.call(a,b,c,d,e,h,g,k,l,m,n,p,q);r=G(x);var A=Q(x);if(null==A)return a.Da?a.Da(b,c,d,e,h,g,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,g,k,l,m,n,p,q,r);x=G(A);var B=Q(A);if(null==B)return a.Ea?a.Ea(b,c,d,e,h,g,k,l,m,n,p,q,r,x):a.call(a,b,
c,d,e,h,g,k,l,m,n,p,q,r,x);A=G(B);var F=Q(B);if(null==F)return a.Fa?a.Fa(b,c,d,e,h,g,k,l,m,n,p,q,r,x,A):a.call(a,b,c,d,e,h,g,k,l,m,n,p,q,r,x,A);B=G(F);var K=Q(F);if(null==K)return a.Ga?a.Ga(b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B):a.call(a,b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B);F=G(K);var S=Q(K);if(null==S)return a.Ha?a.Ha(b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B,F):a.call(a,b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B,F);K=G(S);var ea=Q(S);if(null==ea)return a.Ia?a.Ia(b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B,F,K):a.call(a,b,c,d,e,h,g,k,l,m,
n,p,q,r,x,A,B,F,K);S=G(ea);var ma=Q(ea);if(null==ma)return a.Ja?a.Ja(b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B,F,K,S):a.call(a,b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B,F,K,S);ea=G(ma);ma=Q(ma);if(null==ma)return a.Ka?a.Ka(b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B,F,K,S,ea):a.call(a,b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B,F,K,S,ea);b=[b,c,d,e,h,g,k,l,m,n,p,q,r,x,A,B,F,K,S,ea];for(c=ma;;)if(c)b.push(G(c)),c=Q(c);else break;return a.apply(a,b)}
function mc(a){switch(arguments.length){case 2:return bd(arguments[0],arguments[1]);case 3:return cd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.$?(c=W(c,W(d,e)),d=b.ea,e=2+Uc(d-1,e),b=e<=d?Wc(b,e,c):b.$(c)):b=Zc(b,c,d,M(e));return b;case 5:b=arguments[0];c=arguments[1];d=arguments[2];var g=arguments[3];e=arguments[4];b.$?(c=W(c,W(d,W(g,e))),d=b.ea,e=3+Uc(d-2,e),b=e<=d?Wc(b,e,c):b.$(c)):b=$c(b,c,d,g,M(e));return b;default:b=
[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;e=5<b.length?new N(b.slice(5),0,null):null;b=arguments[0];c=arguments[1];d=arguments[2];g=arguments[3];var h=arguments[4];b.$?(e=Vc(e),c=W(c,W(d,W(g,W(h,e)))),d=b.ea,e=4+Uc(d-3,e),b=e<=d?Wc(b,e,c):b.$(c)):b=ad(b,c,d,g,h,Vc(e));return b}}function bd(a,b){if(a.$){var c=a.ea,d=Uc(c+1,b);return d<=c?Wc(a,d,b):a.$(b)}b=M(b);return null==b?a.F?a.F():a.call(a):Yc(a,G(b),Xc(b))}
function cd(a,b,c){if(a.$){b=W(b,c);var d=a.ea;c=Uc(d,c)+1;return c<=d?Wc(a,c,b):a.$(b)}return Yc(a,b,M(c))}function dd(a){this.Ib=a;this.j=393216;this.A=0}f=dd.prototype;f.O=function(a,b){return new dd(b)};f.N=function(){return this.Ib};f.ga=function(){return!1};f.next=function(){return Error("No such element")};f.remove=function(){return Error("Unsupported operation")};function ed(a,b){for(;;){if(null==M(b))return!0;var c=O(b);c=a.g?a.g(c):a.call(null,c);if(w(c))b=Q(b);else return!1}}
var X=function X(a){switch(arguments.length){case 1:return X.g(arguments[0]);case 2:return X.h(arguments[0],arguments[1]);case 3:return X.m(arguments[0],arguments[1],arguments[2]);case 4:return X.ca(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new N(c.slice(4),0,null):null;return X.P(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
X.g=function(a){return function(b){return function(){function c(k,l){l=a.g?a.g(l):a.call(null,l);return b.h?b.h(k,l):b.call(null,k,l)}function d(k){return b.g?b.g(k):b.call(null,k)}function e(){return b.F?b.F():b.call(null)}var g=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new N(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=cd(a,n,p);return b.h?b.h(m,n):b.call(null,m,n)}k.ea=2;k.$=function(m){var n=
O(m);m=Q(m);var p=O(m);m=Jb(m);return l(n,p,m)};k.P=l;return k}();g=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new N(p,0,null)}return h.P(k,l,n)}throw Error("Invalid arity: "+arguments.length);};g.ea=2;g.$=h.$;g.F=e;g.g=d;g.h=c;g.P=h.P;return g}()}};
X.h=function(a,b){return new Nc(null,function(){var c=M(b);if(c){if(tc(c)){for(var d=mb(c),e=U(d),g=new Pc(Array(e)),h=0;;)if(h<e)Tc(g,function(){var k=E(d,h);return a.g?a.g(k):a.call(null,k)}()),h+=1;else break;return Sc(g.ra(),X.h(a,nb(c)))}return W(function(){var k=O(c);return a.g?a.g(k):a.call(null,k)}(),X.h(a,Jb(c)))}return null},null)};
X.m=function(a,b,c){return new Nc(null,function(){var d=M(b),e=M(c);if(d&&e){var g=O(d);var h=O(e);g=a.h?a.h(g,h):a.call(null,g,h);d=W(g,X.m(a,Jb(d),Jb(e)))}else d=null;return d},null)};X.ca=function(a,b,c,d){return new Nc(null,function(){var e=M(b),g=M(c),h=M(d);if(e&&g&&h){var k=O(e);var l=O(g),m=O(h);k=a.m?a.m(k,l,m):a.call(null,k,l,m);e=W(k,X.ca(a,Jb(e),Jb(g),Jb(h)))}else e=null;return e},null)};
X.P=function(a,b,c,d,e){return X.h(function(g){return bd(a,g)},function k(h){return new Nc(null,function(){var l=X.h(M,h);return ed(Fc,l)?W(X.h(O,l),k(X.h(Jb,l))):null},null)}(dc.P(e,d,cc([c,b]))))};X.$=function(a){var b=O(a),c=Q(a);a=O(c);var d=Q(c);c=O(d);var e=Q(d);d=O(e);e=Q(e);return this.P(b,a,c,d,e)};X.ea=4;function fd(a,b){return null!=a?null!=a&&(a.A&4||v===a.Mb)?Ta(jb(zc(ib,hb(a),b)),oc(a)):zc(Ca,a,b):zc(dc,a,b)}function gd(a,b){this.D=a;this.i=b}
function hd(a){return new gd(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function id(a){a=a.l;return 32>a?0:a-1>>>5<<5}function jd(a,b,c){for(;;){if(0===b)return c;var d=hd(a);d.i[0]=c;c=d;b-=5}}var kd=function kd(a,b,c,d){var g=new gd(c.D,D(c.i)),h=a.l-1>>>b&31;5===b?g.i[h]=d:(c=c.i[h],null!=c?(b-=5,a=kd.ca?kd.ca(a,b,c,d):kd.call(null,a,b,c,d)):a=jd(null,b-5,d),g.i[h]=a);return g};
function ld(a,b){if(b>=id(a))return a.ba;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.i[b>>>a&31];a=d}else return c.i}function md(a,b){if(0<=b&&b<a.l)b=ld(a,b);else throw a=a.l,Error(["No item ",C.g(b)," in vector of length ",C.g(a)].join(""));return b}var nd=function nd(a,b,c,d,e){var h=new gd(c.D,D(c.i));if(0===b)h.i[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.i[k];a=nd.sa?nd.sa(a,b,c,d,e):nd.call(null,a,b,c,d,e);h.i[k]=a}return h};
function od(a,b,c){this.hb=this.o=0;this.i=a;this.Kb=b;this.start=0;this.end=c}od.prototype.ga=function(){return this.o<this.end};od.prototype.next=function(){32===this.o-this.hb&&(this.i=ld(this.Kb,this.o),this.hb+=32);var a=this.i[this.o&31];this.o+=1;return a};function pd(a,b,c,d){return c<d?qd(a,b,Zb(a,c),c+1,d):b.F?b.F():b.call(null)}
function qd(a,b,c,d,e){var g=c;c=d;for(d=ld(a,d);;)if(c<e){var h=c&31;d=0===h?ld(a,c):d;h=d[h];g=b.h?b.h(g,h):b.call(null,g,h);if(Sb(g))return Qa(g);c+=1}else return g}function Y(a,b,c,d,e,g){this.u=a;this.l=b;this.shift=c;this.root=d;this.ba=e;this.v=g;this.j=167666463;this.A=401412}f=Y.prototype;f.toString=function(){return rb(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.ia=function(a,b){return this.H(null,b,null)};f.H=function(a,b,c){return"number"===typeof b?this.ja(null,b,c):c};
f.cb=function(a,b,c){a=0;for(var d=c;;)if(a<this.l){var e=ld(this,a);c=e.length;a:for(var g=0;;)if(g<c){var h=g+a,k=e[g];d=b.m?b.m(d,h,k):b.call(null,d,h,k);if(Sb(d)){e=d;break a}g+=1}else{e=d;break a}if(Sb(e))return Qa(e);a+=c;d=e}else return d};f.U=function(a,b){return md(this,b)[b&31]};f.ja=function(a,b,c){return 0<=b&&b<this.l?ld(this,b)[b&31]:c};
f.kb=function(a,b){if(0<=a&&a<this.l){if(id(this)<=a){var c=D(this.ba);c[a&31]=b;return new Y(this.u,this.l,this.shift,this.root,c,null)}return new Y(this.u,this.l,this.shift,nd(this,this.shift,this.root,a,b),this.ba,null)}if(a===this.l)return this.R(null,b);throw Error(["Index ",C.g(a)," out of bounds  [0,",C.g(this.l),"]"].join(""));};f.qa=function(){var a=this.l;return new od(0<U(this)?ld(this,0):null,this,a)};f.N=function(){return this.u};f.S=function(){return this.l};
f.M=function(){var a=this.v;return null!=a?a:this.v=a=Nb(this)};f.J=function(a,b){if(b instanceof Y)if(this.l===U(b))for(a=this.qa(null),b=b.qa(null);;)if(a.ga()){var c=a.next(),d=b.next();if(!R.h(c,d))return!1}else return!0;else return!1;else return bc(this,b)};f.Ua=function(){return new rd(this.l,this.shift,sd.g?sd.g(this.root):sd.call(null,this.root),td.g?td.g(this.ba):td.call(null,this.ba))};f.T=function(){return Ta(ec,this.u)};f.X=function(a,b){return pd(this,b,0,this.l)};
f.Y=function(a,b,c){a=0;for(var d=c;;)if(a<this.l){var e=ld(this,a);c=e.length;a:for(var g=0;;)if(g<c){var h=e[g];d=b.h?b.h(d,h):b.call(null,d,h);if(Sb(d)){e=d;break a}g+=1}else{e=d;break a}if(Sb(e))return Qa(e);a+=c;d=e}else return d};f.wa=function(a,b,c){if("number"===typeof b)return this.kb(b,c);throw Error("Vector's key for assoc must be a number.");};f.Ra=function(a,b){return"number"!==typeof b||isNaN(b)||Infinity===b||parseFloat(b)!==parseInt(b,10)?!1:0<=b&&b<this.l};
f.G=function(){if(0===this.l)return null;if(32>=this.l)return new N(this.ba,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.i[0];else{a=a.i;break a}}return ud?ud(this,a,0,0):vd.call(null,this,a,0,0)};f.O=function(a,b){return b===this.u?this:new Y(b,this.l,this.shift,this.root,this.ba,this.v)};
f.R=function(a,b){if(32>this.l-id(this)){a=this.ba.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.ba[d],d+=1;else break;c[a]=b;return new Y(this.u,this.l+1,this.shift,this.root,c,null)}a=(c=this.l>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=hd(null),c.i[0]=this.root,d=jd(null,this.shift,new gd(null,this.ba)),c.i[1]=d):c=kd(this,this.shift,this.root,new gd(null,this.ba));return new Y(this.u,this.l+1,a,c,[b],null)};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};f.g=function(a){if("number"===typeof a)return this.U(null,a);throw Error("Key must be integer");};
var wd=new gd(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),ec=new Y(null,0,5,wd,[],Ob);Y.prototype[wa]=function(){return Lb(this)};function xd(a,b,c,d,e){this.ha=a;this.node=b;this.o=c;this.off=d;this.u=e;this.v=null;this.j=32375020;this.A=263680}f=xd.prototype;f.toString=function(){return rb(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.u};f.V=function(){if(this.off+1<this.node.length){var a=this.ha;var b=this.node,c=this.o,d=this.off+1;a=ud?ud(a,b,c,d):vd.call(null,a,b,c,d);return null==a?null:a}return this.ob()};
f.M=function(){var a=this.v;return null!=a?a:this.v=a=Nb(this)};f.J=function(a,b){return bc(this,b)};f.T=function(){return P};f.X=function(a,b){return pd(this.ha,b,this.o+this.off,U(this.ha))};f.Y=function(a,b,c){return qd(this.ha,b,c,this.o+this.off,U(this.ha))};f.Z=function(){return this.node[this.off]};f.da=function(){if(this.off+1<this.node.length){var a=this.ha;var b=this.node,c=this.o,d=this.off+1;a=ud?ud(a,b,c,d):vd.call(null,a,b,c,d);return null==a?P:a}return this.bb(null)};f.G=function(){return this};
f.jb=function(){var a=this.node;return new Qc(a,this.off,a.length)};f.bb=function(){var a=this.o+this.node.length;if(a<za(this.ha)){var b=this.ha,c=ld(this.ha,a);return ud?ud(b,c,a,0):vd.call(null,b,c,a,0)}return P};f.O=function(a,b){return b===this.u?this:yd?yd(this.ha,this.node,this.o,this.off,b):vd.call(null,this.ha,this.node,this.o,this.off,b)};f.R=function(a,b){return W(b,this)};
f.ob=function(){var a=this.o+this.node.length;if(a<za(this.ha)){var b=this.ha,c=ld(this.ha,a);return ud?ud(b,c,a,0):vd.call(null,b,c,a,0)}return null};xd.prototype[wa]=function(){return Lb(this)};
function vd(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new xd(b,md(b,c),c,d,null);case 4:return ud(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return yd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}}function ud(a,b,c,d){return new xd(a,b,c,d,null)}function yd(a,b,c,d,e){return new xd(a,b,c,d,e)}
function zd(a,b){return a===b.D?b:new gd(a,D(b.i))}function sd(a){return new gd({},D(a.i))}function td(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];uc(a,0,b,0,a.length);return b}var Ad=function Ad(a,b,c,d){c=zd(a.root.D,c);var g=a.l-1>>>b&31;if(5===b)a=d;else{var h=c.i[g];null!=h?(b-=5,a=Ad.ca?Ad.ca(a,b,h,d):Ad.call(null,a,b,h,d)):a=jd(a.root.D,b-5,d)}c.i[g]=a;return c};
function rd(a,b,c,d){this.l=a;this.shift=b;this.root=c;this.ba=d;this.A=88;this.j=275}f=rd.prototype;
f.Wa=function(a,b){if(this.root.D){if(32>this.l-id(this))this.ba[this.l&31]=b;else{a=new gd(this.root.D,this.ba);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.ba=c;this.l>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=jd(this.root.D,this.shift,a),this.root=new gd(this.root.D,b),this.shift=c):this.root=Ad(this,this.shift,this.root,a)}this.l+=1;return this}throw Error("conj! after persistent!");};f.fb=function(){if(this.root.D){this.root.D=null;var a=this.l-id(this),b=Array(a);uc(this.ba,0,b,0,a);return new Y(null,this.l,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
f.Sa=function(a,b,c){if("number"===typeof b)return Bd(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Bd(a,b,c){if(a.root.D){if(0<=b&&b<a.l){if(id(a)<=b)a.ba[b&31]=c;else{var d=function k(g,h){h=zd(a.root.D,h);if(0===g)h.i[b&31]=c;else{var l=b>>>g&31;g=k(g-5,h.i[l]);h.i[l]=g}return h}(a.shift,a.root);a.root=d}return a}if(b===a.l)return a.Wa(null,c);throw Error(["Index ",C.g(b)," out of bounds for TransientVector of length",C.g(a.l)].join(""));}throw Error("assoc! after persistent!");}f.S=function(){if(this.root.D)return this.l;throw Error("count after persistent!");};
f.U=function(a,b){if(this.root.D)return md(this,b)[b&31];throw Error("nth after persistent!");};f.ja=function(a,b,c){return 0<=b&&b<this.l?this.U(null,b):c};f.ia=function(a,b){return this.H(null,b,null)};f.H=function(a,b,c){if(this.root.D)return"number"===typeof b?this.ja(null,b,c):c;throw Error("lookup after persistent!");};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};f.g=function(a){return this.ia(null,a)};f.h=function(a,b){return this.H(null,a,b)};function Cd(){this.j=2097152;this.A=0}Cd.prototype.J=function(){return!1};var Dd=new Cd;
function Ed(a,b){return wc(qc(b)&&!rc(b)?U(a)===U(b)?(null!=a?a.j&1048576||v===a.zb||(a.j?0:y(Xa,a)):y(Xa,a))?Ec(function(c,d,e){return R.h(Fb(b,d,Dd),e)?!0:new Rb},a):ed(function(c){return R.h(Fb(b,O(c),Dd),O(Q(c)))},a):null:null)}function Fd(a){this.C=a}Fd.prototype.next=function(){if(null!=this.C){var a=O(this.C),b=hc(a,0,null);a=hc(a,1,null);this.C=Q(this.C);return{value:[b,a],done:!1}}return{value:null,done:!0}};
function Gd(a,b){if(b instanceof J)a:{var c=a.length;b=b.ta;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof J&&b===a[d].ta){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Cb)a:for(c=a.length,b=b.za,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Cb&&b===a[d].za){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(R.h(b,a[d])){a=d;break a}d+=2}return a}function Hd(a,b){this.key=a;this.val=b;this.v=null;this.j=166619935;this.A=0}f=Hd.prototype;f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.ia=function(a,b){return this.ja(null,b,null)};f.H=function(a,b,c){return this.ja(null,b,c)};f.U=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
f.ja=function(a,b,c){return 0===b?this.key:1===b?this.val:c};f.kb=function(a,b){return(new Y(null,2,5,wd,[this.key,this.val],null)).kb(a,b)};f.N=function(){return null};f.S=function(){return 2};f.Bb=function(){return this.key};f.Cb=function(){return this.val};f.M=function(){var a=this.v;return null!=a?a:this.v=a=Nb(this)};f.J=function(a,b){return bc(this,b)};f.T=function(){return null};
f.X=function(a,b){a:if(a=this.S(null),0===a)b=b.F?b.F():b.call(null);else for(var c=this.U(null,0),d=1;;)if(d<a){var e=this.U(null,d);c=b.h?b.h(c,e):b.call(null,c,e);if(Sb(c)){b=Qa(c);break a}d+=1}else{b=c;break a}return b};f.Y=function(a,b,c){a:{a=this.S(null);var d=c;for(c=0;;)if(c<a){var e=this.U(null,c);d=b.h?b.h(d,e):b.call(null,d,e);if(Sb(d)){b=Qa(d);break a}c+=1}else{b=d;break a}}return b};f.wa=function(a,b,c){return ic.m(new Y(null,2,5,wd,[this.key,this.val],null),b,c)};
f.Ra=function(a,b){return 0===b||1===b};f.G=function(){return new N([this.key,this.val],0,null)};f.O=function(a,b){return nc(new Y(null,2,5,wd,[this.key,this.val],null),b)};f.R=function(a,b){return new Y(null,3,5,wd,[this.key,this.val,b],null)};f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};
f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};f.g=function(a){return this.U(null,a)};f.h=function(a,b){return this.ja(null,a,b)};function Id(a){return null!=a?a.j&2048||v===a.Rb?!0:!1:!1}function Jd(a,b,c){this.i=a;this.o=b;this.pa=c;this.j=32374990;this.A=262144}f=Jd.prototype;f.toString=function(){return rb(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.pa};f.V=function(){return this.o<this.i.length-2?new Jd(this.i,this.o+2,null):null};f.S=function(){return(this.i.length-this.o)/2};f.M=function(){return Nb(this)};f.J=function(a,b){return bc(this,b)};
f.T=function(){return P};f.X=function(a,b){return yc(b,this)};f.Y=function(a,b,c){return Bc(b,c,this)};f.Z=function(){return new Hd(this.i[this.o],this.i[this.o+1])};f.da=function(){return this.o<this.i.length-2?new Jd(this.i,this.o+2,null):P};f.G=function(){return this};f.O=function(a,b){return b===this.pa?this:new Jd(this.i,this.o,b)};f.R=function(a,b){return W(b,this)};Jd.prototype[wa]=function(){return Lb(this)};function Kd(a,b){this.i=a;this.o=0;this.l=b}
Kd.prototype.ga=function(){return this.o<this.l};Kd.prototype.next=function(){var a=new Hd(this.i[this.o],this.i[this.o+1]);this.o+=2;return a};function na(a,b,c,d){this.u=a;this.l=b;this.i=c;this.v=d;this.j=16647951;this.A=401412}f=na.prototype;f.toString=function(){return rb(this)};f.keys=function(){return Lb(Ld.g?Ld.g(this):Ld.call(null,this))};f.entries=function(){return new Fd(M(M(this)))};f.values=function(){return Lb(Md.g?Md.g(this):Md.call(null,this))};f.has=function(a){return xc(this,a)};
f.get=function(a,b){return this.H(null,a,b)};f.forEach=function(a){for(var b=M(this),c=null,d=0,e=0;;)if(e<d){var g=c.U(null,e),h=hc(g,0,null);g=hc(g,1,null);a.h?a.h(g,h):a.call(null,g,h);e+=1}else if(b=M(b))tc(b)?(c=mb(b),b=nb(b),h=c,d=U(c),c=h):(c=O(b),h=hc(c,0,null),g=hc(c,1,null),a.h?a.h(g,h):a.call(null,g,h),b=Q(b),c=null,d=0),e=0;else return null};f.ia=function(a,b){return this.H(null,b,null)};f.H=function(a,b,c){a=Gd(this.i,b);return-1===a?c:this.i[a+1]};
f.cb=function(a,b,c){a=this.i.length;for(var d=0;;)if(d<a){var e=this.i[d],g=this.i[d+1];c=b.m?b.m(c,e,g):b.call(null,c,e,g);if(Sb(c))return Qa(c);d+=2}else return c};f.qa=function(){return new Kd(this.i,2*this.l)};f.N=function(){return this.u};f.S=function(){return this.l};f.M=function(){var a=this.v;return null!=a?a:this.v=a=Pb(this)};
f.J=function(a,b){if(qc(b)&&!rc(b))if(a=this.i.length,this.l===b.S(null))for(var c=0;;)if(c<a){var d=b.H(null,this.i[c],vc);if(d!==vc)if(R.h(this.i[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};f.Ua=function(){return new Nd(this.i.length,D(this.i))};f.T=function(){return Ta(Od,this.u)};f.X=function(a,b){return Cc(this,b)};f.Y=function(a,b,c){return Dc(this,b,c)};
f.wa=function(a,b,c){a=Gd(this.i,b);if(-1===a){if(this.l<Pd){a=this.i;for(var d=a.length,e=Array(d+2),g=0;;)if(g<d)e[g]=a[g],g+=1;else break;e[d]=b;e[d+1]=c;return new na(this.u,this.l+1,e,null)}return Ta(La(fd(Qd,this),b,c),this.u)}if(c===this.i[a+1])return this;b=D(this.i);b[a+1]=c;return new na(this.u,this.l,b,null)};f.Ra=function(a,b){return-1!==Gd(this.i,b)};f.G=function(){var a=this.i;return 0<=a.length-2?new Jd(a,0,null):null};
f.O=function(a,b){return b===this.u?this:new na(b,this.l,this.i,this.v)};f.R=function(a,b){if(sc(b))return this.wa(null,E(b,0),E(b,1));a=this;for(b=M(b);;){if(null==b)return a;var c=O(b);if(sc(c))a=La(a,E(c,0),E(c,1)),b=Q(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};f.g=function(a){return this.ia(null,a)};f.h=function(a,b){return this.H(null,a,b)};var Od=new na(null,0,[],Qb),Pd=8;function jc(a,b){return a===b?!0:a===b||a instanceof J&&b instanceof J&&a.ta===b.ta?!0:R.h(a,b)}
function Rd(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=jc(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function Sd(a,b){var c=a.length-1,d=M(b);b=Array(c+2*U(d));a=uc(a,0,b,0,c);for(b=c;;)if(d){var e=O(d);a[b]=Na(e);a[b+1]=Oa(e);b=2+c;d=Q(d)}else return a}
function kc(a,b){var c=b?Sd(a,fd(Od,a[a.length-1])):a;a=Rd(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,g=0;;)if(e<d)(function(){for(var h=0;;)if(h<g){var k=jc(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=g,e=2+e,g=b):(b=function(){for(var h=d-2;;)if(h>=e){if(jc(c[e],c[h]))return h;h-=2}else return h}(),a[g]=c[e],a[g+1]=c[b+1],b=2+g,e=2+e,g=b);else break;return new na(null,a.length/2,a,null)}return new na(null,c.length/2,c,null)}na.prototype[wa]=function(){return Lb(this)};
function Nd(a,b){this.Ta={};this.len=a;this.i=b;this.j=259;this.A=56}f=Nd.prototype;f.S=function(){if(this.Ta)return Gc(this.len);throw Error("count after persistent!");};f.ia=function(a,b){return this.H(null,b,null)};f.H=function(a,b,c){if(this.Ta)return a=Gd(this.i,b),-1===a?c:this.i[a+1];throw Error("lookup after persistent!");};
f.Wa=function(a,b){if(this.Ta){if(Id(b))return this.Sa(null,Td.g?Td.g(b):Td.call(null,b),Ud.g?Ud.g(b):Ud.call(null,b));if(sc(b))return this.Sa(null,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));a=M(b);for(b=this;;){var c=O(a);if(w(c))a=Q(a),b=kb(b,Td.g?Td.g(c):Td.call(null,c),Ud.g?Ud.g(c):Ud.call(null,c));else return b}}else throw Error("conj! after persistent!");};f.fb=function(){if(this.Ta)return this.Ta=!1,new na(null,Gc(this.len),this.i,null);throw Error("persistent! called twice");};
f.Sa=function(a,b,c){if(this.Ta){a=Gd(this.i,b);if(-1===a){if(this.len+2<=2*Pd)return this.len+=2,this.i.push(b),this.i.push(c),this;a=Wd.h?Wd.h(this.len,this.i):Wd.call(null,this.len,this.i);return kb(a,b,c)}c!==this.i[a+1]&&(this.i[a+1]=c);return this}throw Error("assoc! after persistent!");};f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};
f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};f.g=function(a){return this.H(null,a,null)};f.h=function(a,b){return this.H(null,a,b)};function Wd(a,b){for(var c=hb(Qd),d=0;;)if(d<a)c=kb(c,b[d],b[d+1]),d+=2;else return c}function Xd(){this.val=!1}function Yd(a,b,c){a=D(a);a[b]=c;return a}function Zd(a,b,c,d){a=a.Pa(b);a.i[c]=d;return a}
function $d(a,b,c){for(var d=a.length,e=0,g=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.m?b.m(g,c,h):b.call(null,g,c,h)}else c=a[e+1],c=null!=c?c.Za(b,g):g;if(Sb(c))return c;e+=2;g=c}else return g}function ae(a){this.i=a;this.o=0;this.na=this.$a=null}ae.prototype.advance=function(){for(var a=this.i.length;;)if(this.o<a){var b=this.i[this.o],c=this.i[this.o+1];null!=b?b=this.$a=new Hd(b,c):null!=c?(b=pb(c),b=b.ga()?this.na=b:!1):b=!1;this.o+=2;if(b)return!0}else return!1};
ae.prototype.ga=function(){var a=null!=this.$a;return a?a:(a=null!=this.na)?a:this.advance()};ae.prototype.next=function(){if(null!=this.$a){var a=this.$a;this.$a=null;return a}if(null!=this.na)return a=this.na.next(),this.na.ga()||(this.na=null),a;if(this.advance())return this.next();throw Error("No such element");};ae.prototype.remove=function(){return Error("Unsupported operation")};function be(a,b,c){this.D=a;this.K=b;this.i=c;this.A=131072;this.j=0}f=be.prototype;
f.Pa=function(a){if(a===this.D)return this;var b=Hc(this.K),c=Array(0>b?4:2*(b+1));uc(this.i,0,c,0,2*b);return new be(a,this.K,c)};f.Ya=function(){return ce?ce(this.i):de.call(null,this.i)};f.Za=function(a,b){return $d(this.i,a,b)};f.ya=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.K&e))return d;var g=Hc(this.K&e-1);e=this.i[2*g];g=this.i[2*g+1];return null==e?g.ya(a+5,b,c,d):jc(c,e)?g:d};
f.la=function(a,b,c,d,e,g){var h=1<<(c>>>b&31),k=Hc(this.K&h-1);if(0===(this.K&h)){var l=Hc(this.K);if(2*l<this.i.length){a=this.Pa(a);b=a.i;g.val=!0;c=2*(l-k);g=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[g],--l,--c,--g;b[2*k]=d;b[2*k+1]=e;a.K|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=ee.la(a,b+5,c,d,e,g);for(e=d=0;;)if(32>d)0===(this.K>>>d&1)?
d+=1:(k[d]=null!=this.i[e]?ee.la(a,b+5,Ab(this.i[e]),this.i[e],this.i[e+1],g):this.i[e+1],e+=2,d+=1);else break;return new fe(a,l+1,k)}b=Array(2*(l+4));uc(this.i,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;uc(this.i,2*k,b,2*(k+1),2*(l-k));g.val=!0;a=this.Pa(a);a.i=b;a.K|=h;return a}l=this.i[2*k];h=this.i[2*k+1];if(null==l)return l=h.la(a,b+5,c,d,e,g),l===h?this:Zd(this,a,2*k+1,l);if(jc(d,l))return e===h?this:Zd(this,a,2*k+1,e);g.val=!0;g=b+5;d=ge?ge(a,g,l,h,c,d,e):he.call(null,a,g,l,h,c,d,e);e=2*k;k=2*k+1;a=this.Pa(a);
a.i[e]=null;a.i[k]=d;return a};
f.ka=function(a,b,c,d,e){var g=1<<(b>>>a&31),h=Hc(this.K&g-1);if(0===(this.K&g)){var k=Hc(this.K);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=ee.ka(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.K>>>c&1)?c+=1:(h[c]=null!=this.i[d]?ee.ka(a+5,Ab(this.i[d]),this.i[d],this.i[d+1],e):this.i[d+1],d+=2,c+=1);else break;return new fe(null,k+1,h)}a=Array(2*(k+1));uc(this.i,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;uc(this.i,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new be(null,this.K|g,a)}var l=this.i[2*h];g=this.i[2*h+1];if(null==l)return k=g.ka(a+5,b,c,d,e),k===g?this:new be(null,this.K,Yd(this.i,2*h+1,k));if(jc(c,l))return d===g?this:new be(null,this.K,Yd(this.i,2*h+1,d));e.val=!0;e=this.K;k=this.i;a+=5;a=ie?ie(a,l,g,b,c,d):he.call(null,a,l,g,b,c,d);c=2*h;h=2*h+1;d=D(k);d[c]=null;d[h]=a;return new be(null,e,d)};f.qa=function(){return new ae(this.i)};var ee=new be(null,0,[]);
function je(a){this.i=a;this.o=0;this.na=null}je.prototype.ga=function(){for(var a=this.i.length;;){if(null!=this.na&&this.na.ga())return!0;if(this.o<a){var b=this.i[this.o];this.o+=1;null!=b&&(this.na=pb(b))}else return!1}};je.prototype.next=function(){if(this.ga())return this.na.next();throw Error("No such element");};je.prototype.remove=function(){return Error("Unsupported operation")};function fe(a,b,c){this.D=a;this.l=b;this.i=c;this.A=131072;this.j=0}f=fe.prototype;
f.Pa=function(a){return a===this.D?this:new fe(a,this.l,D(this.i))};f.Ya=function(){return ke?ke(this.i):le.call(null,this.i)};f.Za=function(a,b){for(var c=this.i.length,d=0;;)if(d<c){var e=this.i[d];if(null!=e){b=e.Za(a,b);if(Sb(b))return b;d+=1}else d+=1}else return b};f.ya=function(a,b,c,d){var e=this.i[b>>>a&31];return null!=e?e.ya(a+5,b,c,d):d};
f.la=function(a,b,c,d,e,g){var h=c>>>b&31,k=this.i[h];if(null==k)return a=Zd(this,a,h,ee.la(a,b+5,c,d,e,g)),a.l+=1,a;b=k.la(a,b+5,c,d,e,g);return b===k?this:Zd(this,a,h,b)};f.ka=function(a,b,c,d,e){var g=b>>>a&31,h=this.i[g];if(null==h)return new fe(null,this.l+1,Yd(this.i,g,ee.ka(a+5,b,c,d,e)));a=h.ka(a+5,b,c,d,e);return a===h?this:new fe(null,this.l,Yd(this.i,g,a))};f.qa=function(){return new je(this.i)};function me(a,b,c){b*=2;for(var d=0;;)if(d<b){if(jc(c,a[d]))return d;d+=2}else return-1}
function ne(a,b,c,d){this.D=a;this.xa=b;this.l=c;this.i=d;this.A=131072;this.j=0}f=ne.prototype;f.Pa=function(a){if(a===this.D)return this;var b=Array(2*(this.l+1));uc(this.i,0,b,0,2*this.l);return new ne(a,this.xa,this.l,b)};f.Ya=function(){return ce?ce(this.i):de.call(null,this.i)};f.Za=function(a,b){return $d(this.i,a,b)};f.ya=function(a,b,c,d){a=me(this.i,this.l,c);return 0>a?d:jc(c,this.i[a])?this.i[a+1]:d};
f.la=function(a,b,c,d,e,g){if(c===this.xa){b=me(this.i,this.l,d);if(-1===b){if(this.i.length>2*this.l)return b=2*this.l,c=2*this.l+1,a=this.Pa(a),a.i[b]=d,a.i[c]=e,g.val=!0,a.l+=1,a;c=this.i.length;b=Array(c+2);uc(this.i,0,b,0,c);b[c]=d;b[c+1]=e;g.val=!0;d=this.l+1;a===this.D?(this.i=b,this.l=d,a=this):a=new ne(this.D,this.xa,d,b);return a}return this.i[b+1]===e?this:Zd(this,a,b+1,e)}return(new be(a,1<<(this.xa>>>b&31),[null,this,null,null])).la(a,b,c,d,e,g)};
f.ka=function(a,b,c,d,e){return b===this.xa?(a=me(this.i,this.l,c),-1===a?(a=2*this.l,b=Array(a+2),uc(this.i,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new ne(null,this.xa,this.l+1,b)):R.h(this.i[a+1],d)?this:new ne(null,this.xa,this.l,Yd(this.i,a+1,d))):(new be(null,1<<(this.xa>>>a&31),[null,this])).ka(a,b,c,d,e)};f.qa=function(){return new ae(this.i)};
function he(a){switch(arguments.length){case 6:return ie(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return ge(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}}function ie(a,b,c,d,e,g){var h=Ab(b);if(h===d)return new ne(null,h,2,[b,c,e,g]);var k=new Xd;return ee.ka(a,h,b,c,k).ka(a,d,e,g,k)}
function ge(a,b,c,d,e,g,h){var k=Ab(c);if(k===e)return new ne(null,k,2,[c,d,g,h]);var l=new Xd;return ee.la(a,b,k,c,d,l).la(a,b,e,g,h,l)}function oe(a,b,c,d,e){this.u=a;this.oa=b;this.o=c;this.C=d;this.v=e;this.j=32374988;this.A=0}f=oe.prototype;f.toString=function(){return rb(this)};
f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.u};f.V=function(){if(null==this.C){var a=this.oa,b=this.o+2;return pe?pe(a,b,null):de.call(null,a,b,null)}a=this.oa;b=this.o;var c=Q(this.C);return pe?pe(a,b,c):de.call(null,a,b,c)};
f.M=function(){var a=this.v;return null!=a?a:this.v=a=Nb(this)};f.J=function(a,b){return bc(this,b)};f.T=function(){return P};f.X=function(a,b){return yc(b,this)};f.Y=function(a,b,c){return Bc(b,c,this)};f.Z=function(){return null==this.C?new Hd(this.oa[this.o],this.oa[this.o+1]):O(this.C)};
f.da=function(){var a=this,b=null==a.C?function(){var c=a.oa,d=a.o+2;return pe?pe(c,d,null):de.call(null,c,d,null)}():function(){var c=a.oa,d=a.o,e=Q(a.C);return pe?pe(c,d,e):de.call(null,c,d,e)}();return null!=b?b:P};f.G=function(){return this};f.O=function(a,b){return b===this.u?this:new oe(b,this.oa,this.o,this.C,this.v)};f.R=function(a,b){return W(b,this)};oe.prototype[wa]=function(){return Lb(this)};
function de(a){switch(arguments.length){case 1:return ce(arguments[0]);case 3:return pe(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}}function ce(a){return pe(a,0,null)}function pe(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new oe(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.Ya(),w(d)))return new oe(null,a,b+2,d,null);b+=2}else return null;else return new oe(null,a,b,c,null)}
function qe(a,b,c,d,e){this.u=a;this.oa=b;this.o=c;this.C=d;this.v=e;this.j=32374988;this.A=0}f=qe.prototype;f.toString=function(){return rb(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.u};f.V=function(){var a=this.oa,b=this.o,c=Q(this.C);return re?re(a,b,c):le.call(null,a,b,c)};f.M=function(){var a=this.v;return null!=a?a:this.v=a=Nb(this)};f.J=function(a,b){return bc(this,b)};
f.T=function(){return P};f.X=function(a,b){return yc(b,this)};f.Y=function(a,b,c){return Bc(b,c,this)};f.Z=function(){return O(this.C)};f.da=function(){var a=this.oa;var b=this.o,c=Q(this.C);a=re?re(a,b,c):le.call(null,a,b,c);return null!=a?a:P};f.G=function(){return this};f.O=function(a,b){return b===this.u?this:new qe(b,this.oa,this.o,this.C,this.v)};f.R=function(a,b){return W(b,this)};qe.prototype[wa]=function(){return Lb(this)};
function le(a){switch(arguments.length){case 1:return ke(arguments[0]);case 3:return re(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length)].join(""));}}function ke(a){return re(a,0,null)}function re(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.Ya(),w(d)))return new qe(null,a,b+1,d,null);b+=1}else return null;else return new qe(null,a,b,c,null)}function se(a,b){this.aa=a;this.ub=b;this.mb=!1}
se.prototype.ga=function(){return!this.mb||this.ub.ga()};se.prototype.next=function(){if(this.mb)return this.ub.next();this.mb=!0;return new Hd(null,this.aa)};se.prototype.remove=function(){return Error("Unsupported operation")};function te(a,b,c,d,e,g){this.u=a;this.l=b;this.root=c;this.fa=d;this.aa=e;this.v=g;this.j=16123663;this.A=139268}f=te.prototype;f.toString=function(){return rb(this)};f.keys=function(){return Lb(Ld.g?Ld.g(this):Ld.call(null,this))};f.entries=function(){return new Fd(M(M(this)))};
f.values=function(){return Lb(Md.g?Md.g(this):Md.call(null,this))};f.has=function(a){return xc(this,a)};f.get=function(a,b){return this.H(null,a,b)};f.forEach=function(a){for(var b=M(this),c=null,d=0,e=0;;)if(e<d){var g=c.U(null,e),h=hc(g,0,null);g=hc(g,1,null);a.h?a.h(g,h):a.call(null,g,h);e+=1}else if(b=M(b))tc(b)?(c=mb(b),b=nb(b),h=c,d=U(c),c=h):(c=O(b),h=hc(c,0,null),g=hc(c,1,null),a.h?a.h(g,h):a.call(null,g,h),b=Q(b),c=null,d=0),e=0;else return null};f.ia=function(a,b){return this.H(null,b,null)};
f.H=function(a,b,c){return null==b?this.fa?this.aa:c:null==this.root?c:this.root.ya(0,Ab(b),b,c)};f.cb=function(a,b,c){a=this.fa?b.m?b.m(c,null,this.aa):b.call(null,c,null,this.aa):c;Sb(a)?b=Qa(a):null!=this.root?(b=this.root.Za(b,a),b=Sb(b)?Tb.g?Tb.g(b):Tb.call(null,b):b):b=a;return b};f.qa=function(){var a=this.root?pb(this.root):new dd(Od);return this.fa?new se(this.aa,a):a};f.N=function(){return this.u};f.S=function(){return this.l};f.M=function(){var a=this.v;return null!=a?a:this.v=a=Pb(this)};
f.J=function(a,b){return Ed(this,b)};f.Ua=function(){return new ue(this.root,this.l,this.fa,this.aa)};f.T=function(){return Ta(Qd,this.u)};f.wa=function(a,b,c){if(null==b)return this.fa&&c===this.aa?this:new te(this.u,this.fa?this.l:this.l+1,this.root,!0,c,null);a=new Xd;b=(null==this.root?ee:this.root).ka(0,Ab(b),b,c,a);return b===this.root?this:new te(this.u,a.val?this.l+1:this.l,b,this.fa,this.aa,null)};f.Ra=function(a,b){return null==b?this.fa:null==this.root?!1:this.root.ya(0,Ab(b),b,vc)!==vc};
f.G=function(){if(0<this.l){var a=null!=this.root?this.root.Ya():null;return this.fa?W(new Hd(null,this.aa),a):a}return null};f.O=function(a,b){return b===this.u?this:new te(b,this.l,this.root,this.fa,this.aa,this.v)};f.R=function(a,b){if(sc(b))return this.wa(null,E(b,0),E(b,1));a=this;for(b=M(b);;){if(null==b)return a;var c=O(b);if(sc(c))a=La(a,E(c,0),E(c,1)),b=Q(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};f.g=function(a){return this.ia(null,a)};f.h=function(a,b){return this.H(null,a,b)};var Qd=new te(null,0,null,!1,null,Qb);te.prototype[wa]=function(){return Lb(this)};
function ue(a,b,c,d){this.D={};this.root=a;this.count=b;this.fa=c;this.aa=d;this.j=259;this.A=56}function ve(a,b,c){if(a.D){if(null==b)a.aa!==c&&(a.aa=c),a.fa||(a.count+=1,a.fa=!0);else{var d=new Xd;b=(null==a.root?ee:a.root).la(a.D,0,Ab(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}f=ue.prototype;f.S=function(){if(this.D)return this.count;throw Error("count after persistent!");};
f.ia=function(a,b){return null==b?this.fa?this.aa:null:null==this.root?null:this.root.ya(0,Ab(b),b)};f.H=function(a,b,c){return null==b?this.fa?this.aa:c:null==this.root?c:this.root.ya(0,Ab(b),b,c)};
f.Wa=function(a,b){a:if(this.D)if(Id(b))a=ve(this,Td.g?Td.g(b):Td.call(null,b),Ud.g?Ud.g(b):Ud.call(null,b));else if(sc(b))a=ve(this,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));else for(a=M(b),b=this;;){var c=O(a);if(w(c))a=Q(a),b=ve(b,Td.g?Td.g(c):Td.call(null,c),Ud.g?Ud.g(c):Ud.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
f.fb=function(){if(this.D){this.D=null;var a=new te(null,this.count,this.root,this.fa,this.aa,null)}else throw Error("persistent! called twice");return a};f.Sa=function(a,b,c){return ve(this,b,c)};f.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.g(arguments.length-1)].join(""));}};f.apply=function(a,b){return this.call.apply(this,[this].concat(D(b)))};
f.g=function(a){return this.ia(null,a)};f.h=function(a,b){return this.H(null,a,b)};function we(a,b){this.B=a;this.pa=b;this.j=32374988;this.A=0}f=we.prototype;f.toString=function(){return rb(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.pa};f.V=function(){var a=(null!=this.B?this.B.j&128||v===this.B.Va||(this.B.j?0:y(Fa,this.B)):y(Fa,this.B))?this.B.V():Q(this.B);return null==a?null:new we(a,null)};f.M=function(){return Nb(this)};
f.J=function(a,b){return bc(this,b)};f.T=function(){return P};f.X=function(a,b){return yc(b,this)};f.Y=function(a,b,c){return Bc(b,c,this)};f.Z=function(){return this.B.Z(null).key};f.da=function(){var a=(null!=this.B?this.B.j&128||v===this.B.Va||(this.B.j?0:y(Fa,this.B)):y(Fa,this.B))?this.B.V():Q(this.B);return null!=a?new we(a,null):P};f.G=function(){return this};f.O=function(a,b){return b===this.pa?this:new we(this.B,b)};f.R=function(a,b){return W(b,this)};we.prototype[wa]=function(){return Lb(this)};
function Ld(a){return(a=M(a))?new we(a,null):null}function Td(a){return Na(a)}function xe(a,b){this.B=a;this.pa=b;this.j=32374988;this.A=0}f=xe.prototype;f.toString=function(){return rb(this)};f.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return T(this,b,0);case 2:return T(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return T(this,b,0)};a.h=function(b,c){return T(this,b,c)};return a}();
f.lastIndexOf=function(){function a(c){return V(this,c,U(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return V(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return V(this,c,d)};return b}();f.N=function(){return this.pa};f.V=function(){var a=(null!=this.B?this.B.j&128||v===this.B.Va||(this.B.j?0:y(Fa,this.B)):y(Fa,this.B))?this.B.V():Q(this.B);return null==a?null:new xe(a,null)};f.M=function(){return Nb(this)};
f.J=function(a,b){return bc(this,b)};f.T=function(){return P};f.X=function(a,b){return yc(b,this)};f.Y=function(a,b,c){return Bc(b,c,this)};f.Z=function(){return this.B.Z(null).val};f.da=function(){var a=(null!=this.B?this.B.j&128||v===this.B.Va||(this.B.j?0:y(Fa,this.B)):y(Fa,this.B))?this.B.V():Q(this.B);return null!=a?new xe(a,null):P};f.G=function(){return this};f.O=function(a,b){return b===this.pa?this:new xe(this.B,b)};f.R=function(a,b){return W(b,this)};xe.prototype[wa]=function(){return Lb(this)};
function Md(a){return(a=M(a))?new xe(a,null):null}function Ud(a){return Oa(a)}function Mc(a){if(null!=a&&(a.A&4096||v===a.Eb))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",C.g(a)].join(""));}
function ye(a,b,c,d,e,g,h){var k=ka;ka=null==ka?null:ka-1;try{if(null!=ka&&0>ka)return I(a,"#");I(a,c);if(0===sa.g(g))M(h)&&I(a,function(){var r=ze.g(g);return w(r)?r:"..."}());else{if(M(h)){var l=O(h);b.m?b.m(l,a,g):b.call(null,l,a,g)}for(var m=Q(h),n=sa.g(g)-1;;)if(!m||null!=n&&0===n){M(m)&&0===n&&(I(a,d),I(a,function(){var r=ze.g(g);return w(r)?r:"..."}()));break}else{I(a,d);var p=O(m);c=a;h=g;b.m?b.m(p,c,h):b.call(null,p,c,h);var q=Q(m);c=n-1;m=q;n=c}}return I(a,e)}finally{ka=k}}
function Ae(a,b){b=M(b);for(var c=null,d=0,e=0;;)if(e<d){var g=c.U(null,e);I(a,g);e+=1}else if(b=M(b))c=b,tc(c)?(b=mb(c),d=nb(c),c=b,g=U(b),b=d,d=g):(g=O(c),I(a,g),b=Q(c),c=null,d=0),e=0;else return null}function Be(a){if(null==ia)throw Error("No *print-fn* fn set for evaluation environment");ia.call(null,a)}var Ce={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function De(a){return['"',C.g(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return Ce[b]})),'"'].join("")}function Ee(a,b){return(a=wc(Db(a,qa)))?(a=null!=b?b.j&131072||v===b.Db?!0:!1:!1)?null!=oc(b):a:a}
function Fe(a,b,c){if(null==a)return I(b,"nil");if(Ee(c,a)){I(b,"^");var d=oc(a);Z.m?Z.m(d,b,c):Z.call(null,d,b,c);I(b," ")}if(a.Hb)return a.Ub(a,b,c);if(null!=a?a.j&2147483648||v===a.W||(a.j?0:y(fb,a)):y(fb,a))return gb(a,b,c);if(!0===a||!1===a)return I(b,C.g(a));if("number"===typeof a)return I(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":C.g(a));if(null!=a&&a.constructor===Object)return I(b,"#js "),d=X.h(function(g){var h=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;
if("string"===typeof g)if(h=h.exec(g),null!=h&&R.h(h[0],g))if(1===h.length)h=h[0];else if(w(Id.g?Id.g(h):Id.call(null,h)))h=new Y(null,2,5,wd,[Td.g?Td.g(h):Td.call(null,h),Ud.g?Ud.g(h):Ud.call(null,h)],null);else if(sc(h))h=nc(h,null);else if(ua(h))b:{var k=h.length;if(32>k)h=new Y(null,k,5,wd,h,null);else for(var l=h.slice(0,32),m=32,n=(new Y(null,32,5,wd,l,null)).Ua(null);;)if(m<k)l=m+1,n=ib(n,h[m]),m=l;else{h=jb(n);break b}}else h=jb(zc(ib,hb(ec),h));else h=null;else throw new TypeError("re-matches must match against a string.");
return new Hd(null!=h?Lc.g(g):g,a[g])},da(a)),Ge.ca?Ge.ca(d,Z,b,c):Ge.call(null,d,Z,b,c);if(ua(a))return ye(b,Z,"#js ["," ","]",c,a);if("string"===typeof a)return w(pa.g(c))?I(b,De(a)):I(b,a);if("function"===typeof a){var e=a.name;c=w(function(){var g=null==e;return g?g:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Ae(b,cc(["#object[",c,w(!1)?[' "',C.g(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(g,h){for(g=C.g(g);;)if(g.length<h)g=["0",g].join("");else return g},Ae(b,cc(['#inst "',
c(a.getUTCFullYear(),4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Ae(b,cc(['#"',a.source,'"']));if(xa(a))return Ae(b,cc(["#object[",a.toString(),"]"]));if(w(function(){var g=null==a?null:a.constructor;return null==g?null:g.lb}()))return Ae(b,cc(["#object[",a.constructor.lb.replace(RegExp("/","g"),"."),"]"]));e=function(){var g=null==
a?null:a.constructor;return null==g?null:g.name}();c=w(function(){var g=null==e;return g?g:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Ae(b,cc(["#object[",c,"]"])):Ae(b,cc(["#object[",c," ",C.g(a),"]"]))}function Z(a,b,c){var d=He.g(c);return w(d)?(c=ic.m(c,Ie,Fe),d.m?d.m(a,b,c):d.call(null,a,b,c)):Fe(a,b,c)}
function Je(a){var b=ic.m(la(),pa,!1);if(null==a)var c=!0;else(null!=a?a.j&2||v===a.pb||(a.j?0:y(ya,a)):y(ya,a))?c=0===za(a):(c=M(a),c=null==c?!0:!1===c?!0:!1);if(c)b="";else{c=C;var d=c.g,e=new ha,g=new qb(e);Z(O(a),g,b);a=M(Q(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.U(null,l);I(g," ");Z(m,g,b);l+=1}else if(a=M(a))h=a,tc(h)?(a=mb(h),k=nb(h),h=a,m=U(a),a=k,k=m):(m=O(h),I(g," "),Z(m,g,b),a=Q(h),h=null,k=0),l=0;else break;b=d.call(c,e)}Be(b);w(ja)&&(b=la(),Be("\n"),Db(b,oa))}
function Ke(a){return a instanceof Cb?Gb.h(null,Mc(a)):Lc.h(null,Mc(a))}
function Le(a){if(w(!1)){var b=M(a),c=M(b),d=O(c);Q(c);hc(d,0,null);hc(d,1,null);c=null==a?null:null!=a&&(a.j&4||v===a.xb)?a.T(null):(null!=a?a.j&4||v===a.xb||(a.j?0:y(Aa,a)):y(Aa,a))?Ba(a):null;for(a=null;;){d=a;b=M(b);a=O(b);var e=Q(b),g=a;a=hc(g,0,null);b=hc(g,1,null);if(w(g))if(a instanceof J||a instanceof Cb)if(w(d))if(R.h(d,Kc(a)))c=ic.m(c,Ke(a),b),a=d,b=e;else return null;else if(d=Kc(a),w(d))c=ic.m(c,Ke(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,wd,[d,c],null)}}else return null}
function Me(a,b,c,d,e){return ye(d,function(g,h,k){var l=Na(g);c.m?c.m(l,h,k):c.call(null,l,h,k);I(h," ");g=Oa(g);return c.m?c.m(g,h,k):c.call(null,g,h,k)},[C.g(a),"{"].join(""),", ","}",e,M(b))}function Ge(a,b,c,d){var e=qc(a)?Le(a):null,g=hc(e,0,null);e=hc(e,1,null);return w(g)?Me(["#:",C.g(g)].join(""),e,b,c,d):Me(null,a,b,c,d)}N.prototype.W=v;N.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};Nc.prototype.W=v;Nc.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};
Hd.prototype.W=v;Hd.prototype.I=function(a,b,c){return ye(b,Z,"["," ","]",c,this)};oe.prototype.W=v;oe.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};Jd.prototype.W=v;Jd.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};Mb.prototype.W=v;Mb.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};xd.prototype.W=v;xd.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};Jc.prototype.W=v;Jc.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};
te.prototype.W=v;te.prototype.I=function(a,b,c){return Ge(this,Z,b,c)};qe.prototype.W=v;qe.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};Rc.prototype.W=v;Rc.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};xe.prototype.W=v;xe.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};Y.prototype.W=v;Y.prototype.I=function(a,b,c){return ye(b,Z,"["," ","]",c,this)};Ic.prototype.W=v;Ic.prototype.I=function(a,b){return I(b,"()")};na.prototype.W=v;
na.prototype.I=function(a,b,c){return Ge(this,Z,b,c)};we.prototype.W=v;we.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};fc.prototype.W=v;fc.prototype.I=function(a,b,c){return ye(b,Z,"("," ",")",c,this)};"undefined"!==typeof console&&ta();ta();var qa=new J(null,"meta","meta",1499536964),sa=new J(null,"print-length","print-length",1931866356),ra=new J(null,"dup","dup",556298533),Ne=new J(null,"hellophaser","hellophaser",-1708353290),pa=new J(null,"readably","readably",1129599760),Ie=new J(null,"fallback-impl","fallback-impl",-1501286995),oa=new J(null,"flush-on-newline","flush-on-newline",-151457939),ze=new J(null,"more-marker","more-marker",-14717935),He=new J(null,"alt-impl","alt-impl",670969595);var Oe={},Pe={},Qe=[];function Re(a,b){var c=Pe[a];if(void 0!==c)return c;try{Qe.push(a);var d=Oe[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};Oe[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,Re,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),console.error(h),h;}if(b){var g=b.globals;if(g)for(a=0;a<g.length;a++)window[g[a]]=d.exports}}}finally{Qe.pop()}return d.exports}Re.cache={};Re.resolve=function(a){return a};
Re.exportCopy=function(a,b){let c={};a=a.exports;for(let d in b)"default"==d||d in a||d in c||(c[d]={enumerable:!0,get:function(){return b[d]}});Object.defineProperties(a,c)};Re.esmDefault=function(a){return a&&a.__esModule?a:{"default":a}};Re.dynamic=function(a){return Promise.resolve().then(function(){return Re(a)})};var Se;Se=Re(1,{});function Te(){return u("iPhone")&&!u("iPod")&&!u("iPad")};u("Opera");u("Trident")||u("MSIE");u("Edge");!u("Gecko")||-1!=fa().toLowerCase().indexOf("webkit")&&!u("Edge")||u("Trident")||u("MSIE")||u("Edge");-1!=fa().toLowerCase().indexOf("webkit")&&!u("Edge")&&u("Mobile");u("Macintosh");u("Windows");u("Linux")||u("CrOS");var Ue=aa.navigator||null;Ue&&(Ue.appVersion||"").indexOf("X11");u("Android");Te();u("iPad");u("iPod");Te()||u("iPad")||u("iPod");fa().toLowerCase().indexOf("kaios");try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};function Ve(a,b,c){this.key=a;this.val=b;this.forward=c;this.j=2155872256;this.A=0}Ve.prototype.G=function(){return new fc(null,this.key,new fc(null,this.val,null,1,null),2,null)};Ve.prototype.I=function(a,b,c){return ye(b,Z,"["," ","]",c,this)};function We(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new Ve(a,b,c)}
function Xe(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(w(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function Ye(){this.header=We(null,null,0);this.level=0;this.j=2155872256;this.A=0}f=Ye.prototype;
f.put=function(a,b){var c=Array(15),d=Xe(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=We(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,b<a.forward.length?a.forward[b]=d[b]:a.forward.push(b<d.length?d[b]:null),b<d.length?d[b]=a:d.push(a),b+=1;else return null};
f.remove=function(a){var b=Array(15),c=Xe(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
f.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return R.h(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}w(d)?(--c,b=d):--c}};f.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}w(d)?(--c,b=d):--c}};
f.G=function(){return function c(b){return new Nc(null,function(){return null==b?null:W(new Y(null,2,5,wd,[b.key,b.val],null),c(b.forward[0]))},null)}(this.header.forward[0])};f.I=function(a,b,c){return ye(b,function(d){return ye(b,Z,""," ","",c,d)},"{",", ","}",c,this)};new Ye;Je(cc([Ne]));function Ze(){return Se.Scene.call(this)}Ze.prototype=Object.create(Se.Scene.prototype);Ze.prototype.constructor=Ze;Ze.prototype.update=function(){return null};Ze.prototype.preload=function(){var a=this.load;a.setBaseURL("https://labs.phaser.io");a.image("sky","assets/skies/space3.png");a.image("logo","assets/sprites/phaser3-logo.png");return a.image("red","assets/particles/red.png")};var $e={speed:100,scale:{start:1,end:0},blendMode:"ADD"};function bf(a){return a+2}
var cf=["phaser","core","add_two"],df=aa;cf[0]in df||"undefined"==typeof df.execScript||df.execScript("var "+cf[0]);for(var ef;cf.length&&(ef=cf.shift());)cf.length||void 0===bf?df=df[ef]&&df[ef]!==Object.prototype[ef]?df[ef]:df[ef]={}:df[ef]=bf;Ze.prototype.create=function(){Je(cc(["Loading textures"]));this.add.image(400,300,"sky");var a=this.add.particles(0,0,"red",$e),b=this.physics.add.image(400,100,"logo");b.setVelocity(100,200);b.setBounce(1,1);b.setCollideWorldBounds(!0);return a.startFollow(b)};
var af={type:1,width:800,height:600,scene:Ze,physics:{"default":"arcade",arcade:{gravity:{y:200}}}};Je(cc(["Starting game..."]));new Se.Game(af);
}).call(this);